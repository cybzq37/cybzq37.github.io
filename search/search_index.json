{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u6b22\u8fce\u6765\u5230\u5de6\u4e18\u7684\u535a\u5ba2","text":""},{"location":"hanoi/","title":"Hanoi","text":"<p>hanoi\u5728\u7ebf\u5730\u5740</p> <p>\u5982\u4f55\u7406\u89e3hanoi\u95ee\u9898\uff1f</p> <p>\u5b9e\u9645\u4e0a\u5c31\u662f\u5bf9\u590d\u6742\u95ee\u9898\u7684\u5206\u89e3\uff0c\u5047\u8bbea\u3001b\u3001c\u4e09\u4e2a\u67f1\u5b50\uff0c5\u4e2a\u76d8\u5b50\u5728a\u67f1\u3002 \u8981\u79fb\u52a85\u4e2a\u76d8\u5b50\u5230b\u67f1\uff0c\u5b9e\u9645\u5c31\u662f\u628a4\u4e2a\u76d8\u5b50\u79fb\u52a8\u5230c\u67f1\uff0c\u628a\u7b2c\u4e94\u4e2a\u76d8\u5b50\u79fb\u52a8\u5230b\u67f1\uff0c\u518d\u628a\u53e6\u59164\u4e2a\u76d8\u5b50\u79fb\u52a8\u5230b\u4f4f\uff0c\u8fd9\u6837\u95ee\u9898\u5c31\u662f\u8003\u86514\u4e2a\u76d8\u5b50\u5982\u4f55\u79fb\u52a8\u3002 \u8981\u628a4\u4e2a\u76d8\u5b50\u79fb\u52a8\u5230b\u67f1\uff0c\u5b9e\u9645\u5c31\u662f\u8003\u86513\u4e2a\u76d8\u5b50\u5982\u4f55\u79fb\u52a8\u3002</p> <p>\u7406\u89e3\u8ba1\u7b97\u673a\u7684\u672c\u8d28\uff0c\u9700\u8981\u7406\u89e3hanoi\u8fed\u4ee3\u7684\u6a21\u578b\u3002</p>"},{"location":"jupyter%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/","title":"Jupyter\u914d\u7f6e\u8bf4\u660e","text":"<p><code>conda</code> \u73af\u5883\u914d\u7f6e\u6587\u4ef6 <code>environment.yml</code> <pre><code>name: ai\nchannels:\n  - conda-forge\n  - defaults\ndependencies:\n  - python=3.12\n  - pip\n  - psutil\n  - jupyter\n  - pandas\n  - numpy\n  - openpyxl\n  - matplotlib\n  - pytorch\n</code></pre> \u6267\u884c <code>conda env create -f environment.yml</code> \u8fdb\u884c\u5b89\u88c5</p> <p>\u751f\u6210\u914d\u7f6e\u6587\u4ef6, windows \u4e00\u822c\u5728 <code>%USERPROFILE%\\.jupyter</code> \u76ee\u5f55 <pre><code>jupyter notebook --generate-config\n</code></pre></p> <p>\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e <code>jupyter_notebook_config.py</code> <pre><code>c.NotebookApp.ip = '0.0.0.0'           # \u5141\u8bb8\u8fdc\u7a0b\u8bbf\u95ee\uff08\u5982\u7ed1\u5b9a\u6240\u6709 IP\uff09\nc.NotebookApp.port = 8888              # \u9ed8\u8ba4\u7aef\u53e3\u4e3a 8888\uff0c\u53ef\u81ea\u884c\u6307\u5b9a\nc.NotebookApp.open_browser = False     #\u7981\u6b62\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668\nc.NotebookApp.notebook_dir = '/path/to/notebooks'    # \u9ed8\u8ba4\u5de5\u4f5c\u76ee\u5f55\n\n''' \u751f\u6210\u54c8\u5e0c\u5bc6\u7801\n    from notebook.auth import passwd\n    passwd()\n'''\nc.NotebookApp.password = '' #\u54c8\u5e0c\u5bc6\u7801,\u7a7a\u5b57\u7b26\u4e32\u8868\u793a\u4e0d\u4f7f\u7528\u5bc6\u7801\nc.NotebookApp.token = ''    # \u7a7a\u5b57\u7b26\u4e32\u8868\u793a\u5173\u95ed token \u8ba4\u8bc1\nc.NotebookApp.disable_check_xsrf = True\nc.NotebookApp.certfile = u'/path/to/your/cert.pem'   # https\u914d\u7f6e\nc.NotebookApp.keyfile = u'/path/to/your/key.key'\n</code></pre></p> <p>\u542f\u52a8 <pre><code>jupyter notebook\n# \u53ef\u4ee5\u6307\u5b9a\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\njupyter notebook --config=/full/path/to/jupyter_notebook_config.py\n</code></pre></p> <p>\u754c\u9762\u8bf4\u660e ![[assets/jupyter_panel_1.png]] ![[assets/jupyter_pancel_2.png]]</p> <p>\u5355\u5143\u683c\u5171\u6709\u4e24\u79cd\u7c7b\u578b: <code>Code</code> \u548c <code>Markdown</code></p> <p>\u63d2\u4ef6\u5b89\u88c5</p>"},{"location":"nginx%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/","title":"Nginx\u6a21\u5757\u5f00\u53d1","text":"<p>\u5f00\u53d1\u5165\u95e8\uff1a - \u5b89\u88c5\u4e0e\u8fd0\u884c\uff1a\u4e0b\u8f7d Nginx \u6e90\u7801\u5305\uff0c\u89e3\u538b\u540e\u7528<code>./configure</code>\u3001<code>make</code>\u3001<code>make install</code>\u547d\u4ee4\u5b89\u88c5\uff0c\u53ef\u901a\u8fc7<code>/usr/local/nginx/sbin/nginx</code>\u542f\u52a8\uff0c\u4ee5 Deamon \u8fdb\u7a0b\u8fd0\u884c\uff0c\u7528<code>curl -i http://localhost/</code>\u68c0\u6d4b\u662f\u5426\u6210\u529f\uff0c<code>/usr/local/nginx/sbin/nginx -s stop</code>\u505c\u6b62\u3002 - \u914d\u7f6e\u6587\u4ef6\u7ed3\u6784\uff1a\u914d\u7f6e\u6587\u4ef6\u662f Nginx \u7075\u9b42\uff0c\u4ee5 block \u5f62\u5f0f\u7ec4\u7ec7\uff0c\u5206 main\u3001event\u3001http \u7b49\u5c42\u7ea7\uff0chttp \u4e2d\u542b server block\uff0cserver block \u53c8\u6709 location block \u3002\u5404\u5c42\u7ea7\u6709\u6307\u4ee4\uff0c\u6307\u4ee4\u683c\u5f0f\u4e3a <code>\u6307\u4ee4\u540d \u53c2\u6570;</code>\uff0c\u914d\u7f6e\u6587\u4ef6\u53ef\u5305\u542b\u5176\u4ed6\u6587\u4ef6\u3002 - \u6a21\u5757\u5de5\u4f5c\u539f\u7406\uff1aNginx \u63a5\u5230 HTTP \u8bf7\u6c42\uff0c\u6620\u5c04\u5230 location block\uff0c\u7531\u5176\u4e2d\u6307\u4ee4\u542f\u52a8\u4e0d\u540c\u6a21\u5757\u5de5\u4f5c\u3002\u6a21\u5757\u5206 handler \u548c filter\uff0chandler \u5904\u7406\u8bf7\u6c42\u751f\u6210\u54cd\u5e94\u5185\u5bb9\uff0cfilter \u5904\u7406\u54cd\u5e94\u5185\u5bb9\u3002 <pre><code>#user  nobody;\nworker_processes  8;\nerror_log  logs/error.log;\npid        logs/nginx.pid;\nevents {\n    worker_connections  1024;\n}\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    #tcp_nopush     on;\n    keepalive_timeout  65;\n    #gzip  on;\n\n    server {\n        listen       80;\n        server_name  localhost;\n        location / {\n            root   /home/yefeng/www;\n            index  index.html index.htm;\n        }\n        #error_page  404              /404.html;\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n    }\n}\n</code></pre></p> <p>Nginx\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u4ee5block\u7684\u5f62\u5f0f\u7ec4\u7ec7\u7684\uff0c\u4e00\u4e2ablock\u901a\u5e38\u4f7f\u7528\u5927\u62ec\u53f7\u201c{}\u201d\u8868\u793a\u3002block\u5206\u4e3a\u51e0\u4e2a\u5c42\u7ea7\uff0c\u6574\u4e2a\u914d\u7f6e\u6587\u4ef6\u4e3amain\u5c42\u7ea7\uff0c\u8fd9\u662f\u6700\u5927\u7684\u5c42\u7ea7\uff1b\u5728main\u5c42\u7ea7\u4e0b\u53ef\u4ee5\u6709event\u3001http\u7b49\u5c42\u7ea7\uff0c\u800chttp\u4e2d\u53c8\u4f1a\u6709server block\uff0cserver block\u4e2d\u53ef\u4ee5\u5305\u542blocation block\u3002</p> <p>\u6bcf\u4e2a\u5c42\u7ea7\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u6307\u4ee4 Directive\uff0c\u4f8b\u5982 worker_processes \u662f\u4e00\u4e2a main \u5c42\u7ea7\u6307\u4ee4\uff0c\u5b83\u6307\u5b9a Nginx \u670d\u52a1\u7684 Worker \u8fdb\u7a0b\u6570\u91cf\u3002\u6709\u7684\u6307\u4ee4\u53ea\u80fd\u5728\u4e00\u4e2a\u5c42\u7ea7\u4e2d\u914d\u7f6e\uff0c\u5982worker_processes \u53ea\u80fd\u5b58\u5728\u4e8emain\u4e2d\uff0c\u800c\u6709\u7684\u6307\u4ee4\u53ef\u4ee5\u5b58\u5728\u4e8e\u591a\u4e2a\u5c42\u7ea7\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b50block\u4f1a\u7ee7\u627f\u7236block\u7684\u914d\u7f6e\uff0c\u540c\u65f6\u5982\u679c\u5b50block\u914d\u7f6e\u4e86\u4e0e\u7236block\u4e0d\u540c\u7684\u6307\u4ee4\uff0c\u5219\u4f1a\u8986\u76d6\u6389\u7236block\u7684\u914d\u7f6e\u3002\u6307\u4ee4\u7684\u683c\u5f0f\u662f \u6307\u4ee4\u540d \u53c2\u65701 \u53c2\u65702 \u2026 \u53c2\u6570N;\uff0c\u6ce8\u610f\u53c2\u6570\u95f4\u53ef\u7528\u4efb\u610f\u6570\u91cf\u7a7a\u683c\u5206\u9694\uff0c\u6700\u540e\u8981\u52a0\u5206\u53f7\u3002</p> <p>![[assets/Pasted image 20250528105931.png]]![[assets/Pasted image 20250528110125.png]]</p> <p>\u5f00\u53d1\u5b9e\u6218\uff1a\u4ee5\u5f00\u53d1 echo handler \u6a21\u5757\u4e3a\u4f8b\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a - \u5b9a\u4e49\u6a21\u5757\u914d\u7f6e\u7ed3\u6784\uff1a\u7528<code>ngx_http_[module - name]_[main|srv|loc]_conf_t</code>\u547d\u540d\u7ed3\u6784\u5b58\u50a8\u6307\u4ee4\u53c2\u6570\uff0cecho \u6a21\u5757\u53ea\u9700 loc \u5c42\u7ea7\uff0c\u5b9a\u4e49<code>ngx_http_echo_loc_conf_t</code>\u5b58\u50a8\u5b57\u7b26\u4e32\u53c2\u6570\u3002 - \u5b9a\u4e49\u6307\u4ee4\uff1aNginx \u6a21\u5757\u7528<code>ngx_command_t</code>\u6570\u7ec4\u8868\u793a\u63a5\u6536\u6307\u4ee4\uff0cecho \u6a21\u5757\u63a5\u6536 \u201cecho\u201d \u6307\u4ee4\u3002\u901a\u8fc7<code>ngx_command_s</code>\u7ed3\u6784\u4f53\u5404\u5b57\u6bb5\u914d\u7f6e\u6307\u4ee4\uff0c\u5982<code>name</code>\u6307\u4ee4\u540d\u3001<code>type</code>\u53c2\u6570\u63a9\u7801\u6807\u5fd7\u4f4d\u7b49\u3002 - \u521b\u5efa\u5408\u5e76\u914d\u7f6e\u4fe1\u606f\uff1a\u5b9a\u4e49<code>ngx_http_module_t</code>\u7c7b\u578b\u7ed3\u6784\u4f53\u53d8\u91cf\u4f5c\u4e3a\u6a21\u5757 Context\uff0c\u5982<code>ngx_http_echo_module_ctx</code>\uff0c\u8bbe\u7f6e\u5404 Hook \u51fd\u6570\uff0c\u5982<code>create_loc_conf</code>\u521d\u59cb\u5316\u914d\u7f6e\u7ed3\u6784\u4f53\uff0c<code>merge_loc_conf</code>\u5408\u5e76\u914d\u7f6e\u4fe1\u606f\u3002 - \u7f16\u5199 Handler\uff1ahandler \u8d1f\u8d23\u8bfb\u914d\u7f6e\u3001\u5904\u7406\u4e1a\u52a1\u3001\u4ea7\u751f HTTP \u5934\u548c\u4e3b\u4f53\u3002\u901a\u8fc7<code>ngx_http_get_module_loc_conf</code>\u83b7\u53d6\u914d\u7f6e\uff0c\u8bbe\u7f6e<code>headers_out</code>\u76f8\u5173\u5b57\u6bb5\u751f\u6210 HTTP \u5934\uff0c\u5229\u7528 Nginx \u7684 I/O \u673a\u5236\uff0c\u5c06\u8f93\u51fa\u7ec4\u7ec7\u6210\u94fe\u8868\uff0c\u7528<code>ngx_http_output_filter</code>\u8f93\u51fa\u3002 - \u7ec4\u5408 Nginx Module\uff1a\u5c06\u5404\u7ec4\u4ef6\u7ec4\u5408\u6210<code>ngx_module_t</code>\u7ed3\u6784\uff0c\u5982<code>ngx_http_echo_module</code>\uff0c\u586b\u5145 context\u3001\u6307\u4ee4\u6570\u7ec4\u3001\u6a21\u5757\u7c7b\u578b\u7b49\u4fe1\u606f\u3002</p> <p>\u5f00\u53d1\u4e00\u4e2a echo \u7684 handler \u6a21\u5757\uff0c\u8fd9\u4e2a\u6a21\u5757\u529f\u80fd\u975e\u5e38\u7b80\u5355\uff0c\u5b83\u63a5\u6536 echo \u6307\u4ee4\uff0c\u6307\u4ee4\u53ef\u6307\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u6a21\u5757\u4f1a\u8f93\u51fa\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3aHTTP\u54cd\u5e94\u3002\u4f8b\u5982\uff0c\u505a\u5982\u4e0b\u914d\u7f6e\uff1a <pre><code>location /echo {\n    echo \"hello nginx\";\n}\n</code></pre> \u5219\u8bbf\u95ee http://hostname/echo \u65f6\u4f1a\u8f93\u51fa hello nginx\uff0c\u8981\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u9700\u8981\u4e09\u6b65\uff1a - \u8bfb\u5165\u914d\u7f6e\u6587\u4ef6\u4e2decho\u6307\u4ee4\u53ca\u5176\u53c2\u6570\uff1b - \u8fdb\u884cHTTP\u5305\u88c5\uff08\u6dfb\u52a0HTTP\u5934\u7b49\u5de5\u4f5c\uff09\uff1b - \u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</p>"},{"location":"nginx%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/#_1","title":"\u5b9a\u4e49\u6a21\u5757\u914d\u7f6e\u7ed3\u6784","text":"<p>\u9996\u5148\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u7ed3\u6784\u7528\u4e8e\u5b58\u50a8\u4ece\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bfb\u8fdb\u6765\u7684\u76f8\u5173\u6307\u4ee4\u53c2\u6570\uff0c\u5373\u6a21\u5757\u914d\u7f6e\u4fe1\u606f\u7ed3\u6784\u3002\u6839\u636eNginx\u6a21\u5757\u5f00\u53d1\u89c4\u5219\uff0c\u8fd9\u4e2a\u7ed3\u6784\u7684\u547d\u540d\u89c4\u5219\u4e3a\uff1a <pre><code>ngx_http_[module-name]_[main|srv|loc]_conf_t\n</code></pre> \u5176\u4e2d main\u3001srv \u548c loc \u5206\u522b\u7528\u4e8e\u8868\u793a\u540c\u4e00\u6a21\u5757\u5728\u4e09\u5c42 block \u4e2d\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u8fd9\u91cc\u6211\u4eec\u7684echo\u6a21\u5757\u53ea\u9700\u8981\u8fd0\u884c\u5728loc\u5c42\u7ea7\u4e0b\uff0c\u9700\u8981\u5b58\u50a8\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u5982\u4e0b\u7684\u6a21\u5757\u914d\u7f6e\uff1a <pre><code>typedef struct {\n    ngx_str_t  ed;    // ngx_str_t\u5b9a\u4e49\u5728core/ngx_string\n} ngx_http_echo_loc_conf_t;\n</code></pre> \u5b57\u6bb5 ed \u7528\u4e8e\u5b58\u50a8 echo \u6307\u4ee4\u6307\u5b9a\u7684\u9700\u8981\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"nginx%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/#_2","title":"\u5b9a\u4e49\u6307\u4ee4","text":"<p>\u4e0b\u9762\u662fecho\u6a21\u5757\u7684\u6307\u4ee4\u5b9a\u4e49\uff1a <pre><code>static ngx_command_t  ngx_http_echo_commands[] = {\n    { \n        ngx_string(\"echo\"),\n        NGX_HTTP_LOC_CONF|NGX_CONF_TAKE1,\n        ngx_http_echo,\n        NGX_HTTP_LOC_CONF_OFFSET,\n        offsetof(ngx_http_echo_loc_conf_t, ed),\n        NULL \n    },\n    ngx_null_command\n};\n\nstatic char *\nngx_http_echo(ngx_conf_t *cf, ngx_command_t *cmd, void *conf)\n{\n    ngx_http_core_loc_conf_t  *clcf;\n    clcf = ngx_http_conf_get_module_loc_conf(cf, ngx_http_core_module);\n    clcf-&gt;handler = ngx_http_echo_handler;\n    ngx_conf_set_str_slot(cf,cmd,conf);\n    return NGX_CONF_OK;\n}\n</code></pre> \u6307\u4ee4\u6570\u7ec4\u7684\u547d\u540d\u89c4\u5219\u4e3a<code>ngx_http_[module-name]_commands</code>\uff0c\u6ce8\u610f\u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u8981\u662fngx_null_command\u7ed3\u675f\u3002 \u8fd9\u4e2a\u51fd\u6570\u9664\u4e86\u8c03\u7528 ngx_conf_set_str_slot \u8f6c\u5316 echo \u6307\u4ee4\u7684\u53c2\u6570\u5916\uff0c\u8fd8\u5c06\u4fee\u6539\u4e86\u6838\u5fc3\u6a21\u5757\u914d\u7f6e\uff08\u4e5f\u5c31\u662f\u8fd9\u4e2alocation\u7684\u914d\u7f6e\uff09\uff0c\u5c06\u5176handler\u66ff\u6362\u4e3a\u6211\u4eec\u7f16\u5199\u7684handler\uff1angx_http_echo_handler\u3002\u8fd9\u6837\u5c31\u5c4f\u853d\u4e86\u6b64location\u7684\u9ed8\u8ba4handler\uff0c\u4f7f\u7528ngx_http_echo_handler\u4ea7\u751fHTTP\u54cd\u5e94\u3002</p>"},{"location":"nginx%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/#_3","title":"\u521b\u5efa\u5408\u5e76\u914d\u7f6e\u4fe1\u606f","text":"<p>\u4e0b\u4e00\u6b65\u662f\u5b9a\u4e49\u6a21\u5757Context\uff0c\u8fd9\u91cc\u9996\u5148\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a <code>ngx_http_module_t</code> \u7c7b\u578b\u7684\u7ed3\u6784\u4f53\u53d8\u91cf\uff0c\u547d\u540d\u89c4\u5219\u4e3a <code>ngx_http_[module-name]_module_ctx</code>\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4e3b\u8981\u7528\u4e8e\u5b9a\u4e49\u5404\u4e2aHook\u51fd\u6570\u3002\u4e0b\u9762\u662fecho\u6a21\u5757\u7684context\u7ed3\u6784\uff1a</p> <pre><code>static ngx_http_module_t  ngx_http_echo_module_ctx = {\n    NULL,      /* preconfiguration */\n    NULL,      /* postconfiguration */\n    NULL,      /* create main configuration */\n    NULL,      /* init main configuration */\n    NULL,      /* create server configuration */\n    NULL,      /* merge server configuration */\n    ngx_http_echo_create_loc_conf,   /* create location configration */\n    ngx_http_echo_merge_loc_conf     /* merge location configration */\n};\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u4e00\u5171\u6709 8\u4e2a Hook \u6ce8\u5165\u70b9\uff0c\u5206\u522b\u4f1a\u5728\u4e0d\u540c\u65f6\u523b\u88abNginx\u8c03\u7528\uff0c\u7531\u4e8e\u6211\u4eec\u7684\u6a21\u5757\u4ec5\u4ec5\u7528\u4e8elocation\u57df\uff0c\u8fd9\u91cc\u5c06\u4e0d\u9700\u8981\u7684\u6ce8\u5165\u70b9\u8bbe\u4e3aNULL\u5373\u53ef\u3002\u5176\u4e2dcreate_loc_conf\u7528\u4e8e\u521d\u59cb\u5316\u4e00\u4e2a\u914d\u7f6e\u7ed3\u6784\u4f53\uff0c\u5982\u4e3a\u914d\u7f6e\u7ed3\u6784\u4f53\u5206\u914d\u5185\u5b58\u7b49\u5de5\u4f5c\uff1bmerge_loc_conf\u7528\u4e8e\u5c06\u5176\u7236block\u7684\u914d\u7f6e\u4fe1\u606f\u5408\u5e76\u5230\u6b64\u7ed3\u6784\u4f53\u4e2d\uff0c\u4e5f\u5c31\u662f\u5b9e\u73b0\u914d\u7f6e\u7684\u7ee7\u627f\u3002\u8fd9\u4e24\u4e2a\u51fd\u6570\u4f1a\u88abNginx\u81ea\u52a8\u8c03\u7528\u3002\u6ce8\u610f\u8fd9\u91cc\u7684\u547d\u540d\u89c4\u5219\uff1a<code>ngx_http_[module-name]_[create|merge]_[main|srv|loc]_conf</code> \u3002</p> <p>\u4e0b\u9762\u662fecho\u6a21\u5757\u8fd9\u4e2a\u4e24\u4e2a\u51fd\u6570\u7684\u4ee3\u7801\uff1a</p> <p><pre><code>static void *\nngx_http_echo_create_loc_conf(ngx_conf_t *cf)\n{\n    ngx_http_echo_loc_conf_t  *conf;\n    conf = ngx_pcalloc(cf-&gt;pool, sizeof(ngx_http_echo_loc_conf_t));\n    if (conf == NULL) {\n        return NGX_CONF_ERROR;\n    }\n    conf-&gt;ed.len = 0;\n    conf-&gt;ed.data = NULL;\n    return conf;\n}\nstatic char *\nngx_http_echo_merge_loc_conf(ngx_conf_t *cf, void *parent, void *child)\n{\n    ngx_http_echo_loc_conf_t *prev = parent;\n    ngx_http_echo_loc_conf_t *conf = child;\n    ngx_conf_merge_str_value(conf-&gt;ed, prev-&gt;ed, \"\");\n    return NGX_CONF_OK;\n}\n</code></pre>  \u5176\u4e2d ngx_pcalloc \u7528\u4e8e\u5728 Nginx \u5185\u5b58\u6c60\u4e2d\u5206\u914d\u4e00\u5757\u7a7a\u95f4\uff0c\u662f pcalloc \u7684\u4e00\u4e2a\u5305\u88c5\u3002\u4f7f\u7528ngx_pcalloc \u5206\u914d\u7684\u5185\u5b58\u7a7a\u95f4\u4e0d\u5fc5\u624b\u5de5free\uff0cNginx\u4f1a\u81ea\u884c\u7ba1\u7406\uff0c\u5728\u9002\u5f53\u662f\u5426\u91ca\u653e\u3002 create_loc_conf \u65b0\u5efa\u4e00\u4e2a ngx_http_echo_loc_conf_t\uff0c\u5206\u914d\u5185\u5b58\uff0c\u5e76\u521d\u59cb\u5316\u5176\u4e2d\u7684\u6570\u636e\uff0c\u7136\u540e\u8fd4\u56de\u8fd9\u4e2a\u7ed3\u6784\u7684\u6307\u9488\uff1bmerge_loc_conf \u5c06\u7236 block \u57df\u7684\u914d\u7f6e\u4fe1\u606f\u5408\u5e76\u5230 create_loc_conf\u65b0\u5efa\u7684\u914d\u7f6e\u7ed3\u6784\u4f53\u4e2d\u3002 \u5176\u4e2dngx_conf_merge_str_value\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u800c\u662f\u4e00\u4e2a\u5b8f\uff0c\u5176\u5b9a\u4e49\u5728core/ngx_conf_file.h\u4e2d\uff1a <pre><code>define ngx_conf_merge_str_value(conf, prev, default)                     \n    if (conf.data == NULL) {                                              \n        if (prev.data) {                                                  \n            conf.len = prev.len;                                          \n            conf.data = prev.data;                                       \n        } else {                                                         \n            conf.len = sizeof(default) - 1;                              \n            conf.data = (u_char *) default;                              \n        }                                                                 \n    }\n</code></pre></p> <p>\u540c\u65f6\u53ef\u4ee5\u770b\u5230\uff0ccore/ngx_conf_file.h\u8fd8\u5b9a\u4e49\u4e86\u5f88\u591amerge value\u7684\u5b8f\u7528\u4e8emerge\u5404\u79cd\u6570\u636e\u3002\u5b83\u4eec\u7684\u884c\u4e3a\u6bd4\u8f83\u76f8\u4f3c\uff1a\u4f7f\u7528prev\u586b\u5145conf\uff0c\u5982\u679cprev\u7684\u6570\u636e\u4e3a\u7a7a\u5219\u4f7f\u7528default\u586b\u5145\u3002</p>"},{"location":"nginx%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/#handler","title":"\u7f16\u5199Handler","text":"<p>\u4e0b\u9762\u7684\u5de5\u4f5c\u662f\u7f16\u5199handler\u3002handler\u53ef\u4ee5\u8bf4\u662f\u6a21\u5757\u4e2d\u771f\u6b63\u5e72\u6d3b\u7684\u4ee3\u7801\uff0c\u5b83\u4e3b\u8981\u6709\u4ee5\u4e0b\u56db\u9879\u804c\u8d23\uff1a</p> <p>\u8bfb\u5165\u6a21\u5757\u914d\u7f6e\u3002</p> <p>\u5904\u7406\u529f\u80fd\u4e1a\u52a1\u3002</p> <p>\u4ea7\u751fHTTP header\u3002</p> <p>\u4ea7\u751fHTTP body\u3002</p> <p>\u4e0b\u9762\u5148\u8d34\u51faecho\u6a21\u5757\u7684\u4ee3\u7801\uff0c\u7136\u540e\u901a\u8fc7\u5206\u6790\u4ee3\u7801\u7684\u65b9\u5f0f\u4ecb\u7ecd\u5982\u4f55\u5b9e\u73b0\u8fd9\u56db\u6b65\u3002\u8fd9\u4e00\u5757\u7684\u4ee3\u7801\u6bd4\u8f83\u590d\u6742\uff1a <pre><code>static ngx_int_t\nngx_http_echo_handler(ngx_http_request_t *r)\n{\n    ngx_int_t rc;\n    ngx_buf_t *b;\n    ngx_chain_t out;\n    ngx_http_echo_loc_conf_t *elcf;\n    elcf = ngx_http_get_module_loc_conf(r, ngx_http_echo_module);\n    if(!(r-&gt;method &amp; (NGX_HTTP_HEAD|NGX_HTTP_GET|NGX_HTTP_POST)))\n    {\n        return NGX_HTTP_NOT_ALLOWED;\n    }\n    r-&gt;headers_out.content_type.len = sizeof(\"text/html\") - 1;\n    r-&gt;headers_out.content_type.data = (u_char *) \"text/html\";\n    r-&gt;headers_out.status = NGX_HTTP_OK;\n    r-&gt;headers_out.content_length_n = elcf-&gt;ed.len;\n    if(r-&gt;method == NGX_HTTP_HEAD)\n    {\n        rc = ngx_http_send_header(r);\n        if(rc != NGX_OK)\n        {\n            return rc;\n        }\n    }\n    b = ngx_pcalloc(r-&gt;pool, sizeof(ngx_buf_t));\n    if(b == NULL)\n    {\n        ngx_log_error(NGX_LOG_ERR, r-&gt;connection-&gt;log, 0, \"Failed to allocate response buffer.\");\n        return NGX_HTTP_INTERNAL_SERVER_ERROR;\n    }\n    out.buf = b;\n    out.next = NULL;\n    b-&gt;pos = elcf-&gt;ed.data;\n    b-&gt;last = elcf-&gt;ed.data + (elcf-&gt;ed.len);\n    b-&gt;memory = 1;\n    b-&gt;last_buf = 1;\n    rc = ngx_http_send_header(r);\n    if(rc != NGX_OK)\n    {\n        return rc;\n    }\n    return ngx_http_output_filter(r, &amp;out);\n}\n</code></pre>  handler \u4f1a\u63a5\u6536\u4e00\u4e2a ngx_http_request_t \u6307\u9488\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u6307\u5411\u4e00\u4e2angx_http_request_t \u7ed3\u6784\u4f53\uff0c\u6b64\u7ed3\u6784\u4f53\u5b58\u50a8\u4e86\u8fd9\u6b21 HTTP \u8bf7\u6c42\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u8fd9\u4e2a\u7ed3\u6784\u5b9a\u4e49\u5728http/ngx_http_request.h \u4e2d\uff1a</p> <p><pre><code>struct ngx_http_request_s {\n    uint32_t                          signature;         /* \"HTTP\" */\n    ngx_connection_t                 *connection;\n    void                            **ctx;\n    void                            **main_conf;\n    void                            **srv_conf;\n    void                            **loc_conf;\n    ngx_http_event_handler_pt         read_event_handler;\n    ngx_http_event_handler_pt         write_event_handler;\n#if (NGX_HTTP_CACHE)\n    ngx_http_cache_t                 *cache;\n#endif\n    ngx_http_upstream_t              *upstream;\n    ngx_array_t                      *upstream_states;\n    /* of ngx_http_upstream_state_t */\n    ngx_pool_t                       *pool;\n    ngx_buf_t                        *header_in;\n    ngx_http_headers_in_t             headers_in;\n    ngx_http_headers_out_t            headers_out;\n    ngx_http_request_body_t          *request_body;\n    time_t                            lingering_time;\n    time_t                            start_sec;\n    ngx_msec_t                        start_msec;\n    ngx_uint_t                        method;\n    ngx_uint_t                        http_version;\n    ngx_str_t                         request_line;\n    ngx_str_t                         uri;\n    ngx_str_t                         args;\n    ngx_str_t                         exten;\n    ngx_str_t                         unparsed_uri;\n    ngx_str_t                         method_name;\n    ngx_str_t                         http_protocol;\n    ngx_chain_t                      *out;\n    ngx_http_request_t               *main;\n    ngx_http_request_t               *parent;\n    ngx_http_postponed_request_t     *postponed;\n    ngx_http_post_subrequest_t       *post_subrequest;\n    ngx_http_posted_request_t        *posted_requests;\n    ngx_http_virtual_names_t         *virtual_names;\n    ngx_int_t                         phase_handler;\n    ngx_http_handler_pt               content_handler;\n    ngx_uint_t                        access_code;\n    ngx_http_variable_value_t        *variables;\n    /* ... */\n}\n</code></pre>  \u7531\u4e8e ngx_http_request_s \u5b9a\u4e49\u6bd4\u8f83\u957f\uff0c\u8fd9\u91cc\u6211\u53ea\u622a\u53d6\u4e86\u4e00\u90e8\u5206\u3002\u53ef\u4ee5\u770b\u5230\u91cc\u9762\u6709\u8bf8\u5982uri\uff0cargs \u548c request_body \u7b49 HTTP \u5e38\u7528\u4fe1\u606f\u3002\u8fd9\u91cc\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u51e0\u4e2a\u5b57\u6bb5\u662f headers_in\u3001headers_out \u548c chain\uff0c\u5b83\u4eec\u5206\u522b\u8868\u793a request header\u3001response header\u548c\u8f93\u51fa\u6570\u636e\u7f13\u51b2\u533a\u94fe\u8868\uff08\u7f13\u51b2\u533a\u94fe\u8868\u662fNginx I/O\u4e2d\u7684\u91cd\u8981\u5185\u5bb9\uff0c\u540e\u9762\u4f1a\u5355\u72ec\u4ecb\u7ecd\uff09\u3002 \u7b2c\u4e00\u6b65\u662f\u83b7\u53d6\u6a21\u5757\u914d\u7f6e\u4fe1\u606f\uff0c\u8fd9\u4e00\u5757\u53ea\u8981\u7b80\u5355\u4f7f\u7528ngx_http_get_module_loc_conf\u5c31\u53ef\u4ee5\u4e86\u3002 \u7b2c\u4e8c\u6b65\u662f\u529f\u80fd\u903b\u8f91\uff0c\u56e0\u4e3aecho\u6a21\u5757\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u662f\u7b80\u5355\u8f93\u51fa\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u8fd9\u91cc\u6ca1\u6709\u529f\u80fd\u903b\u8f91\u4ee3\u7801\u3002 \u7b2c\u4e09\u6b65\u662f\u8bbe\u7f6eresponse header\u3002Header\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7\u586b\u5145headers_out\u5b9e\u73b0\uff0c\u6211\u4eec\u8fd9\u91cc\u53ea\u8bbe\u7f6e\u4e86Content-type\u548cContent-length\u7b49\u57fa\u672c\u5185\u5bb9\uff0cngx_http_headers_out_t\u5b9a\u4e49\u4e86\u6240\u6709\u53ef\u4ee5\u8bbe\u7f6e\u7684HTTP Response Header\u4fe1\u606f\uff1a <pre><code>typedef struct {\n    ngx_list_t                        headers;\n    ngx_uint_t                        status;\n    ngx_str_t                         status_line;\n    ngx_table_elt_t                  *server;\n    ngx_table_elt_t                  *date;\n    ngx_table_elt_t                  *content_length;\n    ngx_table_elt_t                  *content_encoding;\n    ngx_table_elt_t                  *location;\n    ngx_table_elt_t                  *refresh;\n    ngx_table_elt_t                  *last_modified;\n    ngx_table_elt_t                  *content_range;\n    ngx_table_elt_t                  *accept_ranges;\n    ngx_table_elt_t                  *www_authenticate;\n    ngx_table_elt_t                  *expires;\n    ngx_table_elt_t                  *etag;\n    ngx_str_t                        *override_charset;\n    size_t                            content_type_len;\n    ngx_str_t                         content_type;\n    ngx_str_t                         charset;\n    u_char                           *content_type_lowcase;\n    ngx_uint_t                        content_type_hash;\n    ngx_array_t                       cache_control;\n    off_t                             content_length_n;\n    time_t                            date_time;\n    time_t                            last_modified_time;\n} ngx_http_headers_out_t;\n</code></pre></p> <p>\u8fd9\u91cc\u5e76\u4e0d\u5305\u542b\u6240\u6709HTTP\u5934\u4fe1\u606f\uff0c\u5982\u679c\u9700\u8981\u53ef\u4ee5\u4f7f\u7528agentzh\uff08\u6625\u6765\uff09\u5f00\u53d1\u7684Nginx\u6a21\u5757HttpHeadersMore \u5728\u6307\u4ee4\u4e2d\u6307\u5b9a\u66f4\u591a\u7684Header\u5934\u4fe1\u606f\u3002 \u8bbe\u7f6e\u597d\u5934\u4fe1\u606f\u540e\u4f7f\u7528 ngx_http_send_header \u5c31\u53ef\u4ee5\u5c06\u5934\u4fe1\u606f\u8f93\u51fa\uff0cngx_http_send_header\u63a5\u53d7\u4e00\u4e2a ngx_http_request_t \u7c7b\u578b\u7684\u53c2\u6570\u3002 \u7b2c\u56db\u6b65\u4e5f\u662f\u6700\u91cd\u8981\u7684\u4e00\u6b65\u662f\u8f93\u51fa Response body\u3002\u8fd9\u91cc\u9996\u5148\u8981\u4e86\u89e3 Nginx \u7684 I/O \u673a\u5236\uff0cNginx \u5141\u8bb8 handler \u4e00\u6b21\u4ea7\u751f\u4e00\u7ec4\u8f93\u51fa\uff0c\u53ef\u4ee5\u4ea7\u751f\u591a\u6b21\uff0cNginx\u5c06\u8f93\u51fa\u7ec4\u7ec7\u6210\u4e00\u4e2a\u5355\u94fe\u8868\u7ed3\u6784\uff0c\u94fe\u8868\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u662f\u4e00\u4e2achain_t\uff0c\u5b9a\u4e49\u5728core/ngx_buf.h\uff1a <pre><code>struct ngx_chain_s {\n    ngx_buf_t    *buf;\n    ngx_chain_t  *next;\n};\n</code></pre>  \u5176\u4e2d ngx_chain_t \u662f ngx_chain_s \u7684\u522b\u540d\uff0cbuf\u4e3a\u67d0\u4e2a\u6570\u636e\u7f13\u51b2\u533a\u7684\u6307\u9488\uff0cnext\u6307\u5411\u4e0b\u4e00\u4e2a\u94fe\u8868\u8282\u70b9\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u94fe\u8868\u3002ngx_buf_t\u7684\u5b9a\u4e49\u6bd4\u8f83\u957f\u800c\u4e14\u5f88\u590d\u6742\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8d34\u51fa\u6765\u4e86\uff0c\u8bf7\u81ea\u884c\u53c2\u8003core/ngx_buf.h\u3002ngx_but_t\u4e2d\u6bd4\u8f83\u91cd\u8981\u7684\u662fpos\u548clast\uff0c\u5206\u522b\u8868\u793a\u8981\u7f13\u51b2\u533a\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u8d77\u59cb\u5730\u5740\u548c\u7ed3\u5c3e\u5730\u5740\uff0c\u8fd9\u91cc\u6211\u4eec\u5c06\u914d\u7f6e\u4e2d\u5b57\u7b26\u4e32\u4f20\u8fdb\u53bb\uff0clast_buf\u662f\u4e00\u4e2a\u4f4d\u57df\uff0c\u8bbe\u4e3a1\u8868\u793a\u6b64\u7f13\u51b2\u533a\u662f\u94fe\u8868\u4e2d\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u4e3a0\u8868\u793a\u540e\u9762\u8fd8\u6709\u5143\u7d20\u3002\u56e0\u4e3a\u6211\u4eec\u53ea\u6709\u4e00\u7ec4\u6570\u636e\uff0c\u6240\u4ee5\u7f13\u51b2\u533a\u94fe\u8868\u4e2d\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u9700\u8981\u8f93\u5165\u591a\u7ec4\u6570\u636e\u53ef\u5c06\u5404\u7ec4\u6570\u636e\u653e\u5165\u4e0d\u540c\u7f13\u51b2\u533a\u540e\u63d2\u5165\u5230\u94fe\u8868\u3002\u4e0b\u56fe\u5c55\u793a\u4e86Nginx\u7f13\u51b2\u94fe\u8868\u7684\u7ed3\u6784\uff1a</p> <p></p> <p>\u7f13\u51b2\u6570\u636e\u51c6\u5907\u597d\u540e\uff0c\u7528ngx_http_output_filter\u5c31\u53ef\u4ee5\u8f93\u51fa\u4e86\uff08\u4f1a\u9001\u5230filter\u8fdb\u884c\u5404\u79cd\u8fc7\u6ee4\u5904\u7406\uff09\u3002ngx_http_output_filter\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3angx_http_request_t\u7ed3\u6784\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u8f93\u51fa\u94fe\u8868\u7684\u8d77\u59cb\u5730\u5740&amp;out\u3002ngx_http_out_put_filter\u4f1a\u904d\u5386\u94fe\u8868\uff0c\u8f93\u51fa\u6240\u6709\u6570\u636e\u3002</p> <p>\u4ee5\u4e0a\u5c31\u662fhandler\u7684\u6240\u6709\u5de5\u4f5c\uff0c\u8bf7\u5bf9\u7167\u63cf\u8ff0\u7406\u89e3\u4e0a\u9762\u8d34\u51fa\u7684handler\u4ee3\u7801\u3002</p>"},{"location":"nginx%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/#nginx-module","title":"\u7ec4\u5408Nginx Module","text":"<p>\u4e0a\u9762\u5b8c\u6210\u4e86Nginx\u6a21\u5757\u5404\u79cd\u7ec4\u4ef6\u7684\u5f00\u53d1\u4e0b\u9762\u5c31\u662f\u5c06\u8fd9\u4e9b\u7ec4\u5408\u8d77\u6765\u4e86\u3002\u4e00\u4e2aNginx\u6a21\u5757\u88ab\u5b9a\u4e49\u4e3a\u4e00\u4e2angx_module_t\u7ed3\u6784\uff0c\u8fd9\u4e2a\u7ed3\u6784\u7684\u5b57\u6bb5\u5f88\u591a\uff0c\u4e0d\u8fc7\u5f00\u5934\u548c\u7ed3\u5c3e\u82e5\u5e72\u5b57\u6bb5\u4e00\u822c\u53ef\u4ee5\u901a\u8fc7Nginx\u5185\u7f6e\u7684\u5b8f\u53bb\u586b\u5145\uff0c\u4e0b\u9762\u662f\u6211\u4eececho\u6a21\u5757\u7684\u6a21\u5757\u4e3b\u4f53\u5b9a\u4e49\uff1a</p> <p><pre><code>ngx_module_t  ngx_http_echo_module = {\n    NGX_MODULE_V1,\n    &amp;ngx_http_echo_module_ctx,             /* module context */\n    ngx_http_echo_commands,                /* module directives */\n    NGX_HTTP_MODULE,                       /* module type */\n    NULL,                                  /* init master */\n    NULL,                                  /* init module */\n    NULL,                                  /* init process */\n    NULL,                                  /* init thread */\n    NULL,                                  /* exit thread */\n    NULL,                                  /* exit process */\n    NULL,                                  /* exit master */\n    NGX_MODULE_V1_PADDING\n};\n</code></pre>  \u5f00\u5934\u548c\u7ed3\u5c3e\u5206\u522b\u7528NGX_MODULE_V1\u548cNGX_MODULE_V1_PADDING \u586b\u5145\u4e86\u82e5\u5e72\u5b57\u6bb5\uff0c\u5c31\u4e0d\u53bb\u6df1\u7a76\u4e86\u3002\u8fd9\u91cc\u4e3b\u8981\u9700\u8981\u586b\u5165\u7684\u4fe1\u606f\u4ece\u4e0a\u5230\u4e0b\u4ee5\u4f9d\u6b21\u4e3acontext\u3001\u6307\u4ee4\u6570\u7ec4\u3001\u6a21\u5757\u7c7b\u578b\u4ee5\u53ca\u82e5\u5e72\u7279\u5b9a\u4e8b\u4ef6\u7684\u56de\u8c03\u5904\u7406\u51fd\u6570\uff08\u4e0d\u9700\u8981\u53ef\u4ee5\u7f6e\u4e3aNULL\uff09\uff0c\u5176\u4e2d\u5185\u5bb9\u8fd8\u662f\u6bd4\u8f83\u597d\u7406\u89e3\u7684\uff0c\u6ce8\u610f\u6211\u4eec\u7684echo\u662f\u4e00\u4e2aHTTP\u6a21\u5757\uff0c\u6240\u4ee5\u8fd9\u91cc\u7c7b\u578b\u662fNGX_HTTP_MODULE\uff0c\u5176\u5b83\u53ef\u7528\u7c7b\u578b\u8fd8\u6709NGX_EVENT_MODULE\uff08\u4e8b\u4ef6\u5904\u7406\u6a21\u5757\uff09\u548cNGX_MAIL_MODULE\uff08\u90ae\u4ef6\u6a21\u5757\uff09\u3002</p> <p>\u8fd9\u6837\uff0c\u6574\u4e2aecho\u6a21\u5757\u5c31\u5199\u597d\u4e86\uff0c\u4e0b\u9762\u7ed9\u51faecho\u6a21\u5757\u7684\u5b8c\u6574\u4ee3\u7801\uff1a</p> <pre><code>include &lt;ngx_config.h&gt;\ninclude &lt;ngx_core.h&gt;\ninclude &lt;ngx_http.h&gt;\n\n/* Module config */\ntypedef struct {\n    ngx_str_t  ed;\n} ngx_http_echo_loc_conf_t;\n\nstatic char *ngx_http_echo(ngx_conf_t *cf, ngx_command_t *cmd, void *conf);\nstatic void *ngx_http_echo_create_loc_conf(ngx_conf_t *cf);\nstatic char *ngx_http_echo_merge_loc_conf(ngx_conf_t *cf, void *parent, void *child);\n\n/* Directives */\nstatic ngx_command_t  ngx_http_echo_commands[] = {\n    { \n        ngx_string(\"echo\"),\n        NGX_HTTP_LOC_CONF|NGX_CONF_TAKE1,\n        ngx_http_echo,\n        NGX_HTTP_LOC_CONF_OFFSET,\n        offsetof(ngx_http_echo_loc_conf_t, ed),\n        NULL \n    },\n    ngx_null_command\n};\n\n/* Http context of the module */\nstatic ngx_http_module_t  ngx_http_echo_module_ctx = {\n    NULL,                                  /* preconfiguration */\n    NULL,                                  /* postconfiguration */\n    NULL,                                  /* create main configuration */\n    NULL,                                  /* init main configuration */\n    NULL,                                  /* create server configuration */\n    NULL,                                  /* merge server configuration */\n    ngx_http_echo_create_loc_conf,         /* create location configration */\n    ngx_http_echo_merge_loc_conf           /* merge location configration */\n};\n\n/* Module */\nngx_module_t  ngx_http_echo_module = {\n    NGX_MODULE_V1,\n    &amp;ngx_http_echo_module_ctx,             /* module context */\n    ngx_http_echo_commands,                /* module directives */\n    NGX_HTTP_MODULE,                       /* module type */\n    NULL,                                  /* init master */\n    NULL,                                  /* init module */\n    NULL,                                  /* init process */\n    NULL,                                  /* init thread */\n    NULL,                                  /* exit thread */\n    NULL,                                  /* exit process */\n    NULL,                                  /* exit master */\n    NGX_MODULE_V1_PADDING\n};\n\n/* Handler function */\nstatic ngx_int_t ngx_http_echo_handler(ngx_http_request_t *r)\n{\n    ngx_int_t rc;\n    ngx_buf_t *b;\n    ngx_chain_t out;\n    ngx_http_echo_loc_conf_t *elcf;\n    elcf = ngx_http_get_module_loc_conf(r, ngx_http_echo_module);\n    if(!(r-&gt;method &amp; (NGX_HTTP_HEAD|NGX_HTTP_GET|NGX_HTTP_POST)))\n    {\n        return NGX_HTTP_NOT_ALLOWED;\n    }\n    r-&gt;headers_out.content_type.len = sizeof(\"text/html\") - 1;\n    r-&gt;headers_out.content_type.data = (u_char *) \"text/html\";\n    r-&gt;headers_out.status = NGX_HTTP_OK;\n    r-&gt;headers_out.content_length_n = elcf-&gt;ed.len;\n    if(r-&gt;method == NGX_HTTP_HEAD)\n    {\n        rc = ngx_http_send_header(r);\n        if(rc != NGX_OK)\n        {\n            return rc;\n        }\n    }\n    b = ngx_pcalloc(r-&gt;pool, sizeof(ngx_buf_t));\n    if(b == NULL)\n    {\n        ngx_log_error(NGX_LOG_ERR, r-&gt;connection-&gt;log, 0, \"Failed to allocate response buffer.\");\n        return NGX_HTTP_INTERNAL_SERVER_ERROR;\n    }\n    out.buf = b;\n    out.next = NULL;\n    b-&gt;pos = elcf-&gt;ed.data;\n    b-&gt;last = elcf-&gt;ed.data + (elcf-&gt;ed.len);\n    b-&gt;memory = 1;\n    b-&gt;last_buf = 1;\n    rc = ngx_http_send_header(r);\n    if(rc != NGX_OK)\n    {\n        return rc;\n    }\n    return ngx_http_output_filter(r, &amp;out);\n}\n\nstatic char *\nngx_http_echo(ngx_conf_t *cf, ngx_command_t *cmd, void *conf)\n{\n    ngx_http_core_loc_conf_t  *clcf;\n    // \u83b7\u53d6\u6838\u5fc3\u6a21\u5757\u7684 location \u914d\u7f6e\u7ed3\u6784\u4f53\n    clcf = ngx_http_conf_get_module_loc_conf(cf, ngx_http_core_module);\n    clcf-&gt;handler = ngx_http_echo_handler;\n    ngx_conf_set_str_slot(cf,cmd,conf);\n    return NGX_CONF_OK;\n}\n\n// \u521b\u5efa\u914d\u7f6e\u7ed3\u6784\u4f53\u5b9e\u4f8b\nstatic void * ngx_http_echo_create_loc_conf(ngx_conf_t *cf)\n{\n    ngx_http_echo_loc_conf_t  *conf;\n    conf = ngx_pcalloc(cf-&gt;pool, sizeof(ngx_http_echo_loc_conf_t));\n    if (conf == NULL) {\n        return NGX_CONF_ERROR;\n    }\n    conf-&gt;ed.len = 0;\n    conf-&gt;ed.data = NULL;\n    return conf;\n}\n\n// \u5408\u5e76\u4e0d\u540c\u5c42\u7ea7\u7684\u914d\u7f6e\u503c\uff0c\u5b50\u5c42\u7ea7\u7ee7\u627f\u7236\u5c42\u7ea7\uff0c\u5e76\u5141\u8bb8\u8986\u76d6\nstatic char * ngx_http_echo_merge_loc_conf(ngx_conf_t *cf, void *parent, void *child)\n{\n    ngx_http_echo_loc_conf_t *prev = parent;\n    ngx_http_echo_loc_conf_t *conf = child;\n    ngx_conf_merge_str_value(conf-&gt;ed, prev-&gt;ed, \"\");\n    return NGX_CONF_OK;\n}\n</code></pre> <p>\u6574\u4f53\u6d41\u7a0b\uff1a</p> <p>\u521d\u59cb\u5316\u9636\u6bb5 \u6a21\u5757\u6ce8\u518c nginx\u542f\u52a8\u65f6\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6config\uff0c\u901a\u8fc7 <code>ngx_http_echo_module</code> \u7ed3\u6784\u4f53\u6ce8\u518c\u6a21\u5757\u4fe1\u606f\u3002 - <code>ngx_http_echo_module</code> \u7ec4\u5408 nginx \u5404\u6a21\u5757     - <code>ngx_http_echo_module_ctx</code> \u4e0a\u4e0b\u6587     - <code>ngx_http_echo_commands</code> \u6307\u4ee4\u5217\u8868     - <code>NGX_HTTP_MODULE</code> \u6a21\u5757\u7c7b\u578b \u914d\u7f6e\u89e3\u6790 nginx \u89e3\u6790 nginx.conf \u4e2d\u7684 echo \u6307\u4ee4\uff0c\u8c03\u7528 ngx_http_echo \u5904\u7406\uff08\u7531ngx_http_echo_commands \u5b9a\u4e49\uff09</p> <p>\u8bf7\u6c42\u5904\u7406\u9636\u6bb5 \u5b9a\u4f4d\u5230\u6a21\u5757\u5904\u7406 - \u7531\u4e8e\u00a0<code>echo</code>\u00a0\u6307\u4ee4\u5173\u8054\u4e86\u00a0<code>ngx_http_echo</code>\uff0cNginx \u5c06\u6267\u884c\u8be5\u6307\u4ee4\u5bf9\u5e94\u7684\u5904\u7406\u903b\u8f91\u3002 - \u6267\u884c <code>ngx_http_echo_handler</code> \u5904\u7406\u8bf7\u6c42\uff0c\u5e76\u8fd4\u56de\u54cd\u5e94\u3002</p> <p>\u8bf7\u6c42\u5904\u7406</p> <p>\u914d\u7f6e\u6a21\u5757 <code>ngx_http_echo_loc_conf_t</code> \u6307\u4ee4\u5217\u8868 <code>ngx_http_echo_commands</code> \u4e0a\u4e0b\u6587\u6a21\u5757\uff0c\u7528\u4e8enginx\u56de\u8c03 <code>ngx_http_echo_module_ctx</code>  ngx_http_echo_create_loc_conf ngx_http_echo_merge_loc_conf handler\u6a21\u5757 <code>ngx_http_echo_handler</code></p> <p>\u5bf9\u4e8e<code>echo</code>\u6307\u4ee4\uff0cNginx \u4f1a\u8c03\u7528<code>ngx_http_echo</code>\u51fd\u6570\uff08\u5728<code>ngx_http_echo_commands</code>\u6570\u7ec4\u4e2d\u5b9a\u4e49\uff09\u3002\u8be5\u51fd\u6570\u9996\u5148\u83b7\u53d6\u6838\u5fc3\u6a21\u5757\u7684\u4f4d\u7f6e\u914d\u7f6e<code>ngx_http_core_loc_conf_t</code>\uff0c\u5c06\u5176<code>handler</code>\u8bbe\u7f6e\u4e3a<code>ngx_http_echo_handler</code>\uff0c\u7136\u540e\u8c03\u7528<code>ngx_conf_set_str_slot</code>\u51fd\u6570\u5c06\u914d\u7f6e\u6587\u4ef6\u4e2d<code>echo</code>\u6307\u4ee4\u7684\u53c2\u6570\u8f6c\u5316\u4e3a<code>ngx_str_t</code>\u7c7b\u578b\uff0c\u5e76\u5b58\u50a8\u5230\u6a21\u5757\u7684\u914d\u7f6e\u7ed3\u6784\u4f53<code>ngx_http_echo_loc_conf_t</code>\u4e2d\u3002</p>"},{"location":"nginx%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/#nginx","title":"Nginx\u6a21\u5757\u7684\u5b89\u88c5","text":"<p>Nginx\u4e0d\u652f\u6301\u52a8\u6001\u94fe\u63a5\u6a21\u5757\uff0c\u6240\u4ee5\u5b89\u88c5\u6a21\u5757\u9700\u8981\u5c06\u6a21\u5757\u4ee3\u7801\u4e0eNginx\u6e90\u4ee3\u7801\u8fdb\u884c\u91cd\u65b0\u7f16\u8bd1\u3002\u5b89\u88c5\u6a21\u5757\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p>1\u3001\u7f16\u5199\u6a21\u5757config\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u9700\u8981\u653e\u5728\u548c\u6a21\u5757\u6e90\u4ee3\u7801\u6587\u4ef6\u653e\u5728\u540c\u4e00\u76ee\u5f55\u4e0b\u3002\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a 1. ngx_addon_name=\u6a21\u5757\u5b8c\u6574\u540d\u79f0 2. HTTP_MODULES=\"\\(HTTP_MODULES \u6a21\u5757\u5b8c\u6574\u540d\u79f0\" 3. NGX_ADDON_SRCS=\"\\)NGX_ADDON_SRCS $ngx_addon_dir/\u6e90\u4ee3\u7801\u6587\u4ef6\u540d\"</p> <p>2\u3001\u8fdb\u5165Nginx\u6e90\u4ee3\u7801\uff0c\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u7f16\u8bd1\u5b89\u88c5</p> <ol> <li>./configure --prefix=\u5b89\u88c5\u76ee\u5f55 --add-module=\u6a21\u5757\u6e90\u4ee3\u7801\u6587\u4ef6\u76ee\u5f55</li> <li>make</li> <li>make install</li> </ol> <p>\u8fd9\u6837\u5c31\u5b8c\u6210\u5b89\u88c5\u4e86\uff0c\u4f8b\u5982\uff0c\u6211\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\u653e\u5728/home/yefeng/ngxdev/ngx_http_echo\u4e0b\uff0c\u6211\u7684config\u6587\u4ef6\u4e3a\uff1a</p> <ol> <li>ngx_addon_name=ngx_http_echo_module</li> <li>HTTP_MODULES=\"$HTTP_MODULES ngx_http_echo_module\"</li> <li>NGX_ADDON_SRCS=\"$NGX_ADDON_SRCS $ngx_addon_dir/ngx_http_echo_module.c\"</li> </ol> <p>\u7f16\u8bd1\u5b89\u88c5\u547d\u4ee4\u4e3a\uff1a</p> <ol> <li>./configure --prefix=/usr/local/nginx --add-module=/home/yefeng/ngxdev/ngx_http_echo</li> <li>make</li> <li>sudo make install</li> </ol> <p>\u8fd9\u6837echo\u6a21\u5757\u5c31\u88ab\u5b89\u88c5\u5728\u6211\u7684Nginx\u4e0a\u4e86\uff0c\u4e0b\u9762\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u589e\u52a0\u4ee5\u4e0b\u4e00\u9879\u914d\u7f6e\uff1a</p> <ol> <li>location /echo {</li> <li>echo \"This is my first nginx module!!!\";</li> <li>}</li> </ol> <p>\u7136\u540e\u7528curl\u6d4b\u8bd5\u4e00\u4e0b\uff1a</p> <ol> <li>curl -i http://localhost/echo</li> </ol> <p>\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u6a21\u5757\u5df2\u7ecf\u6b63\u5e38\u5de5\u4f5c\u4e86\uff0c\u4e5f\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u7f51\u5740\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u7ed3\u679c\uff1a</p> <p></p> <ul> <li>https://blog.csdn.net/baidu_36649389/article/details/78403566</li> <li>https://www.cnblogs.com/softidea/p/4090653.html \u00a0</li> <li>https://blog.csdn.net/stinkstone/article/details/78082748</li> <li>https://www.evanmiller.org/nginx-modules-guide.html</li> </ul>"},{"location":"qgis%E5%9B%BE%E5%B1%82/","title":"Qgis\u56fe\u5c42","text":"<p>\u9ad8\u5fb7\u5730\u56fe</p> <p>\u77e2\u91cf\u56fe https://webrd02.is.autonavi.com/appmaptile?lang=zh_cn&amp;size=1&amp;scale=1&amp;style=8&amp;x={x}&amp;y={y}&amp;z={z}</p> <p>\u5f71\u50cf\u56fe https://webst01.is.autonavi.com/appmaptile?style=6&amp;x={x}&amp;y={y}&amp;z={z}</p> <p>\u8def\u7f51\u56fe https://wprd01.is.autonavi.com/appmaptile?x={x}&amp;y={y}&amp;z={z}&amp;lang=zh_cn&amp;size=1&amp;scl=2&amp;style=8&amp;ltype=11%0A%0A</p> <p>https://www.cnblogs.com/googlegis/p/14986844.html</p>"},{"location":"timescaledb%E8%B6%85%E8%A1%A8/","title":"Timescaledb\u8d85\u8868","text":"<p>\u67e5\u770b hypertable \u7684\u5206\u533a\u95f4\u9694\uff1a <pre><code>SELECT\n  ht.table_name,\n  ds.interval_length,\n  (ds.interval_length / 86400000000.0) AS chunk_interval_in_days\nFROM _timescaledb_catalog.hypertable ht\nJOIN _timescaledb_catalog.dimension ds \n  ON ht.id = ds.hypertable_id\nWHERE ds.interval_length IS NOT NULL;\n</code></pre></p> <p>\u67e5\u770bchunk\u8be6\u7ec6\u4fe1\u606f\uff1a <pre><code>SELECT * FROM timescaledb_information.chunks WHERE hypertable_name = 'device_trace';\n</code></pre></p> <p>\u8c03\u6574chunk\u7684interval\uff1a <pre><code>SELECT set_chunk_time_interval('device_trace', INTERVAL '1 day');\n</code></pre></p> <p>\u67e5\u770bchunk\u7684\u5927\u5c0f\uff1a <pre><code>SELECT\n  h.table_name AS hypertable,\n  c.schema_name || '.' || c.table_name AS chunk,\n  pg_size_pretty(pg_table_size((c.schema_name || '.' || c.table_name)::regclass)) AS chunk_size\nFROM _timescaledb_catalog.chunk c\nJOIN _timescaledb_catalog.hypertable h\n  ON c.hypertable_id = h.id\nORDER BY h.table_name, c.table_name;\n</code></pre></p> <p>\u6570\u636e\u4fdd\u7559\u7b56\u7565\uff1a <pre><code>-- \u4fdd\u7559\u6700\u8fd13\u4e2a\u6708\u7684\u6570\u636e\nSELECT add_retention_policy('device_trace', INTERVAL '3 months');\n-- \u67e5\u770b\u5f53\u524d\u6240\u6709\u7684\u6570\u636e\u4fdd\u7559\u7b56\u7565\n  SELECT * FROM timescaledb_information.jobs WHERE proc_name = 'policy_retention';\n-- \u79fb\u9664\u6570\u636e\u4fdd\u7559\u7b56\u7565\n  SELECT remove_retention_policy('device_trace');\n</code></pre></p>"},{"location":"%E4%BA%BA%E7%94%9F%E5%93%B2%E7%90%86/","title":"\u4eba\u751f\u54f2\u7406","text":"<p>\u5b89\u6392\u8ba1\u5212\u6267\u884c\u4e0d\u4e0b\u53bb\uff0c\u5b9e\u9645\u4e0a\u5b89\u6392\u8ba1\u5212\u4e0d\u591f\u3002</p> <p>\u6bd4\u5982\u8bf4\uff0c\u4f60\u8ba1\u5212\u4e86\u8dd1\u6b65\uff0c\u4f46\u662f\u6267\u884c\u4e0d\u4e0b\u53bb\uff0c\u963b\u788d\u4f60\u8dd1\u6b65\u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f</p> <p>\u628a\u4eba\u5f53\u6210\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u8dd1\u6b65\u7684\u4f18\u5148\u7ea7\u8c03\u5230\u6700\u9ad8\uff0c\u5de5\u4f5c\u518d\u5fd9\u4e5f\u8981\u6392\u961f\uff0c\u5f71\u54cd\u4e86\u5de5\u4f5c\u5c31\u5f71\u54cd\u4e86\u5de5\u4f5c\uff0c \u8001\u677f\u8ba9\u4f60\u52a0\u677f\uff1f\u62b1\u6b49\uff0c\u6211\u8981\u8dd1\u6b65\u3002\u5b9e\u5728\u5e72\u4e0d\u4e86\u5c31\u8f9e\u804c\uff0c\u90a3\u6211\u4e5f\u8981\u8dd1\u6b65\uff0c\u8dd1\u6b65\u662f\u6700\u91cd\u8981\u7684\uff0c\u5176\u4ed6\u4e00\u5207\u90fd\u8981\u6392\u961f\uff0c\u6709\u4e86\u8fd9\u79cd\u4f18\u5148\u7ea7\uff0c\u8fd8\u6015\u8dd1\u6b65\u6267\u884c\u4e0d\u4e0b\u53bb\uff1f\u771f\u6b63\u60f3\u505a\u7684\u4e8b\uff0c\u4ece\u6765\u4e0d\u4f1a\u7f3a\u65f6\u95f4\u3002</p> <p>\u5173\u4e8e\u6c9f\u901a</p> <p>\u6211\u4e00\u76f4\u662f\u6709\u8bdd\u76f4\u8bf4\uff0c\u60f3\u592a\u591a\u6d6a\u8d39\u65f6\u95f4\uff0c\u522b\u4eba\u600e\u4e48\u770b\u662f\u522b\u4eba\u7684\u4e8b\uff0c\u5927\u5bb6\u540c\u4e8b\u4e00\u573a\uff0c\u76f8\u8bc6\u4e0d\u8fc7\u51e0\u5e74\u65f6\u95f4\uff0c\u79bb\u5f00\u516c\u53f8\u540e\u53ef\u80fd\u518d\u4e5f\u4e0d\u4f1a\u89c1\u9762\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/","title":"\u5185\u5b58\u7ba1\u7406\u5b50\u7cfb\u7edf","text":"<p>\u5185\u5b58\u7ba1\u7406\u5b50\u7cfb\u7edf\u53ef\u8c13\u662f Linux \u5185\u6838\u4f17\u591a\u5b50\u7cfb\u7edf\u4e2d\u6700\u4e3a\u590d\u6742\u6700\u4e3a\u5e9e\u5927\u7684\u4e00\u4e2a\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4f17\u591a\u7e41\u6742\u7684\u6982\u5ff5\u548c\u539f\u7406\uff0c\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u8fd9\u6761\u4e3b\u7ebf\u6211\u4eec\u628a\u53ef\u4ee5\u628a\u64cd\u4f5c\u7cfb\u7edf\u7684\u4f17\u591a\u6838\u5fc3\u7cfb\u7edf\u7ed9\u62ce\u51fa\u6765\uff0c\u6bd4\u5982\uff1a\u8fdb\u7a0b\u7ba1\u7406\u5b50\u7cfb\u7edf\uff0c\u7f51\u7edc\u5b50\u7cfb\u7edf\uff0c\u6587\u4ef6\u5b50\u7cfb\u7edf\u7b49\u3002</p> <p>\u7531\u4e8e\u5185\u5b58\u7ba1\u7406\u5b50\u7cfb\u7edf\u8fc7\u4e8e\u590d\u6742\u5e9e\u5927\uff0c\u5176\u4e2d\u6d89\u53ca\u5230\u7684\u4f17\u591a\u7e41\u6742\u7684\u6982\u5ff5\u53c8\u662f\u4e00\u73af\u5957\u4e00\u73af\uff0c\u5c42\u5c42\u9012\u8fdb\u3002\u5982\u4f55\u628a\u8fd9\u4e9b\u7e41\u6742\u7684\u6982\u5ff5\u5177\u6709\u5c42\u6b21\u611f\u5730\uff0c\u5e76\u4e14\u6e05\u6670\u5730\uff0c\u7ed9\u5927\u5bb6\u68b3\u7406\u5448\u73b0\u51fa\u6765\u771f\u662f\u4e00\u4ef6\u6bd4\u8f83\u6709\u96be\u5ea6\u7684\u4e8b\u60c5\uff0c\u56e0\u6b64\u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u5728\u52a8\u7b14\u5199\u8fd9\u4e2a\u5185\u5b58\u7ba1\u7406\u6e90\u7801\u89e3\u6790\u7cfb\u5217\u4e4b\u524d\u4e5f\u662f\u601d\u8003\u4e86\u5f88\u4e45\u3002</p> <p>\u4e07\u4e8b\u5f00\u5934\u96be\uff0c\u90a3\u4e48\u5230\u5e95\u4ec0\u4e48\u5185\u5bb9\u9002\u5408\u4f5c\u4e3a\u8fd9\u4e2a\u7cfb\u5217\u7684\u5f00\u7bc7\u5462 \uff1f\u6211\u8fd8\u662f\u89c9\u5f97\u4ece\u5927\u5bb6\u65e5\u5e38\u5f00\u53d1\u5de5\u4f5c\u4e2d\u63a5\u89e6\u6700\u591a\u6700\u4e3a\u719f\u6089\u7684\u90e8\u5206\u5f00\u59cb\u6bd4\u8f83\u597d\uff0c\u6bd4\u5982\uff1a\u5728\u6211\u4eec\u65e5\u5e38\u5f00\u53d1\u4e2d\u521b\u5efa\u7684\u7c7b\uff0c\u8c03\u7528\u7684\u51fd\u6570\uff0c\u5728\u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u5c40\u90e8\u53d8\u91cf\u4ee5\u53ca new \u51fa\u6765\u7684\u6570\u636e\u5bb9\u5668\uff08Map\uff0cList\uff0cSet .....\u7b49\uff09\u90fd\u9700\u8981\u5b58\u50a8\u5728\u7269\u7406\u5185\u5b58\u4e2d\u7684\u67d0\u4e2a\u89d2\u843d\u3002</p> <p>\u800c\u6211\u4eec\u5728\u7a0b\u5e8f\u4e2d\u7f16\u5199\u4e1a\u52a1\u903b\u8f91\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u9700\u8981\u5f15\u7528\u8fd9\u4e9b\u521b\u5efa\u51fa\u6765\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5e76\u901a\u8fc7\u8fd9\u4e9b\u5f15\u7528\u5bf9\u76f8\u5173\u6570\u636e\u7ed3\u6784\u8fdb\u884c\u4e1a\u52a1\u5904\u7406\u3002</p> <p>\u5f53\u7a0b\u5e8f\u8fd0\u884c\u8d77\u6765\u4e4b\u540e\u5c31\u53d8\u6210\u4e86\u8fdb\u7a0b\uff0c\u800c\u8fd9\u4e9b\u4e1a\u52a1\u6570\u636e\u7ed3\u6784\u7684\u5f15\u7528\u5728\u8fdb\u7a0b\u7684\u89c6\u89d2\u91cc\u5168\u90fd\u90fd\u662f\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u56e0\u4e3a\u8fdb\u7a0b\u65e0\u8bba\u662f\u5728\u7528\u6237\u6001\u8fd8\u662f\u5728\u5185\u6838\u6001\u80fd\u591f\u770b\u5230\u7684\u90fd\u662f\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u7269\u7406\u5185\u5b58\u7a7a\u95f4\u88ab\u64cd\u4f5c\u7cfb\u7edf\u6240\u5c4f\u853d\u8fdb\u7a0b\u662f\u770b\u4e0d\u5230\u7684\u3002</p> <p>\u8fdb\u7a0b\u901a\u8fc7\u865a\u62df\u5185\u5b58\u5730\u5740\u8bbf\u95ee\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u7684\u65f6\u5019\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u4f1a\u5728\u5185\u5b58\u7ba1\u7406\u5b50\u7cfb\u7edf\u4e2d\u88ab\u8f6c\u6362\u6210\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u901a\u8fc7\u7269\u7406\u5185\u5b58\u5730\u5740\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u771f\u6b63\u5b58\u50a8\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u7684\u7269\u7406\u5185\u5b58\u4e86\u3002\u968f\u540e\u5c31\u53ef\u4ee5\u5bf9\u8fd9\u5757\u7269\u7406\u5185\u5b58\u8fdb\u884c\u5404\u79cd\u4e1a\u52a1\u64cd\u4f5c\uff0c\u4ece\u800c\u5b8c\u6210\u4e1a\u52a1\u903b\u8f91\u3002</p> <ul> <li> <p>\u90a3\u4e48\u5230\u5e95\u4ec0\u4e48\u662f\u865a\u62df\u5185\u5b58\u5730\u5740 \uff1f</p> </li> <li> <p>Linux \u5185\u6838\u4e3a\u5565\u8981\u5f15\u5165\u865a\u62df\u5185\u5b58\u800c\u4e0d\u76f4\u63a5\u4f7f\u7528\u7269\u7406\u5185\u5b58 \uff1f</p> </li> <li> <p>\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5230\u5e95\u957f\u5565\u6837\uff1f</p> </li> <li> <p>\u5185\u6838\u5982\u4f55\u7ba1\u7406\u865a\u62df\u5185\u5b58\uff1f</p> </li> <li> <p>\u4ec0\u4e48\u53c8\u662f\u7269\u7406\u5185\u5b58\u5730\u5740 \uff1f\u5982\u4f55\u8bbf\u95ee\u7269\u7406\u5185\u5b58\uff1f</p> </li> </ul> <p>\u672c\u6587\u6211\u5c31\u6765\u4e3a\u5927\u5bb6\u8be6\u7ec6\u4e00\u4e00\u89e3\u7b54\u4e0a\u8ff0\u51e0\u4e2a\u95ee\u9898\uff0c\u8ba9\u6211\u4eec\u9a6c\u4e0a\u5f00\u59cb\u5427<sub>~</sub>~</p> <p></p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#1","title":"#1. \u5230\u5e95\u4ec0\u4e48\u662f\u865a\u62df\u5185\u5b58\u5730\u5740","text":"<p>\u8fd9\u91cc\u6211\u4eec\u4ee5 Intel Core i7 \u5904\u7406\u5668\u4e3a\u4f8b\uff0c64 \u4f4d\u865a\u62df\u5730\u5740\u7684\u683c\u5f0f\u4e3a\uff1a\u5168\u5c40\u9875\u76ee\u5f55\u9879\uff089\u4f4d\uff09+ \u4e0a\u5c42\u9875\u76ee\u5f55\u9879\uff089\u4f4d\uff09+ \u4e2d\u95f4\u9875\u76ee\u5f55\u9879\uff089\u4f4d\uff09+ \u9875\u8868\u9879\uff089\u4f4d\uff09+ \u9875\u5185\u504f\u79fb\uff0812\u4f4d\uff09\u3002\u5171 48 \u4f4d\u7ec4\u6210\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u3002</p> <p></p> <p>\u865a\u62df\u5185\u5b58\u5730\u5740\u4e2d\u7684\u5168\u5c40\u9875\u76ee\u5f55\u9879\u5c31\u7c7b\u6bd4\u6211\u4eec\u65e5\u5e38\u751f\u6d3b\u4e2d\u6536\u83b7\u5730\u5740\u91cc\u7684\u7701\uff0c\u4e0a\u5c42\u9875\u76ee\u5f55\u9879\u5c31\u7c7b\u6bd4\u5e02\uff0c\u4e2d\u95f4\u5c42\u9875\u76ee\u5f55\u9879\u7c7b\u6bd4\u533a\u53bf\uff0c\u9875\u8868\u9879\u7c7b\u6bd4\u8857\u9053\u5c0f\u533a\uff0c\u9875\u5185\u504f\u79fb\u7c7b\u6bd4\u6211\u4eec\u6240\u5728\u7684\u697c\u680b\u548c\u51e0\u5c42\u51e0\u53f7\u3002</p> <p>\u8fd9\u91cc\u5927\u5bb6\u53ea\u9700\u8981\u5927\u4f53\u660e\u767d\u865a\u62df\u5185\u5b58\u5730\u5740\u5230\u5e95\u957f\u4ec0\u4e48\u6837\u5b50\uff0c\u5b83\u7684\u683c\u5f0f\u662f\u4ec0\u4e48\uff0c\u80fd\u591f\u548c\u65e5\u5e38\u751f\u6d3b\u4e2d\u7684\u6536\u8d27\u5730\u5740\u5bf9\u6bd4\u7406\u89e3\u8d77\u6765\u5c31\u53ef\u4ee5\u4e86\uff0c\u81f3\u4e8e\u9875\u76ee\u5f55\u9879\uff0c\u9875\u8868\u9879\u4ee5\u53ca\u9875\u5185\u504f\u79fb\u8fd9\u4e9b\u8ba1\u7b97\u673a\u4e16\u754c\u4e2d\u7684\u6982\u5ff5\uff0c\u5927\u5bb6\u6682\u65f6\u5148\u4e0d\u7528\u7ba1\uff0c\u540e\u7eed\u6587\u7ae0\u4e2d\u6211\u4f1a\u6162\u6162\u7ed9\u5927\u5bb6\u89e3\u91ca\u6e05\u695a\u3002</p> <p>32 \u4f4d\u865a\u62df\u5730\u5740\u7684\u683c\u5f0f\u4e3a\uff1a\u9875\u76ee\u5f55\u9879\uff0810\u4f4d\uff09+ \u9875\u8868\u9879\uff0810\u4f4d\uff09 + \u9875\u5185\u504f\u79fb\uff0812\u4f4d\uff09\u3002\u5171 32 \u4f4d\u7ec4\u6210\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u3002</p> <p></p> <p>\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u6709\u4e0e\u5176\u5bf9\u5e94\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u4e00\u4e2a\u865a\u62df\u5185\u5b58\u5730\u5740\u8868\u793a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u4e00\u4e2a\u7279\u5b9a\u7684\u5b57\u8282\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#2","title":"#2. \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u865a\u62df\u5730\u5740\u8bbf\u95ee\u5185\u5b58","text":"<p>\u7ecf\u8fc7\u7b2c\u4e00\u5c0f\u8282\u7684\u4ecb\u7ecd\uff0c\u6211\u4eec\u73b0\u5728\u660e\u767d\u4e86\u8ba1\u7b97\u673a\u4e16\u754c\u4e2d\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7684\u542b\u4e49\u53ca\u5176\u5c55\u73b0\u5f62\u5f0f\u3002\u90a3\u4e48\u5927\u5bb6\u53ef\u80fd\u4f1a\u95ee\u4e86\uff0c\u65e2\u7136\u7269\u7406\u5185\u5b58\u5730\u5740\u53ef\u4ee5\u76f4\u63a5\u5b9a\u4f4d\u5230\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u50a8\u4f4d\u7f6e\uff0c\u90a3\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u76f4\u63a5\u4f7f\u7528\u7269\u7406\u5185\u5b58\u5730\u5740\u53bb\u8bbf\u95ee\u5185\u5b58\u800c\u662f\u9009\u62e9\u7528\u865a\u62df\u5185\u5b58\u5730\u5740\u53bb\u8bbf\u95ee\u5185\u5b58\u5462\uff1f</p> <p>\u5728\u56de\u7b54\u5927\u5bb6\u7684\u8fd9\u4e2a\u7591\u95ee\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u5148\u6765\u770b\u4e0b\uff0c\u5982\u679c\u5728\u7a0b\u5e8f\u4e2d\u76f4\u63a5\u4f7f\u7528\u7269\u7406\u5185\u5b58\u5730\u5740\u4f1a\u53d1\u751f\u4ec0\u4e48\u60c5\u51b5\uff1f</p> <p>\u5047\u8bbe\u73b0\u5728\u6ca1\u6709\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u6211\u4eec\u5728\u7a0b\u5e8f\u4e2d\u5bf9\u5185\u5b58\u7684\u64cd\u4f5c\u5168\u90fd\u90fd\u662f\u4f7f\u7528\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u5458\u5c31\u9700\u8981\u7cbe\u786e\u7684\u77e5\u9053\u6bcf\u4e00\u4e2a\u53d8\u91cf\u5728\u5185\u5b58\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u5bf9\u7269\u7406\u5185\u5b58\u8fdb\u884c\u5e03\u5c40\uff0c\u660e\u786e\u54ea\u4e9b\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u7684\u54ea\u4e9b\u4f4d\u7f6e\uff0c\u9664\u6b64\u4e4b\u5916\u6211\u4eec\u8fd8\u9700\u8981\u8003\u8651\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u7a76\u7adf\u8981\u5206\u914d\u591a\u5c11\u5185\u5b58\uff1f\u5185\u5b58\u7d27\u5f20\u7684\u65f6\u5019\u8be5\u600e\u4e48\u529e\uff1f\u5982\u4f55\u907f\u514d\u8fdb\u7a0b\u4e0e\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5730\u5740\u51b2\u7a81\uff1f\u7b49\u7b49\u4e00\u7cfb\u5217\u590d\u6742\u4e14\u7410\u788e\u7684\u7ec6\u8282\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5728\u5355\u8fdb\u7a0b\u7cfb\u7edf\u4e2d\u6bd4\u5982\u5d4c\u5165\u5f0f\u8bbe\u5907\u4e0a\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\uff0c\u7cfb\u7edf\u4e2d\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u8fd9\u5355\u4e2a\u8fdb\u7a0b\u72ec\u4eab\u6240\u6709\u7684\u7269\u7406\u8d44\u6e90\u5305\u62ec\u5185\u5b58\u8d44\u6e90\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0a\u8ff0\u63d0\u5230\u7684\u8fd9\u4e9b\u76f4\u63a5\u4f7f\u7528\u7269\u7406\u5185\u5b58\u7684\u95ee\u9898\u53ef\u80fd\u8fd8\u597d\u5904\u7406\u4e00\u4e9b\uff0c\u4f46\u662f\u4ecd\u7136\u5177\u6709\u5f88\u9ad8\u7684\u5f00\u53d1\u95e8\u69db\u3002</p> <p>\u7136\u800c\u5728\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u5f80\u5f80\u652f\u6301\u591a\u4e2a\u8fdb\u7a0b\uff0c\u9700\u8981\u5904\u7406\u591a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u534f\u540c\u95ee\u9898\uff0c\u5728\u591a\u8fdb\u7a0b\u7cfb\u7edf\u4e2d\u76f4\u63a5\u4f7f\u7528\u7269\u7406\u5185\u5b58\u5730\u5740\u64cd\u4f5c\u5185\u5b58\u6240\u5e26\u6765\u7684\u4e0a\u8ff0\u95ee\u9898\u5c31\u53d8\u5f97\u975e\u5e38\u590d\u6742\u4e86\u3002</p> <p>\u8fd9\u91cc\u6211\u4e3a\u5927\u5bb6\u4e3e\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u5728\u591a\u8fdb\u7a0b\u7cfb\u7edf\u4e2d\u76f4\u63a5\u4f7f\u7528\u7269\u7406\u5185\u5b58\u5730\u5740\u7684\u590d\u6742\u6027\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u73b0\u5728\u6709\u8fd9\u6837\u4e00\u4e2a\u7b80\u5355\u7684 Java \u7a0b\u5e8f\u3002</p> <pre><code>    public static void main(String[] args) throws Exception {\n\n        string i = args[0];\n        ..........\n    }\n</code></pre> <p>\u5728\u7a0b\u5e8f\u4ee3\u7801\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u7528\u8fd9\u4efd\u4ee3\u7801\u540c\u65f6\u542f\u52a8\u4e09\u4e2a JVM \u8fdb\u7a0b\uff0c\u6211\u4eec\u6682\u65f6\u5c06\u8fdb\u7a0b\u4f9d\u6b21\u547d\u540d\u4e3a a , b , c \u3002</p> <p>\u8fd9\u4e09\u4e2a\u8fdb\u7a0b\u7528\u5230\u7684\u4ee3\u7801\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f\u6211\u4eec\u63d0\u524d\u5199\u597d\u7684\uff0c\u53ef\u4ee5\u88ab\u591a\u6b21\u8fd0\u884c\u3002\u7531\u4e8e\u6211\u4eec\u662f\u76f4\u63a5\u64cd\u4f5c\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u5047\u8bbe\u53d8\u91cf i \u4fdd\u5b58\u5728 0x354 \u8fd9\u4e2a\u7269\u7406\u5730\u5740\u4e0a\u3002\u8fd9\u4e09\u4e2a\u8fdb\u7a0b\u8fd0\u884c\u8d77\u6765\u4e4b\u540e\uff0c\u540c\u65f6\u64cd\u4f5c\u8fd9\u4e2a 0x354 \u7269\u7406\u5730\u5740\uff0c\u8fd9\u6837\u8fd9\u4e2a\u53d8\u91cf i \u7684\u503c\u4e0d\u5c31\u6df7\u4e71\u4e86\u5417\uff1f \u4e09\u4e2a\u8fdb\u7a0b\u5c31\u4f1a\u51fa\u73b0\u53d8\u91cf\u7684\u5730\u5740\u51b2\u7a81\u3002</p> <p></p> <p>\u6240\u4ee5\u5728\u76f4\u63a5\u64cd\u4f5c\u7269\u7406\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u6bcf\u4e00\u4e2a\u53d8\u91cf\u7684\u4f4d\u7f6e\u90fd\u88ab\u5b89\u6392\u5728\u4e86\u54ea\u91cc\uff0c\u800c\u4e14\u8fd8\u8981\u6ce8\u610f\u548c\u591a\u4e2a\u8fdb\u7a0b\u540c\u65f6\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u5171\u7528\u540c\u4e00\u4e2a\u5730\u5740\uff0c\u5426\u5219\u5c31\u4f1a\u9020\u6210\u5730\u5740\u51b2\u7a81\u3002</p> <p>\u73b0\u5b9e\u4e2d\u4e00\u4e2a\u7a0b\u5e8f\u4f1a\u6709\u5f88\u591a\u7684\u53d8\u91cf\u548c\u51fd\u6570\uff0c\u8fd9\u6837\u4e00\u6765\u6211\u4eec\u7ed9\u5b83\u4eec\u90fd\u9700\u8981\u8ba1\u7b97\u4e00\u4e2a\u5408\u7406\u7684\u4f4d\u7f6e\uff0c\u8fd8\u4e0d\u80fd\u4e0e\u5176\u4ed6\u8fdb\u7a0b\u51b2\u7a81\uff0c\u8fd9\u5c31\u5f88\u590d\u6742\u4e86\u3002</p> <p>\u90a3\u4e48\u6211\u4eec\u8be5\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u7a0b\u5e8f\u7684\u5c40\u90e8\u6027\u539f\u7406\u518d\u4e00\u6b21\u6551\u4e86\u6211\u4eec~~</p> <p>\u7a0b\u5e8f\u5c40\u90e8\u6027\u539f\u7406\u8868\u73b0\u4e3a\uff1a\u65f6\u95f4\u5c40\u90e8\u6027\u548c\u7a7a\u95f4\u5c40\u90e8\u6027\u3002\u65f6\u95f4\u5c40\u90e8\u6027\u662f\u6307\u5982\u679c\u7a0b\u5e8f\u4e2d\u7684\u67d0\u6761\u6307\u4ee4\u4e00\u65e6\u6267\u884c\uff0c\u5219\u4e0d\u4e45\u4e4b\u540e\u8be5\u6307\u4ee4\u53ef\u80fd\u518d\u6b21\u88ab\u6267\u884c\uff1b\u5982\u679c\u67d0\u5757\u6570\u636e\u88ab\u8bbf\u95ee\uff0c\u5219\u4e0d\u4e45\u4e4b\u540e\u8be5\u6570\u636e\u53ef\u80fd\u518d\u6b21\u88ab\u8bbf\u95ee\u3002\u7a7a\u95f4\u5c40\u90e8\u6027\u662f\u6307\u4e00\u65e6\u7a0b\u5e8f\u8bbf\u95ee\u4e86\u67d0\u4e2a\u5b58\u50a8\u5355\u5143\uff0c\u5219\u4e0d\u4e45\u4e4b\u540e\uff0c\u5176\u9644\u8fd1\u7684\u5b58\u50a8\u5355\u5143\u4e5f\u5c06\u88ab\u8bbf\u95ee\u3002</p> <p>\u4ece\u7a0b\u5e8f\u5c40\u90e8\u6027\u539f\u7406\u7684\u63cf\u8ff0\u4e2d\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u8fd9\u6837\u4e00\u4e2a\u7ed3\u8bba\uff1a\u8fdb\u7a0b\u5728\u8fd0\u884c\u4e4b\u540e\uff0c\u5bf9\u4e8e\u5185\u5b58\u7684\u8bbf\u95ee\u4e0d\u4f1a\u4e00\u4e0b\u5b50\u5c31\u8981\u8bbf\u95ee\u5168\u90e8\u7684\u5185\u5b58\uff0c\u76f8\u53cd\u8fdb\u7a0b\u5bf9\u4e8e\u5185\u5b58\u7684\u8bbf\u95ee\u4f1a\u8868\u73b0\u51fa\u660e\u663e\u7684\u503e\u5411\u6027\uff0c\u66f4\u52a0\u503e\u5411\u4e8e\u8bbf\u95ee\u6700\u8fd1\u8bbf\u95ee\u8fc7\u7684\u6570\u636e\u4ee5\u53ca\u70ed\u70b9\u6570\u636e\u9644\u8fd1\u7684\u6570\u636e\u3002</p> <p>\u6839\u636e\u8fd9\u4e2a\u7ed3\u8bba\u6211\u4eec\u5c31\u6e05\u695a\u4e86\uff0c\u65e0\u8bba\u4e00\u4e2a\u8fdb\u7a0b\u5b9e\u9645\u53ef\u4ee5\u5360\u7528\u7684\u5185\u5b58\u8d44\u6e90\u6709\u591a\u5927\uff0c\u6839\u636e\u7a0b\u5e8f\u5c40\u90e8\u6027\u539f\u7406\uff0c\u5728\u67d0\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u8fdb\u7a0b\u771f\u6b63\u9700\u8981\u7684\u7269\u7406\u5185\u5b58\u5176\u5b9e\u662f\u5f88\u5c11\u7684\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5206\u914d\u5f88\u5c11\u7684\u7269\u7406\u5185\u5b58\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u8fdb\u7a0b\u7684\u6b63\u5e38\u6267\u884c\u8fd0\u8f6c\u3002</p> <p>\u800c\u865a\u62df\u5185\u5b58\u7684\u5f15\u5165\u6b63\u662f\u8981\u89e3\u51b3\u4e0a\u8ff0\u7684\u95ee\u9898\uff0c\u865a\u62df\u5185\u5b58\u5f15\u5165\u4e4b\u540e\uff0c\u8fdb\u7a0b\u7684\u89c6\u89d2\u5c31\u4f1a\u53d8\u5f97\u975e\u5e38\u5f00\u9614\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u62e5\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u8fdb\u7a0b\u4e0e\u8fdb\u7a0b\u4e4b\u95f4\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u662f\u76f8\u4e92\u9694\u79bb\uff0c\u4e92\u4e0d\u5e72\u6270\u7684\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u8ba4\u4e3a\u81ea\u5df1\u72ec\u5360\u6240\u6709\u5185\u5b58\u7a7a\u95f4\uff0c\u81ea\u5df1\u60f3\u5e72\u4ec0\u4e48\u5c31\u5e72\u4ec0\u4e48\u3002</p> <p>\u7cfb\u7edf\u4e0a\u8fd8\u8fd0\u884c\u4e86\u54ea\u4e9b\u8fdb\u7a0b\u548c\u6211\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\u8fd9\u6837\u4e00\u6765\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u591a\u8fdb\u7a0b\u4e4b\u95f4\u534f\u540c\u7684\u76f8\u5173\u590d\u6742\u7ec6\u8282\u7edf\u7edf\u4ea4\u7ed9\u5185\u6838\u4e2d\u7684\u5185\u5b58\u7ba1\u7406\u6a21\u5757\u6765\u5904\u7406\uff0c\u6781\u5927\u5730\u89e3\u653e\u4e86\u7a0b\u5e8f\u5458\u7684\u5fc3\u667a\u8d1f\u62c5\u3002\u8fd9\u4e00\u5207\u90fd\u662f\u56e0\u4e3a\u865a\u62df\u5185\u5b58\u80fd\u591f\u63d0\u4f9b\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u7684\u9694\u79bb\uff0c\u6781\u5927\u5730\u6269\u5c55\u4e86\u53ef\u7528\u7a7a\u95f4\u3002</p> <p></p> <p>\u8fd9\u6837\u8fdb\u7a0b\u5c31\u4ee5\u4e3a\u81ea\u5df1\u72ec\u5360\u4e86\u6574\u4e2a\u5185\u5b58\u7a7a\u95f4\u8d44\u6e90\uff0c\u7ed9\u8fdb\u7a0b\u4ea7\u751f\u4e86\u6240\u6709\u5185\u5b58\u8d44\u6e90\u90fd\u5c5e\u4e8e\u5b83\u81ea\u5df1\u7684\u5e7b\u89c9\uff0c\u8fd9\u5176\u5b9e\u662f CPU \u548c\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u7684\u4e00\u4e2a\u969c\u773c\u6cd5\u7f62\u4e86\uff0c\u4efb\u4f55\u4e00\u4e2a\u865a\u62df\u5185\u5b58\u91cc\u6240\u5b58\u50a8\u7684\u6570\u636e\uff0c\u672c\u8d28\u4e0a\u8fd8\u662f\u4fdd\u5b58\u5728\u771f\u5b9e\u7684\u7269\u7406\u5185\u5b58\u91cc\u7684\u3002\u53ea\u4e0d\u8fc7\u5185\u6838\u5e2e\u6211\u4eec\u505a\u4e86\u865a\u62df\u5185\u5b58\u5230\u7269\u7406\u5185\u5b58\u7684\u8fd9\u4e00\u5c42\u6620\u5c04\uff0c\u5c06\u4e0d\u540c\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u548c\u4e0d\u540c\u5185\u5b58\u7684\u7269\u7406\u5730\u5740\u6620\u5c04\u8d77\u6765\u3002</p> <p>\u5f53 CPU \u8bbf\u95ee\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u65f6\uff0c\u7ecf\u8fc7\u5730\u5740\u7ffb\u8bd1\u786c\u4ef6\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u6210\u4e0d\u540c\u7684\u7269\u7406\u5730\u5740\uff0c\u8fd9\u6837\u4e0d\u540c\u7684\u8fdb\u7a0b\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u867d\u7136\u64cd\u4f5c\u7684\u662f\u540c\u4e00\u865a\u62df\u5730\u5740\uff0c\u4f46\u5176\u5b9e\u80cc\u540e\u5199\u5165\u7684\u662f\u4e0d\u540c\u7684\u7269\u7406\u5730\u5740\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u51b2\u7a81\u4e86\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#3","title":"#3. \u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4","text":"<p>\u4e0a\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e3a\u4e86\u9632\u6b62\u591a\u8fdb\u7a0b\u8fd0\u884c\u65f6\u9020\u6210\u7684\u5185\u5b58\u5730\u5740\u51b2\u7a81\uff0c\u5185\u6838\u5f15\u5165\u4e86\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u4f7f\u5f97\u8fdb\u7a0b\u4ee5\u4e3a\u81ea\u5df1\u72ec\u5360\u5168\u90e8\u5185\u5b58\u8d44\u6e90\u3002</p> <p>\u90a3\u4e48\u8fd9\u4e2a\u8fdb\u7a0b\u72ec\u5360\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5230\u5e95\u662f\u4ec0\u4e48\u6837\u5b50\u5462\uff1f\u5728\u672c\u5c0f\u8282\u4e2d\uff0c\u6211\u5c31\u4e3a\u5927\u5bb6\u63ed\u5f00\u8fd9\u5c42\u795e\u79d8\u7684\u9762\u7eb1<sub>~</sub></p> <p>\u5728\u672c\u5c0f\u8282\u5185\u5bb9\u5f00\u59cb\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u60f3\u8c61\u4e00\u4e0b\uff0c\u5982\u679c\u6211\u4eec\u662f\u5185\u6838\u7684\u8bbe\u8ba1\u4eba\u5458\uff0c\u6211\u4eec\u8be5\u4ece\u54ea\u4e9b\u65b9\u9762\u6765\u89c4\u5212\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5462\uff1f</p> <p>\u672c\u5c0f\u8282\u6211\u4eec\u53ea\u8ba8\u8bba\u8fdb\u7a0b\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\uff0c\u6211\u4eec\u5148\u628a\u5185\u6838\u6001\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5f53\u505a\u4e00\u4e2a\u9ed1\u76d2\u6765\u770b\u5f85\uff0c\u5728\u540e\u9762\u7684\u5c0f\u8282\u4e2d\u6211\u518d\u6765\u8be6\u7ec6\u4ecb\u7ecd\u5185\u6838\u6001\u76f8\u5173\u5185\u5bb9\u3002</p> <p>\u9996\u5148\u6211\u4eec\u4f1a\u60f3\u5230\u7684\u662f\u4e00\u4e2a\u8fdb\u7a0b\u8fd0\u884c\u8d77\u6765\u662f\u4e3a\u4e86\u6267\u884c\u6211\u4eec\u4ea4\u4ee3\u7ed9\u8fdb\u7a0b\u7684\u5de5\u4f5c\uff0c\u6267\u884c\u8fd9\u4e9b\u5de5\u4f5c\u7684\u6b65\u9aa4\u6211\u4eec\u901a\u8fc7\u7a0b\u5e8f\u4ee3\u7801\u4e8b\u5148\u7f16\u5199\u597d\uff0c\u7136\u540e\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u5b58\u653e\u5728\u78c1\u76d8\u4e2d\uff0cCPU \u4f1a\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u7684\u673a\u5668\u7801\u6765\u9a71\u52a8\u8fdb\u7a0b\u7684\u8fd0\u884c\u3002\u6240\u4ee5\u5728\u8fdb\u7a0b\u8fd0\u884c\u4e4b\u524d\uff0c\u8fd9\u4e9b\u5b58\u653e\u5728\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u7684\u673a\u5668\u7801\u9700\u8981\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\u4e2d\uff0c\u800c\u7528\u4e8e\u5b58\u653e\u8fd9\u4e9b\u673a\u5668\u7801\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u53eb\u505a\u4ee3\u7801\u6bb5\u3002</p> <p></p> <p>\u5728\u7a0b\u5e8f\u8fd0\u884c\u8d77\u6765\u4e4b\u540e\uff0c\u603b\u8981\u64cd\u4f5c\u53d8\u91cf\u5427\uff0c\u5728\u7a0b\u5e8f\u4ee3\u7801\u4e2d\u6211\u4eec\u901a\u5e38\u4f1a\u5b9a\u4e49\u5927\u91cf\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\uff0c\u8fd9\u4e9b\u5168\u5c40\u53d8\u91cf\u5728\u7a0b\u5e8f\u7f16\u8bd1\u4e4b\u540e\u4e5f\u4f1a\u5b58\u50a8\u5728\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u4e4b\u524d\uff0c\u8fd9\u4e9b\u5168\u5c40\u53d8\u91cf\u4e5f\u9700\u8981\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\u4e2d\u4f9b\u7a0b\u5e8f\u8bbf\u95ee\u3002\u6240\u4ee5\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u4e5f\u9700\u8981\u4e00\u6bb5\u533a\u57df\u6765\u5b58\u50a8\u8fd9\u4e9b\u5168\u5c40\u53d8\u91cf\u3002</p> <ul> <li> <p>\u90a3\u4e9b\u5728\u4ee3\u7801\u4e2d\u88ab\u6211\u4eec\u6307\u5b9a\u4e86\u521d\u59cb\u503c\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5b58\u50a8\u533a\u57df\u6211\u4eec\u53eb\u505a\u6570\u636e\u6bb5\u3002</p> </li> <li> <p>\u90a3\u4e9b\u6ca1\u6709\u6307\u5b9a\u521d\u59cb\u503c\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5b58\u50a8\u533a\u57df\u6211\u4eec\u53eb\u505a BSS \u6bb5\u3002\u8fd9\u4e9b\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\u4e4b\u540e\u4f1a\u88ab\u521d\u59cb\u5316\u4e3a 0 \u503c\u3002</p> </li> </ul> <p></p> <p>\u4e0a\u9762\u4ecb\u7ecd\u7684\u8fd9\u4e9b\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u90fd\u662f\u5728\u7f16\u8bd1\u671f\u95f4\u5c31\u786e\u5b9a\u7684\uff0c\u4f46\u662f\u6211\u4eec\u7a0b\u5e8f\u5728\u8fd0\u884c\u671f\u95f4\u5f80\u5f80\u9700\u8981\u52a8\u6001\u7684\u7533\u8bf7\u5185\u5b58\uff0c\u6240\u4ee5\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u4e5f\u9700\u8981\u4e00\u5757\u533a\u57df\u6765\u5b58\u653e\u8fd9\u4e9b\u52a8\u6001\u7533\u8bf7\u7684\u5185\u5b58\uff0c\u8fd9\u5757\u533a\u57df\u5c31\u53eb\u505a\u5806\u3002\u6ce8\u610f\u8fd9\u91cc\u7684\u5806\u6307\u7684\u662f OS \u5806\u5e76\u4e0d\u662f JVM \u4e2d\u7684\u5806\u3002</p> <p></p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u7684\u7a0b\u5e8f\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8fd8\u9700\u8981\u4f9d\u8d56\u52a8\u6001\u94fe\u63a5\u5e93\uff0c\u8fd9\u4e9b\u52a8\u6001\u94fe\u63a5\u5e93\u4ee5 .so \u6587\u4ef6\u7684\u5f62\u5f0f\u5b58\u653e\u5728\u78c1\u76d8\u4e2d\uff0c\u6bd4\u5982 C \u7a0b\u5e8f\u4e2d\u7684 glibc\uff0c\u91cc\u8fb9\u5bf9\u7cfb\u7edf\u8c03\u7528\u8fdb\u884c\u4e86\u5c01\u88c5\u3002glibc \u5e93\u91cc\u63d0\u4f9b\u7684\u7528\u4e8e\u52a8\u6001\u7533\u8bf7\u5806\u5185\u5b58\u7684 malloc \u51fd\u6570\u5c31\u662f\u5bf9\u7cfb\u7edf\u8c03\u7528 sbrk \u548c mmap \u7684\u5c01\u88c5\u3002\u8fd9\u4e9b\u52a8\u6001\u94fe\u63a5\u5e93\u4e5f\u6709\u81ea\u5df1\u7684\u5bf9\u5e94\u7684\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0cBSS \u6bb5\uff0c\u4e5f\u9700\u8981\u4e00\u8d77\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\u4e2d\u3002</p> <p>\u8fd8\u6709\u7528\u4e8e\u5185\u5b58\u6587\u4ef6\u6620\u5c04\u7684\u7cfb\u7edf\u8c03\u7528 mmap\uff0c\u4f1a\u5c06\u6587\u4ef6\u4e0e\u5185\u5b58\u8fdb\u884c\u6620\u5c04\uff0c\u90a3\u4e48\u6620\u5c04\u7684\u8fd9\u5757\u5185\u5b58\uff08\u865a\u62df\u5185\u5b58\uff09\u4e5f\u9700\u8981\u5728\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e2d\u6709\u4e00\u5757\u533a\u57df\u5b58\u50a8\u3002</p> <p>\u8fd9\u4e9b\u52a8\u6001\u94fe\u63a5\u5e93\u4e2d\u7684\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0cBSS \u6bb5\uff0c\u4ee5\u53ca\u901a\u8fc7 mmap \u7cfb\u7edf\u8c03\u7528\u6620\u5c04\u7684\u5171\u4eab\u5185\u5b58\u533a\uff0c\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5b58\u50a8\u533a\u57df\u53eb\u505a\u6587\u4ef6\u6620\u5c04\u4e0e\u533f\u540d\u6620\u5c04\u533a\u3002</p> <p></p> <p>\u6700\u540e\u6211\u4eec\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\u603b\u8be5\u8981\u8c03\u7528\u5404\u79cd\u51fd\u6570\u5427\uff0c\u90a3\u4e48\u8c03\u7528\u51fd\u6570\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u5230\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u53c2\u6570\u4e5f\u9700\u8981\u4e00\u5757\u5185\u5b58\u533a\u57df\u6765\u4fdd\u5b58\u3002\u8fd9\u4e00\u5757\u533a\u57df\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u53eb\u505a\u6808\u3002</p> <p></p> <p>\u73b0\u5728\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u6240\u5305\u542b\u7684\u4e3b\u8981\u533a\u57df\uff0c\u6211\u5c31\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u5b8c\u4e86\uff0c\u6211\u4eec\u770b\u5230\u5185\u6838\u6839\u636e\u8fdb\u7a0b\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\u6240\u9700\u8981\u4e0d\u540c\u79cd\u7c7b\u7684\u6570\u636e\u800c\u4e3a\u5176\u5f00\u8f9f\u4e86\u5bf9\u5e94\u7684\u5730\u5740\u7a7a\u95f4\u3002\u5206\u522b\u4e3a\uff1a</p> <ul> <li> <p>\u7528\u4e8e\u5b58\u653e\u8fdb\u7a0b\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u7684\u673a\u5668\u6307\u4ee4\u7684\u4ee3\u7801\u6bb5</p> </li> <li> <p>\u7528\u4e8e\u5b58\u653e\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u7684\u6570\u636e\u6bb5\u548c BSS \u6bb5\u3002</p> </li> <li> <p>\u7528\u4e8e\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u52a8\u6001\u7533\u8bf7\u5185\u5b58\u7684\u5806\u3002</p> </li> <li> <p>\u7528\u4e8e\u5b58\u653e\u52a8\u6001\u94fe\u63a5\u5e93\u4ee5\u53ca\u5185\u5b58\u6620\u5c04\u533a\u57df\u7684\u6587\u4ef6\u6620\u5c04\u4e0e\u533f\u540d\u6620\u5c04\u533a\u3002</p> </li> <li> <p>\u7528\u4e8e\u5b58\u653e\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u53c2\u6570\u7684\u6808\u3002</p> </li> </ul> <p>\u4ee5\u4e0a\u5c31\u662f\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u7a0b\u5e8f\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6240\u9700\u8981\u7684\u6570\u636e\u6240\u89c4\u5212\u51fa\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5206\u5e03\uff0c\u8fd9\u4e9b\u53ea\u662f\u4e00\u4e2a\u5927\u6982\u7684\u89c4\u5212\uff0c\u90a3\u4e48\u5728\u771f\u5b9e\u7684 Linux \u7cfb\u7edf\u4e2d\uff0c\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5177\u4f53\u89c4\u5212\u53c8\u662f\u5982\u4f55\u7684\u5462\uff1f\u6211\u4eec\u63a5\u7740\u5f80\u4e0b\u770b~~</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#4-linux","title":"#4. Linux \u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4","text":"<p>\u5728\u4e0a\u5c0f\u8282\u4e2d\u6211\u4eec\u4ecb\u7ecd\u4e86\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u5404\u4e2a\u5185\u5b58\u533a\u57df\u7684\u4e00\u4e2a\u5927\u6982\u5206\u5e03\uff0c\u5728\u6b64\u57fa\u7840\u4e4b\u4e0a\uff0c\u672c\u5c0f\u8282\u6211\u5c31\u5e26\u5927\u5bb6\u5206\u522b\u4ece 32 \u4f4d \u548c 64 \u4f4d\u673a\u5668\u4e0a\u770b\u4e0b\u5728 Linux \u7cfb\u7edf\u4e2d\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u771f\u5b9e\u5206\u5e03\u60c5\u51b5\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#41-32","title":"#4.1 32 \u4f4d\u673a\u5668\u4e0a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u5e03","text":"<p>\u5728 32 \u4f4d\u673a\u5668\u4e0a\uff0c\u6307\u9488\u7684\u5bfb\u5740\u8303\u56f4\u4e3a 2^32\uff0c\u6240\u80fd\u8868\u8fbe\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 4 GB\u3002\u6240\u4ee5\u5728 32 \u4f4d\u673a\u5668\u4e0a\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 - 0xFFFF FFFF\u3002</p> <p>\u5176\u4e2d\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 3 GB\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 - 0xC000 000 \u3002</p> <p>\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 1 GB\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0xC000 000 - 0xFFFF FFFF\u3002</p> <p></p> <p>\u4f46\u662f\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u4ee3\u7801\u6bb5\u5e76\u4e0d\u662f\u4ece 0x0000 0000 \u5730\u5740\u5f00\u59cb\u7684\uff0c\u800c\u662f\u4ece 0x0804 8000 \u5730\u5740\u5f00\u59cb\u3002</p> <p>0x0000 0000 \u5230 0x0804 8000 \u8fd9\u6bb5\u865a\u62df\u5185\u5b58\u5730\u5740\u662f\u4e00\u6bb5\u4e0d\u53ef\u8bbf\u95ee\u7684\u4fdd\u7559\u533a\uff0c\u56e0\u4e3a\u5728\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u6570\u503c\u6bd4\u8f83\u5c0f\u7684\u5730\u5740\u901a\u5e38\u88ab\u8ba4\u4e3a\u4e0d\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u5730\u5740\uff0c\u8fd9\u5757\u5c0f\u5730\u5740\u662f\u4e0d\u5141\u8bb8\u8bbf\u95ee\u7684\u3002\u6bd4\u5982\u5728 C \u8bed\u8a00\u4e2d\u6211\u4eec\u901a\u5e38\u4f1a\u5c06\u4e00\u4e9b\u65e0\u6548\u7684\u6307\u9488\u8bbe\u7f6e\u4e3a NULL\uff0c\u6307\u5411\u8fd9\u5757\u4e0d\u5141\u8bb8\u8bbf\u95ee\u7684\u5730\u5740\u3002</p> <p>\u4fdd\u7559\u533a\u7684\u4e0a\u8fb9\u5c31\u662f\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\uff0c\u5b83\u4eec\u662f\u4ece\u7a0b\u5e8f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u76f4\u63a5\u52a0\u8f7d\u8fdb\u5185\u5b58\u4e2d\u7684\uff0cBSS \u6bb5\u4e2d\u7684\u6570\u636e\u4e5f\u5b58\u5728\u4e8e\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\uff0c\u56e0\u4e3a\u5185\u6838\u77e5\u9053\u8fd9\u4e9b\u6570\u636e\u662f\u6ca1\u6709\u521d\u503c\u7684\uff0c\u6240\u4ee5\u5728\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u53ea\u4f1a\u8bb0\u5f55 BSS \u6bb5\u7684\u5927\u5c0f\uff0c\u5728\u52a0\u8f7d\u8fdb\u5185\u5b58\u65f6\u4f1a\u751f\u6210\u4e00\u6bb5 0 \u586b\u5145\u7684\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u7d27\u6328\u7740 BSS \u6bb5\u7684\u4e0a\u8fb9\u5c31\u662f\u6211\u4eec\u7ecf\u5e38\u4f7f\u7528\u5230\u7684\u5806\u7a7a\u95f4\uff0c\u4ece\u56fe\u4e2d\u7684\u7ea2\u8272\u7bad\u5934\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u5728\u5806\u7a7a\u95f4\u4e2d\u5730\u5740\u7684\u589e\u957f\u65b9\u5411\u662f\u4ece\u4f4e\u5730\u5740\u5230\u9ad8\u5730\u5740\u589e\u957f\u3002</p> <p>\u5185\u6838\u4e2d\u4f7f\u7528 start_brk \u6807\u8bc6\u5806\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0cbrk \u6807\u8bc6\u5806\u5f53\u524d\u7684\u7ed3\u675f\u4f4d\u7f6e\u3002\u5f53\u5806\u7533\u8bf7\u65b0\u7684\u5185\u5b58\u7a7a\u95f4\u65f6\uff0c\u53ea\u9700\u8981\u5c06 brk \u6307\u9488\u589e\u52a0\u5bf9\u5e94\u7684\u5927\u5c0f\uff0c\u56de\u6536\u5730\u5740\u65f6\u51cf\u5c11\u5bf9\u5e94\u7684\u5927\u5c0f\u5373\u53ef\u3002\u6bd4\u5982\u5f53\u6211\u4eec\u901a\u8fc7 malloc \u5411\u5185\u6838\u7533\u8bf7\u5f88\u5c0f\u7684\u4e00\u5757\u5185\u5b58\u65f6\uff08128K \u4e4b\u5185\uff09\uff0c\u5c31\u662f\u901a\u8fc7\u6539\u53d8 brk \u4f4d\u7f6e\u5b9e\u73b0\u7684\u3002</p> <p>\u5806\u7a7a\u95f4\u7684\u4e0a\u8fb9\u662f\u4e00\u6bb5\u5f85\u5206\u914d\u533a\u57df\uff0c\u7528\u4e8e\u6269\u5c55\u5806\u7a7a\u95f4\u7684\u4f7f\u7528\u3002\u63a5\u4e0b\u6765\u5c31\u6765\u5230\u4e86\u6587\u4ef6\u6620\u5c04\u4e0e\u533f\u540d\u6620\u5c04\u533a\u57df\u3002\u8fdb\u7a0b\u8fd0\u884c\u65f6\u6240\u4f9d\u8d56\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u4e2d\u7684\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0cBSS \u6bb5\u5c31\u52a0\u8f7d\u5728\u8fd9\u91cc\u3002\u8fd8\u6709\u6211\u4eec\u8c03\u7528 mmap \u6620\u5c04\u51fa\u6765\u7684\u4e00\u6bb5\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e5f\u4fdd\u5b58\u5728\u8fd9\u4e2a\u533a\u57df\u3002\u6ce8\u610f\uff1a\u5728\u6587\u4ef6\u6620\u5c04\u4e0e\u533f\u540d\u6620\u5c04\u533a\u7684\u5730\u5740\u589e\u957f\u65b9\u5411\u662f\u4ece\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u589e\u957f\u3002</p> <p>\u63a5\u4e0b\u6765\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u6700\u540e\u4e00\u5757\u533a\u57df\u5c31\u662f\u6808\u7a7a\u95f4\u4e86\uff0c\u5728\u8fd9\u91cc\u4f1a\u4fdd\u5b58\u51fd\u6570\u8fd0\u884c\u8fc7\u7a0b\u6240\u9700\u8981\u7684\u5c40\u90e8\u53d8\u91cf\u4ee5\u53ca\u51fd\u6570\u53c2\u6570\u7b49\u51fd\u6570\u8c03\u7528\u4fe1\u606f\u3002\u6808\u7a7a\u95f4\u4e2d\u7684\u5730\u5740\u589e\u957f\u65b9\u5411\u662f\u4ece\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u589e\u957f\u3002\u6bcf\u6b21\u8fdb\u7a0b\u7533\u8bf7\u65b0\u7684\u6808\u5730\u5740\u65f6\uff0c\u5176\u5730\u5740\u503c\u662f\u5728\u51cf\u5c11\u7684\u3002</p> <p>\u5728\u5185\u6838\u4e2d\u4f7f\u7528 start_stack \u6807\u8bc6\u6808\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0cRSP \u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u6808\u9876\u6307\u9488 stack pointer\uff0cRBP \u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u7684\u662f\u6808\u57fa\u5730\u5740\u3002</p> <p>\u5728\u6808\u7a7a\u95f4\u7684\u4e0b\u8fb9\u4e5f\u6709\u4e00\u6bb5\u5f85\u5206\u914d\u533a\u57df\u7528\u4e8e\u6269\u5c55\u6808\u7a7a\u95f4\uff0c\u5728\u6808\u7a7a\u95f4\u7684\u4e0a\u8fb9\u5c31\u662f\u5185\u6838\u7a7a\u95f4\u4e86\uff0c\u8fdb\u7a0b\u867d\u7136\u53ef\u4ee5\u770b\u5230\u8fd9\u6bb5\u5185\u6838\u7a7a\u95f4\u5730\u5740\uff0c\u4f46\u662f\u5c31\u662f\u4e0d\u80fd\u8bbf\u95ee\u3002\u8fd9\u5c31\u597d\u6bd4\u6211\u4eec\u5728\u996d\u5e97\u91cc\u867d\u7136\u53ef\u4ee5\u770b\u5230\u53a8\u623f\u5728\u54ea\u91cc\uff0c\u4f46\u662f\u53a8\u623f\u95e8\u4e0a\u5199\u7740 \u201c\u53a8\u623f\u91cd\u5730\uff0c\u95f2\u4eba\u514d\u8fdb\u201d \uff0c\u6211\u4eec\u5c31\u662f\u8fdb\u4e0d\u53bb\u3002</p> <p></p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#42-64","title":"#4.2 64 \u4f4d\u673a\u5668\u4e0a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u5e03","text":"<p>\u4e0a\u5c0f\u8282\u4e2d\u4ecb\u7ecd\u7684 32 \u4f4d\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5e03\u5c40\u548c\u672c\u5c0f\u8282\u5373\u5c06\u8981\u4ecb\u7ecd\u7684 64 \u4f4d\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5e03\u5c40\u90fd\u53ef\u4ee5\u901a\u8fc7\u00a0<code>cat /proc/pid/maps</code>\u00a0\u6216\u8005\u00a0<code>pmap pid</code>\u00a0\u6765\u67e5\u770b\u67d0\u4e2a\u8fdb\u7a0b\u7684\u5b9e\u9645\u865a\u62df\u5185\u5b58\u5e03\u5c40\u3002</p> <p>\u6211\u4eec\u77e5\u9053\u5728 32 \u4f4d\u673a\u5668\u4e0a\uff0c\u6307\u9488\u7684\u5bfb\u5740\u8303\u56f4\u4e3a 2^32\uff0c\u6240\u80fd\u8868\u8fbe\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 4 GB\u3002</p> <p>\u90a3\u4e48\u6211\u4eec\u7406\u6240\u5e94\u5f53\u7684\u4f1a\u8ba4\u4e3a\u5728 64 \u4f4d\u673a\u5668\u4e0a\uff0c\u6307\u9488\u7684\u5bfb\u5740\u8303\u56f4\u4e3a 2^64\uff0c\u6240\u80fd\u8868\u8fbe\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 16 EB \u3002\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 0000 0000 0000 - 0xFFFF FFFF FFFF FFFF \u3002</p> <p>\u597d\u5bb6\u4f19 !!! 16 EB \u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u6211\u90fd\u6ca1\u89c1\u8fc7\u8fd9\u4e48\u5927\u7684\u78c1\u76d8\uff0c\u5728\u73b0\u5b9e\u60c5\u51b5\u4e2d\u6839\u672c\u4e0d\u4f1a\u7528\u5230\u8fd9\u4e48\u5927\u8303\u56f4\u7684\u5185\u5b58\u7a7a\u95f4\uff0c</p> <p>\u4e8b\u5b9e\u4e0a\u5728\u76ee\u524d\u7684 64 \u4f4d\u7cfb\u7edf\u4e0b\u53ea\u4f7f\u7528\u4e86 48 \u4f4d\u6765\u63cf\u8ff0\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u5bfb\u5740\u8303\u56f4\u4e3a 2^48 \uff0c\u6240\u80fd\u8868\u8fbe\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 256TB\u3002</p> <p>\u5176\u4e2d\u4f4e 128 T \u8868\u793a\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 0000 0000 - 0x0000 7FFF FFFF F000 \u3002</p> <p>\u9ad8 128 T \u8868\u793a\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0xFFFF 8000 0000 0000 - 0xFFFF FFFF FFFF FFFF \u3002</p> <p>\u8fd9\u6837\u4e00\u6765\u5c31\u5728\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e0e\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e4b\u95f4\u5f62\u6210\u4e86\u4e00\u6bb5 0x0000 7FFF FFFF F000 - 0xFFFF 8000 0000 0000 \u7684\u5730\u5740\u7a7a\u6d1e\uff0c\u6211\u4eec\u628a\u8fd9\u4e2a\u7a7a\u6d1e\u53eb\u505a canonical address \u7a7a\u6d1e\u3002</p> <p></p> <p>\u90a3\u4e48\u8fd9\u4e2a canonical address \u7a7a\u6d1e\u662f\u5982\u4f55\u5f62\u6210\u7684\u5462\uff1f</p> <p>\u6211\u4eec\u90fd\u77e5\u9053\u5728 64 \u4f4d\u673a\u5668\u4e0a\u7684\u6307\u9488\u5bfb\u5740\u8303\u56f4\u4e3a 2^64\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\u6211\u4eec\u53ea\u4f7f\u7528\u4e86\u5176\u4e2d\u7684\u4f4e 48 \u4f4d\u6765\u8868\u793a\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u90a3\u4e48\u8fd9\u591a\u51fa\u7684\u9ad8 16 \u4f4d\u5c31\u5f62\u6210\u4e86\u8fd9\u4e2a\u5730\u5740\u7a7a\u6d1e\u3002</p> <p>\u5927\u5bb6\u6ce8\u610f\u5230\u5728\u4f4e 128T \u7684\u7528\u6237\u6001\u5730\u5740\u7a7a\u95f4\uff1a0x0000 0000 0000 0000 - 0x0000 7FFF FFFF F000 \u8303\u56f4\u4e2d\uff0c\u6240\u4ee5\u865a\u62df\u5185\u5b58\u5730\u5740\u7684\u9ad8 16 \u4f4d\u5168\u90e8\u4e3a 0 \u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u865a\u62df\u5185\u5b58\u5730\u5740\u7684\u9ad8 16 \u4f4d\u5168\u90e8\u4e3a 0 \uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u5224\u65ad\u51fa\u8fd9\u662f\u4e00\u4e2a\u7528\u6237\u7a7a\u95f4\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u3002</p> <p>\u540c\u6837\u7684\u9053\u7406\uff0c\u5728\u9ad8 128T \u7684\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff1a0xFFFF 8000 0000 0000 - 0xFFFF FFFF FFFF FFFF \u8303\u56f4\u4e2d\uff0c\u6240\u4ee5\u865a\u62df\u5185\u5b58\u5730\u5740\u7684\u9ad8 16 \u4f4d\u5168\u90e8\u4e3a 1 \u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\u5185\u6838\u6001\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7684\u9ad8 16 \u4f4d\u5168\u90e8\u4e3a 1 \uff0c\u5982\u679c\u4e00\u4e2a\u8bd5\u56fe\u8bbf\u95ee\u5185\u6838\u7684\u865a\u62df\u5730\u5740\u7684\u9ad8 16 \u4f4d\u4e0d\u5168\u4e3a 1 \uff0c\u5219\u53ef\u4ee5\u5feb\u901f\u5224\u65ad\u8fd9\u4e2a\u8bbf\u95ee\u662f\u975e\u6cd5\u7684\u3002</p> <p>\u8fd9\u4e2a\u9ad8 16 \u4f4d\u7684\u7a7a\u95f2\u5730\u5740\u88ab\u79f0\u4e3a canonical \u3002\u5982\u679c\u865a\u62df\u5185\u5b58\u5730\u5740\u4e2d\u7684\u9ad8 16 \u4f4d\u5168\u90e8\u4e3a 0 \uff08\u8868\u793a\u7528\u6237\u7a7a\u95f4\u865a\u62df\u5185\u5b58\u5730\u5740\uff09\u6216\u8005\u5168\u90e8\u4e3a 1 \uff08\u8868\u793a\u5185\u6838\u7a7a\u95f4\u865a\u62df\u5185\u5b58\u5730\u5740\uff09\uff0c\u8fd9\u79cd\u5730\u5740\u7684\u5f62\u5f0f\u6211\u4eec\u53eb\u505a canonical form\uff0c\u5bf9\u5e94\u7684\u5730\u5740\u6211\u4eec\u79f0\u4f5c canonical address \u3002</p> <p>\u90a3\u4e48\u5904\u4e8e canonical address \u7a7a\u6d1e \uff1a0x0000 7FFF FFFF F000 - 0xFFFF 8000 0000 0000 \u8303\u56f4\u5185\u7684\u5730\u5740\u7684\u9ad8 16 \u4f4d \u4e0d\u5168\u4e3a 0 \u4e5f\u4e0d\u5168\u4e3a 1 \u3002\u5982\u679c\u67d0\u4e2a\u865a\u62df\u5730\u5740\u843d\u5728\u8fd9\u6bb5 canonical address \u7a7a\u6d1e\u533a\u57df\u4e2d\uff0c\u90a3\u5c31\u662f\u65e2\u4e0d\u5728\u7528\u6237\u7a7a\u95f4\uff0c\u4e5f\u4e0d\u5728\u5185\u6838\u7a7a\u95f4\uff0c\u80af\u5b9a\u662f\u975e\u6cd5\u8bbf\u95ee\u4e86\u3002</p> <p>\u672a\u6765\u6211\u4eec\u4e5f\u53ef\u4ee5\u5229\u7528\u8fd9\u5757 canonical address \u7a7a\u6d1e\uff0c\u6765\u6269\u5c55\u865a\u62df\u5185\u5b58\u5730\u5740\u7684\u8303\u56f4\uff0c\u6bd4\u5982\u6269\u5c55\u5230 56 \u4f4d\u3002</p> <p>\u5728\u6211\u4eec\u7406\u89e3\u4e86 canonical address \u8fd9\u4e2a\u6982\u5ff5\u4e4b\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u4e0b 64 \u4f4d Linux \u7cfb\u7edf\u4e0b\u7684\u771f\u5b9e\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5e03\u5c40\u60c5\u51b5\uff1a</p> <p></p> <p>\u4ece\u4e0a\u56fe\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u51fa 64 \u4f4d\u7cfb\u7edf\u4e2d\u7684\u865a\u62df\u5185\u5b58\u5e03\u5c40\u548c 32 \u4f4d\u7cfb\u7edf\u4e2d\u7684\u865a\u62df\u5185\u5b58\u5e03\u5c40\u5927\u4f53\u4e0a\u662f\u5dee\u4e0d\u591a\u7684\u3002\u4e3b\u8981\u4e0d\u540c\u7684\u5730\u65b9\u6709\u4e09\u70b9\uff1a</p> <ol> <li> <p>\u5c31\u662f\u524d\u8fb9\u63d0\u5230\u7684\u7531\u9ad8 16 \u4f4d\u7a7a\u95f2\u5730\u5740\u9020\u6210\u7684 canonical address \u7a7a\u6d1e\u3002\u5728\u8fd9\u6bb5\u8303\u56f4\u5185\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u56e0\u4e3a\u5b83\u7684\u9ad8 16 \u4f4d\u65e2\u4e0d\u5168\u4e3a 0 \u4e5f\u4e0d\u5168\u4e3a 1\uff0c\u4e0d\u662f\u4e00\u4e2a canonical address\uff0c\u6240\u4ee5\u79f0\u4e4b\u4e3a canonical address \u7a7a\u6d1e\u3002</p> </li> <li> <p>\u5728\u4ee3\u7801\u6bb5\u8ddf\u6570\u636e\u6bb5\u7684\u4e2d\u95f4\u8fd8\u6709\u4e00\u6bb5\u4e0d\u53ef\u4ee5\u8bfb\u5199\u7684\u4fdd\u62a4\u6bb5\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u9632\u6b62\u7a0b\u5e8f\u5728\u8bfb\u5199\u6570\u636e\u6bb5\u7684\u65f6\u5019\u8d8a\u754c\u8bbf\u95ee\u5230\u4ee3\u7801\u6bb5\uff0c\u8fd9\u4e2a\u4fdd\u62a4\u6bb5\u53ef\u4ee5\u8ba9\u8d8a\u754c\u8bbf\u95ee\u884c\u4e3a\u76f4\u63a5\u5d29\u6e83\uff0c\u9632\u6b62\u5b83\u7ee7\u7eed\u5f80\u4e0b\u8fd0\u884c\u3002</p> </li> <li> <p>\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e0e\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u522b\u5360\u7528 128T\uff0c\u5176\u4e2d\u4f4e128T \u5206\u914d\u7ed9\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u9ad8 128T \u5206\u914d\u7ed9\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u3002</p> </li> </ol>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#5","title":"#5. \u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u7ba1\u7406","text":"<p>\u5728\u4e0a\u4e00\u5c0f\u8282\u4e2d\uff0c\u6211\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u4e86 Linux \u64cd\u4f5c\u7cfb\u7edf\u5728 32 \u4f4d\u673a\u5668\u4e0a\u548c 64 \u4f4d\u673a\u5668\u4e0a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\u5206\u5e03\uff0c\u6211\u4eec\u53d1\u73b0\u65e0\u8bba\u662f\u5728 32 \u4f4d\u673a\u5668\u4e0a\u8fd8\u662f\u5728 64 \u4f4d\u673a\u5668\u4e0a\uff0c\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u6838\u5fc3\u533a\u57df\u5206\u5e03\u7684\u76f8\u5bf9\u4f4d\u7f6e\u662f\u4e0d\u53d8\u7684\uff0c\u5b83\u4eec\u90fd\u5305\u542b\u4e0b\u56fe\u6240\u793a\u7684\u8fd9\u51e0\u4e2a\u6838\u5fc3\u5185\u5b58\u533a\u57df\u3002</p> <p></p> <p>\u552f\u4e00\u4e0d\u540c\u7684\u662f\u8fd9\u4e9b\u6838\u5fc3\u5185\u5b58\u533a\u57df\u5728 32 \u4f4d\u673a\u5668\u548c 64 \u4f4d\u673a\u5668\u4e0a\u7684\u7edd\u5bf9\u4f4d\u7f6e\u5206\u5e03\u4f1a\u6709\u6240\u4e0d\u540c\u3002</p> <p>\u90a3\u4e48\u5728\u6b64\u57fa\u7840\u4e4b\u4e0a\uff0c\u5185\u6838\u5982\u4f55\u4e3a\u8fdb\u7a0b\u7ba1\u7406\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\u5462\uff1f\u8fd9\u5c06\u662f\u672c\u5c0f\u8282\u91cd\u70b9\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u7684\u5185\u5bb9~~</p> <p>\u65e2\u7136\u6211\u4eec\u8981\u4ecb\u7ecd\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7ba1\u7406\uff0c\u90a3\u5c31\u79bb\u4e0d\u5f00\u8fdb\u7a0b\u5728\u5185\u6838\u4e2d\u7684\u63cf\u8ff0\u7b26 task_struct \u7ed3\u6784\u3002</p> <pre><code>struct task_struct {\n        // \u8fdb\u7a0bid\n        pid_t               pid;\n        // \u7528\u4e8e\u6807\u8bc6\u7ebf\u7a0b\u6240\u5c5e\u7684\u8fdb\u7a0b pid\n        pid_t               tgid;\n        // \u8fdb\u7a0b\u6253\u5f00\u7684\u6587\u4ef6\u4fe1\u606f\n        struct files_struct     *files;\n        // \u5185\u5b58\u63cf\u8ff0\u7b26\u8868\u793a\u8fdb\u7a0b\u865a\u62df\u5730\u5740\u7a7a\u95f4\n        struct mm_struct        *mm;\n\n        .......... \u7701\u7565 .......\n}\n</code></pre> <p>\u5728\u8fdb\u7a0b\u63cf\u8ff0\u7b26 task_struct \u7ed3\u6784\u4e2d\uff0c\u6709\u4e00\u4e2a\u4e13\u95e8\u63cf\u8ff0\u8fdb\u7a0b\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u5185\u5b58\u63cf\u8ff0\u7b26 mm_struct \u7ed3\u6784\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u4e2d\u5305\u542b\u4e86\u524d\u8fb9\u51e0\u4e2a\u5c0f\u8282\u4e2d\u4ecb\u7ecd\u7684\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5168\u90e8\u4fe1\u606f\u3002</p> <p>\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u552f\u4e00\u7684 mm_struct \u7ed3\u6784\u4f53\uff0c\u4e5f\u5c31\u662f\u524d\u8fb9\u63d0\u5230\u7684\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u90fd\u662f\u72ec\u7acb\uff0c\u4e92\u4e0d\u5e72\u6270\u7684\u3002</p> <p>\u5f53\u6211\u4eec\u8c03\u7528 fork() \u51fd\u6570\u521b\u5efa\u8fdb\u7a0b\u7684\u65f6\u5019\uff0c\u8868\u793a\u8fdb\u7a0b\u5730\u5740\u7a7a\u95f4\u7684 mm_struct \u7ed3\u6784\u4f1a\u968f\u7740\u8fdb\u7a0b\u63cf\u8ff0\u7b26 task_struct \u7684\u521b\u5efa\u800c\u521b\u5efa\u3002</p> <pre><code>long _do_fork(unsigned long clone_flags,\n          unsigned long stack_start,\n          unsigned long stack_size,\n          int __user *parent_tidptr,\n          int __user *child_tidptr,\n          unsigned long tls)\n{\n        ......... \u7701\u7565 ..........\n    struct pid *pid;\n    struct task_struct *p;\n\n        ......... \u7701\u7565 ..........\n    // \u4e3a\u8fdb\u7a0b\u521b\u5efa task_struct \u7ed3\u6784\uff0c\u7528\u7236\u8fdb\u7a0b\u7684\u8d44\u6e90\u586b\u5145 task_struct \u4fe1\u606f\n    p = copy_process(clone_flags, stack_start, stack_size,\n             child_tidptr, NULL, trace, tls, NUMA_NO_NODE);\n\n         ......... \u7701\u7565 ..........\n}\n</code></pre> <p>\u968f\u540e\u4f1a\u5728 copy_process \u51fd\u6570\u4e2d\u521b\u5efa task_struct \u7ed3\u6784\uff0c\u5e76\u62f7\u8d1d\u7236\u8fdb\u7a0b\u7684\u76f8\u5173\u8d44\u6e90\u5230\u65b0\u8fdb\u7a0b\u7684 task_struct \u7ed3\u6784\u91cc\uff0c\u5176\u4e2d\u5c31\u5305\u62ec\u62f7\u8d1d\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4 mm_struct \u7ed3\u6784\u3002\u8fd9\u91cc\u53ef\u4ee5\u770b\u51fa\u5b50\u8fdb\u7a0b\u5728\u65b0\u521b\u5efa\u51fa\u6765\u4e4b\u540e\u5b83\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u662f\u548c\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e00\u6a21\u4e00\u6837\u7684\uff0c\u76f4\u63a5\u62f7\u8d1d\u8fc7\u6765\u3002</p> <pre><code>static __latent_entropy struct task_struct *copy_process(\n                    unsigned long clone_flags,\n                    unsigned long stack_start,\n                    unsigned long stack_size,\n                    int __user *child_tidptr,\n                    struct pid *pid,\n                    int trace,\n                    unsigned long tls,\n                    int node)\n{\n\n    struct task_struct *p;\n    // \u521b\u5efa task_struct \u7ed3\u6784\n    p = dup_task_struct(current, node);\n\n        ....... \u521d\u59cb\u5316\u5b50\u8fdb\u7a0b ...........\n\n        ....... \u5f00\u59cb\u7ee7\u627f\u62f7\u8d1d\u7236\u8fdb\u7a0b\u8d44\u6e90  .......      \n    // \u7ee7\u627f\u7236\u8fdb\u7a0b\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\n    retval = copy_files(clone_flags, p);\n    // \u7ee7\u627f\u7236\u8fdb\u7a0b\u6240\u5c5e\u7684\u6587\u4ef6\u7cfb\u7edf\n    retval = copy_fs(clone_flags, p);\n    // \u7ee7\u627f\u7236\u8fdb\u7a0b\u6ce8\u518c\u7684\u4fe1\u53f7\u4ee5\u53ca\u4fe1\u53f7\u5904\u7406\u51fd\u6570\n    retval = copy_sighand(clone_flags, p);\n    retval = copy_signal(clone_flags, p);\n    // \u7ee7\u627f\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\n    retval = copy_mm(clone_flags, p);\n    // \u7ee7\u627f\u7236\u8fdb\u7a0b\u7684 namespaces\n    retval = copy_namespaces(clone_flags, p);\n    // \u7ee7\u627f\u7236\u8fdb\u7a0b\u7684 IO \u4fe1\u606f\n    retval = copy_io(clone_flags, p);\n\n      ...........\u7701\u7565.........\n    // \u5206\u914d CPU\n    retval = sched_fork(clone_flags, p);\n    // \u5206\u914d pid\n    pid = alloc_pid(p-&gt;nsproxy-&gt;pid_ns_for_children);\n\n.     ..........\u7701\u7565.........\n}\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u91cd\u70b9\u5173\u6ce8 copy_mm \u51fd\u6570\uff0c\u6b63\u662f\u5728\u8fd9\u91cc\u5b8c\u6210\u4e86\u5b50\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4 mm_struct \u7ed3\u6784\u7684\u7684\u521b\u5efa\u4ee5\u53ca\u521d\u59cb\u5316\u3002</p> <pre><code>static int copy_mm(unsigned long clone_flags, struct task_struct *tsk)\n{\n    // \u5b50\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u7236\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\n    struct mm_struct *mm, *oldmm;\n    int retval;\n\n        ...... \u7701\u7565 ......\n\n    tsk-&gt;mm = NULL;\n    tsk-&gt;active_mm = NULL;\n    // \u83b7\u53d6\u7236\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\n    oldmm = current-&gt;mm;\n    if (!oldmm)\n        return 0;\n\n        ...... \u7701\u7565 ......\n    // \u901a\u8fc7 vfork \u6216\u8005 clone \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u51fa\u7684\u5b50\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\u548c\u7236\u8fdb\u7a0b\u5171\u4eab\u865a\u62df\u5185\u5b58\u7a7a\u95f4\n    if (clone_flags &amp; CLONE_VM) {\n        // \u589e\u52a0\u7236\u8fdb\u7a0b\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u5f15\u7528\u8ba1\u6570\n        mmget(oldmm);\n        // \u76f4\u63a5\u5c06\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u8d4b\u503c\u7ed9\u5b50\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\n        // \u7ebf\u7a0b\u5171\u4eab\u5176\u6240\u5c5e\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\n        mm = oldmm;\n        goto good_mm;\n    }\n\n    retval = -ENOMEM;\n    // \u5982\u679c\u662f fork \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u51fa\u7684\u5b50\u8fdb\u7a0b\uff0c\u5219\u5c06\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4ee5\u53ca\u76f8\u5173\u9875\u8868\u62f7\u8d1d\u5230\u5b50\u8fdb\u7a0b\u4e2d\u7684 mm_struct \u7ed3\u6784\u4e2d\u3002\n    mm = dup_mm(tsk);\n    if (!mm)\n        goto fail_nomem;\n\ngood_mm:\n    // \u5c06\u62f7\u8d1d\u51fa\u6765\u7684\u7236\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4 mm_struct \u8d4b\u503c\u7ed9\u5b50\u8fdb\u7a0b\n    tsk-&gt;mm = mm;\n    tsk-&gt;active_mm = mm;\n    return 0;\n\n        ...... \u7701\u7565 ......\n</code></pre> <p>\u7531\u4e8e\u672c\u5c0f\u8282\u4e2d\u6211\u4eec\u4e3e\u7684\u793a\u4f8b\u662f\u901a\u8fc7 fork() \u51fd\u6570\u521b\u5efa\u5b50\u8fdb\u7a0b\u7684\u60c5\u5f62\uff0c\u6240\u4ee5\u8fd9\u91cc\u5927\u5bb6\u5148\u5360\u65f6\u5ffd\u7565\u00a0<code>if (clone_flags &amp; CLONE_VM)</code>\u00a0\u8fd9\u4e2a\u6761\u4ef6\u5224\u65ad\u903b\u8f91\uff0c\u6211\u4eec\u5148\u8df3\u8fc7\u5f80\u540e\u770b~~</p> <p>copy_mm \u51fd\u6570\u9996\u5148\u4f1a\u5c06\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4 current-&gt;mm \u8d4b\u503c\u7ed9\u6307\u9488 oldmm\u3002\u7136\u540e\u901a\u8fc7 dup_mm \u51fd\u6570\u5c06\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4ee5\u53ca\u76f8\u5173\u9875\u8868\u62f7\u8d1d\u5230\u5b50\u8fdb\u7a0b\u7684 mm_struct \u7ed3\u6784\u4e2d\u3002\u6700\u540e\u5c06\u62f7\u8d1d\u51fa\u6765\u7684 mm_struct \u8d4b\u503c\u7ed9\u5b50\u8fdb\u7a0b\u7684 task_struct \u7ed3\u6784\u3002</p> <p>\u901a\u8fc7 fork() \u51fd\u6570\u521b\u5efa\u51fa\u7684\u5b50\u8fdb\u7a0b\uff0c\u5b83\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4ee5\u53ca\u76f8\u5173\u9875\u8868\u76f8\u5f53\u4e8e\u7236\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u4e00\u4efd\u62f7\u8d1d\uff0c\u76f4\u63a5\u4ece\u7236\u8fdb\u7a0b\u4e2d\u62f7\u8d1d\u5230\u5b50\u8fdb\u7a0b\u4e2d\u3002</p> <p>\u800c\u5f53\u6211\u4eec\u901a\u8fc7 vfork \u6216\u8005 clone \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u51fa\u7684\u5b50\u8fdb\u7a0b\uff0c\u9996\u5148\u4f1a\u8bbe\u7f6e CLONE_VM \u6807\u8bc6\uff0c\u8fd9\u6837\u6765\u5230 copy_mm \u51fd\u6570\u4e2d\u5c31\u4f1a\u8fdb\u5165\u00a0<code>if (clone_flags &amp; CLONE_VM)</code>\u00a0\u6761\u4ef6\u4e2d\uff0c\u5728\u8fd9\u4e2a\u5206\u652f\u4e2d\u4f1a\u5c06\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4ee5\u53ca\u76f8\u5173\u9875\u8868\u76f4\u63a5\u8d4b\u503c\u7ed9\u5b50\u8fdb\u7a0b\u3002\u8fd9\u6837\u4e00\u6765\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5c31\u53d8\u6210\u5171\u4eab\u7684\u4e86\u3002\u4e5f\u5c31\u662f\u8bf4\u7236\u5b50\u8fdb\u7a0b\u4e4b\u95f4\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u662f\u4e00\u6837\u7684\uff0c\u5e76\u4e0d\u662f\u4e00\u4efd\u62f7\u8d1d\u3002</p> <p>\u5b50\u8fdb\u7a0b\u5171\u4eab\u4e86\u7236\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd9\u6837\u5b50\u8fdb\u7a0b\u5c31\u53d8\u6210\u4e86\u6211\u4eec\u719f\u6089\u7684\u7ebf\u7a0b\uff0c\u662f\u5426\u5171\u4eab\u5730\u5740\u7a7a\u95f4\u51e0\u4e4e\u662f\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u4e4b\u95f4\u7684\u672c\u8d28\u533a\u522b\u3002Linux \u5185\u6838\u5e76\u4e0d\u533a\u522b\u5bf9\u5f85\u5b83\u4eec\uff0c\u7ebf\u7a0b\u5bf9\u4e8e\u5185\u6838\u6765\u8bf4\u4ec5\u4ec5\u662f\u4e00\u4e2a\u5171\u4eab\u7279\u5b9a\u8d44\u6e90\u7684\u8fdb\u7a0b\u800c\u5df2\u3002</p> <p>\u5185\u6838\u7ebf\u7a0b\u548c\u7528\u6237\u6001\u7ebf\u7a0b\u7684\u533a\u522b\u5c31\u662f\u5185\u6838\u7ebf\u7a0b\u6ca1\u6709\u76f8\u5173\u7684\u5185\u5b58\u63cf\u8ff0\u7b26 mm_struct \uff0c\u5185\u6838\u7ebf\u7a0b\u5bf9\u5e94\u7684 task_struct \u7ed3\u6784\u4e2d\u7684 mm \u57df\u6307\u5411 Null\uff0c\u6240\u4ee5\u5185\u6838\u7ebf\u7a0b\u4e4b\u95f4\u8c03\u5ea6\u662f\u4e0d\u6d89\u53ca\u5730\u5740\u7a7a\u95f4\u5207\u6362\u7684\u3002</p> <p>\u5f53\u4e00\u4e2a\u5185\u6838\u7ebf\u7a0b\u88ab\u8c03\u5ea6\u65f6\uff0c\u5b83\u4f1a\u53d1\u73b0\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e3a Null\uff0c\u867d\u7136\u5b83\u4e0d\u4f1a\u8bbf\u95ee\u7528\u6237\u6001\u7684\u5185\u5b58\uff0c\u4f46\u662f\u5b83\u4f1a\u8bbf\u95ee\u5185\u6838\u5185\u5b58\uff0c\u806a\u660e\u7684\u5185\u6838\u4f1a\u5c06\u8c03\u5ea6\u4e4b\u524d\u7684\u4e0a\u4e00\u4e2a\u7528\u6237\u6001\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4 mm_struct \u76f4\u63a5\u8d4b\u503c\u7ed9\u5185\u6838\u7ebf\u7a0b\uff0c\u56e0\u4e3a\u5185\u6838\u7ebf\u7a0b\u4e0d\u4f1a\u8bbf\u95ee\u7528\u6237\u7a7a\u95f4\u7684\u5185\u5b58\uff0c\u5b83\u4ec5\u4ec5\u53ea\u4f1a\u8bbf\u95ee\u5185\u6838\u7a7a\u95f4\u7684\u5185\u5b58\uff0c\u6240\u4ee5\u76f4\u63a5\u590d\u7528\u4e0a\u4e00\u4e2a\u7528\u6237\u6001\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5c31\u53ef\u4ee5\u907f\u514d\u4e3a\u5185\u6838\u7ebf\u7a0b\u5206\u914d mm_struct \u548c\u76f8\u5173\u9875\u8868\u7684\u5f00\u9500\uff0c\u4ee5\u53ca\u907f\u514d\u5185\u6838\u7ebf\u7a0b\u4e4b\u95f4\u8c03\u5ea6\u65f6\u5730\u5740\u7a7a\u95f4\u7684\u5207\u6362\u5f00\u9500\u3002</p> <p>\u7236\u8fdb\u7a0b\u4e0e\u5b50\u8fdb\u7a0b\u7684\u533a\u522b\uff0c\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7684\u533a\u522b\uff0c\u4ee5\u53ca\u5185\u6838\u7ebf\u7a0b\u4e0e\u7528\u6237\u6001\u7ebf\u7a0b\u7684\u533a\u522b\u5176\u5b9e\u90fd\u662f\u56f4\u7ed5\u7740\u8fd9\u4e2a mm_struct \u5c55\u5f00\u7684\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u77e5\u9053\u4e86\u8868\u793a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684 mm_struct \u7ed3\u6784\u662f\u5982\u4f55\u88ab\u521b\u5efa\u51fa\u6765\u7684\u76f8\u5173\u80cc\u666f\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u5c31\u5e26\u5927\u5bb6\u6df1\u5165 mm_struct \u7ed3\u6784\u5185\u90e8\uff0c\u6765\u770b\u4e00\u4e0b\u5185\u6838\u5982\u4f55\u901a\u8fc7\u8fd9\u4e48\u4e00\u4e2a mm_struct \u7ed3\u6784\u4f53\u6765\u7ba1\u7406\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#51","title":"#5.1 \u5185\u6838\u5982\u4f55\u5212\u5206\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4","text":"<p>\u901a\u8fc7 \u300a3. \u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u300b\u5c0f\u8282\u7684\u4ecb\u7ecd\u6211\u4eec\u77e5\u9053\uff0c\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a\u4e00\u90e8\u5206\u662f\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u53e6\u4e00\u90e8\u5206\u662f\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u3002</p> <p></p> <p>\u90a3\u4e48\u7528\u6237\u6001\u7684\u5730\u5740\u7a7a\u95f4\u548c\u5185\u6838\u6001\u7684\u5730\u5740\u7a7a\u95f4\u5728\u5185\u6838\u4e2d\u662f\u5982\u4f55\u88ab\u5212\u5206\u7684\u5462\uff1f</p> <p>\u8fd9\u5c31\u7528\u5230\u4e86\u8fdb\u7a0b\u7684\u5185\u5b58\u63cf\u8ff0\u7b26 mm_struct \u7ed3\u6784\u4f53\u4e2d\u7684 task_size \u53d8\u91cf\uff0ctask_size \u5b9a\u4e49\u4e86\u7528\u6237\u6001\u5730\u5740\u7a7a\u95f4\u4e0e\u5185\u6838\u6001\u5730\u5740\u7a7a\u95f4\u4e4b\u95f4\u7684\u5206\u754c\u7ebf\u3002</p> <pre><code>struct mm_struct {\n    unsigned long task_size;    /* size of task vm space */\n}\n</code></pre> <p>\u901a\u8fc7\u524d\u8fb9\u5c0f\u8282\u7684\u5185\u5bb9\u4ecb\u7ecd\uff0c\u6211\u4eec\u77e5\u9053\u5728 32 \u4f4d\u7cfb\u7edf\u4e2d\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 3 GB\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 - 0xC000 000 \u3002</p> <p>\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 1 GB\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0xC000 000 - 0xFFFF FFFF\u3002</p> <p></p> <p>32 \u4f4d\u7cfb\u7edf\u4e2d\u7528\u6237\u5730\u5740\u7a7a\u95f4\u548c\u5185\u6838\u5730\u5740\u7a7a\u95f4\u7684\u5206\u754c\u7ebf\u5728 0xC000 000 \u5730\u5740\u5904\uff0c\u90a3\u4e48\u81ea\u7136\u8fdb\u7a0b\u7684 mm_struct \u7ed3\u6784\u4e2d\u7684 task_size \u4e3a 0xC000 000\u3002</p> <p>\u6211\u4eec\u6765\u770b\u4e0b\u5185\u6838\u5728\u00a0<code>/arch/x86/include/asm/page_32_types.h</code>\u00a0\u6587\u4ef6\u4e2d\u5173\u4e8e TASK_SIZE \u7684\u5b9a\u4e49\u3002</p> <pre><code>/*\n * User space process size: 3GB (default).\n */\n#define TASK_SIZE       __PAGE_OFFSET\n</code></pre> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff1a__PAGE_OFFSET \u7684\u503c\u5728 32 \u4f4d\u7cfb\u7edf\u4e0b\u4e3a 0xC000 000\u3002</p> <p></p> <p>\u800c\u5728 64 \u4f4d\u7cfb\u7edf\u4e2d\uff0c\u53ea\u4f7f\u7528\u4e86\u5176\u4e2d\u7684\u4f4e 48 \u4f4d\u6765\u8868\u793a\u865a\u62df\u5185\u5b58\u5730\u5740\u3002\u5176\u4e2d\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a\u4f4e 128 T\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 0000 0000 - 0x0000 7FFF FFFF F000 \u3002</p> <p>\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a\u9ad8 128 T\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0xFFFF 8000 0000 0000 - 0xFFFF FFFF FFFF FFFF \u3002</p> <p></p> <p>64 \u4f4d\u7cfb\u7edf\u4e2d\u7528\u6237\u5730\u5740\u7a7a\u95f4\u548c\u5185\u6838\u5730\u5740\u7a7a\u95f4\u7684\u5206\u754c\u7ebf\u5728 0x0000 7FFF FFFF F000 \u5730\u5740\u5904\uff0c\u90a3\u4e48\u81ea\u7136\u8fdb\u7a0b\u7684 mm_struct \u7ed3\u6784\u4e2d\u7684 task_size \u4e3a 0x0000 7FFF FFFF F000 \u3002</p> <p>\u6211\u4eec\u6765\u770b\u4e0b\u5185\u6838\u5728\u00a0<code>/arch/x86/include/asm/page_64_types.h</code>\u00a0\u6587\u4ef6\u4e2d\u5173\u4e8e TASK_SIZE \u7684\u5b9a\u4e49\u3002</p> <pre><code>#define TASK_SIZE       (test_thread_flag(TIF_ADDR32) ? \\\n                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)\n\n#define TASK_SIZE_MAX       task_size_max()\n\n#define task_size_max()     ((_AC(1,UL) &lt;&lt; __VIRTUAL_MASK_SHIFT) - PAGE_SIZE)\n\n#define __VIRTUAL_MASK_SHIFT    47\n</code></pre> <p>\u6211\u4eec\u6765\u770b\u4e0b\u5728 64 \u4f4d\u7cfb\u7edf\u4e2d\u5185\u6838\u5982\u4f55\u6765\u8ba1\u7b97 TASK_SIZE\uff0c\u5728 task_size_max() \u7684\u8ba1\u7b97\u903b\u8f91\u4e2d 1 \u5de6\u79fb 47 \u4f4d\u5f97\u5230\u7684\u5730\u5740\u662f 0x0000800000000000\uff0c\u7136\u540e\u51cf\u53bb\u4e00\u4e2a PAGE_SIZE \uff08\u9ed8\u8ba4\u4e3a 4K\uff09\uff0c\u5c31\u662f 0x00007FFFFFFFF000\uff0c\u5171 128T\u3002\u6240\u4ee5\u5728 64 \u4f4d\u7cfb\u7edf\u4e2d\u7684 TASK_SIZE \u4e3a 0x00007FFFFFFFF000 \u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c64 \u4f4d\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\u662f\u548c\u7269\u7406\u5185\u5b58\u9875 page \u7684\u5927\u5c0f\u6709\u5173\u7684\uff0c\u7269\u7406\u5185\u5b58\u9875 page \u9ed8\u8ba4\u5927\u5c0f PAGE_SIZE \u4e3a 4K\u3002</p> <p>PAGE_SIZE \u5b9a\u4e49\u5728\u00a0<code>/arch/x86/include/asm/page_types.h</code>\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>/* PAGE_SHIFT determines the page size */\n#define PAGE_SHIFT      12\n#define PAGE_SIZE       (_AC(1,UL) &lt;&lt; PAGE_SHIFT)\n</code></pre> <p>\u800c\u5185\u6838\u7a7a\u95f4\u7684\u8d77\u59cb\u5730\u5740\u662f 0xFFFF 8000 0000 0000 \u3002\u5728 0x00007FFFFFFFF000 - 0xFFFF 8000 0000 0000 \u4e4b\u95f4\u7684\u5185\u5b58\u533a\u57df\u5c31\u662f\u6211\u4eec\u5728 \u300a4.2 64 \u4f4d\u673a\u5668\u4e0a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u5e03\u300b\u5c0f\u8282\u4e2d\u4ecb\u7ecd\u7684 canonical address \u7a7a\u6d1e\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#52","title":"#5.2 \u5185\u6838\u5982\u4f55\u5e03\u5c40\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4","text":"<p>\u5728\u6211\u4eec\u7406\u89e3\u4e86\u5185\u6838\u662f\u5982\u4f55\u5212\u5206\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e4b\u540e\uff0c\u90a3\u4e48\u5728 \u300a3. \u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u300b\u5c0f\u8282\u4e2d\u4ecb\u7ecd\u7684\u90a3\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\u5728\u5185\u6838\u4e2d\u53c8\u662f\u5982\u4f55\u5212\u5206\u7684\u5462\uff1f</p> <p>\u63a5\u4e0b\u6765\u6211\u5c31\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u4e0b\u5185\u6838\u662f\u5982\u4f55\u5212\u5206\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u8fd9\u4e9b\u5185\u5b58\u533a\u57df\u7684\uff0c\u672c\u5c0f\u8282\u7684\u793a\u4f8b\u56fe\u4e2d\uff0c\u6211\u53ea\u4fdd\u7559\u4e86\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u6838\u5fc3\u533a\u57df\uff0c\u65b9\u4fbf\u5927\u5bb6\u7406\u89e3\u3002</p> <p></p> <p>\u524d\u8fb9\u6211\u4eec\u63d0\u5230\uff0c\u5185\u6838\u4e2d\u91c7\u7528\u4e86\u4e00\u4e2a\u53eb\u505a\u5185\u5b58\u63cf\u8ff0\u7b26\u7684 mm_struct \u7ed3\u6784\u4f53\u6765\u8868\u793a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5168\u90e8\u4fe1\u606f\u3002\u5728\u672c\u5c0f\u8282\u4e2d\u6211\u5c31\u5e26\u5927\u5bb6\u5230 mm_struct \u7ed3\u6784\u4f53\u5185\u90e8\u53bb\u5bfb\u627e\u4e0b\u76f8\u5173\u7684\u7ebf\u7d22\u3002</p> <pre><code>struct mm_struct {\n    unsigned long task_size;    /* size of task vm space */\n    unsigned long start_code, end_code, start_data, end_data;\n    unsigned long start_brk, brk, start_stack;\n    unsigned long arg_start, arg_end, env_start, env_end;\n    unsigned long mmap_base;  /* base of mmap area */\n    unsigned long total_vm;    /* Total pages mapped */\n    unsigned long locked_vm;  /* Pages that have PG_mlocked set */\n    unsigned long pinned_vm;  /* Refcount permanently increased */\n    unsigned long data_vm;    /* VM_WRITE &amp; ~VM_SHARED &amp; ~VM_STACK */\n    unsigned long exec_vm;    /* VM_EXEC &amp; ~VM_WRITE &amp; ~VM_STACK */\n    unsigned long stack_vm;    /* VM_STACK */\n\n       ...... \u7701\u7565 ........\n}\n</code></pre> <p>\u5185\u6838\u4e2d\u7528 mm_struct \u7ed3\u6784\u4f53\u4e2d\u7684\u4e0a\u8ff0\u5c5e\u6027\u6765\u5b9a\u4e49\u4e0a\u56fe\u4e2d\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u91cc\u7684\u4e0d\u540c\u5185\u5b58\u533a\u57df\u3002</p> <p>start_code \u548c end_code \u5b9a\u4e49\u4ee3\u7801\u6bb5\u7684\u8d77\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\uff0c\u7a0b\u5e8f\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u7684\u673a\u5668\u7801\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\u4e4b\u540e\u5c31\u5b58\u653e\u5728\u8fd9\u91cc\u3002</p> <p>start_data \u548c end_data \u5b9a\u4e49\u6570\u636e\u6bb5\u7684\u8d77\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\uff0c\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u5b58\u653e\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\u4e2d\u5c31\u5b58\u653e\u5728\u8fd9\u91cc\u3002</p> <p>\u540e\u9762\u7d27\u6328\u7740\u7684\u662f BSS \u6bb5\uff0c\u7528\u4e8e\u5b58\u653e\u672a\u88ab\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\uff0c\u8fd9\u4e9b\u53d8\u91cf\u5728\u52a0\u8f7d\u8fdb\u5185\u5b58\u65f6\u4f1a\u751f\u6210\u4e00\u6bb5 0 \u586b\u5145\u7684\u5185\u5b58\u533a\u57df \uff08BSS \u6bb5\uff09\uff0c BSS \u6bb5\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c</p> <p>\u4e0b\u9762\u5c31\u662f OS \u5806\u4e86\uff0c\u5728\u5806\u4e2d\u5185\u5b58\u5730\u5740\u7684\u589e\u957f\u65b9\u5411\u662f\u7531\u4f4e\u5730\u5740\u5411\u9ad8\u5730\u5740\u589e\u957f\uff0c start_brk \u5b9a\u4e49\u5806\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0cbrk \u5b9a\u4e49\u5806\u5f53\u524d\u7684\u7ed3\u675f\u4f4d\u7f6e\u3002</p> <p>\u6211\u4eec\u4f7f\u7528 malloc \u7533\u8bf7\u5c0f\u5757\u5185\u5b58\u65f6\uff08\u4f4e\u4e8e 128K\uff09\uff0c\u5c31\u662f\u901a\u8fc7\u6539\u53d8 brk \u4f4d\u7f6e\u8c03\u6574\u5806\u5927\u5c0f\u5b9e\u73b0\u7684\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5185\u5b58\u6620\u5c04\u533a\uff0c\u5728\u5185\u5b58\u6620\u5c04\u533a\u5185\u5b58\u5730\u5740\u7684\u589e\u957f\u65b9\u5411\u662f\u7531\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u589e\u957f\uff0cmmap_base \u5b9a\u4e49\u5185\u5b58\u6620\u5c04\u533a\u7684\u8d77\u59cb\u5730\u5740\u3002\u8fdb\u7a0b\u8fd0\u884c\u65f6\u6240\u4f9d\u8d56\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u4e2d\u7684\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0cBSS \u6bb5\u4ee5\u53ca\u6211\u4eec\u8c03\u7528 mmap \u6620\u5c04\u51fa\u6765\u7684\u4e00\u6bb5\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5c31\u4fdd\u5b58\u5728\u8fd9\u4e2a\u533a\u57df\u3002</p> <p>start_stack \u662f\u6808\u7684\u8d77\u59cb\u4f4d\u7f6e\u5728 RBP \u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\uff0c\u6808\u7684\u7ed3\u675f\u4f4d\u7f6e\u4e5f\u5c31\u662f\u6808\u9876\u6307\u9488 stack pointer \u5728 RSP \u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u3002\u5728\u6808\u4e2d\u5185\u5b58\u5730\u5740\u7684\u589e\u957f\u65b9\u5411\u4e5f\u662f\u7531\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u589e\u957f\u3002</p> <p>arg_start \u548c arg_end \u662f\u53c2\u6570\u5217\u8868\u7684\u4f4d\u7f6e\uff0c env_start \u548c env_end \u662f\u73af\u5883\u53d8\u91cf\u7684\u4f4d\u7f6e\u3002\u5b83\u4eec\u90fd\u4f4d\u4e8e\u6808\u4e2d\u7684\u6700\u9ad8\u5730\u5740\u5904\u3002</p> <p></p> <p>\u5728 mm_struct \u7ed3\u6784\u4f53\u4e2d\u9664\u4e86\u4e0a\u8ff0\u7528\u4e8e\u5212\u5206\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u53d8\u91cf\u4e4b\u5916\uff0c\u8fd8\u5b9a\u4e49\u4e86\u4e00\u4e9b\u865a\u62df\u5185\u5b58\u4e0e\u7269\u7406\u5185\u5b58\u6620\u5c04\u5185\u5bb9\u76f8\u5173\u7684\u7edf\u8ba1\u53d8\u91cf\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u628a\u7269\u7406\u5185\u5b58\u5212\u5206\u6210\u4e00\u9875\u4e00\u9875\u7684\u533a\u57df\u6765\u8fdb\u884c\u7ba1\u7406\uff0c\u6240\u4ee5\u7269\u7406\u5185\u5b58\u5230\u865a\u62df\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u4e5f\u662f\u6309\u7167\u9875\u4e3a\u5355\u4f4d\u8fdb\u884c\u7684\u3002\u8fd9\u90e8\u5206\u5185\u5bb9\u6211\u4f1a\u5728\u540e\u7eed\u7684\u6587\u7ae0\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u5927\u5bb6\u8fd9\u91cc\u53ea\u9700\u8981\u6709\u4e2a\u6982\u5ff5\u5c31\u884c\u3002</p> <p>mm_struct \u7ed3\u6784\u4f53\u4e2d\u7684 total_vm \u8868\u793a\u5728\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u603b\u5171\u4e0e\u7269\u7406\u5185\u5b58\u6620\u5c04\u7684\u9875\u7684\u603b\u6570\u3002</p> <p>\u6ce8\u610f\u6620\u5c04\u8fd9\u4e2a\u6982\u5ff5\uff0c\u5b83\u8868\u793a\u53ea\u662f\u5c06\u865a\u62df\u5185\u5b58\u4e0e\u7269\u7406\u5185\u5b58\u5efa\u7acb\u5173\u8054\u5173\u7cfb\uff0c\u5e76\u4e0d\u4ee3\u8868\u771f\u6b63\u7684\u5206\u914d\u7269\u7406\u5185\u5b58\u3002</p> <p>\u5f53\u5185\u5b58\u5403\u7d27\u7684\u65f6\u5019\uff0c\u6709\u4e9b\u9875\u53ef\u4ee5\u6362\u51fa\u5230\u786c\u76d8\u4e0a\uff0c\u800c\u6709\u4e9b\u9875\u56e0\u4e3a\u6bd4\u8f83\u91cd\u8981\uff0c\u4e0d\u80fd\u6362\u51fa\u3002locked_vm \u5c31\u662f\u88ab\u9501\u5b9a\u4e0d\u80fd\u6362\u51fa\u7684\u5185\u5b58\u9875\u603b\u6570\uff0cpinned_vm \u8868\u793a\u65e2\u4e0d\u80fd\u6362\u51fa\uff0c\u4e5f\u4e0d\u80fd\u79fb\u52a8\u7684\u5185\u5b58\u9875\u603b\u6570\u3002</p> <p>data_vm \u8868\u793a\u6570\u636e\u6bb5\u4e2d\u6620\u5c04\u7684\u5185\u5b58\u9875\u6570\u76ee\uff0cexec_vm \u662f\u4ee3\u7801\u6bb5\u4e2d\u5b58\u653e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5185\u5b58\u9875\u6570\u76ee\uff0cstack_vm \u662f\u6808\u4e2d\u6240\u6620\u5c04\u7684\u5185\u5b58\u9875\u6570\u76ee\uff0c\u8fd9\u4e9b\u53d8\u91cf\u5747\u662f\u8868\u793a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u865a\u62df\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002</p> <p>\u73b0\u5728\u5173\u4e8e\u5185\u6838\u5982\u4f55\u5bf9\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u8fdb\u884c\u5e03\u5c40\u7684\u5185\u5bb9\u6211\u4eec\u5df2\u7ecf\u6e05\u695a\u4e86\uff0c\u90a3\u4e48\u5e03\u5c40\u4e4b\u540e\u5212\u5206\u51fa\u7684\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\u5728\u5185\u6838\u4e2d\u53c8\u662f\u5982\u4f55\u88ab\u7ba1\u7406\u7684\u5462\uff1f\u6211\u4eec\u63a5\u7740\u5f80\u4e0b\u770b<sub>~</sub></p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#53","title":"#5.3 \u5185\u6838\u5982\u4f55\u7ba1\u7406\u865a\u62df\u5185\u5b58\u533a\u57df","text":"<p>\u5728\u4e0a\u5c0f\u8282\u7684\u4ecb\u7ecd\u4e2d\uff0c\u6211\u4eec\u77e5\u9053\u5185\u6838\u662f\u901a\u8fc7\u4e00\u4e2a mm_struct \u7ed3\u6784\u7684\u5185\u5b58\u63cf\u8ff0\u7b26\u6765\u8868\u793a\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\uff0c\u5e76\u901a\u8fc7 task_size \u57df\u6765\u5212\u5206\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u3002</p> <p></p> <p>\u800c\u5728\u5212\u5206\u51fa\u7684\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u91cc\u8fb9\u53c8\u5305\u542b\u4e86\u8bb8\u591a\u7279\u5b9a\u7684\u865a\u62df\u5185\u5b58\u533a\u57df\uff0c\u6bd4\u5982\uff1a\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0c\u5806\uff0c\u5185\u5b58\u6620\u5c04\u533a\uff0c\u6808\u3002\u90a3\u4e48\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\u5728\u5185\u6838\u4e2d\u53c8\u662f\u5982\u4f55\u8868\u793a\u7684\u5462\uff1f</p> <p>\u672c\u5c0f\u8282\u4e2d\uff0c\u6211\u5c06\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u4e00\u4e2a\u65b0\u7684\u7ed3\u6784\u4f53 vm_area_struct\uff0c\u6b63\u662f\u8fd9\u4e2a\u7ed3\u6784\u4f53\u63cf\u8ff0\u4e86\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df VMA\uff08virtual memory area\uff09\u3002</p> <pre><code>struct vm_area_struct {\n\n    unsigned long vm_start;     /* Our start address within vm_mm. */\n    unsigned long vm_end;       /* The first byte after our end address\n                       within vm_mm. */\n    /*\n     * Access permissions of this VMA.\n     */\n    pgprot_t vm_page_prot;\n    unsigned long vm_flags; \n\n    struct anon_vma *anon_vma;  /* Serialized by page_table_lock */\n    struct file * vm_file;      /* File we map to (can be NULL). */\n    unsigned long vm_pgoff;     /* Offset (within vm_file) in PAGE_SIZE\n                       units */ \n    void * vm_private_data;     /* was vm_pte (shared mem) */\n    /* Function pointers to deal with this struct. */\n    const struct vm_operations_struct *vm_ops;\n}\n</code></pre> <p>\u6bcf\u4e2a vm_area_struct \u7ed3\u6784\u5bf9\u5e94\u4e8e\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u552f\u4e00\u865a\u62df\u5185\u5b58\u533a\u57df VMA\uff0cvm_start \u6307\u5411\u4e86\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u8d77\u59cb\u5730\u5740\uff08\u6700\u4f4e\u5730\u5740\uff09\uff0cvm_start \u672c\u8eab\u5305\u542b\u5728\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u5185\u3002vm_end \u6307\u5411\u4e86\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u7ed3\u675f\u5730\u5740\uff08\u6700\u9ad8\u5730\u5740\uff09\uff0c\u800c vm_end \u672c\u8eab\u5305\u542b\u5728\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u4e4b\u5916\uff0c\u6240\u4ee5 vm_area_struct \u7ed3\u6784\u63cf\u8ff0\u7684\u662f [vm_start\uff0cvm_end) \u8fd9\u6837\u4e00\u6bb5\u5de6\u95ed\u53f3\u5f00\u7684\u865a\u62df\u5185\u5b58\u533a\u57df\u3002</p> <p></p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#54","title":"#5.4 \u5b9a\u4e49\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u8bbf\u95ee\u6743\u9650\u548c\u884c\u4e3a\u89c4\u8303","text":"<p>vm_page_prot \u548c vm_flags \u90fd\u662f\u7528\u6765\u6807\u8bb0 vm_area_struct \u7ed3\u6784\u8868\u793a\u7684\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u8bbf\u95ee\u6743\u9650\u548c\u884c\u4e3a\u89c4\u8303\u3002</p> <p>\u4e0a\u8fb9\u5c0f\u8282\u4e2d\u6211\u4eec\u4e5f\u63d0\u5230\uff0c\u5185\u6838\u4f1a\u5c06\u6574\u5757\u7269\u7406\u5185\u5b58\u5212\u5206\u4e3a\u4e00\u9875\u4e00\u9875\u5927\u5c0f\u7684\u533a\u57df\uff0c\u4ee5\u9875\u4e3a\u5355\u4f4d\u6765\u7ba1\u7406\u8fd9\u4e9b\u7269\u7406\u5185\u5b58\uff0c\u6bcf\u9875\u5927\u5c0f\u9ed8\u8ba4 4K \u3002\u800c\u865a\u62df\u5185\u5b58\u6700\u7ec8\u4e5f\u662f\u8981\u548c\u7269\u7406\u5185\u5b58\u4e00\u4e00\u6620\u5c04\u8d77\u6765\u7684\uff0c\u6240\u4ee5\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u4e5f\u6709\u865a\u62df\u9875\u7684\u6982\u5ff5\u4e0e\u4e4b\u5bf9\u5e94\uff0c\u865a\u62df\u5185\u5b58\u4e2d\u7684\u865a\u62df\u9875\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e2d\u7684\u7269\u7406\u9875\u3002\u65e0\u8bba\u662f\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u8fd8\u662f\u5728\u7269\u7406\u5185\u5b58\u4e2d\uff0c\u5185\u6838\u7ba1\u7406\u5185\u5b58\u7684\u6700\u5c0f\u5355\u4f4d\u90fd\u662f\u9875\u3002</p> <p>vm_page_prot \u504f\u5411\u4e8e\u5b9a\u4e49\u5e95\u5c42\u5185\u5b58\u7ba1\u7406\u67b6\u6784\u4e2d\u9875\u8fd9\u4e00\u7ea7\u522b\u7684\u8bbf\u95ee\u63a7\u5236\u6743\u9650\uff0c\u5b83\u53ef\u4ee5\u76f4\u63a5\u5e94\u7528\u5728\u5e95\u5c42\u9875\u8868\u4e2d\uff0c\u5b83\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u6982\u5ff5\u3002</p> <p>\u9875\u8868\u7528\u4e8e\u7ba1\u7406\u865a\u62df\u5185\u5b58\u5230\u7269\u7406\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u8fd9\u90e8\u5206\u5185\u5bb9\u6211\u540e\u7eed\u4f1a\u8be6\u7ec6\u8bb2\u89e3\uff0c\u8fd9\u91cc\u5927\u5bb6\u6709\u4e2a\u521d\u6b65\u7684\u6982\u5ff5\u5c31\u884c\u3002</p> <p>\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u7531\u8bb8\u591a\u7684\u865a\u62df\u9875 (page) \u7ec4\u6210\uff0c\u6bcf\u4e2a\u865a\u62df\u9875\u9700\u8981\u7ecf\u8fc7\u9875\u8868\u7684\u8f6c\u6362\u624d\u80fd\u627e\u5230\u5bf9\u5e94\u7684\u7269\u7406\u9875\u9762\u3002\u9875\u8868\u4e2d\u5173\u4e8e\u5185\u5b58\u9875\u7684\u8bbf\u95ee\u6743\u9650\u5c31\u662f\u7531 vm_page_prot \u51b3\u5b9a\u7684\u3002</p> <p>vm_flags \u5219\u504f\u5411\u4e8e\u5b9a\u4e8e\u6574\u4e2a\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u8bbf\u95ee\u6743\u9650\u4ee5\u53ca\u884c\u4e3a\u89c4\u8303\u3002\u63cf\u8ff0\u7684\u662f\u865a\u62df\u5185\u5b58\u533a\u57df\u4e2d\u7684\u6574\u4f53\u4fe1\u606f\uff0c\u800c\u4e0d\u662f\u865a\u62df\u5185\u5b58\u533a\u57df\u4e2d\u5177\u4f53\u7684\u67d0\u4e2a\u72ec\u7acb\u9875\u9762\u3002\u5b83\u662f\u4e00\u4e2a\u62bd\u8c61\u7684\u6982\u5ff5\u3002\u53ef\u4ee5\u901a\u8fc7\u00a0<code>vma-&gt;vm_page_prot = vm_get_page_prot(vma-&gt;vm_flags)</code>\u00a0\u5b9e\u73b0\u5230\u5177\u4f53\u9875\u9762\u8bbf\u95ee\u6743\u9650 vm_page_prot \u7684\u8f6c\u6362\u3002</p> <p>\u4e0b\u9762\u6211\u5217\u4e3e\u4e00\u4e9b\u5e38\u7528\u5230\u7684 vm_flags \u65b9\u4fbf\u5927\u5bb6\u6709\u4e00\u4e2a\u76f4\u89c2\u7684\u611f\u53d7\uff1a</p> vm_flags \u8bbf\u95ee\u6743\u9650 VM_READ \u53ef\u8bfb VM_WRITE \u53ef\u5199 VM_EXEC \u53ef\u6267\u884c VM_SHARD \u53ef\u591a\u8fdb\u7a0b\u4e4b\u95f4\u5171\u4eab VM_IO \u53ef\u6620\u5c04\u81f3\u8bbe\u5907 IO \u7a7a\u95f4 VM_RESERVED \u5185\u5b58\u533a\u57df\u4e0d\u53ef\u88ab\u6362\u51fa VM_SEQ_READ \u5185\u5b58\u533a\u57df\u53ef\u80fd\u88ab\u987a\u5e8f\u8bbf\u95ee VM_RAND_READ \u5185\u5b58\u533a\u57df\u53ef\u80fd\u88ab\u968f\u673a\u8bbf\u95ee <p>VM_READ\uff0cVM_WRITE\uff0cVM_EXEC \u5b9a\u4e49\u4e86\u865a\u62df\u5185\u5b58\u533a\u57df\u662f\u5426\u53ef\u4ee5\u88ab\u8bfb\u53d6\uff0c\u5199\u5165\uff0c\u6267\u884c\u7b49\u6743\u9650\u3002</p> <p>\u6bd4\u5982\u4ee3\u7801\u6bb5\u8fd9\u5757\u5185\u5b58\u533a\u57df\u7684\u6743\u9650\u662f\u53ef\u8bfb\uff0c\u53ef\u6267\u884c\uff0c\u4f46\u662f\u4e0d\u53ef\u5199\u3002\u6570\u636e\u6bb5\u5177\u6709\u53ef\u8bfb\u53ef\u5199\u7684\u6743\u9650\u4f46\u662f\u4e0d\u53ef\u6267\u884c\u3002\u5806\u5219\u5177\u6709\u53ef\u8bfb\u53ef\u5199\uff0c\u53ef\u6267\u884c\u7684\u6743\u9650\uff08Java \u4e2d\u7684\u5b57\u8282\u7801\u5b58\u50a8\u5728\u5806\u4e2d\uff0c\u6240\u4ee5\u9700\u8981\u53ef\u6267\u884c\u6743\u9650\uff09\uff0c\u6808\u4e00\u822c\u662f\u53ef\u8bfb\u53ef\u5199\u7684\u6743\u9650\uff0c\u4e00\u822c\u5f88\u5c11\u6709\u53ef\u6267\u884c\u6743\u9650\u3002\u800c\u6587\u4ef6\u6620\u5c04\u4e0e\u533f\u540d\u6620\u5c04\u533a\u5b58\u653e\u4e86\u5171\u4eab\u94fe\u63a5\u5e93\uff0c\u6240\u4ee5\u4e5f\u9700\u8981\u53ef\u6267\u884c\u7684\u6743\u9650\u3002</p> <p></p> <p>VM_SHARD \u7528\u4e8e\u6307\u5b9a\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u6620\u5c04\u7684\u7269\u7406\u5185\u5b58\u662f\u5426\u53ef\u4ee5\u5728\u591a\u8fdb\u7a0b\u4e4b\u95f4\u5171\u4eab\uff0c\u4ee5\u4fbf\u5b8c\u6210\u8fdb\u7a0b\u95f4\u901a\u8baf\u3002</p> <p>\u8bbe\u7f6e\u8fd9\u4e2a\u503c\u5373\u4e3a mmap \u7684\u5171\u4eab\u6620\u5c04\uff0c\u4e0d\u8bbe\u7f6e\u7684\u8bdd\u5219\u4e3a\u79c1\u6709\u6620\u5c04\u3002\u8fd9\u4e2a\u7b49\u540e\u9762\u6211\u4eec\u8bb2\u5230 mmap \u7684\u76f8\u5173\u5b9e\u73b0\u65f6\u8fd8\u4f1a\u518d\u6b21\u63d0\u8d77\u3002</p> <p>VM_IO \u7684\u8bbe\u7f6e\u8868\u793a\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u53ef\u4ee5\u6620\u5c04\u81f3\u8bbe\u5907 IO \u7a7a\u95f4\u4e2d\u3002\u901a\u5e38\u5728\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u6267\u884c mmap \u8fdb\u884c IO \u7a7a\u95f4\u6620\u5c04\u65f6\u624d\u4f1a\u88ab\u8bbe\u7f6e\u3002</p> <p>VM_RESERVED \u7684\u8bbe\u7f6e\u8868\u793a\u5728\u5185\u5b58\u7d27\u5f20\u7684\u65f6\u5019\uff0c\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u975e\u5e38\u91cd\u8981\uff0c\u4e0d\u80fd\u88ab\u6362\u51fa\u5230\u78c1\u76d8\u4e2d\u3002</p> <p>VM_SEQ_READ \u7684\u8bbe\u7f6e\u7528\u6765\u6697\u793a\u5185\u6838\uff0c\u5e94\u7528\u7a0b\u5e8f\u5bf9\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u8bfb\u53d6\u662f\u4f1a\u91c7\u7528\u987a\u5e8f\u8bfb\u7684\u65b9\u5f0f\u8fdb\u884c\uff0c\u5185\u6838\u4f1a\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u51b3\u5b9a\u9884\u8bfb\u540e\u7eed\u7684\u5185\u5b58\u9875\u6570\uff0c\u4ee5\u4fbf\u52a0\u5feb\u4e0b\u6b21\u987a\u5e8f\u8bbf\u95ee\u901f\u5ea6\u3002</p> <p>VM_RAND_READ \u7684\u8bbe\u7f6e\u4f1a\u6697\u793a\u5185\u6838\uff0c\u5e94\u7528\u7a0b\u5e8f\u4f1a\u5bf9\u8fd9\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u8fdb\u884c\u968f\u673a\u8bfb\u53d6\uff0c\u5185\u6838\u5219\u4f1a\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u51cf\u5c11\u9884\u8bfb\u7684\u5185\u5b58\u9875\u6570\u751a\u81f3\u505c\u6b62\u9884\u8bfb\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 posix_fadvise\uff0cmadvise \u7cfb\u7edf\u8c03\u7528\u6765\u6697\u793a\u5185\u6838\u662f\u5426\u5bf9\u76f8\u5173\u5185\u5b58\u533a\u57df\u8fdb\u884c\u987a\u5e8f\u8bfb\u53d6\u6216\u8005\u968f\u673a\u8bfb\u53d6\u3002\u76f8\u5173\u7684\u8be6\u7ec6\u5185\u5bb9\uff0c\u5927\u5bb6\u53ef\u4ee5\u770b\u4e0b\u6211\u4e0a\u7bc7\u6587\u7ae0\u00a0\u300a\u4ece Linux \u5185\u6838\u89d2\u5ea6\u63a2\u79d8 JDK NIO \u6587\u4ef6\u8bfb\u5199\u672c\u8d28\u300b\u00a0(opens new window)\u4e2d\u7684\u7b2c 9 \u5c0f\u8282\u6587\u4ef6\u9875\u9884\u8bfb\u90e8\u5206\u3002</p> <p>\u901a\u8fc7\u8fd9\u4e00\u7cfb\u5217\u7684\u4ecb\u7ecd\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230 vm_flags \u5c31\u662f\u5b9a\u4e49\u6574\u4e2a\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u8bbf\u95ee\u6743\u9650\u4ee5\u53ca\u884c\u4e3a\u89c4\u8303\uff0c\u800c\u5185\u5b58\u533a\u57df\u4e2d\u5185\u5b58\u7684\u6700\u5c0f\u5355\u4f4d\u4e3a\u9875\uff084K\uff09\uff0c\u865a\u62df\u5185\u5b58\u533a\u57df\u4e2d\u5305\u542b\u4e86\u5f88\u591a\u8fd9\u6837\u7684\u865a\u62df\u9875\uff0c\u5bf9\u4e8e\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u8bbe\u7f6e\u7684\u8bbf\u95ee\u6743\u9650\u4e5f\u4f1a\u5168\u90e8\u590d\u5236\u5230\u533a\u57df\u4e2d\u5305\u542b\u7684\u5185\u5b58\u9875\u4e2d\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#55","title":"#5.5 \u5173\u8054\u5185\u5b58\u6620\u5c04\u4e2d\u7684\u6620\u5c04\u5173\u7cfb","text":"<p>\u63a5\u4e0b\u6765\u7684\u4e09\u4e2a\u5c5e\u6027 anon_vma\uff0cvm_file\uff0cvm_pgoff \u5206\u522b\u548c\u865a\u62df\u5185\u5b58\u6620\u5c04\u76f8\u5173\uff0c\u865a\u62df\u5185\u5b58\u533a\u57df\u53ef\u4ee5\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u6620\u5c04\u5230\u6587\u4ef6\u4e2d\uff0c\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e0a\u6211\u4eec\u79f0\u4e4b\u4e3a\u533f\u540d\u6620\u5c04\uff0c\u6620\u5c04\u5230\u6587\u4ef6\u4e2d\u6211\u4eec\u79f0\u4e4b\u4e3a\u6587\u4ef6\u6620\u5c04\u3002</p> <p>\u90a3\u4e48\u8fd9\u4e2a\u6620\u5c04\u5173\u7cfb\u5728\u5185\u6838\u4e2d\u8be5\u5982\u4f55\u8868\u793a\u5462\uff1f\u8fd9\u5c31\u7528\u5230\u4e86 vm_area_struct \u7ed3\u6784\u4f53\u4e2d\u7684\u4e0a\u8ff0\u4e09\u4e2a\u5c5e\u6027\u3002</p> <p></p> <p>\u5f53\u6211\u4eec\u8c03\u7528 malloc \u7533\u8bf7\u5185\u5b58\u65f6\uff0c\u5982\u679c\u7533\u8bf7\u7684\u662f\u5c0f\u5757\u5185\u5b58\uff08\u4f4e\u4e8e 128K\uff09\u5219\u4f1a\u4f7f\u7528 do_brk() \u7cfb\u7edf\u8c03\u7528\u901a\u8fc7\u8c03\u6574\u5806\u4e2d\u7684 brk \u6307\u9488\u5927\u5c0f\u6765\u589e\u52a0\u6216\u8005\u56de\u6536\u5806\u5185\u5b58\u3002</p> <p>\u5982\u679c\u7533\u8bf7\u7684\u662f\u6bd4\u8f83\u5927\u5757\u7684\u5185\u5b58\uff08\u8d85\u8fc7 128K\uff09\u65f6\uff0c\u5219\u4f1a\u8c03\u7528 mmap \u5728\u4e0a\u56fe\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u6587\u4ef6\u6620\u5c04\u4e0e\u533f\u540d\u6620\u5c04\u533a\u521b\u5efa\u51fa\u4e00\u5757 VMA \u5185\u5b58\u533a\u57df\uff08\u8fd9\u91cc\u662f\u533f\u540d\u6620\u5c04\uff09\u3002\u8fd9\u5757\u533f\u540d\u6620\u5c04\u533a\u57df\u5c31\u7528 struct anon_vma \u7ed3\u6784\u8868\u793a\u3002</p> <p>\u5f53\u8c03\u7528 mmap \u8fdb\u884c\u6587\u4ef6\u6620\u5c04\u65f6\uff0cvm_file \u5c5e\u6027\u5c31\u7528\u6765\u5173\u8054\u88ab\u6620\u5c04\u7684\u6587\u4ef6\u3002\u8fd9\u6837\u4e00\u6765\u865a\u62df\u5185\u5b58\u533a\u57df\u5c31\u4e0e\u6620\u5c04\u6587\u4ef6\u5173\u8054\u4e86\u8d77\u6765\u3002vm_pgoff \u5219\u8868\u793a\u6620\u5c04\u8fdb\u865a\u62df\u5185\u5b58\u4e2d\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u5728\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u3002</p> <p>\u5f53\u7136\u5728\u533f\u540d\u6620\u5c04\u4e2d\uff0cvm_area_struct \u7ed3\u6784\u4e2d\u7684 vm_file \u5c31\u4e3a null\uff0cvm_pgoff \u4e5f\u5c31\u6ca1\u6709\u4e86\u610f\u4e49\u3002</p> <p>vm_private_data \u5219\u7528\u4e8e\u5b58\u50a8 VMA \u4e2d\u7684\u79c1\u6709\u6570\u636e\u3002\u5177\u4f53\u7684\u5b58\u50a8\u5185\u5bb9\u548c\u5185\u5b58\u6620\u5c04\u7684\u7c7b\u578b\u6709\u5173\uff0c\u6211\u4eec\u6682\u4e0d\u5c55\u5f00\u8bba\u8ff0\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#56","title":"#5.6 \u9488\u5bf9\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u76f8\u5173\u64cd\u4f5c","text":"<p>struct vm_area_struct \u7ed3\u6784\u4e2d\u8fd8\u6709\u4e00\u4e2a vm_ops \u7528\u6765\u6307\u5411\u9488\u5bf9\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u7684\u76f8\u5173\u64cd\u4f5c\u7684\u51fd\u6570\u6307\u9488\u3002</p> <pre><code>struct vm_operations_struct {\n    void (*open)(struct vm_area_struct * area);\n    void (*close)(struct vm_area_struct * area);\n    vm_fault_t (*fault)(struct vm_fault *vmf);\n    vm_fault_t (*page_mkwrite)(struct vm_fault *vmf);\n\n    ..... \u7701\u7565 .......\n}\n</code></pre> <ul> <li> <p>\u5f53\u6307\u5b9a\u7684\u865a\u62df\u5185\u5b58\u533a\u57df\u88ab\u52a0\u5165\u5230\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u65f6\uff0copen \u51fd\u6570\u4f1a\u88ab\u8c03\u7528</p> </li> <li> <p>\u5f53\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u4ece\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u88ab\u5220\u9664\u65f6\uff0cclose \u51fd\u6570\u4f1a\u88ab\u8c03\u7528</p> </li> <li> <p>\u5f53\u8fdb\u7a0b\u8bbf\u95ee\u865a\u62df\u5185\u5b58\u65f6\uff0c\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5728\u7269\u7406\u5185\u5b58\u4e2d\uff0c\u53ef\u80fd\u662f\u672a\u5206\u914d\u7269\u7406\u5185\u5b58\u4e5f\u53ef\u80fd\u662f\u88ab\u7f6e\u6362\u5230\u78c1\u76d8\u4e2d\uff0c\u8fd9\u65f6\u5c31\u4f1a\u4ea7\u751f\u7f3a\u9875\u5f02\u5e38\uff0cfault \u51fd\u6570\u5c31\u4f1a\u88ab\u8c03\u7528\u3002</p> </li> <li> <p>\u5f53\u4e00\u4e2a\u53ea\u8bfb\u7684\u9875\u9762\u5c06\u8981\u53d8\u4e3a\u53ef\u5199\u65f6\uff0cpage_mkwrite \u51fd\u6570\u4f1a\u88ab\u8c03\u7528\u3002</p> </li> </ul> <p>struct vm_operations_struct \u7ed3\u6784\u4e2d\u5b9a\u4e49\u7684\u90fd\u662f\u5bf9\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u7684\u76f8\u5173\u64cd\u4f5c\u51fd\u6570\u6307\u9488\u3002</p> <p>\u5185\u6838\u4e2d\u8fd9\u79cd\u7c7b\u4f3c\u7684\u7528\u6cd5\u5176\u5b9e\u6709\u5f88\u591a\uff0c\u5728\u5185\u6838\u4e2d\u6bcf\u4e2a\u7279\u5b9a\u9886\u57df\u7684\u63cf\u8ff0\u7b26\u90fd\u4f1a\u5b9a\u4e49\u76f8\u5173\u7684\u64cd\u4f5c\u3002\u6bd4\u5982\u5728\u524d\u8fb9\u7684\u6587\u7ae0\u00a0\u300a\u4ece Linux \u5185\u6838\u89d2\u5ea6\u63a2\u79d8 JDK NIO \u6587\u4ef6\u8bfb\u5199\u672c\u8d28\u300b\u00a0(opens new window)\u4e2d\u6211\u4eec\u4ecb\u7ecd\u5230\u5185\u6838\u4e2d\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26 struct file \u4e2d\u5b9a\u4e49\u7684 struct file_operations *f_op\u3002\u91cc\u9762\u5b9a\u4e49\u4e86\u5185\u6838\u9488\u5bf9\u6587\u4ef6\u64cd\u4f5c\u7684\u51fd\u6570\u6307\u9488\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u6839\u636e\u4e0d\u540c\u7684\u6587\u4ef6\u7c7b\u578b\u6709\u6240\u4e0d\u540c\u3002</p> <p>\u9488\u5bf9 Socket \u6587\u4ef6\u7c7b\u578b\uff0c\u8fd9\u91cc\u7684 file_operations \u6307\u5411\u7684\u662f socket_file_ops\u3002</p> <p></p> <p>\u5728 ext4 \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7ba1\u7406\u7684\u6587\u4ef6\u5bf9\u5e94\u7684 file_operations \u6307\u5411 ext4_file_operations\uff0c\u4e13\u95e8\u7528\u4e8e\u64cd\u4f5c ext4 \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u3002\u8fd8\u6709\u9488\u5bf9 page cache \u9875\u9ad8\u901f\u7f13\u5b58\u76f8\u5173\u64cd\u4f5c\u5b9a\u4e49\u7684 address_space_operations \u3002</p> <p></p> <p>\u8fd8\u6709\u6211\u4eec\u5728\u00a0\u300a\u4ece Linux \u5185\u6838\u89d2\u5ea6\u770b IO \u6a21\u578b\u7684\u6f14\u53d8\u300b\u00a0(opens new window)\u4e00\u6587\u4e2d\u4ecb\u7ecd\u5230\uff0csocket \u76f8\u5173\u7684\u64cd\u4f5c\u63a5\u53e3\u5b9a\u4e49\u5728 inet_stream_ops \u51fd\u6570\u96c6\u5408\u4e2d\uff0c\u8d1f\u8d23\u5bf9\u4e0a\u7ed9\u7528\u6237\u63d0\u4f9b\u63a5\u53e3\u3002\u800c socket \u4e0e\u5185\u6838\u534f\u8bae\u6808\u4e4b\u95f4\u7684\u64cd\u4f5c\u63a5\u53e3\u5b9a\u4e49\u5728 struct sock \u4e2d\u7684 sk_prot \u6307\u9488\u4e0a\uff0c\u8fd9\u91cc\u6307\u5411 tcp_prot \u534f\u8bae\u64cd\u4f5c\u51fd\u6570\u96c6\u5408\u3002</p> <p></p> <p>\u5bf9 socket \u53d1\u8d77\u7684\u7cfb\u7edf IO \u8c03\u7528\u65f6\uff0c\u5728\u5185\u6838\u4e2d\u9996\u5148\u4f1a\u8c03\u7528 socket \u7684\u6587\u4ef6\u7ed3\u6784 struct file \u4e2d\u7684 file_operations \u6587\u4ef6\u64cd\u4f5c\u96c6\u5408\uff0c\u7136\u540e\u8c03\u7528 struct socket \u4e2d\u7684 ops \u6307\u5411\u7684 inet_stream_opssocket \u64cd\u4f5c\u51fd\u6570\uff0c\u6700\u7ec8\u8c03\u7528\u5230 struct sock \u4e2d sk_prot \u6307\u9488\u6307\u5411\u7684 tcp_prot \u5185\u6838\u534f\u8bae\u6808\u64cd\u4f5c\u51fd\u6570\u63a5\u53e3\u96c6\u5408\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#57","title":"#5.7 \u865a\u62df\u5185\u5b58\u533a\u57df\u5728\u5185\u6838\u4e2d\u662f\u5982\u4f55\u88ab\u7ec4\u7ec7\u7684","text":"<p>\u5728\u4e0a\u4e00\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5185\u6838\u4e2d\u7528\u6765\u8868\u793a\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u7684\u7ed3\u6784\u4f53 struct vm_area_struct \uff0c\u5e76\u8be6\u7ec6\u4e3a\u5927\u5bb6\u5256\u6790\u4e86 struct vm_area_struct \u4e2d\u7684\u4e00\u4e9b\u91cd\u8981\u7684\u5173\u952e\u5c5e\u6027\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u719f\u6089\u4e86\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u7684\u95ee\u9898\u5c31\u662f\u5728\u5185\u6838\u4e2d\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\u662f\u5982\u4f55\u88ab\u7ec4\u7ec7\u7684\u5462\uff1f</p> <p></p> <p>\u6211\u4eec\u7ee7\u7eed\u6765\u5230 struct vm_area_struct \u7ed3\u6784\u4e2d\uff0c\u6765\u770b\u4e00\u4e0b\u4e0e\u7ec4\u7ec7\u7ed3\u6784\u76f8\u5173\u7684\u4e00\u4e9b\u5c5e\u6027\uff1a</p> <pre><code>struct vm_area_struct {\n\n    struct vm_area_struct *vm_next, *vm_prev;\n    struct rb_node vm_rb;\n    struct list_head anon_vma_chain; \n    struct mm_struct *vm_mm;    /* The address space we belong to. */\n\n    unsigned long vm_start;     /* Our start address within vm_mm. */\n    unsigned long vm_end;       /* The first byte after our end address\n                       within vm_mm. */\n    /*\n     * Access permissions of this VMA.\n     */\n    pgprot_t vm_page_prot;\n    unsigned long vm_flags; \n\n    struct anon_vma *anon_vma;  /* Serialized by page_table_lock */\n    struct file * vm_file;      /* File we map to (can be NULL). */\n    unsigned long vm_pgoff;     /* Offset (within vm_file) in PAGE_SIZE\n                       units */ \n    void * vm_private_data;     /* was vm_pte (shared mem) */\n    /* Function pointers to deal with this struct. */\n    const struct vm_operations_struct *vm_ops;\n}\n</code></pre> <p>\u5728\u5185\u6838\u4e2d\u5176\u5b9e\u662f\u901a\u8fc7\u4e00\u4e2a struct vm_area_struct \u7ed3\u6784\u7684\u53cc\u5411\u94fe\u8868\u5c06\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u4e32\u8054\u8d77\u6765\u7684\u3002</p> <p>vm_area_struct \u7ed3\u6784\u4e2d\u7684 vm_next \uff0cvm_prev \u6307\u9488\u5206\u522b\u6307\u5411 VMA \u8282\u70b9\u6240\u5728\u53cc\u5411\u94fe\u8868\u4e2d\u7684\u540e\u7ee7\u8282\u70b9\u548c\u524d\u9a71\u8282\u70b9\uff0c\u5185\u6838\u4e2d\u7684\u8fd9\u4e2a VMA \u53cc\u5411\u94fe\u8868\u662f\u6709\u987a\u5e8f\u7684\uff0c\u6240\u6709 VMA \u8282\u70b9\u6309\u7167\u4f4e\u5730\u5740\u5230\u9ad8\u5730\u5740\u7684\u589e\u957f\u65b9\u5411\u6392\u5e8f\u3002</p> <p>\u53cc\u5411\u94fe\u8868\u4e2d\u7684\u6700\u540e\u4e00\u4e2a VMA \u8282\u70b9\u7684 vm_next \u6307\u9488\u6307\u5411 NULL\uff0c\u53cc\u5411\u94fe\u8868\u7684\u5934\u6307\u9488\u5b58\u50a8\u5728\u5185\u5b58\u63cf\u8ff0\u7b26 struct mm_struct \u7ed3\u6784\u4e2d\u7684 mmap \u4e2d\uff0c\u6b63\u662f\u8fd9\u4e2a mmap \u4e32\u8054\u8d77\u4e86\u6574\u4e2a\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u865a\u62df\u5185\u5b58\u533a\u57df\u3002</p> <pre><code>struct mm_struct {\n    struct vm_area_struct *mmap;        /* list of VMAs */\n}\n</code></pre> <p>\u5728\u6bcf\u4e2a\u865a\u62df\u5185\u5b58\u533a\u57df VMA \u4e2d\u53c8\u901a\u8fc7 struct vm_area_struct \u4e2d\u7684 vm_mm \u6307\u9488\u6307\u5411\u4e86\u6240\u5c5e\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4 mm_struct\u3002</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u00a0<code>cat /proc/pid/maps</code>\u00a0\u6216\u8005\u00a0<code>pmap pid</code>\u00a0\u67e5\u770b\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5e03\u5c40\u4ee5\u53ca\u5176\u4e2d\u5305\u542b\u7684\u6240\u6709\u5185\u5b58\u533a\u57df\u3002\u8fd9\u4e24\u4e2a\u547d\u4ee4\u80cc\u540e\u7684\u5b9e\u73b0\u539f\u7406\u5c31\u662f\u901a\u8fc7\u904d\u5386\u5185\u6838\u4e2d\u7684\u8fd9\u4e2a vm_area_struct \u53cc\u5411\u94fe\u8868\u83b7\u53d6\u7684\u3002</p> <p>\u5185\u6838\u4e2d\u5173\u4e8e\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u64cd\u4f5c\u9664\u4e86\u904d\u5386\u4e4b\u5916\u8fd8\u6709\u8bb8\u591a\u9700\u8981\u6839\u636e\u7279\u5b9a\u865a\u62df\u5185\u5b58\u5730\u5740\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u67e5\u627e\u7279\u5b9a\u7684\u865a\u62df\u5185\u5b58\u533a\u57df\u3002</p> <p>\u5c24\u5176\u5728\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u5305\u542b\u7684\u5185\u5b58\u533a\u57df VMA \u6bd4\u8f83\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u7ea2\u9ed1\u6811\u67e5\u627e\u7279\u5b9a\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f O( logN ) \uff0c\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u67e5\u627e\u6240\u9700\u7684\u65f6\u95f4\u3002</p> <p>\u6240\u4ee5\u5728\u5185\u6838\u4e2d\uff0c\u540c\u6837\u7684\u5185\u5b58\u533a\u57df vm_area_struct \u4f1a\u6709\u4e24\u79cd\u7ec4\u7ec7\u5f62\u5f0f\uff0c\u4e00\u79cd\u662f\u53cc\u5411\u94fe\u8868\u7528\u4e8e\u9ad8\u6548\u7684\u904d\u5386\uff0c\u53e6\u4e00\u79cd\u5c31\u662f\u7ea2\u9ed1\u6811\u7528\u4e8e\u9ad8\u6548\u7684\u67e5\u627e\u3002</p> <p>\u6bcf\u4e2a VMA \u533a\u57df\u90fd\u662f\u7ea2\u9ed1\u6811\u4e2d\u7684\u4e00\u4e2a\u8282\u70b9\uff0c\u901a\u8fc7 struct vm_area_struct \u7ed3\u6784\u4e2d\u7684 vm_rb \u5c06\u81ea\u5df1\u8fde\u63a5\u5230\u7ea2\u9ed1\u6811\u4e2d\u3002</p> <p>\u800c\u7ea2\u9ed1\u6811\u4e2d\u7684\u6839\u8282\u70b9\u5b58\u50a8\u5728\u5185\u5b58\u63cf\u8ff0\u7b26 struct mm_struct \u4e2d\u7684 mm_rb \u4e2d\uff1a</p> <pre><code>struct mm_struct {\n     struct rb_root mm_rb;\n}\n</code></pre> <p></p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#6","title":"#6. \u7a0b\u5e8f\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5982\u4f55\u6620\u5c04\u5230\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d","text":"<p>\u7ecf\u8fc7\u524d\u8fb9\u8fd9\u4e48\u591a\u5c0f\u8282\u7684\u5185\u5bb9\u4ecb\u7ecd\uff0c\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u719f\u6089\u4e86\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\uff0c\u4ee5\u53ca\u5185\u6838\u5982\u4f55\u7ba1\u7406\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df\uff0c\u5e76\u5bf9\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u6709\u4e86\u4e00\u4e2a\u5b8c\u6574\u5168\u9762\u7684\u8ba4\u8bc6\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u518d\u6765\u56de\u5230\u6700\u521d\u7684\u8d77\u70b9\uff0c\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4 mm_struct \u4ee5\u53ca\u8fd9\u4e9b\u865a\u62df\u5185\u5b58\u533a\u57df vm_area_struct \u662f\u5982\u4f55\u88ab\u521b\u5efa\u5e76\u521d\u59cb\u5316\u7684\u5462\uff1f</p> <p></p> <p>\u5728 \u300a3. \u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u300b\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u65f6\u63d0\u5230\uff0c\u6211\u4eec\u5199\u7684\u7a0b\u5e8f\u4ee3\u7801\u7f16\u8bd1\u4e4b\u540e\u4f1a\u751f\u6210\u4e00\u4e2a ELF \u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6240\u9700\u8981\u7684\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u7a0b\u5e8f\u7684\u673a\u5668\u7801\uff0c\u7a0b\u5e8f\u4e2d\u7684\u5168\u5c40\u53d8\u91cf\u4ee5\u53ca\u9759\u6001\u53d8\u91cf\u7b49\u3002</p> <p>\u8fd9\u4e2a ELF \u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u7684\u5e03\u5c40\u548c\u6211\u4eec\u524d\u8fb9\u8bb2\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5e03\u5c40\u7c7b\u4f3c\uff0c\u4e5f\u662f\u4e00\u6bb5\u4e00\u6bb5\u7684\uff0c\u6bcf\u4e00\u6bb5\u5305\u542b\u4e86\u4e0d\u540c\u7684\u5143\u6570\u636e\u3002</p> <p>\u78c1\u76d8\u6587\u4ef6\u4e2d\u7684\u6bb5\u6211\u4eec\u53eb\u505a Section\uff0c\u5185\u5b58\u4e2d\u7684\u6bb5\u6211\u4eec\u53eb\u505a Segment\uff0c\u4e5f\u5c31\u662f\u5185\u5b58\u533a\u57df\u3002</p> <p>\u78c1\u76d8\u6587\u4ef6\u4e2d\u7684\u8fd9\u4e9b Section \u4f1a\u5728\u8fdb\u7a0b\u8fd0\u884c\u4e4b\u524d\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u5e76\u6620\u5c04\u5230\u5185\u5b58\u4e2d\u7684 Segment\u3002\u901a\u5e38\u662f\u591a\u4e2a Section \u6620\u5c04\u5230\u4e00\u4e2a Segment\u3002</p> <p>\u6bd4\u5982\u78c1\u76d8\u6587\u4ef6\u4e2d\u7684 .text\uff0c.rodata \u7b49\u4e00\u4e9b\u53ea\u8bfb\u7684 Section\uff0c\u4f1a\u88ab\u6620\u5c04\u5230\u5185\u5b58\u7684\u4e00\u4e2a\u53ea\u8bfb\u53ef\u6267\u884c\u7684 Segment \u91cc\uff08\u4ee3\u7801\u6bb5\uff09\u3002\u800c .data\uff0c.bss \u7b49\u4e00\u4e9b\u53ef\u8bfb\u5199\u7684 Section\uff0c\u5219\u4f1a\u88ab\u6620\u5c04\u5230\u5185\u5b58\u7684\u4e00\u4e2a\u5177\u6709\u8bfb\u5199\u6743\u9650\u7684 Segment \u91cc\uff08\u6570\u636e\u6bb5\uff0cBSS \u6bb5\uff09\u3002</p> <p>\u90a3\u4e48\u8fd9\u4e9b ELF \u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u7684 Section \u662f\u5982\u4f55\u52a0\u8f7d\u5e76\u6620\u5c04\u8fdb\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5462\uff1f</p> <p>\u5185\u6838\u4e2d\u5b8c\u6210\u8fd9\u4e2a\u6620\u5c04\u8fc7\u7a0b\u7684\u51fd\u6570\u662f load_elf_binary \uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u5f88\u5927\uff0c\u52a0\u8f7d\u5185\u6838\u7684\u662f\u5b83\uff0c\u542f\u52a8\u7b2c\u4e00\u4e2a\u7528\u6237\u6001\u8fdb\u7a0b init \u7684\u662f\u5b83\uff0cfork \u5b8c\u4e86\u4ee5\u540e\uff0c\u8c03\u7528 exec \u8fd0\u884c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u7684\u4e5f\u662f\u5b83\u3002\u5f53 exec \u8fd0\u884c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u9664\u4e86\u89e3\u6790 ELF \u7684\u683c\u5f0f\u4e4b\u5916\uff0c\u53e6\u5916\u4e00\u4e2a\u91cd\u8981\u7684\u4e8b\u60c5\u5c31\u662f\u5efa\u7acb\u4e0a\u8ff0\u63d0\u5230\u7684\u5185\u5b58\u6620\u5c04\u3002</p> <pre><code>static int load_elf_binary(struct linux_binprm *bprm)\n{\n      ...... \u7701\u7565 ........\n  // \u8bbe\u7f6e\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5185\u5b58\u6620\u5c04\u533a\u57df\u8d77\u59cb\u5730\u5740 mmap_base\n  setup_new_exec(bprm);\n\n     ...... \u7701\u7565 ........\n  // \u521b\u5efa\u5e76\u521d\u59cb\u5316\u6808\u5bf9\u5e94\u7684 vm_area_struct \u7ed3\u6784\u3002\n  // \u8bbe\u7f6e mm-&gt;start_stack \u5c31\u662f\u6808\u7684\u8d77\u59cb\u5730\u5740\u4e5f\u5c31\u662f\u6808\u5e95\uff0c\u5e76\u5c06 mm-&gt;arg_start \u662f\u6307\u5411\u6808\u5e95\u7684\u3002\n  retval = setup_arg_pages(bprm, randomize_stack_top(STACK_TOP),\n         executable_stack);\n\n     ...... \u7701\u7565 ........\n  // \u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u7684\u4ee3\u7801\u90e8\u5206\u6620\u5c04\u5230\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\n  error = elf_map(bprm-&gt;file, load_bias + vaddr, elf_ppnt,\n        elf_prot, elf_flags, total_size);\n\n     ...... \u7701\u7565 ........\n // \u521b\u5efa\u5e76\u521d\u59cb\u5316\u5806\u5bf9\u5e94\u7684\u7684 vm_area_struct \u7ed3\u6784\n // \u8bbe\u7f6e current-&gt;mm-&gt;start_brk = current-&gt;mm-&gt;brk\uff0c\u8bbe\u7f6e\u5806\u7684\u8d77\u59cb\u5730\u5740 start_brk\uff0c\u7ed3\u675f\u5730\u5740 brk\u3002 \u8d77\u521d\u4e24\u8005\u76f8\u7b49\u8868\u793a\u5806\u662f\u7a7a\u7684\n  retval = set_brk(elf_bss, elf_brk, bss_prot);\n\n     ...... \u7701\u7565 ........\n  // \u5c06\u8fdb\u7a0b\u4f9d\u8d56\u7684\u52a8\u6001\u94fe\u63a5\u5e93 .so \u6587\u4ef6\u6620\u5c04\u5230\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5185\u5b58\u6620\u5c04\u533a\u57df\n  elf_entry = load_elf_interp(&amp;loc-&gt;interp_elf_ex,\n              interpreter,\n              &amp;interp_map_addr,\n              load_bias, interp_elf_phdata);\n\n     ...... \u7701\u7565 ........\n  // \u521d\u59cb\u5316\u5185\u5b58\u63cf\u8ff0\u7b26 mm_struct\n  current-&gt;mm-&gt;end_code = end_code;\n  current-&gt;mm-&gt;start_code = start_code;\n  current-&gt;mm-&gt;start_data = start_data;\n  current-&gt;mm-&gt;end_data = end_data;\n  current-&gt;mm-&gt;start_stack = bprm-&gt;p;\n\n     ...... \u7701\u7565 ........\n}\n</code></pre> <ul> <li> <p>setup_new_exec \u8bbe\u7f6e\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5185\u5b58\u6620\u5c04\u533a\u57df\u8d77\u59cb\u5730\u5740 mmap_base</p> </li> <li> <p>setup_arg_pages \u521b\u5efa\u5e76\u521d\u59cb\u5316\u6808\u5bf9\u5e94\u7684 vm_area_struct \u7ed3\u6784\u3002\u7f6e mm-&gt;start_stack \u5c31\u662f\u6808\u7684\u8d77\u59cb\u5730\u5740\u4e5f\u5c31\u662f\u6808\u5e95\uff0c\u5e76\u5c06 mm-&gt;arg_start \u662f\u6307\u5411\u6808\u5e95\u7684\u3002</p> </li> <li> <p>elf_map \u5c06 ELF \u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d.text \uff0c.data\uff0c.bss \u90e8\u5206\u6620\u5c04\u5230\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0cBSS \u6bb5\u4e2d\u3002</p> </li> <li> <p>set_brk \u521b\u5efa\u5e76\u521d\u59cb\u5316\u5806\u5bf9\u5e94\u7684\u7684 vm_area_struct \u7ed3\u6784\uff0c\u8bbe\u7f6e\u00a0<code>current-&gt;mm-&gt;start_brk = current-&gt;mm-&gt;brk</code>\uff0c\u8bbe\u7f6e\u5806\u7684\u8d77\u59cb\u5730\u5740 start_brk\uff0c\u7ed3\u675f\u5730\u5740 brk\u3002 \u8d77\u521d\u4e24\u8005\u76f8\u7b49\u8868\u793a\u5806\u662f\u7a7a\u7684\u3002</p> </li> <li> <p>load_elf_interp \u5c06\u8fdb\u7a0b\u4f9d\u8d56\u7684\u52a8\u6001\u94fe\u63a5\u5e93 .so \u6587\u4ef6\u6620\u5c04\u5230\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5185\u5b58\u6620\u5c04\u533a\u57df</p> </li> <li> <p>\u521d\u59cb\u5316\u5185\u5b58\u63cf\u8ff0\u7b26 mm_struct</p> </li> </ul>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#7","title":"#7. \u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4","text":"<p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5728\u5185\u6838\u4e2d\u7684\u5e03\u5c40\u4ee5\u53ca\u7ba1\u7406\uff0c\u90a3\u4e48\u5185\u6838\u6001\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u53c8\u662f\u4ec0\u4e48\u6837\u5b50\u7684\u5462\uff1f\u672c\u5c0f\u8282\u6211\u5c31\u5e26\u5927\u5bb6\u6765\u4e00\u5c42\u4e00\u5c42\u5730\u62c6\u5f00\u8fd9\u4e2a\u9ed1\u76d2\u5b50\u3002</p> <p>\u4e4b\u524d\u5728\u4ecb\u7ecd\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u65f6\u5019\uff0c\u6211\u63d0\u5230\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u662f\u76f8\u4e92\u9694\u79bb\u7684\uff0c\u5f7c\u6b64\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u76f8\u4e92\u611f\u77e5\u4e0d\u5230\u5176\u4ed6\u8fdb\u7a0b\u7684\u5b58\u5728\u3002\u4f7f\u5f97\u8fdb\u7a0b\u4ee5\u4e3a\u81ea\u5df1\u62e5\u6709\u6240\u6709\u7684\u5185\u5b58\u8d44\u6e90\u3002</p> <p></p> <p>\u800c\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u662f\u6240\u6709\u8fdb\u7a0b\u5171\u4eab\u7684\uff0c\u4e0d\u540c\u8fdb\u7a0b\u8fdb\u5165\u5185\u6838\u6001\u4e4b\u540e\u770b\u5230\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5168\u90e8\u662f\u4e00\u6837\u7684\u3002</p> <p>\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u6bd4\u5982\u4e0a\u56fe\u4e2d\u7684\u8fdb\u7a0b a\uff0c\u8fdb\u7a0b b\uff0c\u8fdb\u7a0b c \u5206\u522b\u5728\u5404\u81ea\u7684\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u8bbf\u95ee\u865a\u62df\u5730\u5740 x \u3002\u7531\u4e8e\u8fdb\u7a0b\u4e4b\u95f4\u7684\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u662f\u76f8\u4e92\u9694\u79bb\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u867d\u7136\u5728\u8fdb\u7a0ba\uff0c\u8fdb\u7a0bb\uff0c\u8fdb\u7a0bc \u8bbf\u95ee\u7684\u90fd\u662f\u865a\u62df\u5730\u5740 x \u4f46\u662f\u770b\u5230\u7684\u5185\u5bb9\u5374\u662f\u4e0d\u4e00\u6837\u7684\uff08\u80cc\u540e\u53ef\u80fd\u6620\u5c04\u5230\u4e0d\u540c\u7684\u7269\u7406\u5185\u5b58\u4e2d\uff09\u3002</p> <p>\u4f46\u662f\u5f53\u8fdb\u7a0b a\uff0c\u8fdb\u7a0b b\uff0c\u8fdb\u7a0b c \u8fdb\u5165\u5230\u5185\u6838\u6001\u4e4b\u540e\u60c5\u51b5\u5c31\u4e0d\u4e00\u6837\u4e86\uff0c\u7531\u4e8e\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u662f\u5404\u4e2a\u8fdb\u7a0b\u5171\u4eab\u7684\uff0c\u6240\u4ee5\u5b83\u4eec\u5728\u5185\u6838\u7a7a\u95f4\u4e2d\u770b\u5230\u7684\u5185\u5bb9\u5168\u90e8\u662f\u4e00\u6837\u7684\uff0c\u6bd4\u5982\u8fdb\u7a0b a\uff0c\u8fdb\u7a0b b\uff0c\u8fdb\u7a0b c \u5728\u5185\u6838\u6001\u90fd\u53bb\u8bbf\u95ee\u865a\u62df\u5730\u5740 y\u3002\u8fd9\u65f6\u5b83\u4eec\u770b\u5230\u7684\u5185\u5bb9\u5c31\u662f\u4e00\u6837\u7684\u4e86\u3002</p> <p>\u8fd9\u91cc\u6211\u548c\u5927\u5bb6\u6f84\u6e05\u4e00\u4e2a\u7ecf\u5e38\u88ab\u8bef\u89e3\u7684\u6982\u5ff5\uff1a\u7531\u4e8e\u5185\u6838\u4f1a\u6d89\u53ca\u5230\u7269\u7406\u5185\u5b58\u7684\u7ba1\u7406\uff0c\u6240\u4ee5\u5f88\u591a\u4eba\u4f1a\u60f3\u5f53\u7136\u5730\u8ba4\u4e3a\u53ea\u8981\u8fdb\u5165\u4e86\u5185\u6838\u6001\u5c31\u5f00\u59cb\u4f7f\u7528\u7269\u7406\u5730\u5740\u4e86\uff0c\u8fd9\u5c31\u5927\u9519\u7279\u9519\u4e86\uff0c\u5343\u4e07\u4e0d\u8981\u8fd9\u6837\u7406\u89e3\uff0c\u8fdb\u7a0b\u8fdb\u5165\u5185\u6838\u6001\u4e4b\u540e\u4f7f\u7528\u7684\u4ecd\u7136\u662f\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u53ea\u4e0d\u8fc7\u5728\u5185\u6838\u4e2d\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u88ab\u9650\u5236\u5728\u4e86\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u8303\u56f4\u4e2d\uff0c\u8fd9\u4e5f\u662f\u672c\u5c0f\u8282\u6211\u8981\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u7684\u4e3b\u9898\u3002</p> <p>\u5728\u6e05\u695a\u4e86\u8fd9\u4e2a\u57fa\u672c\u6982\u5ff5\u4e4b\u540e\uff0c\u4e0b\u9762\u6211\u5206\u522b\u4ece 32 \u4f4d\u4f53\u7cfb \u548c 64 \u4f4d\u4f53\u7cfb\u4e0b\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#71-32","title":"#7.1 32 \u4f4d\u4f53\u7cfb\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5e03\u5c40","text":"<p>\u5728\u524d\u8fb9\u300a5.1 \u5185\u6838\u5982\u4f55\u5212\u5206\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u300b\u5c0f\u8282\u4e2d\u6211\u4eec\u63d0\u5230\uff0c\u5185\u6838\u5728\u00a0<code>/arch/x86/include/asm/page_32_types.h</code>\u00a0\u6587\u4ef6\u4e2d\u901a\u8fc7 TASK_SIZE \u5c06\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u5272\u5f00\u6765\u3002</p> <pre><code>/*\n * User space process size: 3GB (default).\n */\n#define TASK_SIZE       __PAGE_OFFSET\n</code></pre> <p>__PAGE_OFFSET \u7684\u503c\u5728 32 \u4f4d\u7cfb\u7edf\u4e0b\u4e3a 0xC000 000</p> <p></p> <p>\u5728 32 \u4f4d\u4f53\u7cfb\u7ed3\u6784\u4e0b\u8fdb\u7a0b\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 3 GB\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 - 0xC000 000 \u3002\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a 1 GB\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0xC000 000 - 0xFFFF FFFF\u3002</p> <p>\u672c\u5c0f\u8282\u6211\u4eec\u4e3b\u8981\u5173\u6ce8 0xC000 000 - 0xFFFF FFFF \u8fd9\u6bb5\u865a\u62df\u5185\u5b58\u5730\u5740\u533a\u57df\u4e5f\u5c31\u662f\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\u60c5\u51b5\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#711","title":"#7.1.1 \u76f4\u63a5\u6620\u5c04\u533a","text":"<p>\u5728\u603b\u5171\u5927\u5c0f 1G \u7684\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\uff0c\u4f4d\u4e8e\u6700\u524d\u8fb9\u6709\u4e00\u5757 896M \u5927\u5c0f\u7684\u533a\u57df\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u76f4\u63a5\u6620\u5c04\u533a\u6216\u8005\u7ebf\u6027\u6620\u5c04\u533a\uff0c\u5730\u5740\u8303\u56f4\u4e3a 3G -- 3G + 896m \u3002</p> <p>\u4e4b\u6240\u4ee5\u8fd9\u5757 896M \u5927\u5c0f\u7684\u533a\u57df\u79f0\u4e3a\u76f4\u63a5\u6620\u5c04\u533a\u6216\u8005\u7ebf\u6027\u6620\u5c04\u533a\uff0c\u662f\u56e0\u4e3a\u8fd9\u5757\u8fde\u7eed\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u4f1a\u6620\u5c04\u5230 0 - 896M \u8fd9\u5757\u8fde\u7eed\u7684\u7269\u7406\u5185\u5b58\u4e0a\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4 3G -- 3G + 896m \u8fd9\u5757 896M \u5927\u5c0f\u7684\u865a\u62df\u5185\u5b58\u4f1a\u76f4\u63a5\u6620\u5c04\u5230 0 - 896M \u8fd9\u5757 896M \u5927\u5c0f\u7684\u7269\u7406\u5185\u5b58\u4e0a\uff0c\u8fd9\u5757\u533a\u57df\u4e2d\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u76f4\u63a5\u51cf\u53bb 0xC000 0000 (3G) \u5c31\u5f97\u5230\u4e86\u7269\u7406\u5185\u5b58\u5730\u5740\u3002\u6240\u4ee5\u6211\u4eec\u79f0\u8fd9\u5757\u533a\u57df\u4e3a\u76f4\u63a5\u6620\u5c04\u533a\u3002</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u4e3a\u5927\u5bb6\u89e3\u91ca\uff0c\u6211\u4eec\u5047\u8bbe\u73b0\u5728\u673a\u5668\u4e0a\u7684\u7269\u7406\u5185\u5b58\u4e3a 4G \u5927\u5c0f</p> <p></p> <p>\u867d\u7136\u8fd9\u5757\u533a\u57df\u4e2d\u7684\u865a\u62df\u5730\u5740\u662f\u76f4\u63a5\u6620\u5c04\u5230\u7269\u7406\u5730\u5740\u4e0a\uff0c\u4f46\u662f\u5185\u6838\u5728\u8bbf\u95ee\u8fd9\u6bb5\u533a\u57df\u7684\u65f6\u5019\u8fd8\u662f\u8d70\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u5185\u6838\u4e5f\u4f1a\u4e3a\u8fd9\u5757\u7a7a\u95f4\u5efa\u7acb\u6620\u5c04\u9875\u8868\u3002\u5173\u4e8e\u9875\u8868\u7684\u6982\u5ff5\u6211\u540e\u7eed\u4f1a\u4e3a\u5927\u5bb6\u8be6\u7ec6\u8bb2\u89e3\uff0c\u8fd9\u91cc\u5927\u5bb6\u53ea\u9700\u8981\u7b80\u5355\u7406\u89e3\u4e3a\u9875\u8868\u4fdd\u5b58\u4e86\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u5173\u7cfb\u5373\u53ef\u3002</p> <p>\u5927\u5bb6\u8fd9\u91cc\u53ea\u9700\u8981\u8bb0\u5f97\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u524d 896M \u533a\u57df\u662f\u76f4\u63a5\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e2d\u7684\u524d 896M \u533a\u57df\u4e2d\u7684\uff0c\u76f4\u63a5\u6620\u5c04\u533a\u4e2d\u7684\u6620\u5c04\u5173\u7cfb\u662f\u4e00\u6bd4\u4e00\u6620\u5c04\u3002\u6620\u5c04\u5173\u7cfb\u662f\u56fa\u5b9a\u7684\u4e0d\u4f1a\u6539\u53d8\u3002</p> <p>\u660e\u767d\u4e86\u8fd9\u4e2a\u5173\u7cfb\u4e4b\u540e\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u5c31\u770b\u4e00\u4e0b\u8fd9\u5757\u76f4\u63a5\u6620\u5c04\u533a\u57df\u5728\u7269\u7406\u5185\u5b58\u4e2d\u7a76\u7adf\u5b58\u7684\u662f\u4ec0\u4e48\u5185\u5bb9<sub>~</sub></p> <p>\u5728\u8fd9\u6bb5 896M \u5927\u5c0f\u7684\u7269\u7406\u5185\u5b58\u4e2d\uff0c\u524d 1M \u5df2\u7ecf\u5728\u7cfb\u7edf\u542f\u52a8\u7684\u65f6\u5019\u88ab\u7cfb\u7edf\u5360\u7528\uff0c1M \u4e4b\u540e\u7684\u7269\u7406\u5185\u5b58\u5b58\u653e\u7684\u662f\u5185\u6838\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0cBSS \u6bb5\uff08\u8fd9\u4e9b\u4fe1\u606f\u8d77\u521d\u5b58\u653e\u5728 ELF\u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\uff0c\u5728\u7cfb\u7edf\u542f\u52a8\u7684\u65f6\u5019\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\uff09\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u00a0<code>cat /proc/iomem</code>\u00a0\u547d\u4ee4\u67e5\u770b\u5177\u4f53\u7269\u7406\u5185\u5b58\u5e03\u5c40\u60c5\u51b5\u3002</p> <p>\u5f53\u6211\u4eec\u4f7f\u7528 fork \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u8fdb\u7a0b\u7684\u65f6\u5019\uff0c\u5185\u6838\u4f1a\u521b\u5efa\u4e00\u7cfb\u5217\u8fdb\u7a0b\u76f8\u5173\u7684\u63cf\u8ff0\u7b26\uff0c\u6bd4\u5982\u4e4b\u524d\u63d0\u5230\u7684\u8fdb\u7a0b\u7684\u6838\u5fc3\u6570\u636e\u7ed3\u6784 task_struct\uff0c\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u63cf\u8ff0\u7b26 mm_struct\uff0c\u4ee5\u53ca\u865a\u62df\u5185\u5b58\u533a\u57df\u63cf\u8ff0\u7b26 vm_area_struct \u7b49\u3002</p> <p>\u8fd9\u4e9b\u8fdb\u7a0b\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\u4e5f\u4f1a\u5b58\u653e\u5728\u7269\u7406\u5185\u5b58\u524d 896M \u7684\u8fd9\u6bb5\u533a\u57df\u4e2d\uff0c\u5f53\u7136\u4e5f\u4f1a\u88ab\u76f4\u63a5\u6620\u5c04\u81f3\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684 3G -- 3G + 896m \u8fd9\u6bb5\u76f4\u63a5\u6620\u5c04\u533a\u57df\u4e2d\u3002</p> <p></p> <p>\u5f53\u8fdb\u7a0b\u88ab\u521b\u5efa\u5b8c\u6bd5\u4e4b\u540e\uff0c\u5728\u5185\u6838\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u6d89\u53ca\u5185\u6838\u6808\u7684\u5206\u914d\uff0c\u5185\u6838\u4f1a\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5206\u914d\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u5185\u6838\u6808\uff08\u4e00\u822c\u662f\u4e24\u4e2a\u9875\u5927\u5c0f\uff0c\u4f9d\u8d56\u5177\u4f53\u7684\u4f53\u7cfb\u7ed3\u6784\uff09\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u6574\u4e2a\u8c03\u7528\u94fe\u5fc5\u987b\u653e\u5728\u81ea\u5df1\u7684\u5185\u6838\u6808\u4e2d\uff0c\u5185\u6838\u6808\u4e5f\u662f\u5206\u914d\u5728\u76f4\u63a5\u6620\u5c04\u533a\u3002</p> <p>\u4e0e\u8fdb\u7a0b\u7528\u6237\u7a7a\u95f4\u4e2d\u7684\u6808\u4e0d\u540c\u7684\u662f\uff0c\u5185\u6838\u6808\u5bb9\u91cf\u5c0f\u800c\u4e14\u662f\u56fa\u5b9a\u7684\uff0c\u7528\u6237\u7a7a\u95f4\u4e2d\u7684\u6808\u5bb9\u91cf\u5927\u800c\u4e14\u53ef\u4ee5\u52a8\u6001\u6269\u5c55\u3002\u5185\u6838\u6808\u7684\u6ea2\u51fa\u5371\u5bb3\u975e\u5e38\u5de8\u5927\uff0c\u5b83\u4f1a\u76f4\u63a5\u6084\u65e0\u58f0\u606f\u7684\u8986\u76d6\u76f8\u90bb\u5185\u5b58\u533a\u57df\u4e2d\u7684\u6570\u636e\uff0c\u7834\u574f\u6570\u636e\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u5185\u5bb9\u7684\u4ecb\u7ecd\u6211\u4eec\u4e86\u89e3\u5230\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u6700\u524d\u8fb9\u7684\u8fd9\u6bb5 896M \u5927\u5c0f\u7684\u76f4\u63a5\u6620\u5c04\u533a\u5982\u4f55\u4e0e\u7269\u7406\u5185\u5b58\u8fdb\u884c\u6620\u5c04\u5173\u8054\uff0c\u5e76\u4e14\u6e05\u695a\u4e86\u76f4\u63a5\u6620\u5c04\u533a\u4e3b\u8981\u7528\u6765\u5b58\u653e\u54ea\u4e9b\u5185\u5bb9\u3002</p> <p>\u5199\u5230\u8fd9\u91cc\uff0c\u6211\u89c9\u5f97\u8fd8\u662f\u6709\u5fc5\u8981\u518d\u6b21\u4ece\u529f\u80fd\u5212\u5206\u7684\u89d2\u5ea6\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u4e0b\u8fd9\u5757\u76f4\u63a5\u6620\u5c04\u533a\u57df\u3002</p> <p>\u6211\u4eec\u90fd\u77e5\u9053\u5185\u6838\u5bf9\u7269\u7406\u5185\u5b58\u7684\u7ba1\u7406\u90fd\u662f\u4ee5\u9875\u4e3a\u6700\u5c0f\u5355\u4f4d\u6765\u7ba1\u7406\u7684\uff0c\u6bcf\u9875\u9ed8\u8ba4 4K \u5927\u5c0f\uff0c\u7406\u60f3\u72b6\u51b5\u4e0b\u4efb\u4f55\u79cd\u7c7b\u7684\u6570\u636e\u9875\u90fd\u53ef\u4ee5\u5b58\u653e\u5728\u4efb\u4f55\u9875\u6846\u4e2d\uff0c\u6ca1\u6709\u4ec0\u4e48\u9650\u5236\u3002\u6bd4\u5982\uff1a\u5b58\u653e\u5185\u6838\u6570\u636e\uff0c\u7528\u6237\u6570\u636e\uff0c\u7f13\u51b2\u78c1\u76d8\u6570\u636e\u7b49\u3002</p> <p>\u4f46\u662f\u5b9e\u9645\u7684\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u53d7\u5230\u786c\u4ef6\u65b9\u9762\u7684\u9650\u5236\u5236\u7ea6\uff0c\u95f4\u63a5\u5bfc\u81f4\u9650\u5236\u4e86\u9875\u6846\u7684\u4f7f\u7528\u65b9\u5f0f\u3002</p> <p>\u6bd4\u5982\u5728 X86 \u4f53\u7cfb\u7ed3\u6784\u4e0b\uff0cISA \u603b\u7ebf\u7684 DMA \uff08\u76f4\u63a5\u5185\u5b58\u5b58\u53d6\uff09\u63a7\u5236\u5668\uff0c\u53ea\u80fd\u5bf9\u5185\u5b58\u7684\u524d16M \u8fdb\u884c\u5bfb\u5740\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e86 ISA \u8bbe\u5907\u4e0d\u80fd\u5728\u6574\u4e2a 32 \u4f4d\u5730\u5740\u7a7a\u95f4\u4e2d\u6267\u884c DMA\uff0c\u53ea\u80fd\u4f7f\u7528\u7269\u7406\u5185\u5b58\u7684\u524d 16M \u8fdb\u884c DMA \u64cd\u4f5c\u3002</p> <p>\u56e0\u6b64\u76f4\u63a5\u6620\u5c04\u533a\u7684\u524d 16M \u4e13\u95e8\u8ba9\u5185\u6838\u7528\u6765\u4e3a DMA \u5206\u914d\u5185\u5b58\uff0c\u8fd9\u5757 16M \u5927\u5c0f\u7684\u5185\u5b58\u533a\u57df\u6211\u4eec\u79f0\u4e4b\u4e3a ZONE_DMA\u3002</p> <p>\u7528\u4e8e DMA \u7684\u5185\u5b58\u5fc5\u987b\u4ece ZONE_DMA \u533a\u57df\u4e2d\u5206\u914d\u3002</p> <p>\u800c\u76f4\u63a5\u6620\u5c04\u533a\u4e2d\u5269\u4e0b\u7684\u90e8\u5206\u4e5f\u5c31\u662f\u4ece 16M \u5230 896M\uff08\u4e0d\u5305\u542b 896M\uff09\u8fd9\u6bb5\u533a\u57df\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a ZONE_NORMAL\u3002\u4ece\u5b57\u9762\u610f\u4e49\u4e0a\u6211\u4eec\u53ef\u4ee5\u4e86\u89e3\u5230\uff0c\u8fd9\u5757\u533a\u57df\u5305\u542b\u7684\u5c31\u662f\u6b63\u5e38\u7684\u9875\u6846\uff08\u4f7f\u7528\u6ca1\u6709\u4efb\u4f55\u9650\u5236\uff09\u3002</p> <p>ZONE_NORMAL \u7531\u4e8e\u4e5f\u662f\u5c5e\u4e8e\u76f4\u63a5\u6620\u5c04\u533a\u7684\u4e00\u90e8\u5206\uff0c\u5bf9\u5e94\u7684\u7269\u7406\u5185\u5b58 16M \u5230 896M \u8fd9\u6bb5\u533a\u57df\u4e5f\u662f\u88ab\u76f4\u63a5\u6620\u5c04\u81f3\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684 3G + 16M \u5230 3G + 896M \u8fd9\u6bb5\u865a\u62df\u5185\u5b58\u4e0a\u3002</p> <p></p> <p>\u6ce8\u610f\u8fd9\u91cc\u7684 ZONE_DMA \u548c ZONE_NORMAL \u662f\u5185\u6838\u9488\u5bf9\u7269\u7406\u5185\u5b58\u533a\u57df\u7684\u5212\u5206\u3002</p> <p>\u73b0\u5728\u7269\u7406\u5185\u5b58\u4e2d\u7684\u524d 896M \u7684\u533a\u57df\u4e5f\u5c31\u662f\u524d\u8fb9\u4ecb\u7ecd\u7684 ZONE_DMA \u548c ZONE_NORMAL \u533a\u57df\u5230\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u6620\u5c04\u6211\u5c31\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u5b8c\u4e86\uff0c\u5b83\u4eec\u90fd\u662f\u91c7\u7528\u76f4\u63a5\u6620\u5c04\u7684\u65b9\u5f0f\uff0c\u4e00\u6bd4\u4e00\u5c31\u884c\u6620\u5c04\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#712-zone_highmem","title":"#7.1.2 ZONE_HIGHMEM \u9ad8\u7aef\u5185\u5b58","text":"<p>\u800c\u7269\u7406\u5185\u5b58 896M \u4ee5\u4e0a\u7684\u533a\u57df\u88ab\u5185\u6838\u5212\u5206\u4e3a ZONE_HIGHMEM \u533a\u57df\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u9ad8\u7aef\u5185\u5b58\u3002</p> <p>\u672c\u4f8b\u4e2d\u6211\u4eec\u7684\u7269\u7406\u5185\u5b58\u5047\u8bbe\u4e3a 4G\uff0c\u9ad8\u7aef\u5185\u5b58\u533a\u57df\u4e3a 4G - 896M = 3200M\uff0c\u90a3\u4e48\u8fd9\u5757 3200M \u5927\u5c0f\u7684 ZONE_HIGHMEM \u533a\u57df\u8be5\u5982\u4f55\u6620\u5c04\u5230\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u5462\uff1f</p> <p>\u7531\u4e8e\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u524d 896M \u865a\u62df\u5185\u5b58\u5df2\u7ecf\u88ab\u76f4\u63a5\u6620\u5c04\u533a\u6240\u5360\u7528\uff0c\u800c\u5728 32 \u4f53\u7cfb\u7ed3\u6784\u4e0b\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u603b\u5171\u4e5f\u5c31 1G \u7684\u5927\u5c0f\uff0c\u8fd9\u6837\u4e00\u6765\u5185\u6838\u5269\u4f59\u53ef\u7528\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5c31\u53d8\u4e3a\u4e86 1G - 896M = 128M\u3002</p> <p>\u663e\u7136\u7269\u7406\u5185\u5b58\u4e2d 3200M \u5927\u5c0f\u7684 ZONE_HIGHMEM \u533a\u57df\u65e0\u6cd5\u7ee7\u7eed\u901a\u8fc7\u76f4\u63a5\u6620\u5c04\u7684\u65b9\u5f0f\u6620\u5c04\u5230\u8fd9 128M \u5927\u5c0f\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u3002</p> <p>\u8fd9\u6837\u4e00\u6765\u7269\u7406\u5185\u5b58\u4e2d\u7684 ZONE_HIGHMEM \u533a\u57df\u5c31\u53ea\u80fd\u91c7\u7528\u52a8\u6001\u6620\u5c04\u7684\u65b9\u5f0f\u6620\u5c04\u5230 128M \u5927\u5c0f\u7684\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u80fd\u52a8\u6001\u7684\u4e00\u90e8\u5206\u4e00\u90e8\u5206\u7684\u5206\u6279\u6620\u5c04\uff0c\u5148\u6620\u5c04\u6b63\u5728\u4f7f\u7528\u7684\u8fd9\u90e8\u5206\uff0c\u4f7f\u7528\u5b8c\u6bd5\u89e3\u9664\u6620\u5c04\uff0c\u63a5\u7740\u6620\u5c04\u5176\u4ed6\u90e8\u5206\u3002</p> <p>\u77e5\u9053\u4e86 ZONE_HIGHMEM \u533a\u57df\u7684\u6620\u5c04\u539f\u7406\uff0c\u6211\u4eec\u63a5\u7740\u5f80\u4e0b\u770b\u8fd9 128M \u5927\u5c0f\u7684\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7a76\u7adf\u662f\u5982\u4f55\u5e03\u5c40\u7684\uff1f</p> <p></p> <p>\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684 3G + 896M \u8fd9\u5757\u5730\u5740\u5728\u5185\u6838\u4e2d\u5b9a\u4e49\u4e3a high_memory\uff0chigh_memory \u5f80\u4e0a\u6709\u4e00\u6bb5 8M \u5927\u5c0f\u7684\u5185\u5b58\u7a7a\u6d1e\u3002\u7a7a\u6d1e\u8303\u56f4\u4e3a\uff1ahigh_memory \u5230 VMALLOC_START \u3002</p> <p>VMALLOC_START \u5b9a\u4e49\u5728\u5185\u6838\u6e90\u7801\u00a0<code>/arch/x86/include/asm/pgtable_32_areas.h</code>\u00a0\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>#define VMALLOC_OFFSET  (8 * 1024 * 1024)\n\n#define VMALLOC_START   ((unsigned long)high_memory + VMALLOC_OFFSET)\n</code></pre>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#713-vmalloc","title":"#7.1.3 vmalloc \u52a8\u6001\u6620\u5c04\u533a","text":"<p>\u63a5\u4e0b\u6765 VMALLOC_START \u5230 VMALLOC_END \u4e4b\u95f4\u7684\u8fd9\u5757\u533a\u57df\u6210\u4e3a\u52a8\u6001\u6620\u5c04\u533a\u3002\u91c7\u7528\u52a8\u6001\u6620\u5c04\u7684\u65b9\u5f0f\u6620\u5c04\u7269\u7406\u5185\u5b58\u4e2d\u7684\u9ad8\u7aef\u5185\u5b58\u3002</p> <pre><code>#ifdef CONFIG_HIGHMEM\n# define VMALLOC_END    (PKMAP_BASE - 2 * PAGE_SIZE)\n#else\n# define VMALLOC_END    (LDT_BASE_ADDR - 2 * PAGE_SIZE)\n#endif\n</code></pre> <p></p> <p>\u548c\u7528\u6237\u6001\u8fdb\u7a0b\u4f7f\u7528 malloc \u7533\u8bf7\u5185\u5b58\u4e00\u6837\uff0c\u5728\u8fd9\u5757\u52a8\u6001\u6620\u5c04\u533a\u5185\u6838\u662f\u4f7f\u7528 vmalloc \u8fdb\u884c\u5185\u5b58\u5206\u914d\u3002\u7531\u4e8e\u4e4b\u524d\u4ecb\u7ecd\u7684\u52a8\u6001\u6620\u5c04\u7684\u539f\u56e0\uff0cvmalloc \u5206\u914d\u7684\u5185\u5b58\u5728\u865a\u62df\u5185\u5b58\u4e0a\u662f\u8fde\u7eed\u7684\uff0c\u4f46\u662f\u7269\u7406\u5185\u5b58\u662f\u4e0d\u8fde\u7eed\u7684\u3002\u901a\u8fc7\u9875\u8868\u6765\u5efa\u7acb\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u4ece\u800c\u53ef\u4ee5\u5c06\u4e0d\u8fde\u7eed\u7684\u7269\u7406\u5185\u5b58\u6620\u5c04\u5230\u8fde\u7eed\u7684\u865a\u62df\u5185\u5b58\u4e0a\u3002</p> <p>\u7531\u4e8e vmalloc \u83b7\u5f97\u7684\u7269\u7406\u5185\u5b58\u9875\u662f\u4e0d\u8fde\u7eed\u7684\uff0c\u56e0\u6b64\u5b83\u53ea\u80fd\u5c06\u8fd9\u4e9b\u7269\u7406\u5185\u5b58\u9875\u4e00\u4e2a\u4e00\u4e2a\u5730\u8fdb\u884c\u6620\u5c04\uff0c\u5728\u6027\u80fd\u5f00\u9500\u4e0a\u4f1a\u6bd4\u76f4\u63a5\u6620\u5c04\u5927\u5f97\u591a\u3002</p> <p>\u5173\u4e8e vmalloc \u5206\u914d\u5185\u5b58\u7684\u76f8\u5173\u5b9e\u73b0\u539f\u7406\uff0c\u6211\u4f1a\u5728\u540e\u9762\u7684\u6587\u7ae0\u4e2d\u4e3a\u5927\u5bb6\u8bb2\u89e3\uff0c\u8fd9\u91cc\u5927\u5bb6\u53ea\u9700\u8981\u660e\u767d\u5b83\u5728\u54ea\u5757\u865a\u62df\u5185\u5b58\u533a\u57df\u4e2d\u6d3b\u52a8\u5373\u53ef\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#714","title":"#7.1.4 \u6c38\u4e45\u6620\u5c04\u533a","text":"<p>\u800c\u5728 PKMAP_BASE \u5230 FIXADDR_START \u4e4b\u95f4\u7684\u8fd9\u6bb5\u7a7a\u95f4\u79f0\u4e3a\u6c38\u4e45\u6620\u5c04\u533a\u3002\u5728\u5185\u6838\u7684\u8fd9\u6bb5\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e2d\u5141\u8bb8\u5efa\u7acb\u4e0e\u7269\u7406\u9ad8\u7aef\u5185\u5b58\u7684\u957f\u671f\u6620\u5c04\u5173\u7cfb\u3002\u6bd4\u5982\u5185\u6838\u901a\u8fc7 alloc_pages() \u51fd\u6570\u5728\u7269\u7406\u5185\u5b58\u7684\u9ad8\u7aef\u5185\u5b58\u4e2d\u7533\u8bf7\u83b7\u53d6\u5230\u7684\u7269\u7406\u5185\u5b58\u9875\uff0c\u8fd9\u4e9b\u7269\u7406\u5185\u5b58\u9875\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 kmap \u6620\u5c04\u5230\u6c38\u4e45\u6620\u5c04\u533a\u4e2d\u3002</p> <p>LAST_PKMAP \u8868\u793a\u6c38\u4e45\u6620\u5c04\u533a\u53ef\u4ee5\u6620\u5c04\u7684\u9875\u6570\u9650\u5236\u3002</p> <pre><code>#define PKMAP_BASE      \\\n    ((LDT_BASE_ADDR - PAGE_SIZE) &amp; PMD_MASK)\n\n#define LAST_PKMAP 1024\n</code></pre>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#815","title":"#8.1.5 \u56fa\u5b9a\u6620\u5c04\u533a","text":"<p>\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u4e0b\u4e00\u4e2a\u533a\u57df\u4e3a\u56fa\u5b9a\u6620\u5c04\u533a\uff0c\u533a\u57df\u8303\u56f4\u4e3a\uff1aFIXADDR_START \u5230 FIXADDR_TOP\u3002</p> <p>FIXADDR_START \u548c FIXADDR_TOP \u5b9a\u4e49\u5728\u5185\u6838\u6e90\u7801\u00a0<code>/arch/x86/include/asm/fixmap.h</code>\u00a0\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>#define FIXADDR_START       (FIXADDR_TOP - FIXADDR_SIZE)\n\nextern unsigned long __FIXADDR_TOP; // 0xFFFF F000\n#define FIXADDR_TOP ((unsigned long)__FIXADDR_TOP)\n</code></pre> <p>\u5728\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u76f4\u63a5\u6620\u5c04\u533a\u4e2d\uff0c\u76f4\u63a5\u6620\u5c04\u533a\u4e2d\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u4e0e\u7269\u7406\u5185\u5b58\u524d 896M \u7684\u7a7a\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u90fd\u662f\u9884\u8bbe\u597d\u7684\uff0c\u4e00\u6bd4\u4e00\u6620\u5c04\u3002</p> <p>\u5728\u56fa\u5b9a\u6620\u5c04\u533a\u4e2d\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u53ef\u4ee5\u81ea\u7531\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u7684\u9ad8\u7aef\u5730\u5740\u4e0a\uff0c\u4f46\u662f\u4e0e\u52a8\u6001\u6620\u5c04\u533a\u4ee5\u53ca\u6c38\u4e45\u6620\u5c04\u533a\u4e0d\u540c\u7684\u662f\uff0c\u5728\u56fa\u5b9a\u6620\u5c04\u533a\u4e2d\u865a\u62df\u5730\u5740\u662f\u56fa\u5b9a\u7684\uff0c\u800c\u88ab\u6620\u5c04\u7684\u7269\u7406\u5730\u5740\u662f\u53ef\u4ee5\u6539\u53d8\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6709\u4e9b\u865a\u62df\u5730\u5740\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u56fa\u5b9a\u4e0b\u6765\u4e86\uff0c\u662f\u5728\u5185\u6838\u542f\u52a8\u8fc7\u7a0b\u4e2d\u88ab\u786e\u5b9a\u7684\uff0c\u800c\u8fd9\u4e9b\u865a\u62df\u5730\u5740\u5bf9\u5e94\u7684\u7269\u7406\u5730\u5740\u4e0d\u662f\u56fa\u5b9a\u7684\u3002\u91c7\u7528\u56fa\u5b9a\u865a\u62df\u5730\u5740\u7684\u597d\u5904\u662f\u5b83\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6307\u9488\u5e38\u91cf\uff08\u5e38\u91cf\u7684\u503c\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\uff09\uff0c\u6307\u5411\u7269\u7406\u5730\u5740\uff0c\u5982\u679c\u865a\u62df\u5730\u5740\u4e0d\u56fa\u5b9a\uff0c\u5219\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u3002</p> <p>\u90a3\u4e3a\u4ec0\u4e48\u4f1a\u6709\u56fa\u5b9a\u6620\u5c04\u8fd9\u4e2a\u6982\u5ff5\u5462 ? \u6bd4\u5982\uff1a\u5728\u5185\u6838\u7684\u542f\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4e9b\u6a21\u5757\u9700\u8981\u4f7f\u7528\u865a\u62df\u5185\u5b58\u5e76\u6620\u5c04\u5230\u6307\u5b9a\u7684\u7269\u7406\u5730\u5740\u4e0a\uff0c\u800c\u4e14\u8fd9\u4e9b\u6a21\u5757\u4e5f\u6ca1\u6709\u529e\u6cd5\u7b49\u5f85\u5b8c\u6574\u7684\u5185\u5b58\u7ba1\u7406\u6a21\u5757\u521d\u59cb\u5316\u4e4b\u540e\u518d\u8fdb\u884c\u5730\u5740\u6620\u5c04\u3002\u56e0\u6b64\uff0c\u5185\u6838\u56fa\u5b9a\u5206\u914d\u4e86\u4e00\u4e9b\u865a\u62df\u5730\u5740\uff0c\u8fd9\u4e9b\u5730\u5740\u6709\u56fa\u5b9a\u7684\u7528\u9014\uff0c\u4f7f\u7528\u8be5\u5730\u5740\u7684\u6a21\u5757\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\uff0c\u5c06\u8fd9\u4e9b\u56fa\u5b9a\u5206\u914d\u7684\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u6307\u5b9a\u7684\u7269\u7406\u5730\u5740\u4e0a\u53bb\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#716","title":"#7.1.6 \u4e34\u65f6\u6620\u5c04\u533a","text":"<p>\u5728\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u6700\u540e\u4e00\u5757\u533a\u57df\u4e3a\u4e34\u65f6\u6620\u5c04\u533a\uff0c\u90a3\u4e48\u8fd9\u5757\u4e34\u65f6\u6620\u5c04\u533a\u662f\u7528\u6765\u5e72\u4ec0\u4e48\u7684\u5462\uff1f</p> <p></p> <p>\u6211\u5728\u4e4b\u524d\u6587\u7ae0\u00a0\u300a\u4ece Linux \u5185\u6838\u89d2\u5ea6\u63a2\u79d8 JDK NIO \u6587\u4ef6\u8bfb\u5199\u672c\u8d28\u300b\u00a0(opens new window)\u7684 \u201c 12.3 iov_iter_copy_from_user_atomic \u201d \u5c0f\u8282\u4e2d\u4ecb\u7ecd\u5728 Buffered IO \u6a21\u5f0f\u4e0b\u8fdb\u884c\u6587\u4ef6\u5199\u5165\u7684\u65f6\u5019\uff0c\u5728\u4e0b\u56fe\u4e2d\u7684\u7b2c\u56db\u6b65\uff0c\u5185\u6838\u4f1a\u8c03\u7528 iov_iter_copy_from_user_atomic \u51fd\u6570\u5c06\u7528\u6237\u7a7a\u95f4\u7f13\u51b2\u533a DirectByteBuffer \u4e2d\u7684\u5f85\u5199\u5165\u6570\u636e\u62f7\u8d1d\u5230 page cache \u4e2d\u3002</p> <p></p> <p>\u4f46\u662f\u5185\u6838\u53c8\u4e0d\u80fd\u76f4\u63a5\u8fdb\u884c\u62f7\u8d1d\uff0c\u56e0\u4e3a\u6b64\u65f6\u4ece page cache \u4e2d\u53d6\u51fa\u7684\u7f13\u5b58\u9875 page \u662f\u7269\u7406\u5730\u5740\uff0c\u800c\u5728\u5185\u6838\u4e2d\u662f\u4e0d\u80fd\u591f\u76f4\u63a5\u64cd\u4f5c\u7269\u7406\u5730\u5740\u7684\uff0c\u53ea\u80fd\u64cd\u4f5c\u865a\u62df\u5730\u5740\u3002</p> <p>\u90a3\u600e\u4e48\u529e\u5462\uff1f\u6240\u4ee5\u5c31\u9700\u8981\u4f7f\u7528 kmap_atomic \u5c06\u7f13\u5b58\u9875\u4e34\u65f6\u6620\u5c04\u5230\u5185\u6838\u7a7a\u95f4\u7684\u4e00\u6bb5\u865a\u62df\u5730\u5740\u4e0a\uff0c\u8fd9\u6bb5\u865a\u62df\u5730\u5740\u5c31\u4f4d\u4e8e\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u4e34\u65f6\u6620\u5c04\u533a\u4e0a\uff0c\u7136\u540e\u5c06\u7528\u6237\u7a7a\u95f4\u7f13\u5b58\u533a DirectByteBuffer \u4e2d\u7684\u5f85\u5199\u5165\u6570\u636e\u901a\u8fc7\u8fd9\u6bb5\u6620\u5c04\u7684\u865a\u62df\u5730\u5740\u62f7\u8d1d\u5230 page cache \u4e2d\u7684\u76f8\u5e94\u7f13\u5b58\u9875\u4e2d\u3002\u8fd9\u65f6\u6587\u4ef6\u7684\u5199\u5165\u64cd\u4f5c\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002</p> <p>\u7531\u4e8e\u662f\u4e34\u65f6\u6620\u5c04\uff0c\u6240\u4ee5\u5728\u62f7\u8d1d\u5b8c\u6210\u4e4b\u540e\uff0c\u8c03\u7528 kunmap_atomic \u5c06\u8fd9\u6bb5\u6620\u5c04\u518d\u89e3\u9664\u6389\u3002</p> <pre><code>size_t iov_iter_copy_from_user_atomic(struct page *page,\n    struct iov_iter *i, unsigned long offset, size_t bytes)\n{\n  // \u5c06\u7f13\u5b58\u9875\u4e34\u65f6\u6620\u5c04\u5230\u5185\u6838\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u4e34\u65f6\u6620\u5c04\u533a\u4e2d\n  char *kaddr = kmap_atomic(page), \n  *p = kaddr + offset;\n  // \u5c06\u7528\u6237\u7f13\u5b58\u533a DirectByteBuffer \u4e2d\u7684\u5f85\u5199\u5165\u6570\u636e\u62f7\u8d1d\u5230\u6587\u4ef6\u7f13\u5b58\u9875\u4e2d\n  iterate_all_kinds(i, bytes, v,\n    copyin((p += v.iov_len) - v.iov_len, v.iov_base, v.iov_len),\n    memcpy_from_page((p += v.bv_len) - v.bv_len, v.bv_page,\n         v.bv_offset, v.bv_len),\n    memcpy((p += v.iov_len) - v.iov_len, v.iov_base, v.iov_len)\n  )\n  // \u89e3\u9664\u5185\u6838\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e0e\u7f13\u5b58\u9875\u4e4b\u95f4\u7684\u4e34\u65f6\u6620\u5c04\uff0c\u8fd9\u91cc\u6620\u5c04\u53ea\u662f\u4e3a\u4e86\u4e34\u65f6\u62f7\u8d1d\u6570\u636e\u7528\n  kunmap_atomic(kaddr);\n  return bytes;\n}\n</code></pre>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#717-32-linux","title":"#7.1.7 32\u4f4d\u4f53\u7cfb\u7ed3\u6784\u4e0b Linux \u865a\u62df\u5185\u5b58\u7a7a\u95f4\u6574\u4f53\u5e03\u5c40","text":"<p>\u5230\u73b0\u5728\u4e3a\u6b62\uff0c\u6574\u4e2a\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5728 32 \u4f4d\u4f53\u7cfb\u4e0b\u7684\u5e03\u5c40\uff0c\u6211\u5c31\u4e3a\u5927\u5bb6\u8be6\u7ec6\u4ecb\u7ecd\u5b8c\u6bd5\u4e86\uff0c\u6211\u4eec\u518d\u6b21\u7ed3\u5408\u524d\u8fb9\u300a4.1 32 \u4f4d\u673a\u5668\u4e0a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u5e03\u300b\u5c0f\u8282\u4e2d\u4ecb\u7ecd\u7684\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u672c\u5c0f\u8282\u4ecb\u7ecd\u7684\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u6765\u6574\u4f53\u56de\u987e\u4e0b 32 \u4f4d\u4f53\u7cfb\u7ed3\u6784 Linux \u7684\u6574\u4e2a\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\uff1a</p> <p></p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#72-64","title":"#7.2 64 \u4f4d\u4f53\u7cfb\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5e03\u5c40","text":"<p>\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5728 32 \u4f4d\u4f53\u7cfb\u4e0b\u53ea\u6709 1G \u5927\u5c0f\uff0c\u5b9e\u5728\u592a\u5c0f\u4e86\uff0c\u56e0\u6b64\u9700\u8981\u7cbe\u7ec6\u5316\u7684\u7ba1\u7406\uff0c\u4e8e\u662f\u6309\u7167\u529f\u80fd\u5206\u7c7b\u5212\u5206\u9664\u4e86\u5f88\u591a\u5185\u6838\u865a\u62df\u5185\u5b58\u533a\u57df\uff0c\u8fd9\u6837\u5c31\u663e\u5f97\u975e\u5e38\u590d\u6742\u3002</p> <p>\u5230\u4e86 64 \u4f4d\u4f53\u7cfb\u4e0b\uff0c\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\u548c\u7ba1\u7406\u5c31\u53d8\u5f97\u5bb9\u6613\u591a\u4e86\uff0c\u56e0\u4e3a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5404\u81ea\u5360\u7528 128T \u7684\u865a\u62df\u5185\u5b58\uff0c\u5b9e\u5728\u662f\u592a\u5927\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8fd9\u91cc\u8fb9\u968f\u610f\u7ff1\u7fd4\uff0c\u968f\u610f\u6325\u970d\u3002</p> <p>\u56e0\u6b64\u5728 64 \u4f4d\u4f53\u7cfb\u4e0b\u7684\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e0e\u7269\u7406\u5185\u5b58\u7684\u6620\u5c04\u5c31\u53d8\u5f97\u975e\u5e38\u7b80\u5355\uff0c\u7531\u4e8e\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u8db3\u591f\u7684\u5927\uff0c\u5373\u4fbf\u662f\u5185\u6838\u8981\u8bbf\u95ee\u5168\u90e8\u7684\u7269\u7406\u5185\u5b58\uff0c\u76f4\u63a5\u6620\u5c04\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u5728\u9700\u8981\u7528\u5230\u300a7.1.2 ZONE_HIGHMEM \u9ad8\u7aef\u5185\u5b58\u300b\u5c0f\u8282\u4e2d\u4ecb\u7ecd\u7684\u9ad8\u7aef\u5185\u5b58\u90a3\u79cd\u52a8\u6001\u6620\u5c04\u65b9\u5f0f\u3002</p> <p>\u5728\u524d\u8fb9\u300a5.1 \u5185\u6838\u5982\u4f55\u5212\u5206\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u300b\u5c0f\u8282\u4e2d\u6211\u4eec\u63d0\u5230\uff0c\u5185\u6838\u5728\u00a0<code>/arch/x86/include/asm/page_64_types.h</code>\u00a0\u6587\u4ef6\u4e2d\u901a\u8fc7 TASK_SIZE \u5c06\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u5272\u5f00\u6765\u3002</p> <pre><code>#define TASK_SIZE       (test_thread_flag(TIF_ADDR32) ? \\\n                    IA32_PAGE_OFFSET : TASK_SIZE_MAX)\n\n#define TASK_SIZE_MAX       task_size_max()\n\n#define task_size_max()     ((_AC(1,UL) &lt;&lt; __VIRTUAL_MASK_SHIFT) - PAGE_SIZE)\n\n#define __VIRTUAL_MASK_SHIFT    47\n</code></pre> <p>64 \u4f4d\u7cfb\u7edf\u4e2d\u7684 TASK_SIZE \u4e3a 0x00007FFFFFFFF000</p> <p></p> <p>\u5728 64 \u4f4d\u7cfb\u7edf\u4e2d\uff0c\u53ea\u4f7f\u7528\u4e86\u5176\u4e2d\u7684\u4f4e 48 \u4f4d\u6765\u8868\u793a\u865a\u62df\u5185\u5b58\u5730\u5740\u3002\u5176\u4e2d\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a\u4f4e 128 T\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0x0000 0000 0000 0000 - 0x0000 7FFF FFFF F000 \u3002</p> <p>\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e3a\u9ad8 128 T\uff0c\u865a\u62df\u5185\u5b58\u5730\u5740\u8303\u56f4\u4e3a\uff1a0xFFFF 8000 0000 0000 - 0xFFFF FFFF FFFF FFFF \u3002</p> <p>\u672c\u5c0f\u8282\u6211\u4eec\u4e3b\u8981\u5173\u6ce8 0xFFFF 8000 0000 0000 - 0xFFFF FFFF FFFF FFFF \u8fd9\u6bb5\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\u60c5\u51b5\u3002</p> <p></p> <p>64 \u4f4d\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4ece 0xFFFF 8000 0000 0000 \u5f00\u59cb\u5230 0xFFFF 8800 0000 0000 \u8fd9\u6bb5\u5730\u5740\u7a7a\u95f4\u662f\u4e00\u4e2a 8T \u5927\u5c0f\u7684\u5185\u5b58\u7a7a\u6d1e\u533a\u57df\u3002</p> <p>\u7d27\u7740\u7740 8T \u5927\u5c0f\u7684\u5185\u5b58\u7a7a\u6d1e\u4e0b\u4e00\u4e2a\u533a\u57df\u5c31\u662f 64T \u5927\u5c0f\u7684\u76f4\u63a5\u6620\u5c04\u533a\u3002\u8fd9\u4e2a\u533a\u57df\u4e2d\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u51cf\u53bb PAGE_OFFSET \u5c31\u76f4\u63a5\u5f97\u5230\u4e86\u7269\u7406\u5185\u5b58\u5730\u5740\u3002</p> <p>PAGE_OFFSET \u53d8\u91cf\u5b9a\u4e49\u5728\u00a0<code>/arch/x86/include/asm/page_64_types.h</code>\u00a0\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>#define __PAGE_OFFSET_BASE      _AC(0xffff880000000000, UL)\n#define __PAGE_OFFSET           __PAGE_OFFSET_BASE\n</code></pre> <p>\u4ece\u56fe\u4e2d VMALLOC_START \u5230 VMALLOC_END \u7684\u8fd9\u6bb5\u533a\u57df\u662f 32T \u5927\u5c0f\u7684 vmalloc \u6620\u5c04\u533a\uff0c\u8fd9\u91cc\u7c7b\u4f3c\u7528\u6237\u7a7a\u95f4\u4e2d\u7684\u5806\uff0c\u5185\u6838\u5728\u8fd9\u91cc\u4f7f\u7528 vmalloc \u7cfb\u7edf\u8c03\u7528\u7533\u8bf7\u5185\u5b58\u3002</p> <p>VMALLOC_START \u548c VMALLOC_END \u53d8\u91cf\u5b9a\u4e49\u5728\u00a0<code>/arch/x86/include/asm/pgtable_64_types.h</code>\u00a0\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>#define __VMALLOC_BASE_L4   0xffffc90000000000UL\n\n#define VMEMMAP_START       __VMEMMAP_BASE_L4\n\n#define VMALLOC_END     (VMALLOC_START + (VMALLOC_SIZE_TB &lt;&lt; 40) - 1)\n</code></pre> <p>\u4ece VMEMMAP_START \u5f00\u59cb\u662f 1T \u5927\u5c0f\u7684\u865a\u62df\u5185\u5b58\u6620\u5c04\u533a\uff0c\u7528\u4e8e\u5b58\u653e\u7269\u7406\u9875\u9762\u7684\u63cf\u8ff0\u7b26 struct page \u7ed3\u6784\u7528\u6765\u8868\u793a\u7269\u7406\u5185\u5b58\u9875\u3002</p> <p>VMEMMAP_START \u53d8\u91cf\u5b9a\u4e49\u5728\u00a0<code>/arch/x86/include/asm/pgtable_64_types.h</code>\u00a0\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>#define __VMEMMAP_BASE_L4   0xffffea0000000000UL\n\n# define VMEMMAP_START      __VMEMMAP_BASE_L4\n</code></pre> <p>\u4ece __START_KERNEL_map \u5f00\u59cb\u662f\u5927\u5c0f\u4e3a 512M \u7684\u533a\u57df\u7528\u4e8e\u5b58\u653e\u5185\u6838\u4ee3\u7801\u6bb5\u3001\u5168\u5c40\u53d8\u91cf\u3001BSS \u7b49\u3002\u8fd9\u91cc\u5bf9\u5e94\u5230\u7269\u7406\u5185\u5b58\u5f00\u59cb\u7684\u4f4d\u7f6e\uff0c\u51cf\u53bb __START_KERNEL_map \u5c31\u80fd\u5f97\u5230\u7269\u7406\u5185\u5b58\u7684\u5730\u5740\u3002\u8fd9\u91cc\u548c\u76f4\u63a5\u6620\u5c04\u533a\u6709\u70b9\u50cf\uff0c\u4f46\u662f\u4e0d\u77db\u76fe\uff0c\u56e0\u4e3a\u76f4\u63a5\u6620\u5c04\u533a\u4e4b\u524d\u6709 8T \u7684\u7a7a\u6d1e\u533a\u57df\uff0c\u65e9\u5c31\u8fc7\u4e86\u5185\u6838\u4ee3\u7801\u5728\u7269\u7406\u5185\u5b58\u4e2d\u52a0\u8f7d\u7684\u4f4d\u7f6e\u3002</p> <p>__START_KERNEL_map \u53d8\u91cf\u5b9a\u4e49\u5728\u00a0<code>/arch/x86/include/asm/page_64_types.h</code>\u00a0\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>#define __START_KERNEL_map  _AC(0xffffffff80000000, UL)\n</code></pre>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#721-64-linux","title":"#7.2.1 64\u4f4d\u4f53\u7cfb\u7ed3\u6784\u4e0b Linux \u865a\u62df\u5185\u5b58\u7a7a\u95f4\u6574\u4f53\u5e03\u5c40","text":"<p>\u5230\u73b0\u5728\u4e3a\u6b62\uff0c\u6574\u4e2a\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5728 64 \u4f4d\u4f53\u7cfb\u4e0b\u7684\u5e03\u5c40\u6211\u5c31\u4e3a\u5927\u5bb6\u8be6\u7ec6\u4ecb\u7ecd\u5b8c\u6bd5\u4e86\uff0c\u6211\u4eec\u518d\u6b21\u7ed3\u5408\u524d\u8fb9\u300a4.2 64 \u4f4d\u673a\u5668\u4e0a\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u5206\u5e03\u300b\u5c0f\u8282\u4ecb\u7ecd\u7684\u8fdb\u7a0b\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u672c\u5c0f\u8282\u4ecb\u7ecd\u7684\u5185\u6838\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u6765\u6574\u4f53\u56de\u987e\u4e0b 64 \u4f4d\u4f53\u7cfb\u7ed3\u6784 Linux \u7684\u6574\u4e2a\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5e03\u5c40\uff1a</p> <p></p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#8","title":"#8. \u5230\u5e95\u4ec0\u4e48\u662f\u7269\u7406\u5185\u5b58\u5730\u5740","text":"<p>\u804a\u5b8c\u4e86\u865a\u62df\u5185\u5b58\uff0c\u6211\u4eec\u63a5\u7740\u804a\u4e00\u4e0b\u7269\u7406\u5185\u5b58\uff0c\u6211\u4eec\u5e73\u65f6\u6240\u79f0\u7684\u5185\u5b58\u4e5f\u53eb\u968f\u673a\u8bbf\u95ee\u5b58\u50a8\u5668\uff08 random-access memory \uff09\u4e5f\u53eb RAM \u3002\u800c RAM \u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>\u4e00\u7c7b\u662f\u9759\u6001 RAM\uff08\u00a0<code>SRAM</code>\u00a0\uff09\uff0c\u8fd9\u7c7b SRAM \u7528\u4e8e CPU \u9ad8\u901f\u7f13\u5b58 L1Cache\uff0cL2Cache\uff0cL3Cache\u3002\u5176\u7279\u70b9\u662f\u8bbf\u95ee\u901f\u5ea6\u5feb\uff0c\u8bbf\u95ee\u901f\u5ea6\u4e3a 1 - 30 \u4e2a\u65f6\u949f\u5468\u671f\uff0c\u4f46\u662f\u5bb9\u91cf\u5c0f\uff0c\u9020\u4ef7\u9ad8\u3002</li> </ul> <p></p> <ul> <li>\u53e6\u4e00\u7c7b\u5219\u662f\u52a8\u6001 RAM (\u00a0<code>DRAM</code>\u00a0)\uff0c\u8fd9\u7c7b DRAM \u7528\u4e8e\u6211\u4eec\u5e38\u8bf4\u7684\u4e3b\u5b58\u4e0a\uff0c\u5176\u7279\u70b9\u7684\u662f\u8bbf\u95ee\u901f\u5ea6\u6162\uff08\u76f8\u5bf9\u9ad8\u901f\u7f13\u5b58\uff09\uff0c\u8bbf\u95ee\u901f\u5ea6\u4e3a 50 - 200 \u4e2a\u65f6\u949f\u5468\u671f\uff0c\u4f46\u662f\u5bb9\u91cf\u5927\uff0c\u9020\u4ef7\u4fbf\u5b9c\u4e9b\uff08\u76f8\u5bf9\u9ad8\u901f\u7f13\u5b58\uff09\u3002</li> </ul> <p>\u5185\u5b58\u7531\u4e00\u4e2a\u4e00\u4e2a\u7684\u5b58\u50a8\u5668\u6a21\u5757\uff08memory module\uff09\u7ec4\u6210\uff0c\u5b83\u4eec\u63d2\u5728\u4e3b\u677f\u7684\u6269\u5c55\u69fd\u4e0a\u3002\u5e38\u89c1\u7684\u5b58\u50a8\u5668\u6a21\u5757\u901a\u5e38\u4ee5 64 \u4f4d\u4e3a\u5355\u4f4d\uff08 8 \u4e2a\u5b57\u8282\uff09\u4f20\u8f93\u6570\u636e\u5230\u5b58\u50a8\u63a7\u5236\u5668\u4e0a\u6216\u8005\u4ece\u5b58\u50a8\u63a7\u5236\u5668\u4f20\u51fa\u6570\u636e\u3002</p> <p></p> <p>\u5982\u56fe\u6240\u793a\u5185\u5b58\u6761\u4e0a\u9ed1\u8272\u7684\u5143\u5668\u4ef6\u5c31\u662f\u5b58\u50a8\u5668\u6a21\u5757\uff08memory module\uff09\u3002\u591a\u4e2a\u5b58\u50a8\u5668\u6a21\u5757\u8fde\u63a5\u5230\u5b58\u50a8\u63a7\u5236\u5668\u4e0a\uff0c\u5c31\u805a\u5408\u6210\u4e86\u4e3b\u5b58\u3002</p> <p></p> <p>\u800c DRAM \u82af\u7247\u5c31\u5305\u88c5\u5728\u5b58\u50a8\u5668\u6a21\u5757\u4e2d\uff0c\u6bcf\u4e2a\u5b58\u50a8\u5668\u6a21\u5757\u4e2d\u5305\u542b 8 \u4e2a DRAM \u82af\u7247\uff0c\u4f9d\u6b21\u7f16\u53f7\u4e3a 0 - 7 \u3002</p> <p></p> <p>\u800c\u6bcf\u4e00\u4e2a DRAM \u82af\u7247\u7684\u5b58\u50a8\u7ed3\u6784\u662f\u4e00\u4e2a\u4e8c\u7ef4\u77e9\u9635\uff0c\u4e8c\u7ef4\u77e9\u9635\u4e2d\u5b58\u50a8\u7684\u5143\u7d20\u6211\u4eec\u79f0\u4e3a\u8d85\u5355\u5143\uff08supercell\uff09\uff0c\u6bcf\u4e2a supercell \u5927\u5c0f\u4e3a\u4e00\u4e2a\u5b57\u8282\uff088 bit\uff09\u3002\u6bcf\u4e2a supercell \u90fd\u7531\u4e00\u4e2a\u5750\u6807\u5730\u5740\uff08i\uff0cj\uff09\u3002</p> <p>i \u8868\u793a\u4e8c\u7ef4\u77e9\u9635\u4e2d\u7684\u884c\u5730\u5740\uff0c\u5728\u8ba1\u7b97\u673a\u4e2d\u884c\u5730\u5740\u79f0\u4e3a RAS (row access strobe\uff0c\u884c\u8bbf\u95ee\u9009\u901a\u8109\u51b2)\u3002 j \u8868\u793a\u4e8c\u7ef4\u77e9\u9635\u4e2d\u7684\u5217\u5730\u5740\uff0c\u5728\u8ba1\u7b97\u673a\u4e2d\u5217\u5730\u5740\u79f0\u4e3a CAS (column access strobe,\u5217\u8bbf\u95ee\u9009\u901a\u8109\u51b2)\u3002</p> <p>\u4e0b\u56fe\u4e2d\u7684 supercell \u7684 RAS = 2\uff0cCAS = 2\u3002</p> <p></p> <p>DRAM \u82af\u7247\u4e2d\u7684\u4fe1\u606f\u901a\u8fc7\u5f15\u811a\u6d41\u5165\u6d41\u51fa DRAM \u82af\u7247\u3002\u6bcf\u4e2a\u5f15\u811a\u643a\u5e26 1 bit\u7684\u4fe1\u53f7\u3002</p> <p>\u56fe\u4e2d DRAM \u82af\u7247\u5305\u542b\u4e86\u4e24\u4e2a\u5730\u5740\u5f15\u811a(\u00a0<code>addr</code>\u00a0)\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u901a\u8fc7 RAS\uff0cCAS \u6765\u5b9a\u4f4d\u8981\u83b7\u53d6\u7684 supercell \u3002\u8fd8\u6709 8 \u4e2a\u6570\u636e\u5f15\u811a\uff08<code>data</code>\uff09\uff0c\u56e0\u4e3a DRAM \u82af\u7247\u7684 IO \u5355\u4f4d\u4e3a\u4e00\u4e2a\u5b57\u8282\uff088 bit\uff09\uff0c\u6240\u4ee5\u9700\u8981 8 \u4e2a data \u5f15\u811a\u4ece DRAM \u82af\u7247\u4f20\u5165\u4f20\u51fa\u6570\u636e\u3002</p> <p>\u6ce8\u610f\u8fd9\u91cc\u53ea\u662f\u4e3a\u4e86\u89e3\u91ca\u5730\u5740\u5f15\u811a\u548c\u6570\u636e\u5f15\u811a\u7684\u6982\u5ff5\uff0c\u5b9e\u9645\u786c\u4ef6\u4e2d\u7684\u5f15\u811a\u6570\u91cf\u662f\u4e0d\u4e00\u5b9a\u7684\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#81-dram","title":"#8.1 DRAM \u82af\u7247\u7684\u8bbf\u95ee","text":"<p>\u6211\u4eec\u73b0\u5728\u5c31\u4ee5\u8bfb\u53d6\u4e0a\u56fe\u4e2d\u5750\u6807\u5730\u5740\u4e3a\uff082\uff0c2\uff09\u7684 supercell \u4e3a\u4f8b\uff0c\u6765\u8bf4\u660e\u8bbf\u95ee DRAM \u82af\u7247\u7684\u8fc7\u7a0b\u3002</p> <p></p> <ol> <li> <p>\u9996\u5148\u5b58\u50a8\u63a7\u5236\u5668\u5c06\u884c\u5730\u5740 RAS = 2 \u901a\u8fc7\u5730\u5740\u5f15\u811a\u53d1\u9001\u7ed9 DRAM \u82af\u7247\u3002</p> </li> <li> <p>DRAM \u82af\u7247\u6839\u636e RAS = 2 \u5c06\u4e8c\u7ef4\u77e9\u9635\u4e2d\u7684\u7b2c\u4e8c\u884c\u7684\u5168\u90e8\u5185\u5bb9\u62f7\u8d1d\u5230\u5185\u90e8\u884c\u7f13\u51b2\u533a\u4e2d\u3002</p> </li> <li> <p>\u63a5\u4e0b\u6765\u5b58\u50a8\u63a7\u5236\u5668\u4f1a\u901a\u8fc7\u5730\u5740\u5f15\u811a\u53d1\u9001 CAS = 2 \u5230 DRAM \u82af\u7247\u4e2d\u3002</p> </li> <li> <p>DRAM\u82af\u7247\u4ece\u5185\u90e8\u884c\u7f13\u51b2\u533a\u4e2d\u6839\u636e CAS = 2 \u62f7\u8d1d\u51fa\u7b2c\u4e8c\u5217\u7684 supercell \u5e76\u901a\u8fc7\u6570\u636e\u5f15\u811a\u53d1\u9001\u7ed9\u5b58\u50a8\u63a7\u5236\u5668\u3002</p> </li> </ol> <p>DRAM \u82af\u7247\u7684 IO \u5355\u4f4d\u4e3a\u4e00\u4e2a supercell \uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u5b57\u8282(8 bit)\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#82-cpu","title":"#8.2 CPU \u5982\u4f55\u8bfb\u5199\u4e3b\u5b58","text":"<p>\u524d\u8fb9\u6211\u4eec\u4ecb\u7ecd\u4e86\u5185\u5b58\u7684\u7269\u7406\u7ed3\u6784\uff0c\u4ee5\u53ca\u5982\u4f55\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684 DRAM \u82af\u7247\u83b7\u53d6 supercell \u4e2d\u5b58\u50a8\u7684\u6570\u636e\uff08\u4e00\u4e2a\u5b57\u8282\uff09\u3002\u672c\u5c0f\u8282\u6211\u4eec\u6765\u4ecb\u7ecd\u4e0b CPU \u662f\u5982\u4f55\u8bbf\u95ee\u5185\u5b58\u7684\uff1a</p> <p></p> <p>CPU \u4e0e\u5185\u5b58\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u4e92\u662f\u901a\u8fc7\u603b\u7ebf\uff08bus\uff09\u5b8c\u6210\u7684\uff0c\u800c\u6570\u636e\u5728\u603b\u7ebf\u4e0a\u7684\u4f20\u9001\u662f\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u6b65\u9aa4\u5b8c\u6210\u7684\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u79f0\u4e3a\u603b\u7ebf\u4e8b\u52a1\uff08bus transaction\uff09\u3002</p> <p>\u5176\u4e2d\u6570\u636e\u4ece\u5185\u5b58\u4f20\u9001\u5230 CPU \u79f0\u4e4b\u4e3a\u8bfb\u4e8b\u52a1\uff08read transaction\uff09\uff0c\u6570\u636e\u4ece CPU \u4f20\u9001\u5230\u5185\u5b58\u79f0\u4e4b\u4e3a\u5199\u4e8b\u52a1\uff08write transaction\uff09\u3002</p> <p>\u603b\u7ebf\u4e0a\u4f20\u8f93\u7684\u4fe1\u53f7\u5305\u62ec\uff1a\u5730\u5740\u4fe1\u53f7\uff0c\u6570\u636e\u4fe1\u53f7\uff0c\u63a7\u5236\u4fe1\u53f7\u3002\u5176\u4e2d\u63a7\u5236\u603b\u7ebf\u4e0a\u4f20\u8f93\u7684\u63a7\u5236\u4fe1\u53f7\u53ef\u4ee5\u540c\u6b65\u4e8b\u52a1\uff0c\u5e76\u80fd\u591f\u6807\u8bc6\u51fa\u5f53\u524d\u6b63\u5728\u88ab\u6267\u884c\u7684\u4e8b\u52a1\u4fe1\u606f\uff1a</p> <ul> <li>\u5f53\u524d\u8fd9\u4e2a\u4e8b\u52a1\u662f\u5230\u5185\u5b58\u7684\uff1f\u8fd8\u662f\u5230\u78c1\u76d8\u7684\uff1f\u6216\u8005\u662f\u5230\u5176\u4ed6 IO \u8bbe\u5907\u7684\uff1f</li> <li>\u8fd9\u4e2a\u4e8b\u52a1\u662f\u8bfb\u8fd8\u662f\u5199\uff1f</li> <li>\u603b\u7ebf\u4e0a\u4f20\u8f93\u7684\u5730\u5740\u4fe1\u53f7\uff08\u7269\u7406\u5185\u5b58\u5730\u5740\uff09\uff0c\u8fd8\u662f\u6570\u636e\u4fe1\u53f7\uff08\u6570\u636e\uff09\uff1f\u3002</li> </ul> <p>\u8fd9\u91cc\u5927\u5bb6\u9700\u8981\u6ce8\u610f\u603b\u7ebf\u4e0a\u4f20\u8f93\u7684\u5730\u5740\u5747\u4e3a\u7269\u7406\u5185\u5b58\u5730\u5740\u3002\u6bd4\u5982\uff1a\u5728 MESI \u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\u4e2d\u5f53 CPU core0 \u4fee\u6539\u5b57\u6bb5 a \u7684\u503c\u65f6\uff0c\u5176\u4ed6 CPU \u6838\u5fc3\u4f1a\u5728\u603b\u7ebf\u4e0a\u55c5\u63a2\u5b57\u6bb5 a \u7684\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u5982\u679c\u55c5\u63a2\u5230\u603b\u7ebf\u4e0a\u51fa\u73b0\u5b57\u6bb5 a \u7684\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u8bf4\u660e\u6709\u4eba\u5728\u4fee\u6539\u5b57\u6bb5 a\uff0c\u8fd9\u6837\u5176\u4ed6 CPU \u6838\u5fc3\u5c31\u4f1a\u5931\u6548\u5b57\u6bb5 a \u6240\u5728\u7684 cache line \u3002</p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5176\u4e2d\u7cfb\u7edf\u603b\u7ebf\u662f\u8fde\u63a5 CPU \u4e0e IO bridge \u7684\uff0c\u5b58\u50a8\u603b\u7ebf\u662f\u6765\u8fde\u63a5 IO bridge \u548c\u4e3b\u5b58\u7684\u3002</p> <p>IO bridge \u8d1f\u8d23\u5c06\u7cfb\u7edf\u603b\u7ebf\u4e0a\u7684\u7535\u5b50\u4fe1\u53f7\u8f6c\u6362\u6210\u5b58\u50a8\u603b\u7ebf\u4e0a\u7684\u7535\u5b50\u4fe1\u53f7\u3002IO bridge \u4e5f\u4f1a\u5c06\u7cfb\u7edf\u603b\u7ebf\u548c\u5b58\u50a8\u603b\u7ebf\u8fde\u63a5\u5230IO\u603b\u7ebf\uff08\u78c1\u76d8\u7b49IO\u8bbe\u5907\uff09\u4e0a\u3002\u8fd9\u91cc\u6211\u4eec\u770b\u5230 IO bridge \u5176\u5b9e\u8d77\u7684\u4f5c\u7528\u5c31\u662f\u8f6c\u6362\u4e0d\u540c\u603b\u7ebf\u4e0a\u7684\u7535\u5b50\u4fe1\u53f7\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#83-cpu","title":"#8.3 CPU \u4ece\u5185\u5b58\u8bfb\u53d6\u6570\u636e\u8fc7\u7a0b","text":"<p>\u5047\u8bbe CPU \u73b0\u5728\u9700\u8981\u5c06\u7269\u7406\u5185\u5b58\u5730\u5740\u4e3a A \u7684\u5185\u5bb9\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668\u4e2d\u8fdb\u884c\u8fd0\u7b97\u3002</p> <p>\u5927\u5bb6\u9700\u8981\u6ce8\u610f\u7684\u662f CPU \u53ea\u4f1a\u8bbf\u95ee\u865a\u62df\u5185\u5b58\uff0c\u5728\u64cd\u4f5c\u603b\u7ebf\u4e4b\u524d\uff0c\u9700\u8981\u628a\u865a\u62df\u5185\u5b58\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u603b\u7ebf\u4e0a\u4f20\u8f93\u7684\u90fd\u662f\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u8fd9\u91cc\u7701\u7565\u4e86\u865a\u62df\u5185\u5b58\u5730\u5740\u5230\u7269\u7406\u5185\u5b58\u5730\u5740\u7684\u8f6c\u6362\u8fc7\u7a0b\uff0c\u8fd9\u90e8\u5206\u5185\u5bb9\u6211\u4f1a\u5728\u540e\u7eed\u6587\u7ae0\u7684\u76f8\u5173\u7ae0\u8282\u8be6\u7ec6\u4e3a\u5927\u5bb6\u8bb2\u89e3\uff0c\u8fd9\u91cc\u6211\u4eec\u805a\u7126\u5982\u4f55\u901a\u8fc7\u7269\u7406\u5185\u5b58\u5730\u5740\u8bfb\u53d6\u5185\u5b58\u6570\u636e\u3002</p> <p></p> <p>\u9996\u5148 CPU \u82af\u7247\u4e2d\u7684\u603b\u7ebf\u63a5\u53e3\u4f1a\u5728\u603b\u7ebf\u4e0a\u53d1\u8d77\u8bfb\u4e8b\u52a1\uff08read transaction\uff09\u3002 \u8be5\u8bfb\u4e8b\u52a1\u5206\u4e3a\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a</p> <ol> <li> <p>CPU \u5c06\u7269\u7406\u5185\u5b58\u5730\u5740 A \u653e\u5230\u7cfb\u7edf\u603b\u7ebf\u4e0a\u3002\u968f\u540e IO bridge \u5c06\u4fe1\u53f7\u4f20\u9012\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\u3002</p> </li> <li> <p>\u4e3b\u5b58\u611f\u53d7\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u4fe1\u53f7\u5e76\u901a\u8fc7\u5b58\u50a8\u63a7\u5236\u5668\u5c06\u5b58\u50a8\u603b\u7ebf\u4e0a\u7684\u7269\u7406\u5185\u5b58\u5730\u5740 A \u8bfb\u53d6\u51fa\u6765\u3002</p> </li> <li> <p>\u5b58\u50a8\u63a7\u5236\u5668\u901a\u8fc7\u7269\u7406\u5185\u5b58\u5730\u5740 A \u5b9a\u4f4d\u5230\u5177\u4f53\u7684\u5b58\u50a8\u5668\u6a21\u5757\uff0c\u4ece DRAM \u82af\u7247\u4e2d\u53d6\u51fa\u7269\u7406\u5185\u5b58\u5730\u5740 A \u5bf9\u5e94\u7684\u6570\u636e X\u3002</p> </li> <li> <p>\u5b58\u50a8\u63a7\u5236\u5668\u5c06\u8bfb\u53d6\u5230\u7684\u6570\u636e X \u653e\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\uff0c\u968f\u540e IO bridge \u5c06\u5b58\u50a8\u603b\u7ebf\u4e0a\u7684\u6570\u636e\u4fe1\u53f7\u8f6c\u6362\u4e3a\u7cfb\u7edf\u603b\u7ebf\u4e0a\u7684\u6570\u636e\u4fe1\u53f7\uff0c\u7136\u540e\u7ee7\u7eed\u6cbf\u7740\u7cfb\u7edf\u603b\u7ebf\u4f20\u9012\u3002</p> </li> <li> <p>CPU \u82af\u7247\u611f\u53d7\u5230\u7cfb\u7edf\u603b\u7ebf\u4e0a\u7684\u6570\u636e\u4fe1\u53f7\uff0c\u5c06\u6570\u636e\u4ece\u7cfb\u7edf\u603b\u7ebf\u4e0a\u8bfb\u53d6\u51fa\u6765\u5e76\u62f7\u8d1d\u5230\u5bc4\u5b58\u5668\u4e2d\u3002</p> </li> </ol> <p>\u4ee5\u4e0a\u5c31\u662f CPU \u8bfb\u53d6\u5185\u5b58\u6570\u636e\u5230\u5bc4\u5b58\u5668\u4e2d\u7684\u5b8c\u6574\u8fc7\u7a0b\u3002</p> <p>\u4f46\u662f\u5176\u4e2d\u8fd8\u6d89\u53ca\u5230\u4e00\u4e2a\u91cd\u8981\u7684\u8fc7\u7a0b\uff0c\u8fd9\u91cc\u6211\u4eec\u8fd8\u662f\u9700\u8981\u644a\u5f00\u6765\u4ecb\u7ecd\u4e00\u4e0b\uff0c\u90a3\u5c31\u662f\u5b58\u50a8\u63a7\u5236\u5668\u5982\u4f55\u901a\u8fc7\u7269\u7406\u5185\u5b58\u5730\u5740 A \u4ece\u4e3b\u5b58\u4e2d\u8bfb\u53d6\u51fa\u5bf9\u5e94\u7684\u6570\u636e X \u7684\uff1f</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u7ed3\u5408\u524d\u8fb9\u4ecb\u7ecd\u7684\u5185\u5b58\u7ed3\u6784\u4ee5\u53ca\u4ece DRAM \u82af\u7247\u8bfb\u53d6\u6570\u636e\u7684\u8fc7\u7a0b\uff0c\u6765\u603b\u4f53\u4ecb\u7ecd\u4e0b\u5982\u4f55\u4ece\u4e3b\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#84","title":"#8.4 \u5982\u4f55\u6839\u636e\u7269\u7406\u5185\u5b58\u5730\u5740\u4ece\u4e3b\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e","text":"<p>\u524d\u8fb9\u4ecb\u7ecd\u5230\uff0c\u5f53\u4e3b\u5b58\u4e2d\u7684\u5b58\u50a8\u63a7\u5236\u5668\u611f\u53d7\u5230\u4e86\u5b58\u50a8\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u4fe1\u53f7\u65f6\uff0c\u4f1a\u5c06\u5185\u5b58\u5730\u5740\u4ece\u5b58\u50a8\u603b\u7ebf\u4e0a\u8bfb\u53d6\u51fa\u6765\u3002</p> <p>\u968f\u540e\u4f1a\u901a\u8fc7\u5185\u5b58\u5730\u5740\u5b9a\u4f4d\u5230\u5177\u4f53\u7684\u5b58\u50a8\u5668\u6a21\u5757\u3002\u8fd8\u8bb0\u5f97\u5185\u5b58\u7ed3\u6784\u4e2d\u7684\u5b58\u50a8\u5668\u6a21\u5757\u5417 \uff1f</p> <p></p> <p>\u800c\u6bcf\u4e2a\u5b58\u50a8\u5668\u6a21\u5757\u4e2d\u5305\u542b\u4e86 8 \u4e2a DRAM \u82af\u7247\uff0c\u7f16\u53f7\u4ece 0 - 7 \u3002</p> <p></p> <p>\u5b58\u50a8\u63a7\u5236\u5668\u4f1a\u5c06\u7269\u7406\u5185\u5b58\u5730\u5740\u8f6c\u6362\u4e3a DRAM \u82af\u7247\u4e2d supercell \u5728\u4e8c\u7ef4\u77e9\u9635\u4e2d\u7684\u5750\u6807\u5730\u5740(RAS\uff0cCAS)\u3002\u5e76\u5c06\u8fd9\u4e2a\u5750\u6807\u5730\u5740\u53d1\u9001\u7ed9\u5bf9\u5e94\u7684\u5b58\u50a8\u5668\u6a21\u5757\u3002\u968f\u540e\u5b58\u50a8\u5668\u6a21\u5757\u4f1a\u5c06 RAS \u548c CAS \u5e7f\u64ad\u5230\u5b58\u50a8\u5668\u6a21\u5757\u4e2d\u7684\u6240\u6709 DRAM \u82af\u7247\u3002\u4f9d\u6b21\u901a\u8fc7 (RAS\uff0cCAS) \u4ece DRAM0 \u5230 DRAM7 \u8bfb\u53d6\u5230\u76f8\u5e94\u7684 supercell \u3002</p> <p></p> <p>\u6211\u4eec\u77e5\u9053\u4e00\u4e2a supercell \u5b58\u50a8\u4e86\u4e00\u4e2a\u5b57\u8282\uff08 8 bit \uff09 \u6570\u636e\uff0c\u8fd9\u91cc\u6211\u4eec\u4ece DRAM0 \u5230 DRAM7 \u4f9d\u6b21\u8bfb\u53d6\u5230\u4e86 8 \u4e2a supercell \u4e5f\u5c31\u662f 8 \u4e2a\u5b57\u8282\uff0c\u7136\u540e\u5c06\u8fd9 8 \u4e2a\u5b57\u8282\u8fd4\u56de\u7ed9\u5b58\u50a8\u63a7\u5236\u5668\uff0c\u7531\u5b58\u50a8\u63a7\u5236\u5668\u5c06\u6570\u636e\u653e\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\u3002</p> <p>CPU \u603b\u662f\u4ee5 word size \u4e3a\u5355\u4f4d\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u5728 64 \u4f4d\u5904\u7406\u5668\u4e2d\u7684 word size \u4e3a 8 \u4e2a\u5b57\u8282\u300264 \u4f4d\u7684\u5185\u5b58\u6bcf\u6b21\u53ea\u80fd\u541e\u5410 8 \u4e2a\u5b57\u8282\u3002</p> <p>CPU \u6bcf\u6b21\u4f1a\u5411\u5185\u5b58\u8bfb\u5199\u4e00\u4e2a cache line \u5927\u5c0f\u7684\u6570\u636e\uff08 64 \u4e2a\u5b57\u8282\uff09\uff0c\u4f46\u662f\u5185\u5b58\u4e00\u6b21\u53ea\u80fd\u541e\u5410 8 \u4e2a\u5b57\u8282\u3002</p> <p>\u6240\u4ee5\u5728\u7269\u7406\u5185\u5b58\u5730\u5740\u5bf9\u5e94\u7684\u5b58\u50a8\u5668\u6a21\u5757\u4e2d\uff0cDRAM0 \u82af\u7247\u5b58\u50a8\u7b2c\u4e00\u4e2a\u4f4e\u4f4d\u5b57\u8282\uff08 supercell \uff09\uff0cDRAM1 \u82af\u7247\u5b58\u50a8\u7b2c\u4e8c\u4e2a\u5b57\u8282\uff0c......\u4f9d\u6b21\u7c7b\u63a8 DRAM7 \u82af\u7247\u5b58\u50a8\u6700\u540e\u4e00\u4e2a\u9ad8\u4f4d\u5b57\u8282\u3002</p> <p></p> <p>\u7531\u4e8e\u5b58\u50a8\u5668\u6a21\u5757\u4e2d\u8fd9\u79cd\u7531 8 \u4e2a DRAM \u82af\u7247\u7ec4\u6210\u7684\u7269\u7406\u5b58\u50a8\u7ed3\u6784\u7684\u9650\u5236\uff0c\u5185\u5b58\u8bfb\u53d6\u6570\u636e\u53ea\u80fd\u662f\u6309\u7167\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c8 \u4e2a\u5b57\u8282 8 \u4e2a\u5b57\u8282\u5730\u987a\u5e8f\u8bfb\u53d6\u6570\u636e\u3002\u6240\u4ee5\u8bf4\u5185\u5b58\u4e00\u6b21\u8bfb\u53d6\u548c\u5199\u5165\u7684\u5355\u4f4d\u662f 8 \u4e2a\u5b57\u8282\u3002</p> <p></p> <p>\u800c\u4e14\u5728\u7a0b\u5e8f\u5458\u773c\u91cc\u8fde\u7eed\u7684\u7269\u7406\u5185\u5b58\u5730\u5740\u5b9e\u9645\u4e0a\u5728\u7269\u7406\u4e0a\u662f\u4e0d\u8fde\u7eed\u7684\u3002\u56e0\u4e3a\u8fd9\u8fde\u7eed\u7684 8 \u4e2a\u5b57\u8282\u5176\u5b9e\u662f\u5b58\u50a8\u4e8e\u4e0d\u540c\u7684 DRAM \u82af\u7247\u4e0a\u7684\u3002\u6bcf\u4e2a DRAM \u82af\u7247\u5b58\u50a8\u4e00\u4e2a\u5b57\u8282\uff08supercell\uff09</p>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#85-cpu","title":"#8.5 CPU \u5411\u5185\u5b58\u5199\u5165\u6570\u636e\u8fc7\u7a0b","text":"<p>\u6211\u4eec\u73b0\u5728\u5047\u8bbe CPU \u8981\u5c06\u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e X \u5199\u5230\u7269\u7406\u5185\u5b58\u5730\u5740 A \u4e2d\u3002\u540c\u6837\u7684\u9053\u7406\uff0cCPU \u82af\u7247\u4e2d\u7684\u603b\u7ebf\u63a5\u53e3\u4f1a\u5411\u603b\u7ebf\u53d1\u8d77\u5199\u4e8b\u52a1\uff08write transaction\uff09\u3002\u5199\u4e8b\u52a1\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>CPU \u5c06\u8981\u5199\u5165\u7684\u7269\u7406\u5185\u5b58\u5730\u5740 A \u653e\u5165\u7cfb\u7edf\u603b\u7ebf\u4e0a\u3002</p> </li> <li> <p>\u901a\u8fc7 IO bridge \u7684\u4fe1\u53f7\u8f6c\u6362\uff0c\u5c06\u7269\u7406\u5185\u5b58\u5730\u5740 A \u4f20\u9012\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\u3002</p> </li> <li> <p>\u5b58\u50a8\u63a7\u5236\u5668\u611f\u53d7\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u4fe1\u53f7\uff0c\u5c06\u7269\u7406\u5185\u5b58\u5730\u5740 A \u4ece\u5b58\u50a8\u603b\u7ebf\u4e0a\u8bfb\u53d6\u51fa\u6765\uff0c\u5e76\u7b49\u5f85\u6570\u636e\u7684\u5230\u8fbe\u3002</p> </li> <li> <p>CPU \u5c06\u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e\u62f7\u8d1d\u5230\u7cfb\u7edf\u603b\u7ebf\u4e0a\uff0c\u901a\u8fc7 IO bridge \u7684\u4fe1\u53f7\u8f6c\u6362\uff0c\u5c06\u6570\u636e\u4f20\u9012\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\u3002</p> </li> <li> <p>\u5b58\u50a8\u63a7\u5236\u5668\u611f\u53d7\u5230\u5b58\u50a8\u603b\u7ebf\u4e0a\u7684\u6570\u636e\u4fe1\u53f7\uff0c\u5c06\u6570\u636e\u4ece\u5b58\u50a8\u603b\u7ebf\u4e0a\u8bfb\u53d6\u51fa\u6765\u3002</p> </li> <li> <p>\u5b58\u50a8\u63a7\u5236\u5668\u901a\u8fc7\u5185\u5b58\u5730\u5740 A \u5b9a\u4f4d\u5230\u5177\u4f53\u7684\u5b58\u50a8\u5668\u6a21\u5757\uff0c\u6700\u540e\u5c06\u6570\u636e\u5199\u5165\u5b58\u50a8\u5668\u6a21\u5757\u4e2d\u7684 8 \u4e2a DRAM \u82af\u7247\u4e2d\u3002</p> </li> </ol>"},{"location":"%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/#_1","title":"#\u603b\u7ed3","text":"<p>\u672c\u6587\u6211\u4eec\u4ece\u865a\u62df\u5185\u5b58\u5730\u5740\u5f00\u59cb\u804a\u8d77\uff0c\u4e00\u76f4\u5230\u7269\u7406\u5185\u5b58\u5730\u5740\u7ed3\u675f\uff0c\u5305\u542b\u7684\u4fe1\u606f\u91cf\u8fd8\u662f\u6bd4\u8f83\u5927\u7684\u3002\u9996\u5148\u6211\u901a\u8fc7\u4e00\u4e2a\u8fdb\u7a0b\u7684\u8fd0\u884c\u5b9e\u4f8b\u4e3a\u5927\u5bb6\u5f15\u51fa\u4e86\u5185\u6838\u5f15\u5165\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u76ee\u7684\u53ca\u5176\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002</p> <p>\u5728\u6211\u4eec\u6709\u4e86\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u6982\u5ff5\u4e4b\u540e\uff0c\u6211\u53c8\u8fd1\u4e00\u6b65\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u4e86\u5185\u6838\u5982\u4f55\u5212\u5206\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u5e76\u5728\u6b21\u57fa\u7840\u4e4b\u4e0a\u5206\u522b\u4ece 32 \u4f4d\u4f53\u7cfb\u7ed3\u6784\u548c 64 \u4f4d\u4f53\u7cfb\u7ed3\u6784\u7684\u89d2\u5ea6\u8be6\u7ec6\u9610\u8ff0\u4e86 Linux \u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u6574\u4f53\u5e03\u5c40\u5206\u5e03\u3002</p> <ul> <li> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u00a0<code>cat /proc/pid/maps</code>\u00a0\u6216\u8005\u00a0<code>pmap pid</code>\u00a0\u547d\u4ee4\u6765\u67e5\u770b\u8fdb\u7a0b\u7528\u6237\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u5b9e\u9645\u5206\u5e03\u3002</p> </li> <li> <p>\u8fd8\u53ef\u4ee5\u901a\u8fc7\u00a0<code>cat /proc/iomem</code>\u00a0\u547d\u4ee4\u6765\u67e5\u770b\u8fdb\u7a0b\u5185\u6838\u6001\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u7684\u5b9e\u9645\u5206\u5e03\u3002</p> </li> </ul> <p>\u5728\u6211\u4eec\u6e05\u695a\u4e86 Linux \u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u6574\u4f53\u5e03\u5c40\u5206\u5e03\u4e4b\u540e\uff0c\u6211\u53c8\u4ecb\u7ecd\u4e86 Linux \u5185\u6838\u5982\u4f55\u5bf9\u5206\u5e03\u5728\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u7684\u5404\u4e2a\u865a\u62df\u5185\u5b58\u533a\u57df\u8fdb\u884c\u7ba1\u7406\uff0c\u4ee5\u53ca\u6bcf\u4e2a\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u4f5c\u7528\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u8fd8\u4ecb\u7ecd\u4e86\u76f8\u5173\u7684\u5185\u6838\u6570\u636e\u7ed3\u6784\uff0c\u8fd1\u4e00\u6b65\u4ece\u5185\u6838\u6e90\u7801\u5b9e\u73b0\u89d2\u5ea6\u52a0\u6df1\u5927\u5bb6\u5bf9\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u7684\u7406\u89e3\u3002</p> <p>\u6700\u540e\u6211\u4ecb\u7ecd\u4e86\u7269\u7406\u5185\u5b58\u7684\u7ed3\u6784\uff0c\u4ee5\u53ca CPU \u5982\u4f55\u901a\u8fc7\u7269\u7406\u5185\u5b58\u5730\u5740\u6765\u8bfb\u5199\u5185\u5b58\u4e2d\u7684\u6570\u636e\u3002\u8fd9\u91cc\u6211\u9700\u8981\u7279\u5730\u518d\u6b21\u5f3a\u8c03\u7684\u662f CPU \u53ea\u4f1a\u8bbf\u95ee\u865a\u62df\u5185\u5b58\u5730\u5740\uff0c\u53ea\u4e0d\u8fc7\u5728\u64cd\u4f5c\u603b\u7ebf\u4e4b\u524d\uff0c\u901a\u8fc7\u4e00\u4e2a\u5730\u5740\u8f6c\u6362\u786c\u4ef6\u5c06\u865a\u62df\u5185\u5b58\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u7136\u540e\u5c06\u7269\u7406\u5185\u5b58\u5730\u5740\u4f5c\u4e3a\u5730\u5740\u4fe1\u53f7\u653e\u5728\u603b\u7ebf\u4e0a\u4f20\u8f93\uff0c\u7531\u4e8e\u5730\u5740\u8f6c\u6362\u7684\u5185\u5bb9\u548c\u672c\u6587\u4e3b\u65e8\u65e0\u5173\uff0c\u8003\u8651\u5230\u6587\u7ae0\u7684\u7bc7\u5e45\u4ee5\u53ca\u590d\u6742\u6027\uff0c\u6211\u5c31\u6ca1\u6709\u8fc7\u591a\u7684\u4ecb\u7ecd\u3002</p> <p>\u597d\u4e86\uff0c\u672c\u6587\u7684\u5185\u5bb9\u5230\u8fd9\u91cc\u5c31\u5168\u90e8\u7ed3\u675f\u4e86\uff0c\u611f\u8c22\u5927\u5bb6\u7684\u8010\u5fc3\u89c2\u770b\u3002</p>"},{"location":"%E6%A6%82%E7%8E%87/","title":"\u6982\u7387","text":"<p>\u72ec\u7acb\u4e8b\u4ef6\u4e0e\u975e\u72ec\u7acb\u4e8b\u4ef6</p> <p>\u6761\u4ef6\u6982\u7387</p> <p>\u8d1d\u53f6\u65af\u7edf\u8ba1</p> <p>\u968f\u673a\u6982\u7387</p> <p>\u4e8c\u9879\u5206\u5e03</p> <p>\u79bb\u6563\u5206\u5e03\u7684\u6982\u7387\u8d28\u91cf\u51fd\u6570</p> <p>\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf  \u7814\u7a76\u5728\u67d0\u4e00\u6bb5\u533a\u95f4\u4e0a\u7684\u53d6\u503c</p> <p>\u8fde\u7eed\u5206\u5e03\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570</p> <p>\u7d2f\u8ba1\u5206\u5e03\u51fd\u6570</p> <p>\u5747\u5300\u5206\u5e03</p> <p>\u6b63\u6001\u5206\u5e03 CDF PDF</p> <p>\u5361\u65b9\u5206\u5e03</p> <p>\u5206\u5e03\u62bd\u6837</p>"},{"location":"%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AF%B4%E6%98%8E/","title":"\u7cfb\u7edf\u67b6\u6784\u8bf4\u660e","text":"<p>\u8bf7\u9009\u62e9\u7cfb\u7edf\u67b6\u6784 Amd64\uff1a\u9002\u7528\u4e8e Intel \u548c AMD \u7684 64 \u4f4d x86 \u5904\u7406\u5668\u67b6\u6784\u3002 Arm64\uff1a\u9002\u7528\u4e8e\u57fa\u4e8e ARM 64 \u4f4d\u67b6\u6784\u7684\u8bbe\u5907\uff0c\u5982\u6811\u8393\u6d3e 3B + \u548c\u6811\u8393\u6d3e 4\u3002 386\uff1a\u9002\u7528\u4e8e Intel \u548c AMD \u7684 32 \u4f4d x86 \u5904\u7406\u5668\u67b6\u6784\u3002 Armv6\uff1a\u7528\u4e8e\u8f83\u65e7\u7684\u57fa\u4e8e ARM \u67b6\u6784\u7684\u8bbe\u5907\uff0c\u5982\u6811\u8393\u6d3e Zero\u3001\u6811\u8393\u6d3e 1 \u548c ARMV6 \u67b6\u6784\u3002 Armv7\uff1a\u7528\u4e8e\u8f83\u65b0\u7684\u57fa\u4e8e ARM \u67b6\u6784\u7684\u8bbe\u5907\uff0c\u5982\u6811\u8393\u6d3e 2 \u548c 3\u3002 Armv8\uff1a\u9002\u7528\u4e8e\u57fa\u4e8e ARM 64 \u4f4d\u67b6\u6784\u7684\u8bbe\u5907\uff0c\u5982\u6811\u8393\u6d3e 3B + \u548c\u6811\u8393\u6d3e 4\u3002 Ppc64le\uff1a\u9002\u7528\u4e8e IBM Power \u67b6\u6784\u7684 64 \u4f4d\u5c0f\u7aef\u683c\u5f0f\u3002 S390x\uff1a\u9002\u7528\u4e8e IBM zSeries \u4e3b\u673a\u7684 64 \u4f4d\u67b6\u6784\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/","title":"\u8ba1\u7b97\u673a","text":"<p>cs\u81ea\u5b66\u6307\u5357 \u8ba1\u7b97\u673a\u5206\u7c7b \u5927\u6a21\u578b \u5927\u6a21\u578b\u539f\u7406\u548c\u5b9e\u6218 mlsys CS\u4e13\u4e1a\u5b66\u4e60\u8def\u7ebf</p> <p>https://github.com/awesome-programming-books/awesome-programming-books.github.io https://github.com/httaotao/glusterfs-book https://github.com/wangzhiwubigdata/God-Of-BigData https://github.com/it-ebooks-0/geektime-books https://github.com/lshmouse/reading-papers https://github.com/digoal/blog https://github.com/zouhuigang/book https://github.com/chungchi300/reading-book/tree/master https://github.com/zouhuigang/book</p> <p>\u4eba\u5de5\u667a\u80fd\uff08AI, Artificial Intelligence\uff09 - \u8ba1\u7b97\u673a\u89c6\u89c9 (CV) - \u673a\u5668\u5b66\u4e60 (ML)     - - \u76d1\u7763\u5b66\u4e60\uff08\u5206\u7c7b\u3001\u56de\u5f52\uff09     - \u65e0\u76d1\u7763\u5b66\u4e60\uff08\u805a\u7c7b\u3001\u964d\u7ef4\uff09     - \u5f3a\u5316\u5b66\u4e60\uff08\u63a7\u5236\u3001\u535a\u5f08\uff09     - \u6df1\u5ea6\u5b66\u4e60\uff08Deep Learning\uff09 - \u81ea\u7136\u8bed\u8a00\u5904\u7406 (NLP) - \u4e13\u5bb6\u7cfb\u7edf\u3001\u673a\u5668\u4eba\u7b49 - \u5927\u6a21\u578b\u7b97\u6cd5 - mlsys - \u7f51\u7edc\u4e0e\u4fe1\u606f\u68c0\u7d22  - \u5927\u6a21\u578b\uff08Large Language Model, LLM / Foundation Model\uff09     \u6df1\u5ea6\u5b66\u4e60\u7684\u4e00\u4e2a\u5206\u652f\u6210\u679c\uff0c\u5c5e\u4e8e\u201c\u5e94\u7528\u673a\u5668\u5b66\u4e60\u201d\u7684\u524d\u6cbf\u9886\u57df\u3002     \u662f\u8fd1\u5e74\u6765\u6df1\u5ea6\u5b66\u4e60\u53d1\u5c55\u51fa\u7684\u8d85\u5927\u89c4\u6a21\u6a21\u578b\uff08\u5982 GPT\u3001BERT\u3001LLaMA\u3001Claude\uff09\uff0c\u901a\u5e38\u8bad\u7ec3\u53c2\u6570\u6570\u4ee5\u767e\u4ebf\u3001\u5343\u4ebf\u8ba1\u3002 - MLSys\uff08Machine Learning Systems\uff09     \u662f\u673a\u5668\u5b66\u4e60\u7cfb\u7edf\u7684\u7814\u7a76\u9886\u57df\uff0c\u5173\u6ce8\u5982\u4f55\u8ba9\u5927\u89c4\u6a21\u673a\u5668\u5b66\u4e60\u66f4\u9ad8\u6548\u3001\u66f4\u53ef\u6269\u5c55\u3001\u66f4\u7ecf\u6d4e**\u5730\u8fd0\u884c\u3002     - \u5206\u5e03\u5f0f\u8bad\u7ec3\uff08\u5982 PyTorch Distributed\u3001TensorFlow MultiWorker\uff09     - GPU/TPU \u7f16\u7a0b     - \u9ad8\u6548\u63a8\u7406\uff08ONNX, TensorRT, quantization\uff09     - \u81ea\u52a8\u5316\u673a\u5668\u5b66\u4e60\uff08AutoML\u3001\u8c03\u53c2\uff09     - \u6570\u636e\u7ba1\u9053\u3001\u6a21\u578b\u90e8\u7f72\u3001\u6027\u80fd\u4f18\u5316     - \u7cfb\u7edf\u8bbe\u8ba1\uff08\u5305\u62ec\u8c03\u5ea6\u3001\u5b58\u50a8\u3001\u901a\u4fe1\uff09</p> <p>\u7cfb\u7edf - \u8ba1\u7b97\u673a\u67b6\u6784 - \u8ba1\u7b97\u673a\u7f51\u7edc - \u8ba1\u7b97\u673a\u5b89\u5168 - \u6570\u636e\u5e93 - \u8bbe\u8ba1\u81ea\u52a8\u5316 - \u5d4c\u5165\u5f0f\u548c\u5b9e\u65f6\u7cfb\u7edf - \u9ad8\u6027\u80fd\u8ba1\u7b97 - \u79fb\u52a8\u8ba1\u7b97 - \u6d4b\u91cf\u548c\u6027\u80fd\u5206\u6790 - \u64cd\u4f5c\u7cfb\u7edf - \u7f16\u7a0b\u8bed\u8a00 (PL) \u9700\u6c42\u91cf\u6781\u5c11 - \u8f6f\u4ef6\u5de5\u7a0b  </p> <p>\u7406\u8bba  - \u7b97\u6cd5\u4e0e\u590d\u6742\u6027  - \u5bc6\u7801\u5b66  - \u903b\u8f91\u4e0e\u9a8c\u8bc1    </p> <p>\u8de8\u5b66\u79d1\u9886\u57df - \u8ba1\u7b97\u673a\u751f\u7269\u5b66\u548c\u751f\u7269\u4fe1\u606f\u5b66 - \u8ba1\u7b97\u673a\u56fe\u5f62 - \u8ba1\u7b97\u673a\u79d1\u5b66\u6559\u80b2 - \u7ecf\u6d4e\u5b66\u4e0e\u8ba1\u7b97 - \u4eba\u673a\u4ea4\u4e92 - \u673a\u5668\u4eba\u6280\u672f - \u53ef\u89c6\u5316</p> <ul> <li> <p>AI\uff1a\u4eba\u5de5\u667a\u80fd\uff08Artificial intelligence\uff09\u5f97\u76ca\u4e8e\u5176\u201c\u6570\u636e\u9a71\u52a8\u201d\u7684\u7279\u70b9\uff0c\u5728\u8fd1\u4e9b\u5e74\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u7814\u7a76\u4e0e\u5e94\u7528\u3002</p> <ul> <li>Machine learning &amp; data mining\uff1a\u901a\u5e38\u6307\u7ecf\u5178\u7684\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\uff0c\u5305\u62ec\u5206\u7c7b\uff08Classification\uff09\u3001\u56de\u5f52\uff08Regression\uff09\u3001\u805a\u7c7b\uff08Clustering\uff09\u3001\u964d\u7ef4\uff08Dimensionality Reduction\uff09\u7b49\u5b50\u9886\u57df\uff0c\u4e5f\u5305\u62ec\u7b97\u6cd5\u7684\u90e8\u7f72\uff08\u5206\u5e03\u5f0f\u8ba1\u7b97\u3001\u8054\u90a6\u5b66\u4e60\u7b49\uff09</li> <li>Computer vision\uff1a\u56e0\u4e92\u8054\u7f51\u4e2d\u5e7f\u6cdb\u7684\u5e94\u7528\u573a\u666f\u800c\u5907\u53d7\u91cd\u89c6\u7684\u7814\u7a76\u9886\u57df\u4e4b\u4e00\uff0c\u4e3b\u8981\u4efb\u52a1\u662f\u63d0\u53d6\u56fe\u50cf\u4e2d\u7684\u7279\u5f81\uff0c\u5c06\u7279\u5f81\u5e94\u7528\u4e8e\u5206\u7c7b\u3001\u76ee\u6807\u68c0\u6d4b\u4e0e\u8ffd\u8e2a\u3001\u5206\u5272\u3001\u68c0\u7d22\u3001\u8865\u5e27\u3001\u8d85\u5206\u8fa8\u7387\u7b49\u4efb\u52a1\uff1b\u53e6\u5916\u4e0e\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66\u3001\u673a\u5668\u4eba\u5b66\u3001\u81ea\u52a8\u9a7e\u9a76\u7b49\u6709\u7d27\u5bc6\u7684\u8054\u7cfb</li> <li>Natural language processing\uff1a\u53e6\u4e00\u5907\u53d7\u91cd\u89c6\u7684\u7814\u7a76\u9886\u57df\uff0c\u4e3b\u8981\u5904\u7406\u4ee5\u6587\u672c\u4e3a\u4e3b\uff0c\u6709\u7ffb\u8bd1\u3001\u68c0\u7d22\u7b49\u4f20\u7edf\u7814\u7a76\u65b9\u5411\uff0c\u4e5f\u6709\u63a9\u7801\u8bed\u8a00\u6a21\u578b\uff08Masked Language Model\uff09\u7b49\u65b0\u5174\u7814\u7a76\u65b9\u5411</li> <li>Multimodal learning\uff1a\u201c\u6a21\u6001\u201d\uff08Modality\uff09\u6307\u4e00\u79cd\u4fe1\u606f\u7684\u8868\u73b0\u5f62\u5f0f\uff0c\u5982\u56fe\u50cf\u3001\u6587\u5b57\u3001\u8bed\u97f3\u3001\u52a8\u4f5c\u7b49\u3002\u591a\u6a21\u6001\u7814\u7a76\u91cd\u70b9\u5173\u6ce8\u591a\u4e2a\u6a21\u6001\u4e4b\u95f4\u7684\u8868\u793a\uff08\u8868\u793a\u5b66\u4e60\uff09\u3001\u5bf9\u9f50\uff08Cross-modal Retrival \u7b49\uff09\u3001\u7ffb\u8bd1\uff08Image Captioning \u7b49\uff09\u3001\u878d\u5408\uff08\u60c5\u611f\u5206\u6790\u7b49\uff09\u3001\u534f\u540c\u5b66\u4e60\uff08\u591a\u4e2a\u6a21\u6001\u5171\u4eab\u77e5\u8bc6\uff09\u7b49\u95ee\u9898</li> <li>Content Generation\uff1a\u5185\u5bb9\u751f\u6210\u5176\u5b9e\u5df2\u7ecf\u5305\u62ec\u5728\u4e4b\u524d\u7684 entry \u4e2d\uff0c\u8fd9\u91cc\u4e3b\u8981\u5f3a\u8c03\u4f7f\u7528 AI \u8fdb\u884c\u201c\u521b\u9020\u6027\u201d\u7684\u5de5\u4f5c\uff1b\u5305\u62ec\u5355\u4e00\u6a21\u6001\uff0c\u5982\u6587\u5b57\u7eed\u5199\u3001\u56fe\u50cf\u6269\u5c55\u3001\u56fe\u50cf\u98ce\u683c\u5316\uff0c\u4e5f\u5305\u62ec\u591a\u4e2a\u6a21\u6001\uff0c\u5982\u4ece\u56fe\u50cf\u751f\u6210\u6587\u5b57\uff08Image Captioning\uff09\u3001\u4ece\u6587\u5b57\u751f\u6210\u56fe\u50cf\u7b49</li> <li>Reinforcement learning\uff1a\u4e0d\u4e86\u89e3\uff0c\u7b14\u8005\u4e2d\u6ca1\u6709\u7814\u7a76\u8be5\u65b9\u5411\u7684</li> <li>The Web &amp; information retrieval\uff1a\u8ddfDeep Learning\u4e09\u5927\u5e94\u7528\u4e4b\u4e00\u7684\u641c\u5e7f\u63a8\u5bc6\u5207\u76f8\u5173\uff0c\u76ee\u524d\u7684\u7ec6\u5206\u65b9\u5411\u4e3b\u8981\u6709\u8ba4\u77e5\u641c\u7d22\uff08\u4e0e\u8111\u673a\u63a5\u53e3\u6280\u672f\u7ed3\u5408\uff09\u3001\u795e\u7ecf\u641c\u7d22\uff08\u4ee5\u8de8\u6a21\u6001\u68c0\u7d22\u4e3a\u4e3b\uff0c\u628a\u4e0d\u540c\u79cd\u7c7b\u7684\u6570\u636e\u6309\u7167\u540c\u6837\u7684\u7ed3\u6784\u505a\u5411\u91cf\u5316\u5b58\u50a8\uff0c\u540c\u65f6\u5bf9\u5df2\u6709\u4e0d\u540c\u6570\u636e\u5e93\u652f\u6301vector search\u548cfilter\uff09\u4ee5\u53ca\u641c\u7d22\u5f15\u64ce\u4e2d\u7684\u516c\u5e73\u6027\u4e0e\u9690\u79c1\u6027\uff08\u5728Trustworthy ML\u7814\u7a76\u8303\u56f4\u4e4b\u5185\uff09\uff0cTHUIR\u7684work\u57fa\u672c\u4ee3\u8868\u4e86\u56fd\u5185\u6700\u524d\u6cbf\u7684\u7814\u7a76</li> <li> <p>System\uff1a\u7740\u91cd\u4ecb\u7ecd\u4e0bSystem\u7cfb\u7edf\u9886\u57df</p> </li> <li> <p>Computer Architecture\uff1a\u987e\u540d\u601d\u4e49\uff0c\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u4e3b\u8981\u7814\u7a76\u8ba1\u7b97\u673a\u672c\u8eab\u7684\u67b6\u6784\u7b49\uff0c\u5305\u62ecCPU\u548cGPU\u7b49\u7684\u67b6\u6784\uff0c\u672c\u8eab\u8fd9\u4e2a\u7814\u7a76\u65b9\u5411\u4f1a\u6bd4\u8f83\u504f\u5411\u786c\u4ef6\uff1b\u8fd9\u4e00\u90e8\u5206\u7814\u7a76\u548cOperating system\u7684\u7814\u7a76\u4f1a\u6709\u90e8\u5206\u91cd\u5408\uff1b\u4f46\u662f\u66f4\u52a0\u504f\u5e95\u5c42\u4e00\u70b9</p> </li> <li>Computer Networks\uff1a\u8ba1\u7b97\u673a\u7f51\u7edc\u4e3b\u8981\u7814\u7a76\u4e3a\u5f53\u524d\u7684\u7f51\u7edc\u73af\u5883\u63d0\u51fa\u66f4\u5408\u9002\u7684\u534f\u8bae\uff0c\u4f18\u5316\u7f51\u7edc\u534f\u8bae\uff0c\u8f6f\u4ef6\u5b9a\u4e49\u7f51\u7edc\uff0c\u4ee5\u53ca\u5bf9\u7f51\u7edc\u67b6\u6784\u8fdb\u884c\u4f18\u5316\u548c\u52a0\u901f\u7b49\uff1b\u7f51\u7edc\u9886\u57df\u7684\u79d1\u7814\u5f80\u5f80\u9700\u8981\u6bd4\u8f83\u5927\u89c4\u6a21\u7684\u5b9e\u9a8c\uff0c\u73b0\u5728\u7684\u8fd9\u4e2a\u65b9\u5411\u90e8\u5206\u7814\u7a76\u5f00\u59cb\u504f\u65e0\u7ebf\u4e00\u70b9\u4e86\uff08\u6709\u7ebf\u505a\u5230\u5934\u4e86\uff09\uff0c\u8be5\u9886\u57df\u76ee\u524d\u6bd4\u8f83\u5173\u6ce8\u7684\u70ed\u95e8\u8bfe\u9898\uff1a<ul> <li>MLSys\uff1aMLSys\u4e2d\u7684\u5927\u89c4\u6a21\u7f51\u7edc\u4f18\u5316\u95ee\u9898\uff0c\u5305\u62ec\u5982\u4f55\u964d\u4f4ebubble time\u7b49</li> <li>\u536b\u661f\u7f51\u7edc\uff1a\u7814\u7a76\u536b\u661f\u7f51\u7edc\u5982\u4f55\u901a\u4fe1\u4f18\u5316\u3001\u536b\u661f\u7f51\u7edc\u7684\u8def\u7531\u7b97\u6cd5\u7b49\uff08\u5927\u5bb6\u53ef\u4ee5\u7406\u89e3\u4e3a\u7814\u7a76\u661f\u94fe\u7c7b\u4f3c\u7684\u4e1c\u897f\uff09</li> <li>Blockchain\u7684\u7f51\u7edc\uff1a\u7814\u7a76Blockchain\u7684\u5404\u79cd\u534f\u8bae\u5982\u4f55\u4f18\u5316\u6027\u80fd\u7b49</li> <li>...</li> </ul> </li> <li>Computer security\uff1a\u8ba1\u7b97\u673a\u5b89\u5168\u4e3b\u8981\u7814\u7a76\u7cfb\u7edf\u5b89\u5168\u3001\u8f6f\u4ef6\u5b89\u5168\u3001\u7f51\u7edc\u5b89\u5168\u7b49\uff0c\u73b0\u5728\u7684\u5b89\u5168\u7814\u7a76\u4e5f\u6269\u5c55\u5230\u4e86\u5bf9\u4e00\u4e9b\u65b0\u5174\u6280\u672f\u7684\u5b89\u5168\u7814\u7a76\uff0c\u6bd4\u5982AI\u6a21\u578b\u672c\u8eab\u7684\u5b89\u5168\u6027\u7b49\u3002\u8fd9\u91cc\u7b14\u8005\u5217\u4e00\u4e9b\u5177\u4f53\u7684\u7814\u7a76\u65b9\u5411\uff1a<ul> <li>ML\u5b89\u5168\uff1a\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\u7684\u5b89\u5168\uff08Jailbreak\u3001Prompt Injection\u7b49\uff09\uff0cFL\u5b66\u4e60\u7684\u9690\u79c1\u5b89\u5168\uff0c\u9884\u8bad\u7ec3\u6a21\u578b\u4e2d\u7684\u6570\u636e\u6cc4\u9732\u3001\u6570\u636e\u7a83\u53d6\u7b49</li> <li>\u8f6f\u4ef6\u6f0f\u6d1e\uff1a\u5305\u62ec\u5982\u4f55\u6316\u6398\u8f6f\u4ef6\u6f0f\u6d1e\uff0c\u5982\u4f55\u81ea\u52a8\u5316\u5229\u7528\u8f6f\u4ef6\u6f0f\u6d1e\u7b49</li> <li>\u9690\u79c1\uff1a\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u7528\u5404\u79cd\u5dee\u5206\u9690\u79c1\u7b97\u6cd5\u5bf9\u6570\u636e\u8131\u654f\u5316\uff0c\u5e76\u4e14\u4e5f\u5305\u62ec\u5404\u79cdprivacy\u5408\u89c4\u6027\u68c0\u67e5\u7b49\u7b49\uff08\u6240\u6709\u8ddfprivacy\u80fd\u626f\u4e0a\u8fb9\u7684\uff09</li> <li>...</li> </ul> </li> <li>Databases\uff1a\u6570\u636e\u5e93\u5f53\u524d\u524d\u6cbf\u7814\u7a76\u4e3b\u8981\u805a\u7126\u4e8e\u5982\u4f55\u4f18\u5316\u6570\u636e\u5e93\u7684\u5b58\u50a8\u901f\u5ea6\u7b49</li> <li>Design automation\uff1a\u4e0d\u4e86\u89e3\uff0c\u7b14\u8005\u4e2d\u6ca1\u6709\u7814\u7a76\u8be5\u65b9\u5411\u7684</li> <li>Embedded &amp; real time system\uff1a\u4e0d\u4e86\u89e3\uff0c\u7b14\u8005\u4e2d\u6ca1\u6709\u7814\u7a76\u8be5\u65b9\u5411\u7684\uff0c\u7406\u8bba\u4e0a\u5e94\u8be5\u504f\u5411\u4e8e\u65e0\u7ebf</li> <li>High-performance computing\uff1a\u9ad8\u6027\u80fd\u8ba1\u7b97\u4e3b\u8981\u662f\u8d85\u7b97\u76f8\u5173\u7684\u6280\u672f\u7b49\uff0c\u5305\u62ec\u4e00\u4e9b\u5206\u5e03\u5f0f\u7cfb\u7edf\u52a0\u901f\uff0c\u4e3b\u8981\u5c31\u662f\u4f18\u5316\u5f53\u524d\u7684\u5927\u578b\u5927\u89c4\u6a21\u8ba1\u7b97\u7cfb\u7edf\u7684\u901f\u5ea6\u548c\u6548\u7387</li> <li>Mobile computing\uff1a\u79fb\u52a8\u8ba1\u7b97\u76f8\u5173\u7814\u7a76\u4e3b\u8981\u5173\u6ce8\u8fb9\u7f18\u8ba1\u7b97\u7b49\uff0c\u6bd4\u5982\u8bf4\u8fb9\u7f18\u8ba1\u7b97\u4e2d\u7684\u5c0f\u578bAI\u6a21\u578b\u7684\u52a0\u901f\u3001\u6a21\u578b\u538b\u7f29\u7b49</li> <li>Measurement &amp; performance analysis\uff1a\u6d4b\u91cf\u7b49\u4e3b\u8981\u5173\u6ce8\u5bf9\u5f53\u524d\u7f51\u7edc\u73af\u5883\u7684\u4e00\u4e9b\u6d4b\u91cf\uff0c\u6bd4\u5982\u8bf4\u6d4b\u91cf\u4e0d\u540c\u7684\u534f\u8bae\u5bf9\u4e8e\u7528\u6237\u4f53\u9a8c\u7684\u5f71\u54cd\u7b49</li> <li>Operating system\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8fd9\u4e2a\u9886\u57df\u4e3b\u8981\u7814\u7a76\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4f18\u5316\u3001\u5185\u6838\u5b89\u5168\uff0c\u4ee5\u53ca\u5206\u5e03\u5f0f\u7cfb\u7edf\u4f18\u5316\uff0c\u5305\u62ec\u533a\u5757\u94fe\u7b49\u7814\u7a76\uff0c\u7279\u522b\u786c\u6838</li> <li>Programming Languages\uff1a\u7f16\u7a0b\u8bed\u8a00\u8fd9\u65b9\u9762\u7814\u7a76\u5c5e\u4e8e\u771f\u00b7\u8ba1\u7b97\u673a\u65b9\u5411\u7684\u7814\u7a76\uff0c\u5305\u62ec\u7a0b\u5e8f\u5206\u6790\u3001\u7a0b\u5e8f\u5b89\u5168\u548c\u7a0b\u5e8f\u5408\u6210\u7b49\uff0c\u7814\u7a76\u7684\u4e1c\u897f\u5f88\u591a\u4f1a\u6d89\u53ca\u5230\u7f16\u8bd1\u539f\u7406\u7b49\uff0c\u6781\u7aef\u786c\u6838</li> <li>Software engineering\uff1a\u8f6f\u4ef6\u5de5\u7a0b\u7684\u7814\u7a76\u4e3b\u8981\u5305\u542b\u8f6f\u4ef6\u67b6\u6784\u3001\u8f6f\u4ef6\u5206\u6790\u3001\u8f6f\u4ef6\u5b89\u5168\u7b49</li> <li> <p>Theory\uff1a\u7406\u8bba\u9886\u57df\u4e3b\u8981\u7814\u7a76\u8ba1\u7b97\u673a\u7406\u8bba\uff0c\u8fd9\u4e00\u90e8\u5206\u5f88\u591a\u90fd\u6bd4\u8f83\u504f\u6570\u5b66\u4e86</p> </li> <li> <p>Algorithms &amp; complexity\uff1a\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\u4f60\u5728\u7b97\u6cd5\u5bfc\u8bba\u91cc\u9762\u770b\u5230\u7684\u90a3\u4e9b\u7b97\u6cd5\u7b49</p> </li> <li>Cryptography\uff1a\u5bc6\u7801\u5b66\uff0c\u4e3b\u8981\u7814\u7a76\u52a0\u5bc6\u89e3\u5bc6\u7b97\u6cd5\u90a3\u4e00\u5757\u4e1c\u897f\uff0c\u73b0\u5728\u4e3b\u8981\u7814\u7a76\u540c\u6001\u3001\u96f6\u77e5\u8bc6\u8bc1\u660e\u7b49\u7b97\u6cd5\uff0c\u57fa\u672c\u90fd\u662f\u6570\u5b66\uff0c\u5176\u5b9e\u8fd9\u90e8\u5206\u6709\u7684\u65f6\u5019\u4e5f\u88ab\u5f52\u7c7b\u4e3a\u8ba1\u7b97\u673a\u5b89\u5168\u7684\u76f8\u5173\u7814\u7a76</li> <li>Logic &amp; verification\uff1a\u4e0d\u4e86\u89e3\uff0c\u7b14\u8005\u4e2d\u6ca1\u6709\u7814\u7a76\u8be5\u65b9\u5411\u7684</li> <li> <p>Interdisciplinary Areas\uff1a\u4e3b\u8981\u7814\u7a76\u8ba1\u7b97\u673a\u4e0e\u5176\u4ed6\u9886\u57df\u4e4b\u95f4\u7684\u4ea4\u53c9\uff0c\u4e00\u822c\u6765\u8bf4\u662f\u8ba1\u7b97\u673a\u6280\u672f\u5982\u4f55\u5e94\u7528\u4e8e\u5176\u4ed6\u9886\u57df</p> </li> <li> <p>Comp. bio &amp; bioinformatics\uff1a\u751f\u7269\u4fe1\u606f\u5b66\uff0c\u4e3b\u8981\u7814\u7a76\u5982\u4f55\u5c06\u8ba1\u7b97\u673a\u6280\u672f\u5e94\u7528\u4e8e\u751f\u7269\u5b66\u65b9\u9762\u7684\u7814\u7a76\uff0c\u6709\u4eba\u79f0\u4e4b\u4e3aAI for science</p> </li> <li>Computer graphics\uff1a\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66\uff0c\u4e3b\u8981\u7814\u7a76\u5982\u4f55\u901a\u8fc7\u8ba1\u7b97\u673a\u6a21\u62df\u73b0\u5b9e\u4e16\u754c\u7684\u56fe\u50cf\uff0c\u6bd4\u5982\u5927\u5bb6\u77e5\u9053\u7684Nvidia\u7684\u4e00\u7cfb\u5217\u6280\u672f\u7b49\uff0c\u4e5f\u5c5e\u4e8e\u8fd9\u4e2a\u8303\u7574</li> <li>Economics &amp; computation\uff1a\u4e3b\u8981\u7814\u7a76\u8ba1\u7b97\u673a\u5982\u4f55\u5e94\u7528\u4e8e\u7ecf\u6d4e\u5b66\u548c\u8fd0\u7b79\u5b66\u7b49\u7684\u6280\u672f</li> <li>Human-computer interaction\uff1a\u4eba\u673a\u4ea4\u4e92\uff0c\u8fd9\u4e00\u90e8\u5206\u4e3b\u8981\u662f\u7814\u7a76\u5982\u4f55\u4f18\u5316\u8ba1\u7b97\u673a\u4e0e\u7528\u6237\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u53ef\u4ee5\u5206\u6210\u6280\u672f\u7aef\u548c\u4eba\u6587\u7aef\uff0c\u8fd9\u4e00\u4e2a\u7814\u7a76\u9886\u57df\u9664\u4e86\u8ba1\u7b97\u673a\u7814\u7a76\u4eba\u5458\uff0c\u8fd8\u6709\u5f88\u591a\u5b66\u7f8e\u672f\u3001\u5fc3\u7406\u3001\u6587\u5b66\u7b49\u9886\u57df\u7684\u7814\u7a76\u8005\u8fdb\u884c\u7814\u7a76</li> <li>Robotics\uff1a\u7814\u7a76\u673a\u5668\u4eba\u76f8\u5173\u6280\u672f</li> <li>Visualization\uff1a\u7814\u7a76AR\u548cVR\u7b49\u76f8\u5173\u6280\u672f</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#ml-system","title":"ML system \u5165\u5751\u6307\u5357","text":"<p>\u6700\u8fd1ChatGpt\u5927\u706b,\u8d8a\u6765\u8d8a\u591a\u5f00\u59cb\u5173\u6ce8\u5927\u6a21\u578b2,\u4f46\u5bf9\u4e8e\u5927\u6a21\u578b\u843d\u5730\u800c\u8a00,\u9664\u4e86\u5148\u8fdb\u7684\u7b97\u6cd5,\u5176\u80cc\u540e\u7684MLsystem(\u673a\u5668\u5b66\u4e60\u7cfb\u7edf), \u4ece\u5206\u5e03\u5f0f\u8bad\u7ec3\u5230\u9ad8\u6548\u63a8\u7406\u7684\u5b8c\u6574\u94fe\u8def\u540c\u6837\u91cd\u8981, \u597d\u7684\u57fa\u7840\u8bbe\u65bd\u662f\u5e94\u7528\u7206\u53d1\u7684\u57fa\u7840.</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u5165\u5751MLsys\u5feb\u4e24\u5e74\u534a\u7684\u7ec3\u4e60\u751f, \u672c\u6587\u4e3b\u8981\u56f4\u7ed5\u81ea\u5df1\u5b66\u4e60\u7684\u7ecf\u5386\u6765\u6784\u7b51,\u4f1a\u6301\u7eed\u66f4\u65b0,\u5e0c\u671b\u80fd\u7ed9\u5e0c\u671b\u5165\u5751\u7684\u65b0\u4eba\u4e00\u4e2a\u6307\u5f15,\u4e5f\u7ed9\u975eMlsys\u80cc\u666f\u4f46\u611f\u5174\u8da3\u7684\u5176\u4ed6\u9886\u57df\u7684\u540c\u5b66\u4e00\u4e9b\u542f\u53d1.</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#course","title":"Course","text":"<p>\u9996\u5148\u662f\u8bfe\u7a0b,\u5165\u5751MLsys,\u57fa\u672c\u7684\u8ba1\u7b97\u673a\u80cc\u666f\u77e5\u8bc6\u6bd4\u5982\u6570\u636e\u7ed3\u6784\u5c31\u4e0d\u591a\u804a\u4e86,\u66f4\u591a\u8bb2\u8bb2\u4e00\u4e9b\u66f4\u52a0\u4e13\u4e1a\u6027\u7684\u8fdb\u9636\u8bfe\u7a0b,</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#operating-system","title":"Operating System","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#jyy-os","title":"\u5357\u4eac\u5927\u5b66JYY OS","text":"<p>\u5357\u4eac\u5927\u5b66JYY\u8001\u5e08\u5f00\u7684\u64cd\u4f5c\u7cfb\u7edf\u8bfe\u5185\u5bb9\u975e\u5e38\u786c\u6838, workload\u5de8\u5927,\u8bfe\u7a0b\u8d28\u91cf\u6bd4\u80a9\u56db\u5927</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mit-6s081","title":"MIT 6.S081","text":"<p>MIT\u7ecf\u5178OS\u8bfe,\u8d44\u6599,lab\u90fd\u975e\u5e38\u5168</p> <ul> <li>\u8bfe\u7a0b\u4e3b\u9875</li> <li>MIT 6.S081 \u4e2d\u6587 Tutorial Book</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#parallel-computing","title":"Parallel computing","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#cmu15418-parallel-computing","title":"CMU15418 Parallel computing","text":"<p>\u5e76\u884c\u8ba1\u7b97\u975e\u5e38\u597d\u7684\u5165\u95e8\u8bfe,\u5185\u5bb9\u786c\u6838,workload\u5de8\u5927,\u6d89\u53ca\u73b0\u4ee3\u591a\u5904\u7406\u5668,CPU\u52a0\u901f\u6bd4\u5982SIMD,\u5206\u5e03\u5f0f\u901a\u8baf\u534f\u8baeMPI,GPU\u52a0\u901fCuda\u7f16\u7a0b,\u5f02\u6784\u8ba1\u7b97,\u540c\u6b65,Cache</p> <ul> <li>\u8bfe\u7a0b\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#ucb-cs267-applications-of-parallel-computers","title":"UCB cs267 Applications of Parallel Computers","text":"<p>HPC\u7956\u5e08\u7237 Jim Demmel 22 spring\u6700\u65b0\u7248\u672c,</p> <ul> <li>\u8bfe\u7a0b\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#distributed-system","title":"Distributed system","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mit6824","title":"MIT6.824\u5206\u5e03\u5f0f\u7cfb\u7edf","text":"<p>\u8fd9\u95e8\u8bfe\u63a8\u8350\u7684\u4eba\u4e5f\u975e\u5e38\u591a\u4e86,\u7528go\u5b9e\u73b0,\u4e86\u89e3\u4f20\u7edf\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u77e5\u8bc6\u548c\u5386\u53f2\u5bf9\u73b0\u4ee3\u7684\u5206\u5e03\u5f0f\u673a\u5668\u5b66\u4e60\u7cfb\u7edf\u7684\u5b66\u4e60\u8fd8\u662f\u6709\u4e00\u5b9a\u7684\u5e2e\u52a9,\u4e0d\u8fc7\u5bf9\u4e8e\u505aMLsys\u4e0d\u662f\u5fc5\u987b.</p> <ul> <li>\u8bfe\u7a0b\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mlsystem","title":"MLSystem","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#cmu-dl-system","title":"CMU DL System","text":"<p>\u9648\u5929\u5947\u8001\u5e08\u7684\u8bfe,\u6d89\u53cann\u5e93\u5b9e\u73b0,\u81ea\u52a8\u5fae\u5206,GPU\u52a0\u901f,\u6a21\u578b\u90e8\u7f72\u548c\u90e8\u5206AI\u7f16\u8bd1\u5185\u5bb9,\u5185\u5bb9\u9664\u4e86\u5206\u5e03\u5f0f\u8bad\u7ec3\u6d89\u53ca\u7684\u4e0d\u591f,\u57fa\u7840\u7684MLsys\u8fd8\u662f\u975e\u5e38\u5168\u9762\u7684.</p> <ul> <li>\u8bfe\u7a0b\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mini-torch","title":"Mini torch","text":"<p>\u5b8c\u5168\u7528python\u5b9e\u73b0\u7684\u7b80\u5355torch\u7248\u672c,\u6d89\u53ca\u81ea\u52a8\u5fae\u5206,\u5f20\u91cf,GPU\u52a0\u901f.\u9002\u5408\u65b0\u624b\u5165\u95e8</p> <ul> <li>\u8bfe\u7a0b\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_1","title":"\u673a\u5668\u5b66\u4e60\u7cfb\u7edf:\u8bbe\u8ba1\u548c\u5b9e\u73b0","text":"<p>\u534e\u4e3aMindspore\u56e2\u961f(\u6ca1\u9519,\u5c31\u662f\u6211\u6253\u8fc7\u5de5\u7684Team)\u548c\u4e00\u7fa4\u5927\u4f6cAP\u641e\u7684, \u8ba1\u7b97\u56fe,\u7f16\u8bd1\u5668\u524d\u540e\u7aef,\u5206\u5e03\u5f0f\u8bad\u7ec3\u90fd\u6709\u6d89\u53ca,\u5185\u5bb9\u6bd4\u8f83\u5168\u9762,\u6bd4\u8f83\u9002\u5408\u6709\u4e00\u5b9a\u57fa\u7840\u7684\u4eba\u9605\u8bfb\u6216\u8005\u4f5c\u4e3a\u5de5\u5177\u4e66.</p> <ul> <li>\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#system-for-ai","title":"System for AI","text":"<p>\u5fae\u8f6f\u53d1\u8d77\u7684,\u76ee\u524d\u8fd8\u5728\u5feb\u901f\u8fed\u4ee3\u66f4\u65b0\u7684\u5de5\u5177\u4e66,\u820d\u548c\u8865\u5168\u57fa\u7840.</p> <ul> <li>\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#ai-compilation","title":"AI Compilation","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#machine-learning-compilation","title":"Machine Learning Compilation","text":"<p>\u8fd8\u662f\u9648\u5929\u5947\u8001\u5e08\u7684\u8bfe,\u4ee5TVM\u4e3a\u57fa\u7840, AI\u7f16\u8bd1\u5668\u8fd9\u6837\u524d\u6cbf\u7684\u9886\u57df\u4e3a\u6570\u4e0d\u591a\u7684\u8bfe.</p> <ul> <li>\u8bfe\u7a0b\u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#large-model","title":"Large model","text":"<p>\u5bf9\u4e8e\u505aML system \u7684\u540c\u5b66\u800c\u8a00,\u4e86\u89e3\u4e00\u4e9b\u6700\u65b0\u7684\u7b97\u6cd5\u4e5f\u662f\u975e\u5e38\u5fc5\u8981\u7684,\u4e0d\u7528\u8fc7\u5ea6\u5173\u7cfb\u4e00\u4e9bfancy\u7684\u6280\u5de7,\u66f4\u591a\u5173\u6ce8\u6a21\u578b\u67b6\u6784,\u53c2\u6570,\u5927\u7684\u8303\u5f0f\u4e0a\u7684\u53d8\u5316\u5373\u53ef. \u7b97\u6cd5\u7684\u4e1a\u754c\u8fdb\u5c55\u786e\u5b9e\u592a\u5feb\u4e86,\u5f88\u96be\u6709\u7cfb\u7edf\u7684\u8bfe,\u67d0\u4e9b\u9876\u7ea7\u5927\u5b66\u4f1a\u7528\u8bb2\u5ea7\u7684\u5f62\u5f0f\u5f00\u5c55,\u53bb\u8bb2GPT,PLAM\u8fd9\u6837\u7684\u5927\u6a21\u578b, \u770b\u8bba\u6587\u548c\u5b98\u65b9\u7f51\u7ad9,blog\u662f\u66f4\u597d\u7684\u9009\u62e9.</p> <p>\u53ef\u4ee5\u770b\u674e\u6c90\u8001\u5e08\u8bba\u6587\u7cbe\u8bb2\u53bbfollow\u4e00\u4e9b\u6bd4\u8f83\u65b0\u4e14\u5f71\u54cd\u529b\u5de8\u5927\u7684\u5de5\u4f5c, Muli is all you need !!!</p> <ul> <li>paper-reading github \u4e3b\u9875</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#large-model-training-paper","title":"Large model training &amp; paper","text":"<p>\u8fd9\u5757\u76ee\u524d\u8fd8\u6ca1\u6709\u6bd4\u8f83\u7cfb\u7edf\u7684\u8bfe,\u5927\u89c4\u6a21\u7684\u5206\u5e03\u5f0f\u8bad\u7ec3\u5f00\u59cb\u5e94\u7528\u4e5f\u5c31\u8fd9\u51e0\u5e74\u7684\u4e8b\u60c5,\u4e5f\u662fMLsys\u9886\u57df\u7684\u6700\u5927\u70ed\u70b9,\u8fd9\u91cc\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\u9700\u8981\u638c\u63e1\u7684\u77e5\u8bc6\u70b9\u548c\u53c2\u8003\u8bba\u6587</p> <ul> <li>Data Parallel(\u6570\u636e\u5e76\u884c)</li> <li>Distributed Data Parallel(\u5206\u5e03\u5f0f\u6570\u636e\u5e76\u884c)<ul> <li>PyTorch Distributed: Experiences on Accelerating Data Parallel Training</li> </ul> </li> <li>Mix precise Training(\u6df7\u5408\u7cbe\u5ea6\u8bad\u7ec3)<ul> <li>Mix precise Training</li> </ul> </li> <li>Zero Optimizer(\u96f6\u5197\u4f59\u4f18\u5316\u5668)<ul> <li>ZeRO-Infinity: Breaking the GPU Memory Wall for Extreme Scale Deep Learning</li> </ul> </li> <li>Tensor Parallel(\u5f20\u91cf\u5e76\u884c)<ul> <li>1D\u5e76\u884c:Megatron-LM</li> </ul> </li> <li>Pipeline Parallel(\u6d41\u6c34\u5e76\u884c)<ul> <li>GPipe: Efficient Training of Giant Neural Networks using Pipeline Parallelism</li> </ul> </li> <li>Auto Parallel(\u81ea\u52a8\u5e76\u884c)<ul> <li>Alpa:Automating Inter- and Intra-Operator Parallelism for Distributed Deep Learning</li> </ul> </li> <li>Sequence Parallel(\u5e8f\u5217\u5e76\u884c)<ul> <li>Sequence Parallelism: Long Sequence Training from     System Perspective</li> </ul> </li> <li>Large batchsize(\u8d85\u5927batch size)<ul> <li>LARS:Large Batch Training of Convolutional Networks</li> </ul> </li> <li>MOE(\u6df7\u5408\u4e13\u5bb6\u6a21\u578b)<ul> <li>GShard: Scaling Giant Models with Conditional Computation and Automatic Sharding</li> </ul> </li> <li>Kernal Fusion(\u7b97\u5b50\u878d\u5408)<ul> <li>Flash attention: Fast and Memory-Efficient Exact Attention with IO-Awareness</li> </ul> </li> <li>Optimizer Fusion(\u4f18\u5316\u5668\u878d\u5408)<ul> <li>OPTIMIZER FUSION: EFFICIENT TRAINING WITH BETTER LOCALITY AND PARALLELISM</li> </ul> </li> <li>Activation checkpoint<ul> <li>Training Deep Nets with Sublinear Memory Cost</li> </ul> </li> <li>Fine-tune accelerate(\u5fae\u8c03\u52a0\u901f)<ul> <li>LoRA: Low-Rank Adaptation of Large Language Models</li> </ul> </li> <li>Isomorphic training(\u5f02\u6784\u8bad\u7ec3)<ul> <li>PatrickStar: Parallel Training of Pre-trained Models via     Chunk-based Dynamic Memory Management</li> </ul> </li> <li>Asynchronous Distributed Dataflow(\u5f02\u6b65\u6570\u636e\u6d41)<ul> <li>PATHWAYS: ASYNCHRONOUS DISTRIBUTED DATAFLOW FOR ML</li> </ul> </li> <li>Distributed Scheduling(\u5206\u5e03\u5f0f\u8c03\u5ea6)<ul> <li>RLlib: Abstractions for Distributed Reinforcement Learning</li> </ul> </li> <li>Quant(\u91cf\u5316)<ul> <li>SmoothQuant: Accurate and Efficient Post-Training Quantization for Large Language Models</li> </ul> </li> <li>\u5927\u8bed\u8a00\u6a21\u578b\u63a8\u7406<ul> <li>FlexGen: High-throughput Generative Inference of Large Language Models with a Single GPU</li> </ul> </li> </ul> <p>\u6bcf\u4e2a\u7ec6\u5206\u9886\u57df\u7684\u8bba\u6587\u8fd8\u6709\u5f88\u591a,\u4e0d\u4e00\u4e00\u5217\u4e3e\u4e86,\u5bf9\u4e8e\u5165\u5751\u6765\u8bf4,\u6293\u4f4f\u4e3b\u7ebf\u5373\u53ef.</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#programming-languages","title":"Programming Languages","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#c","title":"C++","text":"<ul> <li>Cmake</li> <li>\u73b0\u4ee3CPP</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#python","title":"Python","text":"<p>Python\u57fa\u7840\u8bfe\u8fd9\u4e2a\u592a\u591a\u4e86,\u4e0d\u4f5c\u63a8\u8350\u4e86,\u505aMLsys\u6bd4\u8f83\u9700\u8981\u638c\u63e1\u7528python\u8c03\u7528C,\u6bd4\u5982Cpython,pybind,\u4ee5\u53ca\u4e00\u4e9bpython\u9ad8\u7ea7\u7279\u6027,\u6bd4\u5982hook,\u88c5\u9970\u5668</p> <ul> <li>pybind</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#cuda","title":"Cuda","text":"<p>\u8fd9\u4e2a\u53ef\u4ee5\u53c2\u8003\u7684\u4e5f\u6bd4\u8f83\u591a,\u82f1\u4f1f\u8fbe\u7684\u5b98\u65b9\u624b\u518c\u6c38\u8fdc\u662f\u6700\u597d\u7684\u53c2\u8003.</p> <ul> <li>Cuda programming guide</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#opencl","title":"OpenCL","text":"<p>\u5bf9\u4e8e\u975eNvidia\u82af\u7247\u7684\u8bbe\u5907,\u6bd4\u5982\u624b\u673aSoc,\u79fb\u52a8\u7aef\u63a8\u7406\u82af\u7247\u5927\u591a\u4e0d\u652f\u6301cuda,\u90a3\u4e48\u7528OpenCL\u6765\u505a\u5f02\u6784\u52a0\u901f\u5c31\u662f\u4e00\u4e2a\u66f4\u901a\u7528\u7684\u65b9\u6848</p> <ul> <li>OpenCL\u5f02\u6784\u8ba1\u7b97</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_2","title":"\u519b\u706b\u5e93","text":"<p>\u8fd9\u91cc\u4f1a\u7b80\u5355\u603b\u7ed3\u6211\u63a5\u89e6\u6216\u4f7f\u7528\u548c\u76f4\u63a5\u53c2\u4e0e\u5f00\u53d1\u7684Mlsys\u7684\u519b\u706b\u5e93,\u4f1a\u6301\u7eed\u66f4\u65b0.</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#framework","title":"Framework","text":"<p>\u5bf9\u4e8eMLsys\u8fd9\u6837\u524d\u6cbf\u7684\u9886\u57df\u800c\u8a00,\u56e0\u4e3a\u5f88\u591a\u65b9\u9762\u5e76\u6ca1\u6709\u8db3\u591f\u7684\u8d44\u6599,\u7ecf\u5e38\u88ab\u8feb\u53bb\u76f4\u63a5\u5b66\u4e60\u6e90\u7801,\u4ee5\u5b9e\u9645\u7684case\u4f5c\u4e3a\u5b66\u4e60\u624b\u6bb5\u4e5f\u662f\u975e\u5e38\u597d\u7684\u65b9\u5f0f.\u8fd9\u91cc\u7b80\u5355\u5f52\u7c7b\u4e00\u4e0b\u6211\u9047\u5230\u8fc7\u7684MLsys,\u5927\u591a\u6570\u5904\u4e8e\u7b80\u5355\u4e86\u89e3\u548c\u4f7f\u7528,\u6709\u5c11\u90e8\u5206\u6bd4\u8f83\u6df1\u5165\u770b\u8fc7\u6e90\u7801.</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#inference","title":"Inference","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#tensorrt","title":"TensorRT","text":"<p>\u82f1\u4f1f\u8fbe\u7684\u63a8\u7406\u65b9\u6848, \u76ee\u524d\u6574\u4f53\u4e0a\u5728\u82f1\u4f1f\u8fbeGPU\u4e0a\u505a\u7684\u6700\u597d\u7684\u63a8\u7406\u6846\u67b6,\u6bd4\u8f83\u662f\u81ea\u5df1\u7684\u5361.</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#ai-template","title":"AI Template","text":"<p>FaceBook\u521a\u641e\u7684\u4e00\u4e2a\u63a8\u7406\u5e93,\u5728\u5f88\u591a\u786c\u4ef6\u4e0a\u901f\u5ea6\u6027\u80fd\u90fd\u8d85\u8fc7TensorRT, \u8fd8\u6bd4\u8f83\u65b0\u7684\u6846\u67b6</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#severing","title":"Severing","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#triton-inference-server","title":"triton-inference-server","text":"<p>\u82f1\u4f1f\u8fbe\u7684ML serving\u6846\u67b6,\u6bd4\u8f83\u6210\u719f</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#clip-as-service","title":"clip-as-service","text":"<p>Jina-AI\u505a\u7684,\u4e00\u5bb6\u4e2d\u56fd start up, \u5728mass(model as service)\u4e0a\u662f\u4e00\u4e2a\u975e\u5e38\u4e0d\u9519\u7684\u843d\u5730\u4ea7\u54c1,\u7279\u522b\u559c\u6b22</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mobile-inference","title":"Mobile inference","text":"<p>\u79fb\u52a8\u7aef\u63a8\u7406\u662f\u6211\u6bd4\u8f83\u6df1\u5165\u505a\u8fc7\u7684,\u5bf9\u5176\u5e95\u5c42\u4e86\u89e3\u7684\u6bd4\u8f83\u591a</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mindsporelite","title":"Mindsporelite","text":"<p>\u6211\u6709\u5e78\u53c2\u4e0e\u5199\u8fc7\u7684\u63a8\u7406\u5f15\u64ce,\u5bf9\u4e8e\u5168\u6d41\u7a0b\u5728mindspore\u4e0a\u505a\u7684\u4f53\u9a8c\u8fd8\u662f\u4e0d\u9519\u7684.</p> <ul> <li>gitee</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mnn","title":"MNN","text":"<p>\u963f\u91cc\u8fbe\u6469\u9662\u505a\u7684,\u6211\u5199mindsporelite\u7684\u9047\u5230\u95ee\u9898\u7684\u65f6\u5019\u7ecf\u5e38\u88abmentor\u53eb\u53bb\u5b66\u4e60\u4e00\u4e0b\u53cb\u5546\u7684\u4ee3\u7801,CPU\u7684\u4e00\u4e9bkernel\u7528\u6c47\u7f16\u5199\u7684,\u8fd9\u70b9\u6620\u50cf\u975e\u5e38\u6df1\u523b,\u4ee3\u7801\u8d28\u91cf\u975e\u5e38\u9ad8.</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#tensorflowlite","title":"TensorFlowlite","text":"<p>\u96c6\u6210\u5728Tensorflow\u7684\u79fb\u52a8\u7aef\u63a8\u5f15\u64ce,\u56fd\u9645\u4e0a\u5e94\u8be5\u662f\u6700\u65e9\u505a\u7684\u79fb\u52a8\u7aef\u63a8\u7406.\u6ca1\u9519,TFlite\u7684\u5927\u54e5\u5c31\u662f\u90a3\u4e2a\u4ece\u8c37\u6b4c\u8dd1\u8def\u91cd\u56de\u65af\u5766\u798f\u8bfb\u535a\u7684\u76ae\u7279\u00b7\u6c83\u767b,\u4ed6\u5199\u4e86TinyML\u8fd9\u672c\u4e66,\u5bf9\u6574\u4e2a\u79fb\u52a8\u7aef\u63a8\u7406\u90fd\u662f\u6709\u91cd\u8981\u610f\u4e49\u7684.\u6211\u4e5f\u4ece\u8fd9\u5b66\u4e60\u4e86\u4e0d\u5c11.google\u7684\u4ee3\u7801\u8d28\u91cf\u592a\u9ad8\u4e86,\u770b\u6ce8\u91ca\u90fd\u80fd\u5b66\u5f88\u591a.</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#ncnn","title":"NCNN","text":"<p>\u56fd\u5185\u505a\u7684\u6700\u65e9\u7684\u7aef\u4fa7\u63a8\u7406\u5f15\u64ce,\u817e\u8baf\u641e\u7684,\u4e0d\u5f97\u4e0d\u8bf4,\u5f88\u591a\u4e1c\u897f\u8fd8\u662f\u9700\u6c42\u9a71\u52a8, \u9760\u5404\u79cd\u79fb\u52a8APP\u4e3a\u4e3b\u8981\u4ea7\u54c1\u7684\u4e2d\u56fd\u4e92\u8054\u7f51\u516c\u53f8,\u79fb\u52a8\u63a8\u7406\u5f15\u64ce\u505a\u7684\u90fd\u4e0d\u9519.</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#deeplearning-framework","title":"DeepLearning Framework","text":"<p>\u5927\u7684\u6df1\u5ea6\u5b66\u4e60\u7684\u6846\u67b6\u7684\u4ecb\u7ecd\u592a\u591a\u4e86,\u4e0d\u4e00\u4e00\u4ecb\u7ecd\u4e86,\u5927\u540c\u5c0f\u5f02,\u505aML\u7cfb\u7edf\u591a\u5c11\u90fd\u4f1a\u770b\u770b\u5404\u79cd\u6846\u67b6\u505a\u7684\u4e00\u4e9b\u65b0\u7279\u6027,Torch2.0\u7684\u4e00\u4e9b\u4e1c\u897f\u53ef\u4ee5\u5173\u6ce8.</p> <ul> <li>Torch</li> <li>TensorFlow</li> <li>Mindspore</li> <li>Jax</li> <li>oneflow</li> <li>paddle</li> <li>ivy</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#ai-compiler","title":"AI compiler","text":"<p>\u7f16\u8bd1\u8fd9\u5757\u6211\u63a5\u89e6\u7684\u4e0d\u591a,\u8fd9\u4e24\u4e2a\u9879\u76ee\u53ef\u4ee5\u53c2\u8003</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#tvm","title":"TVM","text":"<ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#bladedisc","title":"BladeDISC","text":"<ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#distributed-training","title":"Distributed training","text":"<p>\u5bf9\u4e8e\u5927\u6a21\u578b\u800c\u8a00,\u5206\u5e03\u5f0f\u8bad\u7ec3\u662f\u6bd4\u4e0d\u7f3a\u7684,\u9664\u4e86\u6700\u57fa\u672c\u7684\u5206\u5e03\u5f0f\u6570\u636e\u5e76\u884c,\u5404\u79cd\u6df7\u5408\u5e76\u884c\u7b56\u7565,\u663e\u5b58\u4f18\u5316\u7b56\u7565\u5fc5\u4e0d\u53ef\u7f3a,\u4e5f\u56e0\u6b64\u51fa\u73b0\u4e86\u4e00\u7cfb\u5217\u7684\u5927\u6a21\u578b\u8bad\u7ec3\u6846\u67b6.</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#colossalai","title":"ColossalAI","text":"<p>All in \u53c2\u4e0e\u7684\u9879\u76ee,\u521a\u521astar\u63a5\u8fd115k\u4e86,\u5728torch\u751f\u6001\u4e0b\u652f\u6301\u5404\u79cd\u5e76\u884c\u548c\u663e\u5b58\u4f18\u5316\u7b56\u7565,\u7ed9\u81ea\u5df1\u6253\u4e2a\u5e7f\u544a,\u6b22\u8fce\u5404\u4f4d\u670b\u53cbstar,\u5173\u6ce8</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#megatron-lm","title":"Megatron-LM","text":"<p>NVIDIA\u505a\u7684\u6a21\u578b\u5e76\u884c\u5e93,\u4e5f\u662f\u6700\u65e9\u5f00\u6e90\u7684\u6a21\u578b\u5e76\u884c,\u4f46\u5bf9\u7f3a\u4e4f\u5206\u5e03\u5f0f\u8bad\u7ec3\u80cc\u666f\u7684\u4eba\u4f7f\u7528\u4e0d\u592a\u53cb\u597d.</p> <ul> <li>Github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#deepspeed","title":"Deepspeed","text":"<p>\u5fae\u8f6f\u7684\u5927\u6a21\u578b\u8bad\u7ec3\u6846\u67b6,\u6838\u5fc3\u6280\u672f\u662fZero infinity\u76f8\u5173\u7684\u4e00\u7cfb\u5217paper,\u4f7f\u7528Megatron-LM\u4f5c\u4e3a\u5f20\u91cf\u5e76\u884c\u7684\u652f\u6301</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#huggingface-accelerate","title":"huggingface accelerate","text":"<p>huggingface\u7684\u52a0\u901f\u5668,\u5bf9\u5404\u79cd\u4e0d\u540c\u786c\u4ef6\u505a\u4e86\u517c\u5bb9,\u5728huggingface\u751f\u6001\u4e0b\u975e\u5e38\u597d\u7528,\u5728\u5206\u5e03\u5f0f\u4e0a\u505a\u4e86\u6bd4\u8f83\u591a\u7684\u5c01\u88c5,\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528Deepspeed.</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#bagua","title":"Bagua","text":"<p>Bagua\u5728\u591a\u673a\u901a\u8baf\u4e0a\u505a\u4e86\u975e\u5e38\u591a\u7684\u5de5\u4f5c,\u5bf9allreduce\u7b49\u5206\u5e03\u5f0f\u901a\u8baf\u505a\u4e86\u4e0d\u5c11\u4f18\u5316.</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#lightning","title":"lightning","text":"<p>lightning\u96c6\u6210\u4e86\u5404\u79cd\u5206\u5e03\u5f0f\u540e\u7aef,\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u542f\u52a8\u5404\u79cd\u5206\u5e03\u5f0f\u7b56\u7565,lightning\u672c\u8eab\u662f\u4e00\u5957\u66f4\u597d\u7684MLflow,\u8bbe\u8ba1\u7406\u5ff5\u662f\u7b97\u6cd5\u548c\u5de5\u7a0b\u5206\u5f00,\u63d0\u4f9b\u4e86\u5927\u91cf\u81ea\u5b9a\u4e49hook,\u5bf9\u4e8e\u5927\u578bAI\u9879\u76ee\u800c\u8a00,\u662f\u4e2a\u4e0d\u9519\u7684\u9009\u62e9,\u4f46\u662f\u5b66\u4e60\u95e8\u69db\u4e0d\u4f4e,\u5bf9\u56e2\u961f\u4eba\u5458\u6c34\u5e73\u8981\u6c42\u6bd4\u8f83\u9ad8.</p> <ul> <li>github</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#distributed-communication","title":"Distributed Communication","text":"<p>\u5728nccl\u4e4b\u524dMPI\u662f\u5206\u5e03\u5f0f\u901a\u8baf\u7684\u4e3b\u8981\u65b9\u5f0f,\u7b80\u5355\u4e86\u89e3\u4e00\u4e0b\u8fd8\u662f\u6709\u5fc5\u8981\u7684</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mpithe-message-passing-interface","title":"MPI(the Message Passing Interface)","text":"<ul> <li>MPI Tutorials</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#tips","title":"Tips","text":"<p>\u6700\u540e\u7b80\u5355\u7ed9\u51e0\u4e2aTips,</p> <ul> <li>\u5c3d\u53ef\u80fd\u53c2\u4e0e\u5230\u4e1a\u754c\u7684\u9879\u76ee\u53bb,\u591a\u6ce8\u91cd\u843d\u5730,\u5728\u5b9e\u9a8c\u73a9\u4e00\u4e9b\u5f88fancy\u4f46\u4e0d\u843d\u5730\u7684\u4e1c\u897f\u610f\u4e49\u4e0d\u5927,\u76ee\u524dMLsys\u4e1a\u754c\u6bd4\u5b66\u754c\u8dd1\u7684\u5feb\u592a\u591a\u4e86,\u5b66\u754c\u6bd4\u8f83\u6709\u5f71\u54cd\u529b\u7684\u5de5\u4f5c\u5f80\u5f80\u4e5f\u662f\u4f55\u5927\u516c\u53f8\u5408\u4f5c\u7684,\u6bd4\u5982\u524d\u9762\u63d0\u5230\u7684Alpa\u7684\u5b9e\u9a8c\u5c31\u662f\u5728Google\u7684TPU\u96c6\u7fa4\u548cAWS\u4e0a\u505a\u7684,\u4e00\u822c\u7684lab\u66f4\u672c\u6ca1\u6709\u6761\u4ef6.</li> <li>\u53ca\u65f6\u5173\u6ce8\u5404\u79cdBlog,\u65b0\u7684\u8bba\u6587,\u8fd9\u4e2a\u9886\u57df\u6bcf\u5929\u90fd\u6709\u65b0\u7684\u4e1c\u897f\u51fa\u6765,\u6bd4\u5982\u6211\u5c31\u6bd4\u8f83\u559c\u6b22\u6bcf\u5929\u53bbtwitter,\u4e00\u4e9bDiscord channel\u6316\u5b9d,\u603b\u80fd\u5e26\u6765\u4e00\u4e9b\u60ca\u559c</li> <li>Mlsys\u662f\u4e00\u4e2a\u4ea4\u53c9\u5168\u9762\u7684\u9886\u57df,\u9664\u4e86\u8f6f\u4ef6\u548c\u7b97\u6cd5,\u61c2\u70b9\u57fa\u672c\u7684\u786c\u4ef6,\u5b66\u4f1a\u505a\u4ea7\u54c1\u4e5f\u5f88\u91cd\u8981,\u66f4\u591a\u65f6\u5019\u6613\u7528\u6027\u5927\u4e8e\u6027\u80fd.</li> <li>\u65b0\u7684\u4e1c\u897f\u80af\u5b9a\u662f\u770b\u4e0d\u5b8c\u7684,\u6293\u4f4f\u4e3b\u5e72\u5373\u53ef,\u5728\u81ea\u5df1\u505a\u7684\u90e8\u5206\u4fdd\u8bc1\u4e13\u6ce8</li> <li>\u62e5\u62b1\u5f00\u6e90\u793e\u533a,\u4e0d\u7ba1\u662fgithub\u8fd8\u662fhuggingface,\u4f60\u6c38\u8fdc\u60f3\u8c61\u4e0d\u51fa\u5f00\u6e90\u793e\u533a\u7684\u8001\u54e5\u7684\u521b\u9020\u529b</li> </ul> <p>\u4e0b\u9762\u662f\u4ece 0 \u5230\u8fdb\u5165 LLM/MLSys \u524d\u6cbf\u7684\u5b66\u4e60\u8def\u5f84\uff1a</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#1","title":"\u2705 1. \u57fa\u7840\u9636\u6bb5\uff08\u6253\u7262\u6570\u5b66\u4e0e\u7f16\u7a0b\u57fa\u7840\uff09","text":"<ul> <li>\u6570\u5b66\uff1a<ul> <li>\u7ebf\u6027\u4ee3\u6570\uff08\u77e9\u9635\u8fd0\u7b97\u3001\u7279\u5f81\u503c\u5206\u89e3\uff09</li> <li>\u6982\u7387\u8bba\u4e0e\u7edf\u8ba1</li> <li>\u5fae\u79ef\u5206</li> <li>\u4f18\u5316\u57fa\u7840\uff08\u68af\u5ea6\u4e0b\u964d\uff09</li> </ul> </li> <li>\u7f16\u7a0b\uff1a<ul> <li>Python \u57fa\u7840</li> <li>Numpy / Matplotlib / Pandas</li> <li>Jupyter Notebook \u4f7f\u7528</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#2","title":"\u2705 2. \u673a\u5668\u5b66\u4e60\u57fa\u7840\uff08\u6a21\u578b+\u7406\u8bba\uff09","text":"<ul> <li>\u7ecf\u5178\u7b97\u6cd5\uff1a<ul> <li>\u7ebf\u6027\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52</li> <li>\u51b3\u7b56\u6811\u3001\u968f\u673a\u68ee\u6797\u3001SVM</li> <li>KNN\u3001KMeans\u3001PCA</li> </ul> </li> <li>\u6846\u67b6\uff1a<ul> <li>Scikit-learn</li> </ul> </li> <li>\u8bfe\u7a0b\u63a8\u8350\uff1a<ul> <li>\u5434\u6069\u8fbe\u300a\u673a\u5668\u5b66\u4e60\u300b</li> <li>\u5468\u5fd7\u534e\u300a\u673a\u5668\u5b66\u4e60\u300b\u6559\u6750</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#3","title":"\u2705 3. \u6df1\u5ea6\u5b66\u4e60\u8fdb\u9636","text":"<ul> <li>\u7406\u8bba + \u5b9e\u8df5\uff1a<ul> <li>\u591a\u5c42\u611f\u77e5\u673a\uff08MLP\uff09</li> <li>\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\uff08CNN\uff09</li> <li>\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\uff08RNN/LSTM\uff09</li> <li>Transformer\u3001\u6ce8\u610f\u529b\u673a\u5236</li> </ul> </li> <li>\u6846\u67b6\uff1a<ul> <li>PyTorch / TensorFlow</li> <li>HuggingFace Transformers</li> </ul> </li> <li>\u8bfe\u7a0b\u63a8\u8350\uff1a<ul> <li>\u6df1\u5ea6\u5b66\u4e60\u4e13\u9879\u8bfe\u7a0b\uff08\u5434\u6069\u8fbe\uff09</li> <li>CS231n\uff08Stanford\uff09</li> <li>CS224n\uff08Stanford NLP\uff09</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#4-nlp","title":"\u2705 4. \u5927\u6a21\u578b\u4e0e\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff08NLP\uff09","text":"<ul> <li>\u5b66\u4e60\u5185\u5bb9\uff1a<ul> <li>\u8bed\u8a00\u6a21\u578b\uff08BERT\u3001GPT\uff09</li> <li>\u9884\u8bad\u7ec3 + \u5fae\u8c03</li> <li>Prompt \u5de5\u7a0b\u3001RAG\u3001LoRA\u3001\u91cf\u5316\u7b49</li> </ul> </li> <li>\u5b9e\u8df5\uff1a<ul> <li>\u7528 HuggingFace \u52a0\u8f7d/\u5fae\u8c03\u6a21\u578b</li> <li>\u642d\u5efa Chatbot\u3001RAG \u7cfb\u7edf</li> </ul> </li> <li>\u63a8\u8350\u9879\u76ee\uff1a<ul> <li>LangChain, LlamaIndex, OpenChat</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#5-mlsys","title":"\u2705 5. MLSys &amp; \u5de5\u7a0b\u5b9e\u8df5","text":"<ul> <li>\u7cfb\u7edf\u8bbe\u8ba1\uff1a<ul> <li>GPU \u8c03\u5ea6\u3001\u5206\u5e03\u5f0f\u8bad\u7ec3\u7b56\u7565\uff08DDP, ZeRO\uff09</li> <li>\u81ea\u52a8\u6df7\u5408\u7cbe\u5ea6\uff08AMP\uff09\u3001\u6a21\u578b\u5e76\u884c\u3001\u6570\u636e\u5e76\u884c</li> <li>\u6a21\u578b\u538b\u7f29\u3001\u90e8\u7f72\u4f18\u5316\uff08ONNX, TensorRT\uff09</li> </ul> </li> <li>\u5de5\u5177\u6808\uff1a<ul> <li>Ray, DeepSpeed, Megatron-LM</li> <li>Docker, Kubernetes, MLflow</li> <li>CUDA \u7f16\u7a0b\uff08\u9009\u5b66\uff09</li> </ul> </li> <li>\u8bfe\u7a0b\u63a8\u8350\uff1a<ul> <li>CMU 10-414 / 10-418\uff1aML Systems</li> <li>Stanford CS329D\uff1aMachine Learning Systems Design</li> </ul> </li> </ul> <p>MLSys \u770b\u4f5c\u662f\u201c\u673a\u5668\u5b66\u4e60+\u5206\u5e03\u5f0f\u7cfb\u7edf+\u7cfb\u7edf\u4f18\u5316\u201d\u4e09\u8005\u7684\u4ea4\u96c6\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_3","title":"\ud83e\uddf1 \u7b2c\u4e00\u9636\u6bb5\uff1a\u57fa\u7840\u51c6\u5907","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_4","title":"\ud83e\uddd1\u200d\ud83d\udcbb \u7f16\u7a0b\u80fd\u529b","text":"<ul> <li> <p>\u719f\u7ec3\u638c\u63e1\uff1aGo\u3001Rust\u3001C++ \u6216 Java/Python</p> </li> <li> <p>\u7406\u89e3\u591a\u7ebf\u7a0b\u3001\u591a\u8fdb\u7a0b\u3001\u534f\u7a0b\uff08\u5982 Go \u7684 goroutine\uff09</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_5","title":"\ud83d\udcd8 \u64cd\u4f5c\u7cfb\u7edf\u77e5\u8bc6\uff08\u7406\u89e3\u5e95\u5c42\u673a\u5236\uff09","text":"<ul> <li> <p>\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u3001\u9501\u3001IO\u3001\u591a\u8def\u590d\u7528\u3001\u5185\u5b58\u7ba1\u7406\u3001\u865a\u62df\u5316</p> </li> <li> <p>\u63a8\u8350\u8bfe\u7a0b\uff1a</p> <ul> <li> <p>MIT 6.828\uff08\u64cd\u4f5c\u7cfb\u7edf\uff09</p> </li> <li> <p>\u300a\u64cd\u4f5c\u7cfb\u7edf\uff1a\u4e09\u6613\u300b</p> </li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_6","title":"\ud83c\udf10 \u7f51\u7edc\u57fa\u7840","text":"<ul> <li> <p>TCP/IP\u3001DNS\u3001Socket \u7f16\u7a0b</p> </li> <li> <p>HTTP/2\u3001QUIC\u3001gRPC \u7b49\u73b0\u4ee3\u901a\u4fe1\u534f\u8bae</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_7","title":"\u2699\ufe0f \u7b2c\u4e8c\u9636\u6bb5\uff1a\u5206\u5e03\u5f0f\u7cfb\u7edf\u57fa\u7840\u539f\u7406","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_8","title":"\ud83d\udcda \u63a8\u8350\u6559\u6750","text":"<ul> <li> <p>\u300aDesigning Data-Intensive Applications\u300b\uff08DDIA\uff09\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f\uff08\u5fc5\u987b\u770b\uff09</p> </li> <li> <p>\u300a\u5206\u5e03\u5f0f\u7cfb\u7edf\u539f\u7406\u4e0e\u8303\u5f0f\u300b\uff08Tanenbaum\uff09</p> </li> <li> <p>\u300aThe Art of Multiprocessor Programming\u300b\uff08\u5e76\u53d1\u76f8\u5173\uff09</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_9","title":"\ud83e\udde0 \u5b66\u4e60\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li> <p>CAP \u5b9a\u7406\uff08Consistency, Availability, Partition tolerance\uff09</p> </li> <li> <p>BASE \u539f\u5219\u3001\u6700\u7ec8\u4e00\u81f4\u6027</p> </li> <li> <p>\u5206\u5e03\u5f0f\u5b58\u50a8 vs \u5206\u5e03\u5f0f\u8ba1\u7b97 vs \u5206\u5e03\u5f0f\u534f\u8c03</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_10","title":"\ud83d\udd27 \u7b2c\u4e09\u9636\u6bb5\uff1a\u5206\u5e03\u5f0f\u7cfb\u7edf\u5173\u952e\u6280\u672f","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_11","title":"\u2705 \u4e00\u81f4\u6027\u534f\u8bae","text":"<ul> <li> <p>\u7ecf\u5178\u7b97\u6cd5\uff1a</p> <ul> <li>Paxos\u3001Raft\uff08\u5171\u8bc6\u7b97\u6cd5\uff09</li> </ul> </li> <li> <p>\u5e94\u7528\u573a\u666f\uff1a</p> <ul> <li>\u5206\u5e03\u5f0f\u9501\u3001\u534f\u8c03\uff08Zookeeper\u3001etcd\uff09</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_12","title":"\u2705 \u5bb9\u9519\u673a\u5236","text":"<ul> <li> <p>\u91cd\u8bd5\u3001\u5e42\u7b49\u3001\u8d85\u65f6\u3001\u5fc3\u8df3\u3001\u9009\u4e3b</p> </li> <li> <p>Checkpoint\u3001\u65e5\u5fd7\u590d\u5236\u3001\u5feb\u7167\u6062\u590d</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_13","title":"\u2705 \u5206\u5e03\u5f0f\u901a\u4fe1","text":"<ul> <li> <p>RPC \u6846\u67b6\uff08gRPC\u3001Thrift\u3001Dubbo\uff09</p> </li> <li> <p>\u670d\u52a1\u53d1\u73b0\uff08Consul\u3001etcd\uff09</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_14","title":"\ud83d\udcbe \u7b2c\u56db\u9636\u6bb5\uff1a\u5206\u5e03\u5f0f\u7cfb\u7edf\u5b9e\u6218\u7ec4\u4ef6","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_15","title":"\ud83d\udd28 \u5b9e\u8df5\u6784\u5efa\u4ee5\u4e0b\u7cfb\u7edf\u7684\u201c\u7b80\u5316\u7248\u201d\u6216\u6e90\u7801\u9605\u8bfb\uff1a","text":"\u7ec4\u4ef6\u7c7b\u578b \u5de5\u5177/\u6846\u67b6 \u5efa\u8bae\u5b9e\u8df5 \u5206\u5e03\u5f0f KV \u5b58\u50a8 etcd\u3001Consul\u3001TiKV\uff08Rust\uff09 \u2705 \u5206\u5e03\u5f0f\u961f\u5217 Kafka\u3001Pulsar\u3001NATS \u2705 \u5206\u5e03\u5f0f\u6570\u636e\u5e93 CockroachDB\u3001TiDB\u3001YugabyteDB \u2b50\ufe0f \u5206\u5e03\u5f0f\u9501 / \u534f\u8c03 Zookeeper\u3001etcd \u2705 \u5206\u5e03\u5f0f\u8ba1\u7b97 Spark\u3001Ray\u3001Dask \u2b50\ufe0f \u5206\u5e03\u5f0f\u8bad\u7ec3\u6846\u67b6 PyTorch DDP\u3001Horovod\u3001DeepSpeed \u2b50\ufe0f\u2b50\ufe0f"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_16","title":"\u2601\ufe0f \u7b2c\u4e94\u9636\u6bb5\uff1a\u4e91\u539f\u751f\u4e0e\u5de5\u7a0b\u90e8\u7f72","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_17","title":"\ud83d\udce6 \u5bb9\u5668\u6280\u672f","text":"<ul> <li> <p>Docker\u3001OCI\u3001\u5bb9\u5668\u955c\u50cf\u4e0e\u7f51\u7edc</p> </li> <li> <p>\u5bb9\u5668\u8c03\u5ea6\uff08Kubernetes \u6838\u5fc3\u539f\u7406\uff09</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_18","title":"\ud83d\udce1 \u670d\u52a1\u6cbb\u7406","text":"<ul> <li> <p>Service Mesh\uff08Istio\u3001Linkerd\uff09</p> </li> <li> <p>API Gateway\u3001\u8d1f\u8f7d\u5747\u8861\uff08Envoy\uff09</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#observability","title":"\ud83d\udcc8 \u7cfb\u7edf observability","text":"<ul> <li>\u65e5\u5fd7\uff08EFK\uff09\u3001\u6307\u6807\uff08Prometheus + Grafana\uff09\u3001\u5206\u5e03\u5f0f\u8ffd\u8e2a\uff08Jaeger\uff09</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_19","title":"\ud83d\udd2c \u7b2c\u516d\u9636\u6bb5\uff1a\u8fdb\u9636\u65b9\u5411","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_20","title":"\u2601\ufe0f \u4e91\u539f\u751f\u5206\u5e03\u5f0f\u7cfb\u7edf","text":"<ul> <li> <p>Kubernetes \u6df1\u5165</p> </li> <li> <p>\u5fae\u670d\u52a1\u67b6\u6784\u4e0e\u6cbb\u7406</p> </li> <li> <p>CI/CD\u3001DevOps</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#mlsys-ai-infra","title":"\ud83e\udd16 MLSys / AI Infra","text":"<ul> <li> <p>\u5206\u5e03\u5f0f\u8bad\u7ec3\u7cfb\u7edf\u8bbe\u8ba1</p> </li> <li> <p>\u6a21\u578b\u5e76\u884c\u3001\u6570\u636e\u5e76\u884c</p> </li> <li> <p>FSDP\u3001ZeRO\u3001TensorParallel</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_21","title":"\ud83e\ude84 \u8bba\u6587\u7cbe\u8bfb\uff08\u5efa\u8bae\u9009\u8bfb\uff09","text":"<ul> <li> <p>Google Spanner\u3001Dynamo\u3001Chubby</p> </li> <li> <p>Paxos Made Simple\u3001Raft</p> </li> <li> <p>GFS\u3001MapReduce\u3001Bigtable</p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA/#_22","title":"\ud83d\udcd8 \u8def\u7ebf\u56fe\u603b\u7ed3\u8868\uff08\u7cbe\u7b80\u7248\uff09","text":"\u9636\u6bb5 \u5b66\u4ec0\u4e48 \u63a8\u8350\u4e66/\u8bfe/\u5b9e\u8df5 \u57fa\u7840\u51c6\u5907 \u64cd\u4f5c\u7cfb\u7edf\u3001\u7f51\u7edc\u3001\u5e76\u53d1 MIT 6.828\u3001CS144\u3001Go\u5e76\u53d1\u7f16\u7a0b \u6838\u5fc3\u539f\u7406 CAP\u3001Paxos\u3001Raft\u3001\u5171\u8bc6\u3001\u4e00\u81f4\u6027 DDIA\u3001Tanenbaum \u6784\u5efa\u80fd\u529b \u5206\u5e03\u5f0f\u5b58\u50a8\u3001RPC\u3001\u534f\u8c03\u3001\u5bb9\u9519 \u6784\u5efa etcd\u3001\u9605\u8bfb TiKV\u3001Kafka \u6e90\u7801 \u5de5\u7a0b\u843d\u5730 Docker\u3001K8s\u3001\u5fae\u670d\u52a1 Kubernetes Handbook\u3001Istio \u5b9e\u8df5 \u6df1\u5ea6\u4f18\u5316 \u5206\u5e03\u5f0f AI\u3001\u7cfb\u7edf\u8c03\u4f18\u3001\u5f39\u6027\u3001Serverless Megatron\u3001DeepSpeed\u3001Ray\u3001Paper \u7cbe\u8bfb <p>\u673a\u5668\u5b66\u4e60 - \u5434\u6069\u8fbe\u300a2022\u65b0\u7248\u673a\u5668\u5b66\u4e60\u300b\u8bfe\u7a0b - </p>"},{"location":"%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86/","title":"\u8d1d\u53f6\u65af\u5b9a\u7406","text":""},{"location":"%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86/#_1","title":"\u4ece\u6761\u4ef6\u6982\u7387\u8bf4\u8d77","text":"<p>\u63b7\u4e24\u6b21\u9ab0\u5b50\uff0c\u53ef\u80fd\u51fa\u73b0\u7684\u7ed3\u679c\u67096x6=36\u79cd </p> <p>\u5982\u679c\u6211\u4eec\u5b9a\u4e49\u4e8b\u4ef6A\u4e3a\uff1a\u81f3\u5c11\u6709\u4e00\u4e2a\u9ab0\u5b50\u662f 2\uff0c\u90a3\u4e48\u4e8b\u4ef6 A \u7684\u6837\u672c\u7a7a\u95f4\u5982\u4e0b\uff1a  \u4e8b\u4ef6A\u4e00\u5171\u670911\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u8ba1\u7b97\u4e8b\u4ef6A\u7684\u6982\u7387P(A)\uff1a  \u6211\u4eec\u518d\u5b9a\u4e49\u4e8b\u4ef6B\uff1a\u4e24\u4e2a\u9ab0\u5b50\u4e4b\u548c\u4e3a7\uff0c\u90a3\u4e48\u4e8b\u4ef6B\u7684\u6837\u672c\u7a7a\u95f4\u5982\u4e0b\u56fe\u7eff\u8272\u90e8\u5206\u6240\u793a\uff1a  \u4e8b\u4ef6B\u4e00\u5171\u67096\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u8ba1\u7b97\u4e8b\u4ef6B\u7684\u6982\u7387P(B)\uff1a  \u63a5\u4e0b\u6765\u6211\u4eec\u7528P(A\u2229B)\u8868\u793aA\u548cB\u540c\u65f6\u53d1\u751f\u7684\u6982\u7387\uff0cA\u2229B\u5c31\u662fA\u548cB\u7684\u4ea4\u96c6\uff0c\u5982\u4e0b\u56fe\u84dd\u8272\u90e8\u5206\u6240\u793a\uff1a  \u663e\u7136A\u2229B\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u56e0\u6b64\uff0c\u8ba1\u7b97P(A\u2229B)\uff1a  \u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u53ef\u4ee5\u8ba8\u8bba\u6761\u4ef6\u6982\u7387\u4e86\u3002\u6211\u4eec\u7528P(A|B)\u8868\u793a\u5728B\u53d1\u751f\u7684\u6761\u4ef6\u4e0b\uff0cA\u53d1\u751f\u7684\u6982\u7387\u3002\u7531\u4e8eB\u5df2\u7ecf\u53d1\u751f\uff0c\u6240\u4ee5\uff0c\u6837\u672c\u7a7a\u95f4\u5c31\u662fB\u7684\u6837\u672c\u6570\u91cf6\uff0c\u800c\u8981\u53d1\u751fA\u5219\u53ea\u80fd\u662fA\u3001B\u540c\u65f6\u53d1\u751f\uff0c\u5373A\u2229B\uff0c\u6709\u4e24\u79cd\u60c5\u51b5\u3002</p> <p>\u56e0\u6b64\uff0c\u8ba1\u7b97P(A|B)\u5982\u4e0b\uff1a  \u540c\u7406\uff0c\u6211\u4eec\u7528P(B|A)\u8868\u793a\u5728A\u53d1\u751f\u7684\u6761\u4ef6\u4e0b\uff0cB\u53d1\u751f\u7684\u6982\u7387\u3002\u6b64\u65f6\uff0c\u5206\u5b50\u4ecd\u7136\u662fA\u2229B\u7684\u6837\u672c\u6570\u91cf\uff0c\u4f46\u5206\u6bcd\u53d8\u6210A\u7684\u6837\u672c\u6570\u91cf\uff1a  \u53ef\u89c1\uff0c\u6761\u4ef6\u6982\u7387P(A|B)\u548cP(B|A)\u662f\u4e0d\u540c\u7684\u3002</p> <p>\u6211\u4eec\u518d\u56de\u5230A\u3001B\u540c\u65f6\u53d1\u751f\u7684\u6982\u7387\uff0c\u89c2\u5bdfP(A\u2229B)\u53ef\u4ee5\u6539\u5199\u4e3a\uff1a  \u540c\u7406\uff0cP(A\u2229B)\u8fd8\u53ef\u4ee5\u6539\u5199\u4e3a\uff1a  \u56e0\u6b64\uff0c\u6839\u636e\u4e0a\u8ff0\u4e24\u4e2a\u7b49\u5f0f\uff0c\u6211\u4eec\u63a8\u5bfc\u51fa\u4e0b\u9762\u7684\u7b49\u5f0f\uff1a  \u628a\u5de6\u8fb9\u7684<code>P(A\u2229B)</code>\u53bb\u6389\uff0c\u6211\u4eec\u5f97\u5230\u7b49\u5f0f\uff1a  \u6700\u540e\uff0c\u6574\u7406\u4e00\u4e0b\u7b49\u5f0f\uff0c\u6211\u4eec\u63a8\u5bfc\u51fa\u8d1d\u53f6\u65af\u5b9a\u7406\u5982\u4e0b\uff1a  \u8fd9\u5c31\u662f\u8457\u540d\u7684\u8d1d\u53f6\u65af\u5b9a\u7406\uff0c\u5b83\u8868\u793a\uff0c\u5f53\u51fa\u73b0B\u65f6\uff0c\u5982\u4f55\u8ba1\u7b97A\u7684\u6982\u7387\u3002</p> <p>\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u628a<code>A</code>\u6539\u5199\u4e3a<code>H</code>\uff0c\u628a<code>B</code>\u6539\u5199\u4e3a<code>E</code>\uff1a  H\u8868\u793aHypothesis\uff08\u5047\u8bbe\uff09\uff0cE\u8868\u793aEvidence\uff08\u8bc1\u636e\uff09\uff0c\u8d1d\u53f6\u65af\u5b9a\u7406\u7684\u610f\u4e49\u5c31\u5728\u4e8e\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u5148\u9a8c\u6982\u7387P(H)\uff0c\u5728\u51fa\u73b0\u4e86\u8bc1\u636eE\u7684\u60c5\u51b5\u4e0b\uff0c\u8ba1\u7b97\u540e\u9a8c\u6982\u7387P(H|E)\u3002</p>"},{"location":"%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86/#_2","title":"\u5173\u4e8e\u75be\u75c5\u7684\u4f8b\u5b50","text":"<p>\u5df2\u77e5\u6709\u4e00\u79cd\u75be\u75c5\uff0c\u53d1\u75c5\u7387\u662f 0.1%\uff08\u5148\u9a8c\u6982\u7387\uff09\uff0c\u9488\u5bf9\u8fd9\u79cd\u75be\u75c5\u7684\u6d4b\u8bd5\u975e\u5e38\u51c6\u786e\uff1a - \u5982\u679c\u6709\u75c5\uff0c\u5219\u51c6\u786e\u7387\u662f 99%\uff08\u5373\u67091%\u672a\u68c0\u51fa\u9633\u6027\uff09 - \u5982\u679c\u6ca1\u6709\u75c5\uff0c\u5219\u8bef\u62a5\u7387\u662f 2%\uff08\u5373\u67092%\u8bef\u62a5\u4e3a\u9633\u6027\uff09</p> <p>\u73b0\u5728\uff0c\u5982\u679c\u4e00\u4e2a\u4eba\u6d4b\u8bd5\u663e\u793a\u9633\u6027\uff0c\u8bf7\u95ee\u4ed6\u60a3\u75c5\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f</p> <p>\u7528H\u8868\u793a\u60a3\u75c5\uff0cE\u8868\u793a\u6d4b\u8bd5\u4e3a\u9633\u6027\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u8981\u8ba1\u7b97\u5728\u6d4b\u8bd5\u4e3a\u9633\u6027\u7684\u6761\u4ef6\u4e0b\uff0c\u4e00\u4e2a\u4eba\u60a3\u75c5\u7684\u6982\u7387\uff0c\u5c31\u662f\u8ba1\u7b97P(H|E)\u3002\u6839\u636e\u8d1d\u53f6\u65af\u5b9a\u7406\uff0c\u8ba1\u7b97\u5982\u4e0b\uff1a </p> <p>P(H)\u8868\u793a\u60a3\u75c5\u7684\u6982\u7387\uff0c\u6839\u636e\u53d1\u75c5\u7387\u53ef\u77e5\uff0cP(H)=0.1%</p> <p>P(E|H)\u8868\u793a\u5728\u60a3\u75c5\u7684\u60c5\u51b5\u4e0b\uff0c\u6d4b\u8bd5\u4e3a\u9633\u6027\u7684\u6982\u7387\uff0c\u6839\u636e\u201c\u5982\u679c\u6709\u75c5\uff0c\u5219\u51c6\u786e\u7387\u662f99%\u201d\u53ef\u77e5P(E|H)=99%</p> <p>P(E)\u8868\u793a\u6d4b\u8bd5\u4e3a\u9633\u6027\u7684\u6982\u7387</p> <p>\u5047\u5982\u5bf910\u4e07\u4eba\u8fdb\u884c\u68c0\u6d4b\uff0c\u6839\u636e\u53d1\u75c5\u7387\u53ef\u77e5\uff1a</p> <ul> <li>\u6709100\u4eba\u662f\u75c5\u4eba\uff0c\u53e6\u591699900\u662f\u5065\u5eb7\u4eba\uff1b</li> <li>\u5bf9100\u4e2a\u75c5\u4eba\u8fdb\u884c\u6d4b\u8bd5\uff0c\u670999\u4eba\u663e\u793a\u9633\u6027\uff0c\u53e6\u67091\u4eba\u672a\u68c0\u51fa\uff08\u9634\u6027\uff09\uff1b</li> <li>\u5bf999900\u4e2a\u5065\u5eb7\u4eba\u8fdb\u884c\u6d4b\u8bd5\uff0c\u67092%=1998\u4eba\u663e\u793a\u9633\u6027\uff08\u8bef\u62a5\uff09\uff0c\u53e6\u670998%=97902\u4eba\u4e3a\u9634\u6027\u3002</li> </ul> <p>\u6240\u4ee5\uff0c\u5bf9\u4e8e10\u4e07\u4eba\u7684\u6837\u672c\u7a7a\u95f4\u6765\u8bf4\uff0c\u4e8b\u4ef6E\uff08\u663e\u793a\u9633\u6027\u7684\u6982\u7387\uff09\u4e3a (99+1998)/100000=2.097%\u3002</p> <p>\u5e26\u5165\u8d1d\u53f6\u65af\u5b9a\u7406\uff0c\u8ba1\u7b97P(H|E)\uff1a </p> <p>\u8ba1\u7b97\u7ed3\u679c\u4e3a\u60a3\u75c5\u7684\u6982\u7387\u4e3a4.721%\uff0c\u8fd9\u4e2a\u6982\u7387\u8fdc\u5c0f\u4e8e99%\uff0c\u4e14\u4e0e\u5927\u591a\u6570\u4eba\u7684\u76f4\u89c9\u4e0d\u540c\uff0c\u539f\u56e0\u5728\u4e8e\u5e9e\u5927\u7684\u5065\u5eb7\u4eba\u7fa4\u5bfc\u81f4\u7684\u8bef\u62a5\u6570\u91cf\u8fdc\u591a\u4e8e\u75c5\u4eba\uff0c\u5f53\u51fa\u73b0\u201c\u68c0\u6d4b\u9633\u6027\u201d\u7684\u8bc1\u636e\u65f6\uff0c\u60a3\u75c5\u7684\u6982\u7387\u4ece\u5148\u9a8c\u6982\u73870.1%\u63d0\u5347\u52304.721%\uff0c\u8fd8\u8fdc\u4e0d\u8db3\u4ee5\u786e\u8bca\u3002</p>"},{"location":"%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86/#_3","title":"\u53e6\u4e00\u79cd\u8868\u793a","text":"<p>\u5728\u4e0a\u8ff0\u8ba1\u7b97\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0\u8ba1\u7b97P(E)\u662f\u6bd4\u8f83\u56f0\u96be\u7684\uff0c\u5f88\u591a\u65f6\u5019\uff0c\u751a\u81f3\u65e0\u6cd5\u77e5\u9053P(E)\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981\u8d1d\u53f6\u65af\u5b9a\u7406\u7684\u53e6\u4e00\u79cd\u8868\u793a\u5f62\u5f0f\u3002</p> <p>\u6211\u4eec\u7528P(H)\u8868\u793aH\u53d1\u751f\u7684\u6982\u7387\uff0c\u7528<sup>H\u8868\u793aH\u4e0d\u53d1\u751f\uff0cP(</sup>H)\u8868\u793aH\u4e0d\u53d1\u751f\u7684\u6982\u7387\u3002\u663e\u7136P(^H)=1-P(H)\u3002</p> <p>\u4e0b\u56fe\u7ea2\u8272\u90e8\u5206\u8868\u793aH\uff0c\u7ea2\u8272\u90e8\u5206\u4ee5\u5916\u5219\u8868\u793a^H\uff1a </p> <p>\u4e8b\u4ef6E\u7528\u7eff\u8272\u8868\u793a\uff1a </p> <p>\u53ef\u89c1\uff0cP(E)\u53ef\u4ee5\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u4e00\u90e8\u5206\u662fE\u548cH\u7684\u4ea4\u96c6\uff0c\u53e6\u4e00\u90e8\u5206\u662fE\u548c^H\u7684\u4ea4\u96c6\uff1a </p> <p>\u6839\u636e\u4e0a\u6587\u7684\u516c\u5f0fP(A\u2229B)=P(A|B)xP(B)\uff0c\u4ee3\u5165\u53ef\u5f97\uff1a </p> <p>\u628aP(E)\u66ff\u6362\u6389\uff0c\u6211\u4eec\u5f97\u5230\u8d1d\u53f6\u65af\u5b9a\u7406\u7684\u53e6\u4e00\u79cd\u5199\u6cd5\uff1a </p> <p>\u7528\u8fd9\u4e2a\u516c\u5f0f\u6765\u8ba1\u7b97\uff0c\u6211\u4eec\u5c31\u4e0d\u5fc5\u8ba1\u7b97P(E)\u4e86\u3002\u518d\u6b21\u56de\u5230\u5f00\u5934\u7684\u95ee\u9898\uff1a</p> <p>\u5df2\u77e5\u6709\u4e00\u79cd\u75be\u75c5\uff0c\u53d1\u75c5\u7387\u662f0.1%\u3002\u9488\u5bf9\u8fd9\u79cd\u75be\u75c5\u7684\u6d4b\u8bd5\u975e\u5e38\u51c6\u786e\uff1a</p> <ul> <li>\u5982\u679c\u6709\u75c5\uff0c\u5219\u51c6\u786e\u7387\u662f99%\uff08\u5373\u67091%\u672a\u68c0\u51fa\u9633\u6027\uff09\uff1b</li> <li>\u5982\u679c\u6ca1\u6709\u75c5\uff0c\u5219\u8bef\u62a5\u7387\u662f2%\uff08\u5373\u67092%\u8bef\u62a5\u4e3a\u9633\u6027\uff09\u3002</li> </ul> <p>\u73b0\u5728\uff0c\u5982\u679c\u4e00\u4e2a\u4eba\u6d4b\u8bd5\u663e\u793a\u9633\u6027\uff0c\u8bf7\u95ee\u4ed6\u60a3\u75c5\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f</p> <ul> <li>P(E|H)\u8868\u793a\u60a3\u75c5\u65f6\u68c0\u6d4b\u9633\u6027\u7684\u6982\u7387=99%\uff1b</li> <li>P(H)\u8868\u793a\u60a3\u75c5\u7684\u6982\u7387=0.1%\uff1b</li> <li>P(E|^H)\u8868\u793a\u6ca1\u6709\u60a3\u75c5\u4f46\u68c0\u6d4b\u9633\u6027\u7684\u6982\u7387=2%\uff1b</li> <li>P(^H)\u8868\u793a\u6ca1\u6709\u60a3\u75c5\u7684\u6982\u7387=1-P(H)=99.9%\u3002</li> </ul> <p>\u4ee3\u5165\u516c\u5f0f\uff0c\u8ba1\u7b97\uff1a</p> <p></p> <p>\u68c0\u6d4b\u4e3a\u9633\u6027\u8fd9\u4e00\u8bc1\u636e\u4f7f\u5f97\u60a3\u75c5\u7684\u6982\u7387\u4ece0.1%\u63d0\u5347\u52304.721%\u3002\u5047\u8bbe\u8fd9\u4e2a\u4eba\u53c8\u505a\u4e86\u4e00\u6b21\u68c0\u6d4b\uff0c\u7ed3\u679c\u4ecd\u7136\u662f\u9633\u6027\uff0c\u90a3\u4e48\u4ed6\u60a3\u75c5\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f</p> <p>\u6211\u4eec\u4ecd\u7136\u4f7f\u7528\u8d1d\u53f6\u65af\u5b9a\u7406\u8ba1\u7b97\uff0c\u53ea\u4e0d\u8fc7\u73b0\u5728\u5148\u9a8c\u6982\u7387P(H)\u4e0d\u518d\u662f0.1%\uff0c\u800c\u662f4.721%\uff0cP(E|H)\u548cP(E|^H)\u4ecd\u4fdd\u6301\u4e0d\u53d8\uff0c\u8ba1\u7b97\u65b0\u7684P(H|E)\uff1a</p> <p> \u7ed3\u679c\u4e3a71%\uff0c\u4e24\u6b21\u68c0\u6d4b\u4e3a\u9633\u6027\u7684\u7ed3\u679c\u4f7f\u5f97\u5148\u9a8c\u6982\u7387\u4ece0.1%\u63d0\u5347\u52304.721%\u518d\u63d0\u5347\u523071%\uff0c\u7ee7\u7eed\u7b2c\u4e09\u6b21\u68c0\u6d4b\u5982\u679c\u4e3a\u9633\u6027\u5219\u6982\u7387\u5c06\u63d0\u5347\u81f399.18%\u3002</p> <p>\u53ef\u89c1\uff0c\u8d1d\u53f6\u65af\u5b9a\u7406\u7684\u6838\u5fc3\u601d\u60f3\u5c31\u662f\u4e0d\u65ad\u6839\u636e\u65b0\u7684\u8bc1\u636e\uff0c\u5c06\u5148\u9a8c\u6982\u7387\u8c03\u6574\u4e3a\u540e\u9a8c\u6982\u7387\uff0c\u4f7f\u4e4b\u66f4\u63a5\u8fd1\u5ba2\u89c2\u4e8b\u5b9e\u3002</p>"},{"location":"%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86/#_4","title":"\u8d1d\u53f6\u65af\u7684\u5e94\u7528","text":"<p>\u5728\u7edf\u8ba1\u5b66\u91cc\uff0c\u957f\u671f\u4ee5\u6765\uff0c\u6709\u9891\u7387\u5b66\u6d3e\u548c\u8d1d\u53f6\u65af\u5b66\u6d3e\u4e24\u5927\u5b66\u6d3e\u3002</p> <p>\u8fd9\u4e24\u5927\u5b66\u6d3e\u6700\u6839\u672c\u7684\u89c2\u70b9\u5728\u4e8e\u770b\u5f85\u4e16\u754c\u7684\u65b9\u5f0f\u4e0d\u540c\uff1a</p> <ul> <li>\u9891\u7387\u5b66\u6d3e\u8ba4\u4e3a\u4e16\u754c\u662f\u5ba2\u89c2\u7684\uff0c\u5fc5\u987b\u901a\u8fc7\u5927\u91cf\u72ec\u7acb\u91c7\u6837\u6765\u83b7\u5f97\u7edf\u8ba1\u5747\u503c\uff0c\u4e0d\u80fd\u5148\u7ed9\u51fa\u4e00\u4e2a\u4e3b\u89c2\u7684\u5148\u9a8c\u6982\u7387\uff08\u5047\u8bbe\uff09\uff1b</li> <li>\u8d1d\u53f6\u65af\u5b66\u6d3e\u5219\u8ba4\u4e3a\u6982\u7387\u662f\u4e00\u79cd\u4fe1\u5ff5\u5ea6\uff0c\u53ef\u4ee5\u6709\u975e\u5e38\u4e3b\u89c2\u7684\u5148\u9a8c\u6982\u7387\uff0c\u7136\u540e\uff0c\u901a\u8fc7\u4e00\u6b21\u6b21\u91c7\u6837\u7ed3\u679c\u4fee\u6b63\u5148\u9a8c\u6982\u7387\uff0c\u4f7f\u4e4b\u903c\u8fd1\u5ba2\u89c2\u4e8b\u5b9e\u3002</li> </ul> <p>\u8fd9\u4e24\u5927\u5b66\u6d3e\u54ea\u4e2a\u624d\u662f\u6b63\u786e\u7684\uff1f\u5176\u5b9e\u90fd\u5bf9\uff0c\u53ea\u662f\u770b\u5f85\u4e16\u754c\u7684\u89d2\u5ea6\u4e0d\u540c\u3002\u4f46\u662f\u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\uff0c\u9664\u4e86\u629b\u786c\u5e01\u3001\u63b7\u9ab0\u5b50\u3001\u73a9\u8001\u864e\u673a\u7b49\u5c11\u6570\u7b26\u5408\u7406\u60f3\u6570\u5b66\u6a21\u578b\u7684\u573a\u666f\uff0c\u9891\u7387\u5b66\u6d3e\u624d\u80fd\u53d1\u6325\u4f5c\u7528\u3002\u5927\u591a\u6570\u9700\u8981\u6211\u4eec\u4f30\u7b97\u6982\u7387\u7684\u73b0\u5b9e\u573a\u666f\uff0c\u53ea\u80fd\u7528\u8d1d\u53f6\u65af\u7406\u8bba\u6765\u6307\u5bfc\u5b9e\u8df5\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u6211\u4f4f\u5728\u5e02\u533a\uff0c\u5e0c\u671b\u8d76\u4e0a\u98de\u673a\u7684\u6982\u7387\u4e0d\u4f4e\u4e8e90%\uff0c\u90a3\u4e48\u6211\u5e94\u8be5\u63d0\u524d\u591a\u4e45\u51fa\u53d1\u5462\uff1f\u6211\u5fc5\u987b\u8bd5\u9a8c\u81f3\u5c11100\u6b21\uff0c\u770b\u770b\u6837\u672c\u7a7a\u95f4\uff0c\u624d\u80fd\u83b7\u5f97\u4e00\u4e2a\u6bd4\u8f83\u51c6\u786e\u7684\u7edf\u8ba1\u5747\u503c\u3002\u7136\u800c\u8fd9\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u56e0\u4e3a\u6211\u4e00\u5e74\u53ef\u80fd\u5c31\u5750\u51e0\u6b21\u98de\u673a\u3002\u6211\u53ea\u80fd\u62cd\u8111\u888b\u5148\u4f30\u4e00\u4e2a\u63d0\u524d30\u5206\u949f\u5c31\u591f\u4e86\uff0c\u7ed3\u679c\u7b2c\u4e09\u6b21\u5c31\u6ca1\u8d76\u4e0a\uff0c\u8fd9\u8bf4\u660e\u6211\u5fc5\u987b\u4fee\u6b63\u6211\u7684\u5148\u9a8c\u6982\u7387\uff0c\u540e\u7eed\u6539\u4e3a\u63d0\u524d45\u5206\u949f\uff0c\u624d\u80fd\u63d0\u5347\u8d76\u4e0a\u98de\u673a\u7684\u6982\u7387\u3002</p> <p>\u8981\u628a\u8d1d\u53f6\u65af\u5b9a\u7406\u7528\u5230\u5b9a\u91cf\u8ba1\u7b97\uff0c\u5fc5\u987b\u5f97\u501f\u52a9\u8ba1\u7b97\u673a\u3002</p> <p>\u4ee5\u5434\u519b\u8001\u5e08\u5728\u4e2d\u6587\u5206\u8bcd\u9886\u57df\u4e3e\u7684\u4e00\u4e2a\u4f8b\u5b50\u6765\u8bf4\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u53e5\u5b50\uff1a\u5357\u4eac\u5e02\u957f\u6c5f\u5927\u6865\uff0c\u53ef\u4ee5\u6709\u4e24\u79cd\u5212\u5206\uff1a</p> <ul> <li>\u5357\u4eac\u5e02 / \u957f\u6c5f\u5927\u6865</li> <li>\u5357\u4eac\u5e02\u957f / \u6c5f\u5927\u6865</li> </ul> <p>\u5230\u5e95\u54ea\u4e00\u79cd\u66f4\u5408\u7406\uff1f\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u6761\u4ef6\u6982\u7387\uff1a</p> <ul> <li>P(\u957f\u6c5f\u5927\u6865|\u5357\u4eac\u5e02) = \u51fa\u73b0\u201c\u5357\u4eac\u5e02\u201d\u65f6\uff0c\u51fa\u73b0\u201c\u957f\u6c5f\u5927\u6865\u201d\u7684\u6982\u7387\uff1b</li> <li>P(\u6c5f\u5927\u6865|\u5357\u4eac\u5e02\u957f) = \u51fa\u73b0\u201c\u5357\u4eac\u5e02\u957f\u201d\u65f6\uff0c\u51fa\u73b0\u201c\u6c5f\u5927\u6865\u201d\u7684\u6982\u7387\u3002</li> </ul> <p>\u63d0\u524d\u51c6\u5907\u597d\u5927\u91cf\u7684\u4e2d\u6587\u8bed\u6599\uff0c\u8ba1\u7b97\u51fa\u4efb\u610f\u4e24\u4e2a\u8bcd\u7684\u6761\u4ef6\u6982\u7387\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u51fa\u54ea\u79cd\u5206\u8bcd\u66f4\u5408\u7406\u3002</p> <p>\u5728\u4e92\u8054\u7f51\u9886\u57df\uff0c\u51e1\u662f\u9047\u5230\u201c\u5f53\u51fa\u73b0xyz\u65f6\u5e94\u8be5\u63a8\u8350\u4ec0\u4e48\u201d\u8fd9\u6837\u7684\u6761\u4ef6\u6982\u7387\u65f6\uff0c\u4e5f\u603b\u662f\u80fd\u5e94\u7528\u8d1d\u53f6\u65af\u7406\u8bba\u3002</p>"},{"location":"%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86/#_5","title":"\u5173\u4e8e\u4fe1\u5ff5","text":"<p>\u6211\u4eec\u518d\u56de\u987e\u4e00\u4e0b\u8d1d\u53f6\u65af\u5b9a\u7406\uff1a </p> <p>\u7a0d\u5fae\u6539\u4e00\u4e0b\uff0c\u53d8\u4e3a\uff1a </p> <p>P(H)\u662f\u5148\u9a8c\u6982\u7387\uff0cP(H|E)\u662f\u540e\u9a8c\u6982\u7387\uff0cP(E|H)/P(E)\u88ab\u79f0\u4e3a\u8c03\u6574\u56e0\u5b50\uff0c\u5148\u9a8c\u6982\u7387\u4e58\u4ee5\u8c03\u6574\u56e0\u5b50\u5c31\u5f97\u5230\u540e\u9a8c\u6982\u7387\u3002</p> <p>\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679cP(H)=0\uff0c\u5219P(H|E)=0\uff1b\u5982\u679cP(H)=1\uff0c\u5219P(E|H)=P(E)\uff0cP(H|E)=1\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5148\u9a8c\u6982\u7387\u4e3a0%\u6216100%\uff0c\u90a3\u4e48\uff0c\u65e0\u8bba\u51fa\u73b0\u4efb\u4f55\u8bc1\u636eE\uff0c\u90fd\u65e0\u6cd5\u6539\u53d8\u540e\u9a8c\u6982\u7387P(H|E)\u3002\u8fd9\u5bf9\u6211\u4eec\u770b\u5f85\u4e16\u754c\u7684\u8ba4\u77e5\u6709\u91cd\u5927\u6307\u5bfc\u610f\u4e49\uff0c\u56e0\u4e3a\u8d1d\u53f6\u65af\u6982\u7387\u7684\u672c\u8d28\u662f\u4fe1\u5ff5\uff0c\u901a\u8fc7\u4e00\u6b21\u6b21\u4e8b\u4ef6\uff0c\u6211\u4eec\u53ef\u80fd\u52a0\u5f3a\u67d0\u79cd\u4fe1\u5ff5\uff0c\u4e5f\u53ef\u80fd\u51cf\u5f31\u67d0\u79cd\u4fe1\u5ff5\uff0c\u4f46\u5982\u679c\u4fe1\u5ff5\u4fdd\u6301100%\u62160%\uff0c\u5219\u53ef\u4ee5\u505a\u5230\u5bf9\u5916\u754c\u8f93\u5165\u5b8c\u5168\u201c\u514d\u75ab\u201d\u3002</p>"},{"location":"AI/2022-Machine-Learning-Specialization/","title":"2022-Machine-Learning-Specialization","text":"<p>\u5434\u6069\u8fbe2022\u65b0\u7248\u673a\u5668\u5b66\u4e60 machine learning specialization \u8bfe\u7a0b\u5b98\u7f51\uff1ahttps://www.coursera.org/specializations/machine-learning-introduction bilibili:https://www.bilibili.com/video/BV19B4y1W76i github:https://github.com/kaieye/2022-Machine-Learning-Specialization \u8bfe\u7a0b\u4ee3\u7801\u53ca\u6d4b\u9a8c\u5185\u5bb9\u5df2\u66f4\u65b0\u5b8c\u6bd5 \u6b22\u8fcepull request\uff0c\u65e0\u8bba\u662f\u8865\u5145\u5b66\u4e60\u6587\u4ef6\u8fd8\u662f\u4f18\u5316md\u7b14\u8bb0 \u4ea4\u6d41\u7fa4\uff1a772590431</p>"},{"location":"AI/2022-Machine-Learning-Specialization/#_1","title":"\u8bfe\u7a0b\u5927\u7eb2","text":"<p>Machine learning specialization\u8bfe\u7a0b\u5171\u5206\u4e3a\u4e09\u90e8\u5206 - \u7b2c\u4e00\u90e8\u5206\uff1aSupervised Machine Learning: Regression and Classification - \u7b2c\u4e8c\u90e8\u5206\uff1aAdvanced Learning Algorithms - \u7b2c\u4e09\u90e8\u5206\uff1aUnsupervised Learning: Recommenders, Reinforcement Learning   </p> <p>\u8bfe\u7a0bslides\u5730\u5740\uff1ahttps://www.deeplearning.ai/courses/machine-learning-specialization/?utm_campaign=mls-video-series&amp;utm_medium=video&amp;utm_source=youtube#course-slides</p> <p>Machine Learning Specialization by Andrew Ng in 2022 Course website:https://www.coursera.org/specializations/machine-learning-introduction   bilibili:https://www.bilibili.com/video/BV19B4y1W76i   github:https://github.com/kaieye/2022-Machine-Learning-Specialization Course code and test content have been updated Welcome to pull requests, whether it is to supplement learning files or markdown notes</p>"},{"location":"AI/2022-Machine-Learning-Specialization/#course-outline","title":"Course Outline","text":"<p>Machine learning specialization is divided into 3 parts  - Part 1\uff1aSupervised Machine Learning: Regression and Classification - Part 2\uff1aAdvanced Learning Algorithms - Part 3\uff1aUnsupervised Learning: Recommenders, Reinforcement Learning </p> <p>The second part is currently Uploaded slides:https://www.deeplearning.ai/courses/machine-learning-specialization/?utm_campaign=mls-video-series&amp;utm_medium=video&amp;utm_source=youtube#course-slides</p>"},{"location":"AI/2022-Machine-Learning-Specialization/#_2","title":"\u73af\u5883\u914d\u7f6e","text":"<p>\u6309\u7167\u64cd\u4f5c\u7cfb\u7edf\u7c7b\u578b\u5b89\u88c5python\uff08\u5b98\u65b9\u4f7f\u7528\u7684\u73af\u5883\u4e3a3.7.6\uff09\uff0c\u5b89\u88c5\u65b9\u5f0f\u5404\u5f02\u3002\u5b89\u88c5\u6210\u529f\u540e\u5728cmd/bash\u4e2d\u5b9a\u4f4d\u5230\u8be5\u6587\u4ef6\u5939\uff0c\u5e76\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5\u4f9d\u8d56\u3002</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>mac/linux\u7528\u6237\u9700\u5c06pip\u5207\u6362\u6210pip3</p>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/","title":"Index","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/#bilibilihttpswwwbilibilicomvideobv19b4y1w76i","title":"bilibili:https://www.bilibili.com/video/BV19B4y1W76i","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/3.Practice%20Quiz%20Supervised%20vs%20unsupervised%20learning/Practice%20quiz%20Supervised%20vs%20unsupervised%20learning/","title":"Practice quiz Supervised vs unsupervised learning","text":"<p>1. \u7b2c 1 \u4e2a\u95ee\u9898 Which are the two common types of supervised learning? (Choose two)</p> <p>A.Classification </p> <p>B.Clustering</p> <p>C.Regression</p> <p>2. \u7b2c 2 \u4e2a\u95ee\u9898 Which of these is a type of unsupervised learning?</p> <p>A.Regression</p> <p>B.Classification</p> <p>C.Clustering</p>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/4.Regression%20Model/","title":"lab1:","text":"<p>In this ungraded lab, you can see how a linear regression model is defined in code, and you can see plots that show how well a model fits some data given choices of w and b.  You can also try different values of w and b to see if it improves the fit to the data.</p>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/4.Regression%20Model/#lab2","title":"lab2","text":"<p>This optional lab will show you how the cost function is implemented in code. And given a small training set and different choices for the parameters you\u2019ll be able to see how the cost varies depending on how well the model fits the data. </p> <p>In the optional lab, you'll also get to play with an interactive contour plot.  You can use your mouse cursor to click anywhere on the contour plot, and you see the straight line defined by the values you chose, for parameters w and b.</p> <p>Finally the optional lab also has a 3d surface plot that you can manually rotate and spin around, using your mouse cursor, to take a better look at what the cost function looks like.</p>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/5.Practice%20Quiz%20Regression%20Model/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/6.Train%20the%20model%20with%20gradient%20descent/","title":"Index","text":"<p> In the optional lab, you\u2019ll see a review of the gradient descent algorithm, as well as how to implement it in code.</p> <p>You will also see a plot that shows how the cost decreases as you continue training more iterations.  And you\u2019ll also see a contour plot, seeing how the cost gets closer to the global minimum as gradient descent finds better and better values for the parameters w and b.</p>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week1/7.Practice%20quiz%20Train%20the%20model%20with%20gradient%20descent/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week2/2.Practice%20quiz%20Multiple%20linear%20regression/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week2/4.Practice%20quiz%20Gradient%20descent%20in%20practice/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/","title":"Acknowledgments","text":"<p>Our sincerest thanks to YOU, for enrolling in this Specialization and becoming part of our global community of learners! </p> <p>We'd also like to thank the following for their work in creating the Machine Learning Specialization:</p>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#instruction-course-design","title":"Instruction &amp; Course Design","text":"<ul> <li>Andrew Ng</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#instructional-design-project-management","title":"Instructional Design &amp; Project Management","text":"<ul> <li>Eddy Shyu</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#curriculum-engineering","title":"Curriculum Engineering","text":"<ul> <li> <p>Aarti Bagul</p> </li> <li> <p>Geoff Ladwig</p> </li> <li> <p>Andres Castillo</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#curriculum-development","title":"Curriculum Development","text":"<ul> <li> <p>Robert Perry</p> </li> <li> <p>Kin Cheung</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#program-management","title":"Program Management","text":"<ul> <li> <p>Inhae Koo</p> </li> <li> <p>Lara Pheatt-Pitzer</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#course-maintenance","title":"Course Maintenance","text":"<ul> <li>Chris Favila</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#additional-curriculum-engineering-support","title":"Additional Curriculum Engineering Support","text":"<ul> <li>Juan Delgado</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#additional-curriculum-development-support","title":"Additional Curriculum Development Support","text":"<ul> <li> <p>Daniel Villarraga</p> </li> <li> <p>Ivy Ngong</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#video-production","title":"Video Production","text":"<ul> <li> <p>Nic Camp</p> </li> <li> <p>Geoff Stebbins</p> </li> <li> <p>Rajiv Smith-Mahabir</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#alpha-testing-and-mentorship-management","title":"Alpha Testing and Mentorship Management","text":"<ul> <li> <p>Giovanni Lignarolo</p> </li> <li> <p>Deepthi Locanindi</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#partnership-management","title":"Partnership Management","text":"<ul> <li> <p>Ortal Arel</p> </li> <li> <p>Ryan Keenan\u200b</p> </li> <li> <p>Brandon Iljas</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#marketing","title":"Marketing","text":"<ul> <li> <p>Ishita Chaudhary</p> </li> <li> <p>Alice Lin</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/10.Acknowledgments/Acknowledgement/#alpha-testers","title":"Alpha Testers","text":"<ul> <li> <p>Wendy Cook</p> </li> <li> <p>Raymond Kwok</p> </li> <li> <p>RJ Vogel</p> </li> <li> <p>Sam Reiswig</p> </li> <li> <p>Vishesh Mittal</p> </li> <li> <p>Aiden Moy</p> </li> <li> <p>Shanup Peer</p> </li> <li> <p>Pedro Diniz</p> </li> <li> <p>Luis Alaniz</p> </li> <li> <p>A. Rosa Castillo</p> </li> <li> <p>Ammar Mohanna</p> </li> <li> <p>Reinoud Bosch</p> </li> <li> <p>Sebin Sunny P</p> </li> <li> <p>Tom Mosher</p> </li> <li> <p>Md Youshuf Khan Rakib</p> </li> <li> <p>Mohamed Ibrahim</p> </li> <li> <p>Yuanfang Peng</p> </li> <li> <p>Siddharth Gupta</p> </li> <li> <p>Lukas Mendes</p> </li> <li> <p>Yi Liu</p> </li> <li> <p>Skanda Subramanyan</p> </li> <li> <p>Siddhartha Priya</p> </li> <li> <p>Benjamin Mace</p> </li> <li> <p>Gordon Robinson</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/2.Practice%20quiz%20Classification%20with%20logistic%20regression/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/4.Practice%20quiz%20Cost%20function%20for%20logistic%20regression/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/6.Practice%20quiz%20Gradient%20descent%20for%20logistic%20regression/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/1%20Supervised%20Machine%20Learning%20Regression%20and%20Classification/week3/8.Practice%20quiz%20The%20problem%20of%20overfitting/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/2%20Unsupervised%20learning%20recommenders%20reinforcement%20learning/week1/1%20Practice%20Quiz%20Clustering/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/2%20Unsupervised%20learning%20recommenders%20reinforcement%20learning/week1/3%20Practice%20Quiz%20Anomaly%20detection/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/2%20Unsupervised%20learning%20recommenders%20reinforcement%20learning/week2/Practice%20Quiz-Content-based%20filtering/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/2%20Unsupervised%20learning%20recommenders%20reinforcement%20learning/week2/Practice%20quiz-Collaborative%20filtering/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/2%20Unsupervised%20learning%20recommenders%20reinforcement%20learning/week2/Practice%20quiz-Recommender%20systems%20implementation/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/2%20Unsupervised%20learning%20recommenders%20reinforcement%20learning/week3/Quiz-Continuous%20state%20spaces/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/2%20Unsupervised%20learning%20recommenders%20reinforcement%20learning/week3/Quiz-State-action%20value%20function/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week1/1.Neural%20networks%20intuition/%E9%98%85%E8%AF%BB%E6%9D%90%E6%96%99%5BIMPORTANT%5D%20Have%20questions%2C%20issues%20or%20ideas%20Join%20our%20community%20on%20Discourse%21/","title":"[IMPORTANT] Have questions, issues or ideas? Join our community on Discourse!","text":"<p>Hello! </p> <p>We\u2019ve created a Discourse community for you to:</p> <ul> <li> <p>Ask for help on assignments and other course content</p> </li> <li> <p>Discuss course topics</p> </li> <li> <p>Share your knowledge with other learners</p> </li> <li> <p>Build your network, and</p> </li> <li> <p>Find out about exciting DeepLearning.AI news, events and competitions. </p> </li> </ul> <p>New to Discourse (community.deeplearning.ai)? Don\u2019t worry! We created this User Guide for you. Do ensure to abide by the Code of Conduct guidelines.</p> <p>Please use this invite link to register on Discourse (url: community.deeplearning.ai). After joining, you can go to this specialization's subcategory here. You can bookmark it so you can revisit it anytime you have questions.</p> <p>Having trouble accessing the Discourse site? Fill out this form to explain your issue and we will get back to you with an alternative.</p> <p>We hope to see you on Discourse soon!</p> <ul> <li>The DeepLearning.AI team</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week1/2.Practice%20quiz%20Neural%20networks%20intuition/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week1/4.Practice%20quiz%20Neural%20network%20model/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week1/6.Practice%20quiz%20TensorFlow%20implementation/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week1/8.Neural%20network%20implementation%20in%20Python/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week2/1.Neural%20Network%20Training/","title":"Index","text":"<p>no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week2/2.Practice%20quiz%20Neural%20Network%20Training/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week2/4.Practice%20quiz%20Activation%20Functions/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week2/6.Practice%20quiz%20Multiclass%20Classification/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week2/8.Practice%20quiz%20Additional%20Neural%20Network%20Concepts/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week3/1.Advice%20for%20applying%20machine%20learning/","title":"Index","text":"<p>All video,no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week3/2.Practice%20quiz%20Advice%20for%20applying%20machine%20learning/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week3/3.Bias%20and%20variance/","title":"Index","text":"<p>All video,no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week3/4.Practice%20quiz%20Bias%20and%20variance/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week3/5.Machine%20learning%20development%20process/","title":"Index","text":"<p>All video,no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week3/6.Practice%20quiz%20Machine%20learning%20development%20process/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week3/7.Skewed%20datasets%20%28optional%29/","title":"Index","text":"<p>All video,no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/","title":"Acknowledgements","text":"<p>Our sincerest thanks to YOU, for enrolling in this Specialization and becoming part of our global community of learners! </p> <p>We'd also like to thank the following for their work in creating the Machine Learning Specialization:</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#instruction-course-design","title":"Instruction &amp; Course Design","text":"<ul> <li>Andrew Ng</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#instructional-design-project-management","title":"Instructional Design &amp; Project Management","text":"<ul> <li>Eddy Shyu</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#curriculum-engineering","title":"Curriculum Engineering","text":"<ul> <li> <p>Aarti Bagul</p> </li> <li> <p>Geoff Ladwig</p> </li> <li> <p>Andres Castillo</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#curriculum-development","title":"Curriculum Development","text":"<ul> <li> <p>Robert Perry</p> </li> <li> <p>Kin Cheung</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#program-management","title":"Program Management","text":"<ul> <li> <p>Inhae Koo</p> </li> <li> <p>Lara Pheatt-Pitzer</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#course-maintenance","title":"Course Maintenance","text":"<ul> <li>Chris Favila</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#additional-curriculum-engineering-support","title":"Additional Curriculum Engineering Support","text":"<ul> <li>Juan Delgado</li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#additional-curriculum-development-support","title":"Additional Curriculum Development Support","text":"<ul> <li> <p>Daniel Villarraga</p> </li> <li> <p>Ivy Ngong</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#video-production","title":"Video Production","text":"<ul> <li> <p>Nic Camp</p> </li> <li> <p>Geoff Stebbins</p> </li> <li> <p>Rajiv Smith-Mahabir</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#alpha-testing-and-mentorship-management","title":"Alpha Testing and Mentorship Management","text":"<ul> <li> <p>Giovanni Lignarolo</p> </li> <li> <p>Deepthi Locanindi</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#partnership-management","title":"Partnership Management","text":"<ul> <li> <p>Ortal Arel</p> </li> <li> <p>Ryan Keenan\u200b</p> </li> <li> <p>Brandon Iljas</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#marketing","title":"Marketing","text":"<ul> <li> <p>Ishita Chaudhary</p> </li> <li> <p>Alice Lin</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/Acknowledgement/#alpha-testers","title":"Alpha Testers","text":"<ul> <li> <p>Wendy Cook</p> </li> <li> <p>Raymond Kwok</p> </li> <li> <p>RJ Vogel</p> </li> <li> <p>Sam Reiswig</p> </li> <li> <p>Vishesh Mittal</p> </li> <li> <p>Aiden Moy</p> </li> <li> <p>Shanup Peer</p> </li> <li> <p>Pedro Diniz</p> </li> <li> <p>Luis Alaniz</p> </li> <li> <p>A. Rosa Castillo</p> </li> <li> <p>Ammar Mohanna</p> </li> <li> <p>Reinoud Bosch</p> </li> <li> <p>Sebin Sunny P</p> </li> <li> <p>Tom Mosher</p> </li> <li> <p>Md Youshuf Khan Rakib</p> </li> <li> <p>Mohamed Ibrahim</p> </li> <li> <p>Yuanfang Peng</p> </li> <li> <p>Siddharth Gupta</p> </li> <li> <p>Lukas Mendes</p> </li> <li> <p>Yi Liu</p> </li> <li> <p>Skanda Subramanyan</p> </li> <li> <p>Siddhartha Priya</p> </li> <li> <p>Benjamin Mace</p> </li> <li> <p>Gordon Robinson</p> </li> </ul>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/1.Decision%20trees/","title":"Index","text":"<p>All video,no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/2.Practice%20quiz%20Decision%20trees/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/3.Decision%20tree%20learning/","title":"Index","text":"<p>All video,no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/4.Practice%20quiz%20Decision%20tree%20learning/quiz/","title":"Quiz","text":""},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/5.Tree%20ensembles/","title":"Index","text":"<p>all video,no quiz</p>"},{"location":"AI/2022-Machine-Learning-Specialization/3%20Advanced%20Learning%20Algorithms/week4/6.Practice%20quiz%20Tree%20ensembles/quiz/","title":"Quiz","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/","title":"Index","text":"\u5434\u6069\u8fbe\u300a\u673a\u5668\u5b66\u4e60\u300b\u8bfe\u7a0b\u7b14\u8bb0"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/#readme","title":"README","text":"<p>\u8bfe\u7a0b\u5730\u5740\uff1a</p> <ul> <li>Coursera | \u673a\u5668\u5b66\u4e60</li> <li>\u6216\u8005 B \u7ad9\u89c6\u9891\uff1a\u673a\u5668\u5b66\u4e60\uff08Machine Learning\uff09- \u5434\u6069\u8fbe\uff08Andrew Ng\uff09</li> </ul> <p>\u6df1\u611f\u4e4b\u524d\u5bf9 ML \u7684\u5b66\u4e60\u8f83\u4e3a\u788e\u7247\u5316\uff0c\u51b3\u5b9a\u5728\u5543 CS224n \u524d\u5bf9\u6700\u7ecf\u5178\u7684\u5434\u6069\u8fbe\u300a\u673a\u5668\u5b66\u4e60\u300b\u8bfe\u7a0b\u5feb\u901f\u5730\u5b66\u4e60\u4e00\u904d\uff0c\u5e76\u5bf9\u6709\u4ef7\u503c\u7684\u90e8\u5206\u8fdb\u884c\u7b14\u8bb0\u3002\u4e0d\u4f1a\u50cf\u300a\u6df1\u5ea6\u5b66\u4e60\u300b\u7cfb\u5217\u8bfe\u7a0b\u7b14\u8bb0\u4e00\u6837\u4e8b\u65e0\u5de8\u7ec6\u5730\u8bb0\u5f55\uff0c\u53e6\u5916\u53ef\u80fd\u4e5f\u4e0d\u4f1a\u6d89\u53ca\u7f16\u7a0b\u4f5c\u4e1a\u3002\u4e3b\u8981\u7528\u4e8e\u4e2a\u4eba\u7684\u77e5\u8bc6\u68b3\u7406\uff0c\u4e0d\u9002\u7528\u4e8e\u96f6\u57fa\u7840\u7684\u670b\u53cb\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/#_1","title":"\u7b14\u8bb0","text":"<p>\u63a8\u8350\u9605\u89c8 html \u7248\u672c\u7684\u7b14\u8bb0\uff0c\u7531 docsify \u52a8\u6001\u751f\u6210\u6587\u6863\u7f51\u7ad9\u3002</p> <p>\u5728\u7ebf\u9605\u89c8\u5730\u5740</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/#github","title":"Github","text":"<p>\u9879\u76ee\u5730\u5740</p> <ul> <li>\u672c\u4eba\u4e5f\u5c1a\u5728\u5b66\u4e60\u4e2d\uff0c\u6c34\u5e73\u6709\u9650\u3002\u5982\u679c\u786e\u8ba4\u5185\u5bb9\u4e2d\u5b58\u5728\u8c2c\u8bef\uff0c\u6b22\u8fce\u63d0\u51fa issue \u6216\u8005 pull request\u3002</li> <li>\u5982\u679c\u60a8\u89c9\u5f97\u6709\u5e2e\u52a9\uff0c\u4e0d\u59a8\u70b9\u4e00\u4e2a star \u4ee5\u8d44\u9f13\u52b1\u3002</li> </ul>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/#license","title":"LICENSE","text":"<p>\u672c\u9879\u76ee\u6240\u6709\u6587\u7ae0\u91c7\u7528 CC BY-NC-SA 3.0 \u8bb8\u53ef\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002 </p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/_sidebar/","title":"sidebar","text":"<ul> <li>\u7b2c\u4e00\u5468</li> <li>\u7b2c\u4e8c\u5468</li> <li>\u7b2c\u4e09\u5468</li> <li>\u7b2c\u56db\u5468</li> <li>\u7b2c\u4e94\u5468</li> <li>\u7b2c\u516d\u5468</li> <li>\u7b2c\u4e03\u5468</li> <li>\u7b2c\u516b\u5468</li> </ul>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week2/","title":"\u7b2c\u4e8c\u5468","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week2/#_2","title":"\u591a\u5143\u7ebf\u6027\u56de\u5f52","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week2/#_3","title":"\u5f15\u5165\u591a\u5143","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/","title":"\u7b2c\u4e09\u5468","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#logistic-regression","title":"Logistic Regression","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_2","title":"\u4e8c\u5206\u7c7b","text":"\\[h\\_{\\theta} = g(\\theta^Tx)\\] \\[z = \\theta^Tx\\] \\[g(z) = \\frac{1}{1 + e^{-z}}\\] <p>\u5176\u4e2d\uff0c\\(g(z)\\) \u88ab\u79f0\u4e3a Sigmoid \u51fd\u6570\uff08\u6216\u8005 Logistic \u51fd\u6570\uff09\uff0c\u5c06\u4efb\u610f\u5b9e\u6570\u6620\u5c04\u5230 (0, 1) \u533a\u95f4\u3002\u8fd9\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7\u5212\u5206\u5224\u5b9a\u8fb9\u754c\uff08decision boundary\uff09\u8fdb\u884c\u5206\u7c7b\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_3","title":"\u6210\u672c\u51fd\u6570","text":"<p>Logistic Regression \u4e0d\u80fd\u4f7f\u7528\u548c\u7ebf\u6027\u56de\u5f52\u76f8\u540c\u7684\u6210\u672c\u51fd\u6570\uff0c\u56e0\u4e3a Sigmoid \u51fd\u6570\u662f\u975e\u51f8\u7684\uff0c\u5bb9\u6613\u9677\u5165\u5c40\u90e8\u6700\u4f18\u3002</p> <p>\u4f5c\u4e3a\u66ff\u4ee3\uff0c\u4f7f\u7528\u4ee5\u4e0b\u6210\u672c\u51fd\u6570\uff1a</p> \\[J(\\theta) = \\frac{1}{m}\\sum^m\\_{i=1}Cost(h\\_{\\theta}(x^{(i)}), y^{(i)})\\] \\[Cost(h\\_{\\theta}(x), y) = -y log(h\\_{\\theta}(x)) - (1-y)log(1-h\\_{\\theta}(x))\\] <p>\u6ce8\u610f\uff0c\\(y\\) \u53ea\u6709 0 \u6216 1 \u4e24\u79cd\u53d6\u503c\u3002</p> <p>\u5411\u91cf\u5316\u7684\u8868\u793a\u4e3a\uff1a</p> \\[h = g(X\\theta)\\] \\[J(\\theta) = \\frac{1}{m} \\cdot (-y^Tlog(h) - (1-y)^Tlog(1-h))\\]"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_4","title":"\u68af\u5ea6\u4e0b\u964d","text":"<p>\u7531\u68af\u5ea6\u4e0b\u964d\u7684\u4e00\u822c\u5f62\u5f0f\uff1a</p> \\[\\theta\\_j := \\theta\\_j - \\alpha \\frac{\\partial}{\\partial \\theta\\_j}J(\\theta)\\] <p>\u53ef\u4ee5\u63a8\u5bfc\u51fa LR \u7684\u68af\u5ea6\u4e0b\u964d\u516c\u5f0f\uff1a</p> \\[\\theta\\_j := \\theta\\_j - \\frac{\\alpha}{m} \\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})x\\_j^{(i)}\\] <p>\u5411\u91cf\u5316\u8868\u793a\u4e3a\uff1a</p> \\[\\theta := \\theta - \\frac{\\alpha}{m}X^T(g(X\\theta) - \\vec y)\\] <p>\u63a8\u5bfc\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p></p> <p></p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_5","title":"\u6b63\u5219\u5316","text":"<p>\u9ad8\u504f\u5dee\uff08high bias\uff09\u6216\u8005\u6b20\u62df\u5408\u662f\u6307\u6a21\u578b\u5bf9\u5df2\u6709\u6570\u636e\u7684\u62df\u5408\u8f83\u5dee\uff0c\u901a\u5e38\u56e0\u4e3a\u6a21\u578b\u592a\u7b80\u5355\u6216\u8005\u4f7f\u7528\u8fc7\u5c11\u7684\u7279\u5f81\uff1b\u800c\u9ad8\u65b9\u5dee\uff08high variance\uff09\u6216\u8005\u8fc7\u62df\u5408\u662f\u6307\u6a21\u578b\u5bf9\u5df2\u6709\u6570\u636e\u7684\u62df\u5408\u8fc7\u5f3a\uff0c\u4ee5\u81f3\u4e8e\u5bf9\u4e8e\u65b0\u6570\u636e\u65e0\u6cd5\u5f88\u597d\u7684\u9884\u6d4b\uff0c\u901a\u5e38\u56e0\u4e3a\u6a21\u578b\u8fc7\u4e8e\u590d\u6742\u3002</p> <p>\u4e24\u79cd\u6280\u672f\u53ef\u7528\u4e8e\u5904\u7406\u8fc7\u62df\u5408\u95ee\u9898\uff1a</p> <ol> <li>\u51cf\u5c11\u7279\u5f81\u6570\u91cf\uff1a\u4eba\u5de5\u9009\u62e9\u7559\u4e0b\u7684\u7279\u5f81\uff0c\u6216\u8005\u4f7f\u7528\u7279\u5f81\u9009\u62e9\u7684\u7b97\u6cd5\uff1b</li> <li>\u6b63\u5219\u5316\uff08Regularization\uff09\uff1a\u7559\u4e0b\u6240\u6709\u7684\u7279\u5f81\uff0c\u4f46\u662f\u51cf\u5c0f\u53c2\u6570 \\(\\theta\\_j\\)\u3002</li> </ol>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_6","title":"\u52a0\u5165\u6b63\u5219\u5316\u7684\u6210\u672c\u51fd\u6570","text":"\\[min\\_{\\theta}\\frac{1}{2m}\\Big[\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})^2 + \\lambda \\sum^n\\_{j=1}\\theta\\_j^2\\Big]\\] <p>\u5176\u4e2d\uff0c\\(\\lambda\\) \u7528\u4e8e\u63a7\u5236\u53c2\u6570\u8fc7\u5927\u6240\u4ed8\u51fa\u7684\u4ee3\u4ef7\u3002\\(\\lambda\\) \u9009\u53d6\u8fc7\u5927\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u6b20\u62df\u5408\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_7","title":"\u52a0\u5165\u6b63\u5219\u5316\u7684\u7ebf\u6027\u56de\u5f52","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_8","title":"\u68af\u5ea6\u4e0b\u964d","text":"\\[\\theta\\_0 := \\theta\\_0 - \\alpha \\frac{1}{m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})x\\_0^{(i)}\\] \\[\\theta\\_j := \\theta\\_j - \\alpha \\Big[\\Big(\\frac{1}{m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})x\\_j^{(i)} \\Big) + \\frac{\\lambda}{m}\\theta\\_j \\Big] \\ \\ \\ \\ j = 1, 2, ..., n\\]"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_9","title":"\u6b63\u89c4\u65b9\u7a0b","text":"\\[\\theta = (X^TX + \\lambda \\cdot L)^{-1}X^Ty\\] \\[where  \\ L=    \\begin{bmatrix}    0 &amp;   &amp;   \\\\\\      &amp; 1 &amp;   \\\\\\      &amp;   &amp; \\ddots  \\\\\\      &amp;   &amp;   &amp; 1   \\end{bmatrix}\\]"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#logistic-regression_1","title":"\u52a0\u5165\u6b63\u5219\u5316\u7684 Logistic Regression","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_10","title":"\u6210\u672c\u51fd\u6570","text":"\\[J(\\theta) = -\\frac{1}{m}\\sum^m\\_{i=1}\\Big[y ^{(i)}log(h\\_{\\theta}(x^{(i)})) + (1-y^{(i)})log(1-h\\_{\\theta}(x^{(i)}))\\Big] + \\frac{\\lambda}{2m}\\sum^n\\_{j=1}\\theta^2\\_j\\]"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week3/#_11","title":"\u68af\u5ea6\u4e0b\u964d","text":"\\[\\theta\\_0 := \\theta\\_0 - \\alpha \\frac{1}{m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})x\\_0^{(i)}\\] \\[\\theta\\_j := \\theta\\_j - \\alpha \\Big[\\Big(\\frac{1}{m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})x\\_j^{(i)} \\Big) + \\frac{\\lambda}{m}\\theta\\_j \\Big] \\ \\ \\ \\ j = 1, 2, ..., n\\]"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week4/","title":"\u7b2c\u56db\u5468","text":"<p>\u6ca1\u4ec0\u4e48\u597d\u8bb0\u7684\u3002\u6709\u9700\u8981\u8bf7\u770b\u5434\u6069\u8fbe\u300a\u6df1\u5ea6\u5b66\u4e60\u300b\u7cfb\u5217\u8bfe\u7a0b\u7b14\u8bb0\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/","title":"\u7b2c\u4e94\u5468","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_2","title":"\u5e94\u7528\u673a\u5668\u5b66\u4e60\u7684\u5efa\u8bae","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_3","title":"\u51b3\u5b9a\u4e0b\u4e00\u6b65\u505a\u4ec0\u4e48","text":"<p>\u6a21\u578b\u7684\u9884\u6d4b\u9519\u8bef\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8fdb\u884c\u6392\u89e3\uff1a</p> <ul> <li>\u66f4\u591a\u8bad\u7ec3\u6570\u636e\uff1a\u89e3\u51b3\u9ad8\u65b9\u5dee</li> <li>\u7528\u66f4\u5c11\u7684\u7279\u5f81\uff1a\u89e3\u51b3\u9ad8\u65b9\u5dee</li> <li>\u7528\u989d\u5916\u7684\u7279\u5f81\uff1a\u89e3\u51b3\u9ad8\u504f\u5dee</li> <li>\u7528\u591a\u9879\u5f0f\u7279\u5f81\uff1a\u89e3\u51b3\u9ad8\u504f\u5dee</li> <li>\u589e\u5927\u6216\u51cf\u5c0f\u6b63\u5219\u5316\u53c2\u6570 \\(\\lambda\\)\uff1a\u89e3\u51b3\u9ad8\u65b9\u5dee\u6216\u9ad8\u504f\u5dee</li> </ul> <p>\u53ef\u4ee5\u901a\u8fc7\u753b\u51fa\u5b66\u4e60\u66f2\u7ebf\uff08Learning curves\uff09\u6765\u5e2e\u52a9\u5206\u6790\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_4","title":"\u6a21\u578b\u9009\u62e9\u548c\u8bad\u7ec3\u3001\u9a8c\u8bc1\u3001\u6d4b\u8bd5\u96c6","text":"<p>\u5047\u8bbe\u51fd\u6570\u53ef\u80fd\u5728\u8bad\u7ec3\u96c6\u4e0a\u62df\u5408\u5f97\u5f88\u597d\uff0c\u4f46\u662f\u7531\u4e8e\u8fc7\u62df\u5408\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\u8868\u73b0\u4e0d\u4f73\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5c06\u6570\u636e\u96c6\u5212\u5206\u4e3a\u8bad\u7ec3\u96c6\u3001\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\uff0c\u4ee5\u8bc4\u4f30\u5047\u8bbe\u51fd\u6570\u3002</p> <ul> <li>\u9a8c\u8bc1\u96c6\uff1a\u5bf9\u5e94\u5728\u8bad\u7ec3\u4e2d\u4e0d\u65ad\u66f4\u65b0\u7684\u53c2\u6570\u548c\u6a21\u578b\u51c6\u786e\u7387\uff1b</li> <li>\u6d4b\u8bd5\u96c6\uff1a\u5bf9\u5e94\u8d85\u53c2\u6570\u548c\u6700\u7ec8\u7684\u6a21\u578b\u51c6\u786e\u7387\u3002</li> </ul> <p>\u6216\u8005\u8bf4\uff0c\u9a8c\u8bc1\u96c6\u7528\u4e8e\u6a21\u578b\u9009\u62e9\u548c\u8c03\u53c2\uff0c\u800c\u6d4b\u8bd5\u96c6\u7528\u4e8e\u4f30\u8ba1\u5b9e\u9645\u4f7f\u7528\u65f6\u7684\u6cdb\u5316\u80fd\u529b\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u5728\u5229\u7528\u6d4b\u8bd5\u96c6\u8c03\u53c2\u540e\uff0c\u53c8\u4f7f\u7528\u6d4b\u8bd5\u96c6\u6765\u4f30\u8ba1\u6cdb\u5316\u80fd\u529b\u800c\u5f97\u5230\u9519\u8bef\u7684\u7ed3\u679c\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_5","title":"\u8bca\u65ad\u504f\u5dee\u548c\u65b9\u5dee","text":"<p>\u504f\u5dee\uff08\u6b20\u62df\u5408\uff09\uff1a</p> <ul> <li>\\(J\\_{train}(\\theta)\\) \u8f83\u9ad8\uff1b</li> <li>\\(J\\_{train}(\\theta) \\approx J\\_{train}(\\theta)\\)\u3002</li> </ul> <p>\u65b9\u5dee\uff08\u8fc7\u62df\u5408\uff09\uff1a</p> <ul> <li>\\(J\\_{train}(\\theta)\\) \u8f83\u4f4e\uff1b</li> <li>\\(J\\_{train}(\\theta) \\geq J\\_{train}(\\theta)\\)\u3002</li> </ul>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_6","title":"\u6b63\u5219\u5316\u548c\u504f\u5dee\u3001\u65b9\u5dee","text":"\\[J(\\theta) = \\frac{1}{2m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})^2 + \\frac{\\lambda}{2m}\\sum^m\\_{j=1}\\theta\\_j^2\\] <p>\u9996\u5148\u8003\u8651\u4e0d\u4f7f\u7528\u6b63\u5219\u5316\uff0c\u7136\u540e\u9009\u53d6\u4e00\u7cfb\u5217\u60f3\u8981\u5c1d\u8bd5\u7684 \\(\\lambda\\) \u503c\uff0c\u6700\u5c0f\u5316\u4ee3\u4ef7\u51fd\u6570\u6765\u5f97\u5230 \\(\\theta\\)\uff0c\u7136\u540e\u7528\u9a8c\u8bc1\u96c6\u6765\u8bc4\u4f30\uff0c\u8bc4\u4f30\u65f6\u7528\u7684\u4ee3\u4ef7\u51fd\u6570\u53bb\u6389\u6b63\u5219\u9879\uff1a</p> \\[J\\_{cv}(\\theta) = \\frac{1}{2m\\_{cv}}\\sum^{m\\_{cv}}\\_{i=1}(h\\_{\\theta}(x^{(i)}\\_{cv}) - y\\_{cv}^{(i)})^2\\] <p>\u53ef\u4ee5\u753b\u4e00\u5e45\u5982\u4e0b\u56fe\u6240\u793a\u7684\u56fe\u50cf\u6765\u786e\u5b9a\u5408\u9002\u7684 \\(\\lambda\\)\uff08\u5b9e\u9645\u4e00\u822c\u6709\u566a\u58f0\uff09\uff1a</p> <p></p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_7","title":"\u673a\u5668\u5b66\u4e60\u7cfb\u7edf\u8bbe\u8ba1","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_8","title":"\u8bef\u5dee\u5206\u6790","text":"<p>\u53ef\u4ee5\u5c06\u8bef\u5206\u7c7b\u7684\u9a8c\u8bc1\u96c6\u6570\u636e\u63d0\u51fa\u6765\uff0c\u770b\u770b\u54ea\u4e00\u7c7b\u8bef\u5206\u7c7b\u6bd4\u4f8b\u6700\u9ad8\uff0c\u505a\u51fa\u76f8\u5e94\u7684\u6539\u8fdb\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week5/#_9","title":"\u4e0d\u5bf9\u79f0\u6027\u5206\u7c7b\u7684\u8bef\u5dee\u8bc4\u4f30","text":"<p>\u5f53\u6b63\u8d1f\u6837\u672c\u7684\u6bd4\u4f8b\u6bd4\u8f83\u60ac\u6b8a\u65f6\uff0c\u5355\u7eaf\u4f7f\u7528\u6b63\u786e\u7387\u6765\u8bc4\u4f30\u4f1a\u4f7f\u5f97\u5206\u7c7b\u5668\u53ea\u9884\u6d4b\u4e00\u79cd\u7ed3\u679c\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u51c6\u786e\u7387\uff08Precision\uff09\u548c\u53ec\u56de\u7387\uff08Recall\uff09\u4f5c\u4e3a\u8bc4\u4f30\u5ea6\u91cf\u3002</p> \\[P = \\frac{TP}{TP+FP}\\] \\[R = \\frac{TP}{TP+FN}\\] <p>\u4e24\u8005\u90fd\u8f83\u9ad8\uff0c\u8bf4\u660e\u6a21\u578b\u5728\u9762\u5bf9\u504f\u659c\u7c7b\u65f6\u4e5f\u6709\u5f88\u597d\u7684\u8868\u73b0\u3002\u4f46\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u5728\u4e24\u8005\u4e4b\u95f4\u505a\u6743\u8861\u3002\u5982\u679c\u60f3\u8981\u7ed3\u679c\u8981\u8f83\u9ad8\u7684\u786e\u4fe1\u5ea6\uff0c\u90a3\u4e48\u5c06\u51c6\u786e\u7387\u4f5c\u4e3a\u6700\u91cd\u8981\u7684\u6807\u51c6\uff1b\u5982\u679c\u4e0d\u60f3\u6f0f\u6389\u6837\u4f8b\uff08\u4f8b\u5982\u75be\u75c5\u5224\u65ad\uff09\uff0c\u90a3\u4e48\u5c06\u53ec\u56de\u7387\u4f5c\u4e3a\u6700\u91cd\u8981\u7684\u6807\u51c6\u3002</p> <p>\u5982\u679c\u60f3\u8981\u7efc\u5408\u8bc4\u4ef7\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 F1-Score\uff1a</p> \\[F1 = \\frac{2PR}{P+R}\\]"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/","title":"\u7b2c\u516d\u5468","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_2","title":"\u652f\u6301\u5411\u91cf\u673a","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_3","title":"\u76f4\u89c2\u7406\u89e3","text":"<p>\u652f\u6301\u5411\u91cf\u673a\uff08Support Vector Machine\uff09\uff0c\u4fbf\u662f\u6839\u636e\u8bad\u7ec3\u6837\u672c\u7684\u5206\u5e03\uff0c\u641c\u7d22\u6240\u6709\u53ef\u80fd\u7684\u7ebf\u6027\u5206\u7c7b\u5668\u4e2d\u6700\u4f73\u7684\u90a3\u4e2a\u3002\u56e0\u4e3a\u51b3\u5b9a\u76f4\u7ebf\u4f4d\u7f6e\u7684\u5e76\u975e\u6240\u6709\u7684\u8bad\u7ec3\u6570\u636e\uff0c\u800c\u662f\u5176\u4e2d\u7684\u4e24\u4e2a\u7a7a\u95f4\u95f4\u9694\uff08margin\uff09\u6700\u5c0f\u7684\u4e24\u4e2a\u4e0d\u540c\u7c7b\u522b\u7684\u6570\u636e\u70b9\uff0c\u8fd9\u79cd\u53ef\u4ee5\u7528\u6765\u771f\u6b63\u5e2e\u52a9\u51b3\u7b56\u6700\u4f18\u7ebf\u6027\u5206\u7c7b\u6a21\u578b\u7684\u6570\u636e\u70b9\u53eb\u505a\u652f\u6301\u5411\u91cf\uff08support vector\uff09\u3002</p> <p></p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_4","title":"\u6570\u5b66\u539f\u7406","text":"<p>\u5728\u6837\u672c\u7a7a\u95f4\u4e2d\uff0c\u5212\u5206\u8d85\u5e73\u9762\u53ef\u901a\u8fc7\u4ee5\u4e0b\u7ebf\u6027\u65b9\u7a0b\u6765\u63cf\u8ff0\uff1a</p> \\[w^Tx+b = 0\\] <p>\u5176\u4e2d\uff0c\\(w = (w\\_1;w\\_2;...;w\\_d)\\) \u4e3a\u6cd5\u5411\u91cf\uff0c\u51b3\u5b9a\u4e86\u8d85\u5e73\u9762\u7684\u65b9\u5411\uff1b\\(b\\) \u4e3a\u4f4d\u79fb\u9879\uff0c\u51b3\u5b9a\u4e86\u8d85\u5e73\u9762\u4e0e\u539f\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u663e\u7136\uff0c\u5212\u5206\u8d85\u5e73\u9762 \\((w, b)\\) \u53ef\u88ab\u6cd5\u5411\u91cf \\(w\\) \u548c\u4f4d\u79fb \\(b\\) \u786e\u5b9a\u3002</p> <p>\u6837\u672c\u7a7a\u95f4\u4e2d\u4efb\u610f\u70b9 \\(x\\) \u5230\u8d85\u5e73\u9762 \\((w,b)\\) \u7684\u8ddd\u79bb\u53ef\u5199\u4e3a</p> \\[r=\\frac{|w^Tx+b|}{\\\\|w\\\\|}\\] <p>\u5047\u8bbe\u8d85\u5e73\u9762 \\((w,b)\\) \u80fd\u5c06\u8bad\u7ec3\u6837\u672c\u6b63\u786e\u5206\u7c7b\uff0c\u5373\u5bf9\u4e8e \\((x\\_i, y\\_i) \\in D\\)\uff0c\u82e5 \\(y\\_i = +1\\)\uff0c\u5219\u6709 \\(w^Tx\\_i+b&gt;0\\)\uff1b\u82e5 \\(y\\_i = -1\\)\uff0c\u5219\u6709 \\(w^Tx+b &lt; 0\\)\u3002\u4ee4</p> \\[ \\begin{equation} \\begin{cases} w^Tx\\_i+b \\geq +1, &amp; y\\_i=+1 \\\\\\ w^Tx\\_i+b \\leq -1, &amp; y\\_i=-1 \\end{cases} \\end{equation} \\] <p>\u603b\u5b58\u5728\u7f29\u653e\u53d8\u6362\u4f7f\u5f97\u4e0a\u5f0f\u6210\u7acb\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u6784\u9020\u4e86\u4e00\u4e2a\u5b89\u5168\u95f4\u8ddd\u3002</p> <p>\u663e\u7136\uff0c\u652f\u6301\u5411\u91cf\u4f7f\u5f97\u4e0a\u5f0f\u4e2d\u7684\u7b49\u53f7\u6210\u7acb\u3002\u5b83\u4eec\u5230\u8d85\u5e73\u9762\u7684\u8ddd\u79bb\u4e4b\u548c\u5373\u95f4\u9694\uff0c\u4e3a</p> \\[\\gamma = \\frac{2}{\\\\| w \\\\|}\\] <p>\u6211\u4eec\u7684\u76ee\u6807\u662f\u627e\u5230\u5177\u6709\u6700\u5927\u95f4\u9694\u7684\u5212\u5206\u8d85\u5e73\u9762\uff0c\u5373\u627e\u5230\u6ee1\u8db3 \\(y\\_i(w^Tx\\_i+b) \\geq 1, i = 1, 2, ..., m\\) \u7684\u53c2\u6570 \\(w\\) \u548c \\(b\\)\uff0c\u4f7f\u5f97 \\(\\gamma\\) \u6700\u5927\uff0c\u5373\u7b49\u4ef7\u4e8e\u6700\u5c0f\u5316 \\(\\frac{1}{2}\\\\| w \\\\|^2\\)\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_5","title":"\u6838\u51fd\u6570","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_6","title":"\u601d\u60f3","text":"<p>\u53ef\u4ee5\u7528\u5e26\u6709\u6838\u51fd\u6570\uff08kernal\uff09\u7684\u652f\u6301\u5411\u91cf\u673a\u6784\u9020\u590d\u6742\u7684\u975e\u7ebf\u6027\u5206\u7c7b\u5668\u3002\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u5ea6\u91cf\u76f8\u4f3c\u6027\u7684\u51fd\u6570\uff0c\u4ee5\u9ad8\u65af\u6838\u51fd\u6570\u4e3a\u4f8b\uff1a</p> \\[ \\begin{equation} \\begin{split} f\\_1 &amp;= similarity(x, l^{(1)}) \\\\\\  &amp;= exp \\Big( -\\frac{\\\\| x-l^{(1)} \\\\|^2}{2\\sigma^2} \\Big) \\\\\\ &amp;= exp \\Big( -\\frac{\\sum^n\\_{j=1}(x\\_j - l^{(1)}\\_j)^2}{2\\sigma^2} \\Big) \\end{split} \\end{equation} \\] <p>\u5176\u4e2d\uff0c\\(\\sigma^2\\) \u662f\u9ad8\u65af\u6838\u51fd\u6570\u7684\u53c2\u6570\u3002\u5f53 \\(x\\) \u7ea6\u7b49\u4e8e \\(l^{(1)}\\) \u65f6\uff0c\\(f\\_1\\) \u7ea6\u7b49\u4e8e 1\uff1b\u800c\u5f53 \\(x\\) \u548c \\(l^{(1)}\\) \u8f83\u8fdc\u65f6\uff0c\\(f\\_1\\) \u7ea6\u7b49\u4e8e 0\u3002</p> <p>\u901a\u8fc7\u76f8\u4f3c\u5ea6\u51fd\u6570\uff0c\\(l\\_1\\)\uff0c\\(l\\_2\\)\uff0c... \uff0c\\(l\\_j\\) \u6bcf\u4e00\u4e2a\u6807\u8bb0\u4f1a\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7279\u5f81 \\(f\\_1\\)\uff0c\\(f\\_2\\)\uff0c...\uff0c\\(f\\_j\\)\u3002\u5047\u8bbe\u6709 \\(\\theta\\_0 + \\theta\\_1 f\\_1 + \\theta\\_2 f\\_2 + ... + \\theta\\_j f\\_j \\geq 0\\)\uff0c\u6211\u4eec\u7531\u6b64\u5c06\u590d\u6742\u7684\u975e\u7ebf\u6027\u51b3\u7b56\u8fb9\u754c\u8f6c\u6362\u4e3a\u7ebf\u6027\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_7","title":"\u9009\u53d6\u6807\u8bb0\u70b9","text":"<p>\u6bcf\u4e2a\u6807\u8bb0\u70b9\u90fd\u548c\u6bcf\u4e2a\u6837\u672c\u70b9\u4f4d\u7f6e\u91cd\u5408\uff0c\u5373 \\(l^{(m)} = x^{(m)}\\)\u3002\u5219\u6709</p> \\[f\\_m^{(i)} = sim(x^{(i)}, l^{(m)})\\] \\[f^{(i)} = [f\\_0^{(i)}, f\\_1^{(i)}, ... ,f\\_m^{(i)}]^T\\] <p>\\(f^{(i)}\\) \u5c31\u662f\u7279\u5f81\u5411\u91cf\u3002</p> <p>\u56e0\u6b64\uff0c\u5305\u542b\u6838\u51fd\u6570\u7684 SVM\uff1a</p> <p>\u7ed9\u5b9a \\(x\\)\uff0c\u8ba1\u7b97\u51fa\u7279\u5f81 \\(f \\in \\mathbb{R}^{m+1}\\)\uff0c\u5f53 \\(\\theta^Tf \\geq 0\\) \u65f6\uff0c\u9884\u6d4b \\(y = 1\\)\u3002\u5219\u76ee\u6807\u4e3a</p> \\[min\\_{\\theta}C\\sum^m\\_{i=1}\\Big[ y^{(i)}cost\\_1(\\theta^Tf^{(i)}) + (1-y^{(i)})cost\\_0(\\theta^Tf^{(i)}) \\Big] + \\frac{1}{2}\\sum^m\\_{j=1}\\theta^2\\_j\\] <p>\u4e00\u4e2a\u6570\u5b66\u7ec6\u8282\u662f \\(\\sum\\_j \\theta^2\\_j\\) \u53ef\u4ee5\u88ab\u5199\u4e3a \\(\\theta^T \\theta\\)\uff08\u5ffd\u7565 \\(\\theta\\_0\\)\uff09\u3002\u800c\u5728\u5b9e\u73b0\u65f6\uff0c\u901a\u5e38\u7528 \\(\\theta^T M\\theta\\)\uff0c\\(M\\) \u662f\u4e00\u4e2a\u4f9d\u8d56\u4e8e\u6240\u4f7f\u7528\u7684\u6838\u51fd\u6570\u7684\u77e9\u9635\uff0c\u8fd9\u662f\u4e00\u79cd\u7565\u6709\u533a\u522b\u7684\u8ddd\u79bb\u5ea6\u91cf\u65b9\u6cd5\u3002\u8fd9\u4f7f\u5f97 SVM \u7684\u5b9e\u73b0\u66f4\u6709\u6548\u7387\u3002</p> <p>\u6838\u51fd\u6570\u7684\u601d\u60f3\u53ef\u4ee5\u7528\u4e8e\u4f8b\u5982 Logistic \u56de\u5f52\u7684\u5176\u4ed6\u5206\u7c7b\u5668\uff0c\u4f46\u662f\u8fd0\u884c\u5341\u5206\u7f13\u6162\uff0c\u4e0d\u80fd\u4f7f\u7528\u9ad8\u7ea7\u4f18\u5316\u6280\u5de7\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_8","title":"\u53c2\u6570\u9009\u62e9","text":"<p>\u5bf9\u4e8e\u53c2\u6570 \\(C\\)\uff0c\u5176\u4f5c\u7528\u8fd1\u4f3c\u4e8e \\(\\frac{1}{\\lambda}\\)\u3002</p> <ul> <li>\u8f83\u5927\u7684 \\(C\\)\uff1a\u610f\u5473\u7740\u4e0d\u4f7f\u7528\u6b63\u5219\u5316\uff0c\u4f4e\u504f\u5dee\u9ad8\u65b9\u5dee</li> <li>\u8f83\u5c0f\u7684 \\(C\\)\uff1a\u504f\u5411\u4e8e\u6b20\u62df\u5408\uff0c\u9ad8\u504f\u5dee\u4f4e\u65b9\u5dee</li> </ul> <p>\\(\\sigma^2\\)\uff1a</p> <ul> <li>\u504f\u5927\u65f6\uff1a\u7279\u5f81 \\(f\\_i\\) \u66f4\u4e3a\u5e73\u6ed1\uff0c\u9ad8\u504f\u5dee\u4f4e\u65b9\u5dee</li> <li>\u504f\u5c0f\u65f6\uff1a\u7279\u5f81 \\(f\\_i\\) \u66f4\u4e0d\u5e73\u6ed1\uff0c\u4f4e\u504f\u5dee\u9ad8\u65b9\u5dee</li> </ul>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#svm","title":"\u4f7f\u7528 SVM","text":"<p>\u4f7f\u7528 SVM \u65f6\uff0c\u9700\u8981\u786e\u5b9a\u53c2\u6570 \\(C\\) \u548c\u6838\u51fd\u6570\u3002</p> <p>\u53ef\u4ee5\u4e0d\u4f7f\u7528\u6838\u51fd\u6570\uff0c\u4e5f\u79f0\u4f7f\u7528\u7ebf\u6027\u6838\u51fd\u6570\uff0c\u5219 \\(\\theta^Tx \\geq 0\\)\u3002\u5f53\u7279\u5f81\u6570\u76ee\u8f83\u591a\u800c\u6837\u672c\u6570\u8f83\u5c11\u65f6\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u53bb\u5728\u4e00\u4e2a\u975e\u5e38\u9ad8\u7ef4\u7684\u7a7a\u95f4\u4e2d\u62df\u5408\u8fc7\u4e8e\u590d\u6742\u7684\u975e\u7ebf\u6027\u51fd\u6570\uff0c\u51cf\u7f13\u8fc7\u62df\u5408\u3002</p> <p>\u5f53\u7279\u5f81\u6570\u76ee\u8f83\u5c11\u800c\u8bad\u7ec3\u6837\u672c\u8f83\u591a\u65f6\uff0c\u60f3\u7528\u6838\u51fd\u6570\u62df\u5408\u76f8\u5f53\u590d\u6742\u7684\u975e\u7ebf\u6027\u51b3\u7b56\u8fb9\u754c\uff0c\u9ad8\u65af\u6838\u51fd\u6570\u662f\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002\u5982\u679c\u51b3\u5b9a\u4f7f\u7528\u9ad8\u65af\u6838\u51fd\u6570\uff0c\u8fd8\u9700\u8981\u9009\u62e9 \\(\\sigma^2\\)\u3002</p> <p>\u5982\u679c\u6709\u5927\u5c0f\u5f88\u4e0d\u4e00\u6837\u7684\u7279\u5f81\u53d8\u91cf\uff0c\u5728\u4f7f\u7528\u9ad8\u65af\u6838\u51fd\u6570\u524d\uff0c\u8981\u6ce8\u610f\u5c06\u7279\u5f81\u53d8\u91cf\u5927\u5c0f\u6309\u6bd4\u4f8b\u5f52\u4e00\u5316\u3002</p> <p>\u6700\u5e38\u7528\u7684\u4e24\u4e2a\u6838\u51fd\u6570\u662f\u7ebf\u6027\u6838\u51fd\u6570\u548c\u9ad8\u65af\u6838\u51fd\u6570\u3002\u4e0d\u662f\u6240\u6709\u63d0\u51fa\u6765\u7684\u76f8\u4f3c\u6027\u51fd\u6570\u90fd\u662f\u6709\u6548\u7684\uff0c\u9700\u8981\u6ee1\u8db3\u9ed8\u585e\u5c14\u5b9a\u7406\uff08Mercer's Theorem\uff09\uff0c\u4f7f\u5f97\u7528\u4e8e\u6c42\u89e3 \\(\\theta\\) \u7684\u6570\u503c\u4f18\u5316\u6280\u5de7\u80fd\u591f\u4f7f\u7528\u3002</p> <p>\u5176\u4ed6\u53ef\u4ee5\u4f7f\u7528\u7684\u6838\u51fd\u6570\u6709\uff1a</p> <ul> <li>\u591a\u9879\u5f0f\u51fd\u6570\uff08Polynomial kernel\uff09\uff1a\\(k(x, l) = (X^Tl + m)^n\\)\u3002\u901a\u5e38\u6548\u679c\u8f83\u5dee\uff0c\u5e38\u7528\u4e8e \\(x\\) \u548c \\(l\\) \u90fd\u662f\u4e25\u683c\u7684\u975e\u8d1f\u6570\u3002</li> <li>\u5b57\u7b26\u4e32\u6838\u51fd\u6570\uff08String kernel\uff09\uff1a\u7528\u4e8e\u8f93\u5165\u6570\u636e\u662f\u5b57\u7b26\u4e32\u65f6\u3002</li> <li>\u5361\u65b9\u6838\u51fd\u6570\uff08chi-square kernel\uff09</li> <li>\u76f4\u65b9\u76f8\u4ea4\u6838\u51fd\u6570\uff08histogram kernel\uff09</li> </ul> <p>\u5982\u4f55\u9009\u62e9\u4f7f\u7528 Logistic \u56de\u5f52\u8fd8\u662f SVM\uff1f</p> <ul> <li>\u5f53\u7279\u5f81\u6570\u91cf\u8fdc\u5927\u4e8e\u8bad\u7ec3\u6837\u672c\u6570\uff0c\u4e00\u822c\u4f7f\u7528 Logistic \u56de\u5f52\uff0c\u6216\u4f7f\u7528\u7ebf\u6027\u6838\u51fd\u6570\u7684 SVM\u3002</li> <li>\u5f53\u7279\u5f81\u6570\u91cf\u8f83\u5c11\uff0c\u8bad\u7ec3\u6837\u672c\u6570\u4e2d\u7b49\u65f6\uff0c\u4e00\u822c\u4f7f\u7528\u5e26\u9ad8\u65af\u6838\u51fd\u6570\u7684 SVM\u3002</li> <li>\u5f53\u7279\u5f81\u6570\u91cf\u8f83\u5c11\uff0c\u8bad\u7ec3\u6837\u672c\u6570\u975e\u5e38\u591a\uff08\u4e00\u822c\u5927\u4e8e\u5341\u4e07\uff09\uff0c\u4e00\u822c\u5148\u589e\u52a0\u66f4\u591a\u7279\u5f81\u53d8\u91cf\uff0c\u7136\u540e\u4f7f\u7528 Logistic \u56de\u5f52\u6216\u8005\u4f7f\u7528\u7ebf\u6027\u6838\u51fd\u6570\u7684 SVM\u3002</li> </ul> <p>\u800c\u8bbe\u8ba1\u8f83\u597d\u7684\u795e\u7ecf\u7f51\u7edc\u53ef\u80fd\u80fd\u83b7\u5f97\u8f83\u597d\u7684\u6548\u679c\uff0c\u4f46\u8bad\u7ec3\u901f\u5ea6\u8f83\u6162\u3002\u5e76\u4e14 SVM \u7684\u4f18\u5316\u662f\u4e00\u79cd\u51f8\u4f18\u5316\u95ee\u9898\uff0c\u4e0d\u4f1a\u6709\u56f0\u6270\u795e\u7ecf\u7f51\u7edc\u7684\u5c40\u90e8\u6700\u4f18\u95ee\u9898\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_9","title":"\u65e0\u76d1\u7763\u5b66\u4e60","text":"<p>\u5728\u76d1\u7763\u5b66\u4e60\u4e2d\uff0c\u6211\u4eec\u6709\u4e00\u7cfb\u5217\u6807\u7b7e\uff0c\u7136\u540e\u7528\u5047\u8bbe\u51fd\u6570\u53bb\u62df\u5408\u5b83\u3002\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u5728\u65e0\u76d1\u7763\u5b66\u4e60\u4e2d\uff0c\u6570\u636e\u4e0d\u5e26\u6709\u6807\u7b7e\u3002\u6211\u4eec\u901a\u8fc7\u8fd9\u4e9b\u6570\u636e\u627e\u5230\u4e00\u4e9b\u9690\u542b\u5728\u6570\u636e\u4e2d\u7684\u7ed3\u6784\u3002\u805a\u7c7b\u7b97\u6cd5\u662f\u4e00\u79cd\u5178\u578b\u7684\u65e0\u76d1\u7763\u5b66\u4e60\u7b97\u6cd5\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#k-means","title":"K-Means \u7b97\u6cd5","text":"<p>K-means \u662f\u4e00\u79cd\u7ecf\u5178\u7684\u805a\u7c7b\u7b97\u6cd5\uff0c\u5176\u9700\u8981\u7684\u8f93\u5165\u5305\u62ec\u805a\u7c7b\u6570\u76ee \\(K\\) \u548c\u8bad\u7ec3\u96c6 \\(\\big\\\\{x^{(1)}, x^{(2)}, ..., x^{(m)}\\big\\\\}\\)\u3002</p> <p>\u6b65\u9aa4\uff1a</p> <ol> <li>\u968f\u673a\u521d\u59cb\u5316 \\(K\\) \u4e2a\u805a\u7c7b\u4e2d\u5fc3 \\(\\mu\\_1, \\mu\\_2, ..., \\mu\\_K \\in \\mathbb{R}^{n}\\)\uff1b</li> <li>\u5c06\u8bad\u7ec3\u96c6\u4e2d\u7684\u6bcf\u4e2a\u6570\u636e\u70b9\u5206\u914d\u7ed9\u79bb\u5b83\u6700\u8fd1\u7684\u805a\u7c7b\u4e2d\u5fc3\uff0c\u6700\u7ec8\u5f62\u6210 \\(K\\) \u4e2a\u805a\u7c7b\uff1b</li> <li>\u5bf9\u4e8e\u6bcf\u4e2a\u805a\u7c7b\uff0c\u5c06\u805a\u7c7b\u4e2d\u6240\u6709\u6570\u636e\u70b9\u7684\u5e73\u5747\u70b9\u4f5c\u4e3a\u65b0\u7684\u805a\u7c7b\u4e2d\u5fc3\uff1b</li> <li>\u91cd\u590d\u7b2c 2 \u6b65\u548c\u7b2c 3 \u6b65\u76f4\u5230\u6536\u655b\u3002</li> </ol> <p>\u53ef\u80fd\u5728\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u6ca1\u6709\u4efb\u4f55\u6570\u636e\u70b9\u7684\u805a\u7c7b\u4e2d\u5fc3\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e00\u822c\u76f4\u63a5\u79fb\u9664\uff0c\u6216\u8005\u5982\u679c\u786e\u5b9e\u9700\u8981 \\(K\\) \u4e2a\u805a\u7c7b\uff0c\u5219\u53ef\u4ee5\u91cd\u65b0\u968f\u673a\u521d\u59cb\u5316\u4e00\u4e2a\u805a\u7c7b\u4e2d\u5fc3\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_10","title":"\u4f18\u5316\u76ee\u6807","text":"<p>\u89c4\u5b9a\u4e0b\u5217\u7b26\u53f7\uff1a</p> <ul> <li>\\(c^{(i)}\\)\uff1a\\(x^{(i)}\\) \u88ab\u5206\u914d\u7ed9\u7684\u805a\u7c7b\u7684\u5e8f\u53f7\uff1b</li> <li>\\(\\mu\\_k\\)\uff1a\u7b2c \\(k\\) \u4e2a\u805a\u7c7b\u4e2d\u5fc3\uff1b</li> <li>\\(\\mu\\_{c^{(i)}}\\)\uff1a\\(x^{(i)}\\) \u88ab\u5206\u914d\u7ed9\u7684\u805a\u7c7b\u7684\u4e2d\u5fc3\u3002</li> </ul> <p>\u5219\u6709\u4ee3\u4ef7\u51fd\u6570\u4f5c\u4e3a\u4f18\u5316\u76ee\u6807\uff1a</p> \\[J(c^{(1)}, ... , c^{(m)}, \\mu\\_1, ... , \\mu\\_K) = \\frac{1}{m}\\sum^m\\_{i=1} \\\\| x^{(i)} - \\mu\\_{c^{(i)}} \\\\|^2\\] <p>\u56e0\u6b64\uff0cK-means \u7b97\u6cd5\u5c31\u662f\u8981\u627e\u5230\u80fd\u4f7f \\(J(c^{(1)}, ... , c^{(m)}, \\mu\\_1, ... , \\mu\\_K)\\) \u6700\u5c0f\u7684\u53c2\u6570 \\(c^{(i)}\\) \u548c \\(\\mu\\_K\\)\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_11","title":"\u968f\u673a\u521d\u59cb\u5316","text":"<p>\u4e00\u4e2a\u66f4\u597d\u7684\u7b56\u7565\u662f\u4e0d\u518d\u4ece\u7a7a\u95f4\u4e2d\u968f\u673a\u9009\u62e9\u70b9\uff0c\u800c\u662f\u4ece\u8bad\u7ec3\u6570\u636e\u4e2d\u968f\u673a\u9009\u62e9\u4ee5\u521d\u59cb\u5316\u805a\u7c7b\u4e2d\u5fc3\u3002</p> <p>K-means \u7b97\u6cd5\u6700\u7ec8\u53ef\u80fd\u56e0\u4e3a\u9009\u53d6\u4e86\u4e0d\u540c\u7684\u521d\u59cb\u5316\u70b9\u800c\u6536\u655b\u5f97\u5230\u4e0d\u540c\u7684\u7ed3\u679c\u3002\u56e0\u6b64\uff0c\u53ef\u80fd\u843d\u5230\u5c40\u90e8\u6700\u4f18\u3002\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u591a\u6b21\u968f\u673a\u521d\u59cb\u5316\uff0c\u5e76\u9009\u62e9\u80fd\u591f\u4f7f\u4ee3\u4ef7\u51fd\u6570\u6700\u5c0f\u7684\u805a\u7c7b\u7ed3\u679c\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week6/#_12","title":"\u9009\u62e9\u805a\u7c7b\u6570\u91cf","text":"<p>\u901a\u8fc7\u6539\u53d8 \\(K\\) \u503c\u6765\u5f97\u5230\u4e00\u5f20\u4ee3\u4ef7\u51fd\u6570\u4e0b\u964d\u7684\u66f2\u7ebf\u56fe\uff0c\u5e76\u9009\u62e9\u66f2\u7ebf\u7684\u62d0\u70b9\u7684\u6a2a\u5750\u6807\u4f5c\u4e3a\u5408\u9002\u7684 \\(K\\) \u503c\u88ab\u79f0\u4e3a\u201c\u8098\u90e8\u6cd5\u5219\uff08Elbow method\uff09\u201d\uff0c\u4f46\u4e0d\u662f\u6240\u6709\u65f6\u5019\u5f97\u5230\u7684\u66f2\u7ebf\u90fd\u6709\u660e\u663e\u7684\u62d0\u70b9\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/","title":"\u7b2c\u4e03\u5468","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_2","title":"\u964d\u7ef4","text":"<p>\u964d\u7ef4\uff08dimensionality reduction\uff09\u662f\u6307\u901a\u8fc7\u67d0\u79cd\u6570\u5b66\u53d8\u6362\u5c06\u539f\u59cb\u9ad8\u7ef4\u5c5e\u6027\u7a7a\u95f4\u8f6c\u53d8\u4e3a\u4e00\u4e2a\u4f4e\u7ef4\u201c\u5b50\u7a7a\u95f4\u201d\uff0c\u5728\u8fd9\u4e2a\u5b50\u7a7a\u95f4\u4e2d\u6837\u672c\u5bc6\u5ea6\u5927\u5e45\u63d0\u9ad8\uff0c\u4ee5\u907f\u514d\u5728\u9ad8\u7ef4\u60c5\u5f62\u4e0b\u51fa\u73b0\u7684\u6570\u636e\u6837\u672c\u7a00\u758f\u3001\u8ddd\u79bb\u8ba1\u7b97\u56f0\u96be\u7b49\u95ee\u9898\u3002\u964d\u7ef4\u4e5f\u662f\u65e0\u76d1\u7763\u5b66\u4e60\u95ee\u9898\u7684\u4e00\u79cd\u3002</p> <p>\u964d\u7ef4\u7684\u4e24\u79cd\u5e94\u7528\uff1a</p> <ul> <li>\u6570\u636e\u538b\u7f29\uff1a\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u5360\u7528\u8f83\u5c11\u5b58\u50a8\u7a7a\u95f4\uff0c\u5e76\u52a0\u901f\u5b66\u4e60\u7b97\u6cd5</li> <li>\u6570\u636e\u53ef\u89c6\u5316</li> </ul>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#pca","title":"\u4e3b\u6210\u5206\u5206\u6790\uff08PCA\uff09","text":"<p>\u4e3b\u6210\u5206\u5206\u6790\uff08Pricipal Component Analysis\uff0cPCA\uff09\u662f\u6700\u5e38\u7528\u7684\u4e00\u79cd\u964d\u7ef4\u7b97\u6cd5\u3002</p> <p>PCA \u4f1a\u8bd5\u56fe\u5bfb\u627e\u4e00\u4e2a\u4f4e\u7ef4\u7684\u8d85\u5e73\u9762\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u6295\u5f71\uff0c\u5e76\u6700\u5c0f\u5316\u6295\u5f71\u8bef\u5dee\uff08\u6570\u636e\u70b9\u5230\u8be5\u5e73\u9762\u7684\u8ddd\u79bb\uff09\u3002\u5728\u5e94\u7528 PCA \u4e4b\u524d\uff0c\u5e38\u89c4\u505a\u6cd5\u662f\u5148\u8fdb\u884c\u5747\u503c\u5f52\u4e00\u5316\u548c\u7279\u5f81\u89c4\u8303\u5316\u3002</p> <p>\u8f93\u5165\u6837\u672c\u96c6\u548c\u964d\u7ef4\u540e\u4f4e\u7ef4\u7a7a\u95f4\u7684\u7ef4\u6570 k \u503c\uff0cPCA \u7b97\u6cd5\u7684\u8fc7\u7a0b\u4e3a\uff1a</p> <ol> <li>\u5bf9\u6240\u6709\u6837\u672c\u8fdb\u884c\u4e2d\u5fc3\u5316\uff1a\\(x\\_i \\leftarrow x\\_i - \\frac{1}{m}\\sum^m\\_{i=1}x\\_i\\) \uff1b</li> <li>\u8ba1\u7b97\u6837\u672c\u7684\u534f\u65b9\u5dee\u77e9\u9635 \\(XX^T\\)\uff1b</li> <li>\u5bf9\u534f\u65b9\u5dee\u77e9\u9635 \\(XX^T\\) \u505a\u7279\u5f81\u503c\u5206\u89e3\uff1b</li> <li>\u53d6\u6700\u5927\u7684 \\(k\\) \u4e2a\u7279\u5f81\u503c\u6240\u5bf9\u5e94\u7684\u7279\u5f81\u5411\u91cf \\(w\\_1, w\\_2, ..., w\\_k\\)\u3002</li> </ol> <p>\u5219\u8d85\u5e73\u9762 \\(W = (w\\_1, w\\_2, ..., w\\_k)\\)\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#k","title":"\u9009\u53d6 k \u503c","text":"<p>\u5e73\u5747\u6295\u5f71\u8bef\u5dee\u5e73\u65b9\uff1a</p> \\[\\frac{1}{m}\\sum^m\\_{i=1} \\\\| x^{(i)} - x^{(i)}\\_{approx} \\\\|^2\\] <p>\u6570\u636e\u7684\u603b\u65b9\u5dee\uff1a</p> \\[\\frac{1}{m}\\sum^m\\_{i=1} \\\\| x^{(i)} \\\\|^2\\] <p>\u56e0\u6b64\u9009\u53d6\u8f83\u5c0f\u7684 k \u503c\uff0c\u4f7f\u5f97\uff1a</p> \\[\\frac{\\frac{1}{m}\\sum^m\\_{i=1} \\\\| x^{(i)} - x^{(i)}\\_{approx} \\\\|^2}{\\frac{1}{m}\\sum^m\\_{i=1} \\\\| x^{(i)} \\\\|^2} \\leq 0.01\\] <p>\u8fd9\u6837\uff0c99% \u7684\u65b9\u5dee\u4f1a\u88ab\u4fdd\u7559\u3002</p> <p>\u5b9e\u73b0\u65f6\uff0c\u901a\u5e38\u901a\u8fc7\u5bf9\u534f\u65b9\u5dee\u77e9\u9635\u8fdb\u884c\u5947\u5f02\u503c\u5206\u89e3\uff0c\u5c06\u6c42\u5f97\u7684\u7279\u5f81\u503c\u6392\u5e8f\uff1a\\(\\lambda\\_1\u3001\\lambda\\_1\u3001...\u3001\\lambda\\_m\\)\uff0c\u7136\u540e\u53d6 k \u503c\u4f7f\uff1a</p> \\[\\frac{\\sum^k\\_{i=1}S\\_{ii}}{\\sum^m\\_{i=1}S\\_{ii}} \\geq 0.99\\]"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_3","title":"\u538b\u7f29\u91cd\u73b0","text":"\\[z = U^T\\_{reduce}x\\] <p>\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u4ece\u4f4e\u7ef4\u6570\u636e\u91cd\u73b0\u4e00\u4e2a\u8fd1\u4f3c\u7684\u9ad8\u7ef4\u6570\u636e\uff1a</p> \\[x \\approx x\\_{approx} = U\\_{reduce}z\\] <p>\u6211\u4eec\u79f0\u8fd9\u4e00\u8fc7\u7a0b\u4e3a\u539f\u59cb\u6570\u636e\u7684\u91cd\u6784\uff08reconstruction\uff09\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#pca_1","title":"\u5e94\u7528 PCA \u7684\u5efa\u8bae","text":"<p>\u7528 PCA \u53ef\u4ee5\u964d\u4f4e\u6570\u636e\u7684\u7ef4\u5ea6\uff0c\u4ece\u800c\u4f7f\u5f97\u7b97\u6cd5\u8fd0\u884c\u66f4\u52a0\u9ad8\u6548\u3002</p> <ol> <li>\u4ece\u8bad\u7ec3\u96c6\u4e2d\u53ea\u62bd\u53d6\u8f93\u5165\u7684\u5411\u91cf\uff0c\u4e0d\u8981\u6807\u7b7e\uff1b</li> <li>\u4f7f\u7528 PCA \u5f97\u5230\u539f\u59cb\u6570\u636e\u7684\u4f4e\u7ef4\u8868\u793a\uff1b</li> <li>\u73b0\u5728\u6211\u4eec\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u8bad\u7ec3\u96c6\u3002</li> </ol> <p>\u6ce8\u610f\uff1a\u4ece \\(x^{(i)}\\) \u5230 \\(z^{(i)}\\) \u7684\u6620\u5c04\u9700\u8981\u901a\u8fc7\u4ec5\u5728\u8bad\u7ec3\u96c6\u4e0a\u8fd0\u884c PCA \u5f97\u5230\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u6620\u5c04\u5173\u7cfb\u540c\u6837\u53ef\u7528\u4e8e\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\u3002</p> <p>\u4e00\u79cd\u9519\u8bef\u7684\u8ba4\u77e5\u662f\u53ef\u4ee5\u4f7f\u7528 PCA \u6765\u9632\u6b62\u8fc7\u62df\u5408\u3002\u6709\u4e9b\u4eba\u4f1a\u8ba4\u4e3a\u56e0\u4e3a PCA \u80fd\u591f\u964d\u4f4e\u6570\u636e\u7ef4\u5ea6\uff0c\u56e0\u6b64\u66f4\u5c11\u7684\u7279\u5f81\u6570\u610f\u5473\u7740\u66f4\u5c0f\u7684\u53ef\u80fd\u6027\u5bfc\u81f4\u8fc7\u62df\u5408\u3002\u5b9e\u9645\u4e0a\uff0cPCA \u4f1a\u820d\u5f03\u4e00\u4e9b\u6709\u4ef7\u503c\u7684\u4fe1\u606f\uff0c\u4f7f\u7528 PCA \u6765\u9632\u6b62\u8fc7\u62df\u5408\u4e0d\u662f\u4e00\u79cd\u597d\u7684\u5e94\u7528\u3002\u4f7f\u7528\u6b63\u5219\u5316\u662f\u66f4\u597d\u7684\u9632\u6b62\u8fc7\u62df\u5408\u7684\u65b9\u6cd5\u3002</p> <p>\u5728\u8bbe\u8ba1\u673a\u5668\u5b66\u4e60\u7cfb\u7edf\u65f6\uff0c\u4f60\u53ef\u4ee5\u5148\u5728\u539f\u59cb\u6570\u636e\u4e0a\u5c1d\u8bd5\u8fd0\u884c\u7b97\u6cd5\uff0c\u4e4b\u540e\u6839\u636e\u6548\u679c\u6765\u51b3\u5b9a\u662f\u5426\u4f7f\u7528 PCA \u6765\u52a0\u901f\u5b66\u4e60\u6216\u8005\u538b\u7f29\u6570\u636e\u4ee5\u51cf\u5c11\u6240\u9700\u7684\u5b58\u50a8\u7a7a\u95f4\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_4","title":"\u5f02\u5e38\u68c0\u6d4b","text":"<p>\u5f02\u5e38\u68c0\u6d4b\uff08Anomaly Detection\uff09\u662f\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u4e00\u4e2a\u5e38\u89c1\u5e94\u7528\u3002\u8fd9\u662f\u4e00\u4e2a\u65e0\u76d1\u7763\u5b66\u4e60\u95ee\u9898\uff0c\u4f1a\u901a\u8fc7\u65b0\u7684\u6570\u636e\u7279\u5f81\u843d\u5728\u5df2\u6709\u6570\u636e\u7684\u7279\u5f81\u5206\u5e03\u7684\u6982\u7387\u6765\u5224\u65ad\u65b0\u7684\u6570\u636e\u662f\u5426\u9690\u542b\u4e86\u67d0\u79cd\u5f02\u5e38\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_5","title":"\u9ad8\u65af\u5206\u5e03","text":"<p>\u9ad8\u65af\u5206\u5e03\uff08Gaussian ditribution\uff09\uff0c\u5373\u6b63\u6001\u5206\u5e03\uff08Normal ditribution\uff09\u3002</p> <p>\u5047\u8bbe \\(x \\in \\mathbb{R}\\)\uff0c\u5982\u679c \\(x\\) \u7684\u6982\u7387\u5206\u5e03\u670d\u4ece\u9ad8\u65af\u5206\u5e03\uff0c\u5176\u4e2d\u5747\u503c\u4e3a \\(\\mu\\)\uff0c\u65b9\u5dee\u4e3a \\(\\sigma^2\\)\uff0c\u5219\u5199\u4f5c</p> \\[x \\sim \\mathcal{N}(\\mu, \\sigma^2)\\] <p>\u6982\u7387\u5206\u5e03\u7684\u516c\u5f0f\u4e3a\uff1a</p> \\[p(x;\\mu, \\sigma^2) = \\frac{1}{\\sqrt{2\\pi}\\sigma}exp(-\\frac{(x-\\mu)^2}{2\\sigma^2})\\] <p>\u53c2\u6570\u4f30\u8ba1\uff08parameter estimation\uff09\u95ee\u9898\u662f\uff0c\u7ed9\u5b9a\u6570\u636e\u96c6\u786e\u5b9a\u6ee1\u8db3\u9ad8\u65af\u5206\u5e03\uff0c\u9700\u8981\u4f30\u8ba1\u51fa \\(\\mu\\) \u548c \\(\\sigma\\)\u3002\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a</p> \\[\\mu = \\frac{1}{m}\\sum^m\\_{i=1}x^{(i)}\\] \\[\\sigma^2 = \\frac{1}{m}\\sum^m\\_{i=1}(x^{(i)} - \\mu)^2\\] <p>\u5176\u4e2d\uff0c\\(\\frac{1}{m}\\) \u6709\u65f6\u4e5f\u5199\u4f5c \\(\\frac{1}{m-1}\\)\uff0c\u5728\u5b9e\u8df5\u4e2d\u533a\u522b\u4e0d\u5927\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_6","title":"\u7b97\u6cd5","text":"<p>\u5047\u8bbe\u6709\u4e00\u4e2a\u8bad\u7ec3\u96c6 \\(\\big\\\\{ x^{(1)},...,x^{(m)} \\big\\\\}\\)\uff0c\u6bcf\u4e2a\u6837\u672c \\(x \\in \\mathbb{R}^n\\)\u3002</p> <p>\u5728\u7279\u5f81\u76f8\u4e92\u72ec\u7acb\u7684\u5047\u8bbe\u4e0b\uff0c\u6709</p> \\[p(x) = \\prod^n\\_{j=1}p(x\\_j;\\mu\\_j,\\sigma\\_j^2)\\] <p>\u5982\u679c \\(p(x) &lt; \\varepsilon\\)\uff0c\u8ba4\u4e3a\u5f02\u5e38\u3002\\(\\varepsilon\\) \u9700\u8981\u9009\u5b9a\u3002</p> <p>\u5206\u5e03\u9879 \\(p(x)\\) \u7684\u4f30\u8ba1\u95ee\u9898\u6709\u65f6\u79f0\u4e3a\u5bc6\u5ea6\u4f30\u8ba1\uff08Density estimation\uff09\u95ee\u9898\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_7","title":"\u5f00\u53d1\u548c\u8bc4\u4f30\u5f02\u5e38\u68c0\u6d4b\u7cfb\u7edf","text":"<p>\u5982\u679c\u6709\u4e00\u4e9b\u5e26\u6807\u7b7e\u7684\u6570\u636e\uff0c\u6765\u6307\u660e\u54ea\u4e9b\u662f\u6b63\u5e38\u6570\u636e\uff0c\u54ea\u4e9b\u662f\u5f02\u5e38\u6570\u636e\uff0c\u5219\u8fd9\u4e9b\u6570\u636e\u53ef\u4ee5\u7528\u4e8e\u8bc4\u4f30\u7b97\u6cd5\u3002</p> <p>\u6211\u4eec\u8fd9\u6837\u5212\u5206\u8bad\u7ec3\u96c6\u3001\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\uff1a</p> <ul> <li>\u8bad\u7ec3\u96c6\uff1a\u6b63\u5e38\u65e0\u6807\u7b7e\u6570\u636e</li> <li>\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\uff1a\u5305\u542b\u5c11\u91cf\u5df2\u77e5\u662f\u5f02\u5e38\u7684\u6570\u636e</li> </ul> <p>\u7cfb\u7edf\u5f00\u53d1\u6b65\u9aa4\uff1a</p> <ol> <li>\u4f7f\u7528\u8bad\u7ec3\u96c6\u62df\u5408\u6a21\u578b \\(p(x)\\)\uff1b</li> <li>\u5bf9\u4e8e\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\u7528\u6a21\u578b\u8fdb\u884c\u9884\u6d4b\uff1b</li> <li>\u56e0\u4e3a\u6570\u636e\u7c7b\u522b\u6bd4\u4f8b\u76f8\u5dee\u8f83\u5927\uff0c\u53ef\u4ee5\u7528 F1-Score \u7b49\u6765\u8bc4\u4f30\u7b97\u6cd5\u3002</li> </ol> <p>\u9009\u62e9 \\(\\varepsilon\\) \u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528\u591a\u4e2a\u503c\uff0c\u6700\u540e\u9009\u62e9\u80fd\u591f\u6700\u5927\u5316 F1-Score \u7684 \\(\\varepsilon\\) \u503c\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#vs","title":"\u5f02\u5e38\u68c0\u6d4b VS \u76d1\u7763\u5b66\u4e60","text":"<p>\u5f02\u5e38\u68c0\u6d4b\u4e0e\u76d1\u7763\u5b66\u4e60\u7684\u533a\u522b\uff1a</p> <ol> <li>\u5f02\u5e38\u68c0\u6d4b\u4e2d\u6837\u672c\u6bd4\u4f8b\u4e0d\u5e73\u8861\uff0c\u800c\u76d1\u7763\u5b66\u4e60\u4e00\u822c\u6709\u6bd4\u4f8b\u76f8\u8fd1\u7684\u6b63\u8d1f\u6837\u672c\uff1b</li> <li>\u5f02\u5e38\u68c0\u6d4b\u4e0d\u8ffd\u6c42\u4ece\u6837\u672c\u4e2d\u5206\u6790\u51fa\u5f02\u5e38\u7684\u5177\u4f53\u79cd\u7c7b\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e2d\u53ef\u80fd\u51fa\u73b0\u4e0e\u4ee5\u524d\u5b8c\u5168\u4e0d\u540c\u7684\u5168\u65b0\u5f02\u5e38\u3002\u800c\u76d1\u7763\u5b66\u4e60\u4f1a\u5212\u5206\u5177\u4f53\u79cd\u7c7b\u3002</li> </ol>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_8","title":"\u9009\u62e9\u4f7f\u7528\u7684\u7279\u5f81","text":"<ol> <li>\u901a\u8fc7\u753b\u76f4\u65b9\u56fe\u9009\u62e9\u6bd4\u8f83\u7b26\u5408\u9ad8\u65af\u5206\u5e03\u7684\u7279\u5f81\u3002\u4e0d\u592a\u7b26\u5408\u7684\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u8f6c\u6362\uff08\u4f8b\u5982\u53d6\u5bf9\u6570\uff09\u4f7f\u5176\u7b26\u5408\u9ad8\u65af\u5206\u5e03\u3002</li> <li>\u9009\u62e9\u5f02\u5e38\u6837\u672c\u4e2d\u503c\u76f8\u5bf9\u4e8e\u6b63\u5e38\u6837\u672c\u6982\u7387\u8f83\u4f4e\u7684\u7279\u5f81\u3002\u8fd9\u6837\uff0c\u53ef\u4ee5\u4f7f\u5f02\u5e38\u6837\u672c\u5f97\u5230\u76f8\u5bf9\u8f83\u4f4e\u7684 \\(p(x)\\)\u3002\u53cd\u6620\u5230\u5b9e\u9645\u4e2d\u9009\u62e9\uff0c\u53ef\u4ee5\u662f\u5f02\u5e38\u6837\u672c\u4e2d\u67d0\u7279\u5f81\u503c\u5f02\u5e38\u5730\u5927\u6216\u5f02\u5e38\u5730\u6821\u3002</li> </ol>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week7/#_9","title":"\u591a\u5143\u9ad8\u65af\u5206\u5e03","text":"<p>\u591a\u5143\u9ad8\u65af\u5206\u5e03\uff08Multivariate Gaussian distribution\uff09\u6709\u4e24\u4e2a\u53c2\u6570 \\(\\mu\\) \u548c \\(\\Sigma\\)\uff0c\\(\\mu \\in \\mathbb{R}\\)\uff0c\\(\\Sigma \\in \\mathbb{R}^2\\)\u3002</p> \\[p(x;\\mu, \\Sigma) = \\frac{1}{(2\\pi)^{\\frac{n}{2}}|\\Sigma|^{\\frac{1}{2}}}exp \\Big( -\\frac{1}{2}(x-\\mu)^T \\Sigma^{-1}(x-\\mu)\\Big)\\] <p>\u53c2\u6570\u4f30\u8ba1\uff1a</p> \\[\\mu = \\frac{1}{m}\\sum^m\\_{i=1}x^{(i)}\\] \\[\\Sigma = \\frac{1}{m}\\sum^m\\_{i=1}(x^{(i)}-\\mu)(x^{(i)}-\\mu)^T\\] <p>\u4f7f\u7528\u539f\u5148\u7684\u9ad8\u65af\u5206\u5e03\u7684\u6a21\u578b\u9700\u8981\u521b\u5efa\u65b0\u7684\u7279\u5f81\u6765\u6355\u6349\u5f02\u5e38\u7684\u7279\u5f81\u7ec4\u5408\u503c\u3002\u800c\u591a\u5143\u9ad8\u65af\u5206\u5e03\u80fd\u591f\u81ea\u52a8\u6355\u6349\u4e0d\u540c\u7279\u5f81\u4e4b\u95f4\u7684\u5173\u7cfb\uff1b\u4f46\u539f\u59cb\u6a21\u578b\u7684\u8ba1\u7b97\u6210\u672c\u8f83\u4f4e\uff0c\u53ef\u4ee5\u4f7f\u7528\u6570\u91cf\u5de8\u5927\u7684\u7279\u5f81\u3002\u800c\u591a\u5143\u9ad8\u65af\u5206\u5e03\u9700\u8981\u8ba1\u7b97\u534f\u65b9\u5dee\u77e9\u9635 \\(Sigma\\) \u7684\u9006\u77e9\u9635\uff0c\u56e0\u6b64\u8ba1\u7b97\u6210\u672c\u8f83\u9ad8\u7684\u540c\u65f6\uff0c\u9700\u8981\u4fdd\u8bc1\u6837\u672c\u6570\u91cf\u5927\u4e8e\u7279\u5f81\u6570\u91cf\uff0c\u6765\u4fdd\u8bc1 \\(Sigma\\) \u53ef\u9006\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/","title":"\u7b2c\u516b\u5468","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_2","title":"\u63a8\u8350\u7cfb\u7edf","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_3","title":"\u57fa\u4e8e\u5185\u5bb9\u7684\u63a8\u8350\u7b97\u6cd5","text":"<p>\u4e00\u79cd\u505a\u6cd5\u662f\uff0c\u6211\u4eec\u5c06\u6bcf\u90e8\u7535\u5f71\u4e2d\u7231\u60c5\u6210\u5206\u3001\u52a8\u4f5c\u6210\u5206\u7b49\u8bc4\u503c\u4f5c\u4e3a\u7279\u5f81\uff0c\u800c\u67d0\u7528\u6237\u5bf9\u4e0d\u540c\u7535\u5f71\u7684\u6253\u5206\u4f5c\u4e3a\u6807\u7b7e\u3002\u8fd9\u6837\uff0c\u4e3a\u4e86\u505a\u51fa\u9884\u6d4b\uff0c\u53ef\u4ee5\u770b\u4f5c\u4e00\u4e2a\u7ebf\u6027\u56de\u5f52\u95ee\u9898\uff0c\u5bf9\u4e8e\u7528\u6237 \\(j\\)\uff0c\u9884\u6d4b\u5176\u7ed9\u7535\u5f71 \\(i\\) \u8bc4\u5206\u4e3a \\((\\theta^{(j)})^Tx^{(i)}\\)\u3002</p> <p>\u66f4\u6b63\u5f0f\u7684\u95ee\u9898\u63cf\u8ff0\uff1a</p> <p></p> <p>\u5f53\u5b66\u4e60 \\(\\theta^{(1)}, \\theta^{(2)}, ... ,\\theta^{(n\\_u)}\\) \u65f6\uff0c\u4f18\u5316\u76ee\u6807\u4e3a\uff1a</p> \\[min\\_{\\theta^{(1)},...,\\theta^{(n\\_u)}}\\frac{1}{2}\\sum^{n\\_u}\\_{j=1}\\sum\\_{i:r(i,j)=1}\\big\\( (\\theta^{(j)})^Tx^{(i)} - y^{(i,j)}\\big\\)^2 + \\frac{\\lambda}{2}\\sum^{n\\_u}\\_{j=1}\\sum^n\\_{k=1}(\\theta\\_k^{(j)})^2\\] <p>\u901a\u8fc7\u68af\u5ea6\u4e0b\u964d\u6765\u66f4\u65b0\u53c2\u6570\uff1a</p> \\[\\theta\\_k^{(j)} := \\theta\\_k^{(j)} - \\alpha\\sum\\_{i:r(i,j)=1}((\\theta^{(j)})^Tx^{(i)} - y^{(i,j)})x\\_k^{(i)}  \\\\ \\\\ \\\\ \\\\ \\\\ (k = 0)\\] \\[\\theta\\_k^{(j)} := \\theta\\_k^{(j)} - \\alpha \\big\\( \\sum\\_{i:r(i,j)=1}((\\theta^{(j)})^Tx^{(i)} - y^{(i,j)})x\\_k^{(i)} + \\lambda\\theta\\_k^{(j)} \\big\\)  \\\\ \\\\ \\\\ \\\\ \\\\ (k \\neq 0)\\] <p>\u4e24\u8005\u7684\u533a\u522b\u662f\u56e0\u4e3a\u4e00\u822c\u4e0d\u5c06\u504f\u7f6e\u9879 \\(b\\) \u8ba1\u7b97\u5728\u6b63\u5219\u5316\u9879\u4e2d\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_4","title":"\u534f\u540c\u8fc7\u6ee4\u57fa\u672c\u601d\u60f3","text":"<p>\u5b9e\u9645\u4e0a\uff0c\u83b7\u53d6\u7535\u5f71\u7684\u4f17\u591a\u7279\u5f81\u9700\u8981\u82b1\u8d39\u5f88\u9ad8\u7684\u4eba\u529b\u3002\u6211\u4eec\u53ef\u4ee5\u53cd\u5411\u6765\u601d\u8003\u8fd9\u4e2a\u95ee\u9898\uff0c\u5047\u8bbe\u6211\u4eec\u62e5\u6709\u4e86\u7528\u6237\u7684\u504f\u597d\u5411\u91cf \\(\\theta^{(j)}\\)\uff0c\u4e3a\u4e86\u5b66\u4e60 \\(x^{(i)}\\)\uff0c\u6709\uff1a</p> \\[min\\_{x^{(i)}}\\frac{1}{2}\\sum\\_{j:r(i,j)=1}((\\theta^{(j)})^Tx^{(i)} - y^{(i,j)})^2 + \\frac{\\lambda}{2}\\sum^n\\_{k=1}(x\\_k^{(i)})^2\\] <p>\u5b66\u4e60 \\(x^{(1)}, x^{(2)}, ..., x^{(n\\_u)}\\) \u65f6\uff0c\u5219\u4f18\u5316\u76ee\u6807\u4e3a\uff1a</p> \\[min\\_{x^{(1)}, x^{(2)}, ..., x^{(n\\_m)}}\\frac{1}{2}\\sum^{n\\_m}\\_{i=1}\\sum\\_{j:r(i,j)=1}((\\theta^{(j)})^Tx^{(i)} - y^{(i,j)})^2 + \\frac{\\lambda}{2}\\sum^{n\\_m}\\_{i=1}\\sum^n\\_{k=1}(x\\_k^{(i)})^2\\] <p>\u8fd9\u88ab\u79f0\u4e3a\u534f\u540c\u8fc7\u6ee4\uff08Collaborative filtering\uff09\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_5","title":"\u534f\u540c\u8fc7\u6ee4\u7b97\u6cd5","text":"<p>\u4e3a\u4e86\u66f4\u9ad8\u6548\u5730\u89e3\u5f97 \\(\\theta\\) \u548c \\(x\\)\uff0c\u6211\u4eec\u5c06\u4e24\u4e2a\u4ee3\u4ef7\u51fd\u6570\u5408\u4e3a\u4e00\u4e2a\uff1a</p> \\[J(x^{(1)}, x^{(2)}, ..., x^{(n\\_u)}, \\theta^{(1)}, \\theta^{(2)}, ... ,\\theta^{(n\\_u)}) = \\frac{1}{2}\\sum\\_{(i,j):r(i,j)=1}((\\theta^{(j)})^Tx^{(i)} - y^{(i,j)})^2 + \\frac{\\lambda}{2}\\sum^{n\\_m}\\_{i=1}\\sum^n\\_{k=1}(x\\_k^{(i)})^2+ \\frac{\\lambda}{2}\\sum^{n\\_m}\\_{i=1}\\sum^n\\_{k=1}(x\\_k^{(i)})^2\\] \\[min\\_{x^{(1)}, x^{(2)}, ..., x^{(n\\_u)}, \\theta^{(1)}, \\theta^{(2)}, ... ,\\theta^{(n\\_u)}}J(x^{(1)}, x^{(2)}, ..., x^{(n\\_u)}, \\theta^{(1)}, \\theta^{(2)}, ... ,\\theta^{(n\\_u)})\\] <p>\u603b\u7ed3\u4e00\u4e0b\u534f\u540c\u8fc7\u6ee4\u7b97\u6cd5\uff1a</p> <ol> <li>\u5c06 \\(x^{(1)}, x^{(2)}, ..., x^{(n\\_u)}, \\theta^{(1)}, \\theta^{(2)\\) \u521d\u59cb\u5316\u4e3a\u8f83\u5c0f\u7684\u4efb\u610f\u503c\uff1b</li> <li>\u7528\u68af\u5ea6\u4e0b\u964d\u6765\u6700\u5c0f\u5316 \\(J(x^{(1)}, x^{(2)}, ..., x^{(n\\_u)}, \\theta^{(1)}, \\theta^{(2)}, ... ,\\theta^{(n\\_u)})\\)\uff1b</li> <li>\u7528\u67d0\u4e2a\u7528\u6237\u7684\u53c2\u6570 \\(\\theta\\) \u548c\u67d0\u90e8\u7535\u5f71\u7684\u7279\u5f81 \\(x\\) \u6765\u9884\u6d4b\u4ed6\u4f1a\u7ed9\u8fd9\u90e8\u4ed6\u6ca1\u770b\u8fc7\u7684\u7535\u5f71\u6253\u5206\u4e3a \\(\\theta^Tx\\)\u3002</li> </ol>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_6","title":"\u77e2\u91cf\u5316\uff1a\u4f4e\u79e9\u77e9\u9635\u5206\u89e3","text":"<p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7279\u5f81\u6765\u627e\u5230\u76f8\u5173\u7684\u7535\u5f71\uff0c\u5c3d\u7ba1\u8fd9\u4e9b\u7279\u6027\u53ef\u80fd\u4e0d\u5177\u6709\u53ef\u89e3\u91ca\u6027\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_7","title":"\u5b9e\u65bd\u7ec6\u8282\uff1a\u5747\u503c\u89c4\u8303\u5316","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u65b0\u7528\u6237\u6216\u8005\u6ca1\u6709\u7ed9\u4efb\u4f55\u7535\u5f71\u8bc4\u8fc7\u5206\u7684\u7528\u6237\uff0c\u663e\u7136\u4e0a\u8ff0\u65b9\u6cd5\u53ea\u4f1a\u9884\u6d4b\u8fd9\u540d\u7528\u6237\u4f1a\u7ed9\u6240\u6709\u7535\u5f71\u6253 0 \u5206\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u8981\u5bf9\u6bcf\u90e8\u7535\u5f71\u7684\u8bc4\u5206\u505a\u4e00\u4e2a\u5747\u4e00\u5316\uff1a</p> <p></p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_8","title":"\u5927\u89c4\u6a21\u673a\u5668\u5b66\u4e60","text":""},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_9","title":"\u968f\u673a\u68af\u5ea6\u4e0b\u964d","text":"<p>\u5f53\u6211\u4eec\u6bcf\u6b21\u4f7f\u7528\u5168\u90e8\u7684\u6570\u636e\u6765\u8fdb\u884c\u68af\u5ea6\u4e0b\u964d\u65f6\uff0c\u6709\u516c\u5f0f\uff1a</p> \\[\\theta\\_j :=\\theta\\_j - \\alpha \\frac{1}{m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})x\\_j^{(i)}\\] <p>\u6bcf\u6b21\u6c42\u548c\u7684\u8ba1\u7b97\u91cf\u592a\u5927\uff0c\u8fed\u4ee3\u901f\u5ea6\u6162\uff0c\u8ba1\u7b97\u673a\u7684\u5185\u5b58\u4e5f\u53ef\u80fd\u4e0d\u80fd\u652f\u6301\u6240\u6709\u6570\u636e\u3002\u8fd9\u79cd\u65b9\u6cd5\u88ab\u79f0\u4e3a\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\uff08Batch gradient descent\uff09\u3002</p> <p>\u4e0e\u6b64\u76f8\u5bf9\uff0c\u6709\u968f\u673a\u68af\u5ea6\u4e0b\u964d\uff08Stochastic gradient descent\uff09\uff0c\u5728\u968f\u673a\u6253\u4e71\u6240\u6709\u6570\u636e\u540e\uff0c\u6bcf\u6b21\u53ea\u7528\u4e00\u4e2a\u8bad\u7ec3\u6570\u636e\u6765\u8fdb\u884c\u68af\u5ea6\u4e0b\u964d\u4ee5\u66f4\u65b0\u53c2\u6570\u3002\u8fd9\u6837\uff0c\u6536\u655b\u901f\u5ea6\u66f4\u5feb\u3002\u5c3d\u7ba1\u8fd9\u6837\u505a\u53ef\u80fd\u5f88\u96be\u5b8c\u5168\u6536\u655b\uff0c\u4f46\u53ef\u4ee5\u975e\u5e38\u63a5\u8fd1\u5168\u5c40\u6700\u5c0f\u503c\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#mini-batch","title":"Mini-batch \u68af\u5ea6\u4e0b\u964d","text":"<p>Mini-batch \u68af\u5ea6\u4e0b\u964d\u6bcf\u6b21\u8fed\u4ee3\u4f1a\u4f7f\u7528 b \u4e2a\u6837\u672c\u3002b \u662f\u4e00\u4e2a\u79f0\u4e3a mini-batch \u5927\u5c0f\u7684\u53c2\u6570\uff0c\u901a\u5e38\u9009\u53d6\u8303\u56f4\u4e3a 2 - 100\u3002</p> <p>\u4f7f\u7528 Mini-batch \u68af\u5ea6\u4e0b\u964d\u6709\u65f6\u4f1a\u6bd4\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6709\u66f4\u5feb\u7684\u6536\u655b\u901f\u5ea6\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728\u5411\u91cf\u5316\u540e\uff0c\u53ef\u4ee5\u5408\u7406\u4f7f\u7528\u5e76\u884c\u8fd0\u7b97\u3002</p> <p>\u6bcf\u4e00\u4e2a Mini-batch \u518d\u8ba1\u7b97\u4e00\u6b21 \\(J\\_{train}(\\theta)\\) \u5e76\u548c\u4e4b\u524d\u8fdb\u884c\u6bd4\u5bf9\uff0c\u53ef\u4ee5\u786e\u8ba4\u68af\u5ea6\u4e0b\u964d\u5728\u6b63\u786e\u6267\u884c\uff0c\u540c\u65f6\u53ef\u4ee5\u8003\u8651\u5c06\u5b66\u4e60\u7387\u8c03\u5c0f\u4f7f\u6536\u655b\u66f4\u5145\u5206\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#_10","title":"\u5728\u7ebf\u5b66\u4e60","text":"<p>\u5728\u7ebf\u5b66\u4e60\u673a\u5236\uff08Online learning setting\uff09\u53ef\u4ee5\u652f\u6301\u6709\u5927\u91cf\u7528\u6237\u6d41\u7684\u7f51\u7ad9\u6765\u5feb\u901f\u8c03\u6574\u6a21\u578b\uff0c\u9002\u5e94\u7528\u6237\u7684\u559c\u597d\u53d8\u5316\u3002\u6bcf\u6b21\u5c06\u65b0\u9c9c\u7684\u7528\u6237\u6570\u636e\u7528\u4e8e\u68af\u5ea6\u4e0b\u964d\u4ee5\u8c03\u6574\u53c2\u6570\uff0c\u8fd9\u4e9b\u6570\u636e\u4e0d\u7528\u4fdd\u5b58\uff0c\u7528\u5b8c\u5373\u53ef\u4e22\u5f03\u3002</p>"},{"location":"AI/Andrew-Ng-Machine-Learning-notes/docs/week8/#mapreduce","title":"MapReduce","text":"<p>MapReduce \u6307\u5747\u5206\u8bad\u7ec3\u96c6\uff0c\u5c06\u6bcf\u4e2a\u5b50\u96c6\u5206\u53d1\u7ed9\u4e00\u53f0\u4e3b\u673a\u5e76\u884c\u8ba1\u7b97\uff0c\u6700\u540e\u7ed3\u679c\u6c47\u603b\u5230\u4e00\u53f0\u673a\u5668\uff0c\u4ee5\u52a0\u5feb\u8ba1\u7b97\u901f\u5ea6\u3002\u53ea\u8981\u5b66\u4e60\u7b97\u6cd5\u53ef\u4ee5\u8868\u793a\u6210\u4e00\u7cfb\u5217\u7684\u6c42\u548c\u5f62\u5f0f\uff0c\u6216\u8005\u8868\u793a\u6210\u5728\u8bad\u7ec3\u96c6\u4e0a\u5bf9\u51fd\u6570\u7684\u6c42\u548c\u5f62\u5f0f\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 MapReduce \u6280\u5de7\u3002\u628a\u4e3b\u673a\u6362\u6210\u591a\u6838 CPU \u7684\u6bcf\u4e2a\u6838\u540c\u7406\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/1%20%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/","title":"\u76d1\u7763\u5b66\u4e60\u4e0e\u975e\u76d1\u7763\u5b66\u4e60","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/1%20%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/#_2","title":"\u4ec0\u4e48\u662f\u673a\u5668\u5b66\u4e60","text":"<p>\u5bf9\u4e8e\u673a\u5668\u5b66\u4e60\u7684\u4e24\u79cd\u5b9a\u4e49\uff1a</p> <ul> <li>\"the field of study that gives computers the ability to learn without being explicitly programmed.\"    - Arthur Samuel</li> <li>\"A computer program is said to learn from experience E with respect to some class of tasks T and performance measure P, if its performance at tasks in T, as measured by P, improves with experience E.\"    - Tom Mitchell</li> </ul> <p>\u4efb\u4f55\u673a\u5668\u5b66\u4e60\u95ee\u9898\u53ef\u4ee5\u5f52\u4e8e\u4e24\u5927\u7c7b\u4e4b\u4e00\uff1a - \u76d1\u7763\u5b66\u4e60\uff08Supervised Learning\uff09 - \u65e0\u76d1\u7763\u5b66\u4e60\uff08Unsupervised Learning\uff0c\u6216\u79f0\u975e\u76d1\u7763\u5b66\u4e60\uff09</p> <p>\u5f53\u7136\uff0c\u8fd8\u6709\u534a\u76d1\u7763\u5b66\u4e60\u3001\u5f3a\u5316\u5b66\u4e60\u7b49\uff0c\u5c1a\u4e0d\u5728\u8ba8\u8bba\u8303\u56f4\u5185\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/1%20%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/#_3","title":"\u76d1\u7763\u5b66\u4e60","text":"<p>\u76d1\u7763\u5b66\u4e60\u4f7f\u7528\u6709\u6807\u7b7e\u7684\u6570\u636e\u96c6\uff0c\u5176\u4efb\u52a1\u662f\u5b66\u4e60\u4e00\u4e2a\u6a21\u578b\uff0c\u4f7f\u6a21\u578b\u80fd\u591f\u5bf9\u4efb\u610f\u7ed9\u5b9a\u7684\u8f93\u5165\uff0c\u5bf9\u5176\u76f8\u5e94\u7684\u8f93\u51fa\u505a\u51fa\u4e00\u4e2a\u597d\u7684\u9884\u6d4b\u3002</p> <p>\u76d1\u7763\u5b66\u4e60\u95ee\u9898\u88ab\u5206\u4e3a \u56de\u5f52\uff08Regression\uff09 \u548c \u5206\u7c7b\uff08Classification\uff09 \u95ee\u9898\uff1a</p> <p>\u5206\u7c7b\u95ee\u9898\uff1a\u5c06\u8f93\u5165\u53d8\u91cf\u6620\u5c04\u5230\u79bb\u6563\u7684\u7c7b\u522b\u4e2d\uff0c\u5373\u9884\u6d4b\u4e00\u4e2a\u79bb\u6563\u503c\uff1b</p> <p></p> <p>\u56de\u5f52\u95ee\u9898\uff1a\u5c06\u8f93\u5165\u53d8\u91cf\u6620\u5c04\u5230\u67d0\u4e2a\u8fde\u7eed\u51fd\u6570\uff0c\u5373\u9884\u6d4b\u4e00\u4e2a\u8fde\u7eed\u503c\u3002 ![[AI/\u673a\u5668\u5b66\u4e60/assets/20250601222253.png]]</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/1%20%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/#_4","title":"\u975e\u76d1\u7763\u5b66\u4e60","text":"<p>\u5728\u975e\u76d1\u7763\u5b66\u4e60\u4e2d\uff0c\u4f7f\u7528\u7684\u6570\u636e\u96c6\u6ca1\u6709\u6807\u7b7e\uff0c\u4e0d\u77e5\u9053\u7ed3\u679c\u4f1a\u662f\u4ec0\u4e48\u6837\u5b50\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u805a\u7c7b\u7684\u65b9\u5f0f\u4ece\u6570\u636e\u4e2d\u63d0\u53d6\u4e00\u4e2a\u7279\u6b8a\u7684\u7ed3\u6784\u3002 ![[AI/\u673a\u5668\u5b66\u4e60/assets/20250601222534.png]]</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/","title":"\u7ebf\u6027\u56de\u5f52\u6a21\u578b","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_2","title":"\u5047\u8bbe\u51fd\u6570","text":"<p>\u4e3a\u4e86\u63cf\u8ff0\u76d1\u7763\u5b66\u4e60\u95ee\u9898\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\uff0c\u901a\u8fc7\u4e00\u4e2a\u8bad\u7ec3\u96c6\uff0c\u5b66\u4e60\u4e00\u4e2a\u51fd\u6570 \\(f : X \\rightarrow Y\\)\uff0c\u4f7f\u5f97 \\(f(x)\\) \u5bf9\u4e8e\u5bf9\u5e94\u503c \\(y\\) \u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9884\u6d4b\u5668\u3002\\(f(x)\\) \u88ab\u79f0\u4e3a\u5047\u8bbe\u51fd\u6570\uff08hypothesis function\uff09\u3002</p> <p>\\(x\\) \u8868\u793a\u8f93\u5165\u53c2\u6570 (input feature) \\(y\\) \u8868\u793a\u76ee\u6807\u503c (target) \\(\\hat{y}\\) \u8868\u793a\u9884\u6d4b\u503c (estimated) \\(f\\) \u8868\u793a\u5047\u8bbe\u51fd\u6570 (hypathesis function) \\(\\(f_{w,b}(x)=wx+b\\)\\)</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_3","title":"\u4ee3\u4ef7\u51fd\u6570","text":"<p>\u5982\u4f55\u786e\u5b9a \u6a21\u578b(\u5047\u8bbe\u51fd\u6570) \u4e2d\u7684\u53c2\u6570 \\(w,b\\) \u53d6\u4ec0\u4e48\u503c?  </p> <p>\u4ee3\u4ef7\u51fd\u6570\uff08Cost Function\uff09 \u662f\u7528\u6765<sup>^\u8861\u91cf\u9884\u6d4b\u503c\u4e0e\u5b9e\u9645\u503c\u4e4b\u95f4\u7684\u8bef\u5dee</sup>^\u3002\u5b83\u7684\u76ee\u7684\u662f\u627e\u5230\u4e00\u7ec4\u53c2\u6570\uff0c\u4f7f\u5f97\u9884\u6d4b\u503c\u4e0e\u5b9e\u9645\u503c\u4e4b\u95f4\u7684\u8bef\u5dee\u6700\u5c0f\uff08\u786e\u5b9a\u6700\u4f18\u53c2\u6570\uff09\u3002\u8bc4\u4ef7\u6a21\u578b\u662f\u5426\u62df\u5408\u7684\u51c6\u786e\uff0c\u503c\u8d8a\u5c0f\uff0c\u62df\u5408\u7684\u8d8a\u51c6\u786e\u3002</p> <p>\u7ebf\u6027\u56de\u5f52\u7684\u4ee3\u4ef7\u51fd\u6570\uff1a\u6700\u5c0f\u4e8c\u4e58\u6cd5\u3002\u6240\u8c13\u201c\u4e8c\u4e58\u201d\u5c31\u662f\u5e73\u65b9\u7684\u610f\u601d\u3002</p> <p>\\(\\(J(w,b)=\\frac{1}{2m}\\sum_{i=1}^m\\bigl(f_{w,b}\\bigl(x^{(i)}\\bigr)-y^{(i)}\\bigr)^2\\)\\) \\(J_{w,b}(x^{(i)})\\) \u4e2d\u7684 \\(i\\) \u8868\u793a\u7b2c \\(i\\) \u9879, \u5373\u4e3a \\(\\hat{y}^{(i)}\\) , \u90a3\u4e48 \\(\\hat{y}^{(i)} - y^{(i)}\\) \u8868\u793a\u9884\u6d4b\u503c\u4e0e\u5b9e\u9645\u503c\u7684\u8bef\u5dee, \u5e73\u65b9\u7528\u4e8e\u653e\u5927\u8bef\u5dee,  \u5c06\u6240\u6709\u9879\u7d2f\u52a0\u8d77\u6765\u5f97\u5230\u8bef\u5dee\u548c, \u9664 \\(m\\) \u5f97\u5230\u5e73\u5c40\u8bef\u5dee,  \\(1/2m\\) \u4e2d\u7684 2 \u4ec5\u4ec5\u662f\u4e3a\u4e86\u540e\u7eed\u6c42\u5bfc\u8ba1\u7b97\u7b80\u5316\u8ba1\u7b97\u6b65\u9aa4.</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_4","title":"\u635f\u5931\u51fd\u6570","text":"<p>\u4ee3\u4ef7\u51fd\u6570\u4e2d, \\(\\bigr(f_{w,b}\\bigl(x^{(i)}\\bigr)-y^{(i)}\\bigr)^2\\) \u8fd9\u4e00\u90e8\u5206\u53c8\u53eb \u635f\u5931\u51fd\u6570\uff08Loss Function\uff09 \u7528 \\(L\\) \u8868\u793a \\(\\(L=(f_{w,b}\\bigl(x^{(i)}\\bigr)-y^{(i)}\\bigr)^2\\)\\) \u635f\u5931\u51fd\u6570\u8861\u91cf\u7684\u662f\u5728\u5355\u4e2a\u8bad\u7ec3\u6837\u4f8b\u4e0a\u7684\u8868\u73b0\u5982\u4f55\uff0c\u800c\u4ee3\u4ef7\u51fd\u6570\u8861\u91cf\u4f60\u5728\u6574\u4e2a\u8bad\u7ec3\u96c6\u4e0a\u7684\u8868\u73b0\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_5","title":"\u68af\u5ea6\u4e0b\u964d","text":"<p>\u68af\u5ea6\u4e0b\u964d\uff08Gradient descent \uff09 \u662f\u8ba1\u7b97\u4ee3\u4ef7\u51fd\u6570\u56fe\u4e2d\u627e\u5230\u6700\u5c0f\u503c\u6240\u5728\u7684\u70b9\u3002</p> <ul> <li> <p>\u68af\u5ea6\u4e0b\u964d\u7684\u5de5\u4f5c\u662f\u627e\u5230\u5e0c\u671b\u6700\u5c0f\u5316\u4ee3\u4ef7\u51fd\u6570 \\(J\\) \u7684\u53c2\u6570 \\(w\\) \u548c \\(b\\) </p> </li> <li> <p>\u5982\u4f55\u5feb\u901f\u5230\u8fbe\u6700\u4f18\u70b9\uff1a\u4ece\u5c71\u9876\u4e00\u6b65\u4e00\u6b65\u8d70\u5230\u5c71\u8c37\uff0c\u5148\u5728\u539f\u5730\u8f6c\u4e00\u5708\uff0c\u9009\u6700\u9661\u7684\u5730\u65b9\u8d70\u4e00\u6b65\uff0c\u5728\u8f6c\u4e00\u5708\uff0c\u5728\u9009\u6700\u9661\u7684\u4e00\u6b65\u3002\u8fd9\u4e00\u6b65\u4e00\u6b65\u5c31\u662f\u591a\u4e2a\u68af\u5ea6\u4e0b\u964d\u7684\u6b65\u9aa4\u3002</p> </li> <li> <p>\u4e0d\u540c\u7684 \\(w, b\\) \u503c\u51b3\u5b9a\u4f60\u5728\u90a3\u4e2a\u4f4d\u7f6e</p> </li> </ul> <p>\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5:  $$ \\begin{aligned} w &amp;= w - \\alpha \\frac {d_{J(w,b)}}{d_w}\\  b &amp;= b - \\alpha \\frac {d_{J(w,b)}}{d_b} \\end{aligned} $$</p> <ul> <li>\u68af\u5ea6\u4e0b\u964d\uff08Gradient descent \uff09\u540c\u65f6\u66f4\u65b0 w\uff0cb\u3002\u540c\u65f6\u66f4\u65b0\u76ee\u7684\u5728\u4e8e\uff0c\u80fd\u591f\u786e\u4fdd\u662f\u5728\u539f\u70b9\u5bfb\u627e\u6700\u9661\u65b9\u5411\u3002\u8d4b\u503c\u5c31\u50cf\u8fc8\u51fa\u4e86\u4e00\u6b65\uff0c\u5148\u8fc8\u51fa\u5de6\u811a\u5bfb\u627e\u6700\u9661\u7684\u5730\u65b9\u548c\u5728\u539f\u5730\u5bfb\u627e\u6700\u9661\u7684\u5730\u65b9\u4e0d\u4e00\u6837\u3002</li> </ul> <p></p> <p>\u5de6\u4fa7\u4e3a\u540c\u65f6\u66f4\u65b0 w b\uff0c\u540c\u4e00\u4e2aw\u7528\u5230\u4e24\u4e2a\u516c\u5f0f\u4e0a\uff1b\u53f3\u4fa7\u5373\u4e3a\u9519\u8bef\u66f4\u65b0\uff0c\u4e0d\u662f\u540c\u65f6\u66f4\u65b0\uff0c\u6b64\u5904\u5148\u66f4\u65b0w\uff0c\u5728\u5c06\u66f4\u65b0\u540e\u7684w\u503c\u5e26\u5165b\u516c\u5f0f\u4e2d</p> <ul> <li> <p>\u03b1\u5b66\u4e60\u7387\u51b3\u5b9a\u4f60\u8fc8\u51fa\u7684\u4e00\u6b65\u6709\u591a\u5927</p> </li> <li> <p>\u5bfc\u6570\u51b3\u5b9a\u68af\u5ea6\u4e0b\u964d\u65b9\u5411\uff0c\u5b66\u4e60\u7387\u51b3\u5b9a\u6b65\u957f</p> </li> </ul>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_6","title":"\u7406\u89e3\u68af\u5ea6\u4e0b\u964d","text":"<p>\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u5b66\u4e60\u7387\u548c\u5bfc\u6570\u76f8\u4e58\u65f6\uff0c\u4f1a\u5bfc\u81f4\u53c2\u6570w\u548cb\u7684\u66f4\u65b0\uff1f</p> <p>\\(\\frac {d_{J(w,b)}}{d_w}\\) \u4f1a\u6709\u6b63\u8d1f\uff0c</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_7","title":"\u7b97\u6cd5\u8be6\u89e3","text":"<p>\u68af\u5ea6\u4e0b\u964d\u7684\u5177\u4f53\u7b97\u6cd5\u5b9e\u73b0\u8fc7\u7a0b\u662f\uff1a</p> <ol> <li>\u786e\u5b9a\u6a21\u578b\u7684\u5047\u8bbe\u51fd\u6570\u548c\u635f\u5931\u51fd\u6570</li> <li>\u76f8\u5173\u53c2\u6570\u7684\u521d\u59cb\u5316\uff0c\u5305\u62ec\uff1a\u53c2\u6570\u3001\u7b97\u6cd5\u7ec8\u6b62\u8ddd\u79bb\u548c\u6b65\u957f</li> <li>\u786e\u5b9a\u5f53\u524d\u4f4d\u7f6e\u635f\u5931\u51fd\u6570\u7684\u68af\u5ea6</li> <li>\u7528\u6b65\u957f\u4e58\u4ee5\u68af\u5ea6\uff0c\u5f97\u5230\u5f53\u524d\u4f4d\u7f6e\u4e0b\u964d\u7684\u8ddd\u79bb</li> <li>\u786e\u5b9a\u662f\u5426\u6240\u6709\u53c2\u6570\u68af\u5ea6\u4e0b\u964d\u7684\u8ddd\u79bb\u90fd\u5c0f\u4e8e\u7b97\u6cd5\u7ec8\u6b62\u8ddd\u79bb\uff0c\u5982\u679c\u5c0f\u4e8e\u5219\u7b97\u6cd5\u7ec8\u6b62\uff0c\u5426\u5219\u8fdb\u884c\u4e0b\u4e00\u6b65</li> <li>\u66f4\u65b0\u6240\u6709\u53c2\u6570\uff0c\u66f4\u65b0\u5b8c\u6bd5\u8f6c\u5230\u6b65\u9aa41</li> </ol>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_8","title":"\u7ebf\u6027\u56de\u5f52\u7684\u68af\u5ea6\u4e0b\u964d","text":"\\[\\begin{aligned} w&amp;=w-\\alpha\\frac{1}{m}\\sum_{i=1}^{m}(f_{w,b}\\big(x^{(i)}\\big)-y^{(i)})x^{(i)}\\\\ b &amp;=b-\\alpha\\frac{1}{m}\\sum_{i=1}^{m}(f_{w,b}(x^{(i)})-y^{(i)}) \\end{aligned}\\]"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/","title":"\u591a\u5143\u7ebf\u6027\u56de\u5f52\u6a21\u578b","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_2","title":"\u591a\u5143\u5047\u8bbe\u51fd\u6570","text":"<p>\\(m\\) \uff1a\u8868\u793a\u8bad\u7ec3\u6837\u672c\u7684\u6570\u91cf, \u5373\u6709\u591a\u5c11\u884c \\(n\\) \uff1a\u8868\u793a\u6bcf\u4e2a\u6837\u672c\u7684\u7279\u5f81\u6570\u636e, \u5373\u51e0\u6709\u591a\u5c11\u5217 \\(\\vec{x}^{(i)}\\)\uff1a\u7b2c \\(i\\) \u4e2a\u8bad\u7ec3\u6837\u672c\u7684\u6240\u6709\u7279\u5f81 \\(x_j^{(i)}\\)\uff1a\u7b2c \\(i\\) \u4e2a\u8bad\u7ec3\u6837\u672c\u7684\u7279\u5f81 \\(j\\) \u7684\u503c  </p> <p>\u5219\u591a\u9879\u5f0f\u7684\u5047\u8bbe\u51fd\u6570\u4e3a\uff1a</p> \\[f_{w,b}(x) = w_1 x_1 + w_2 x_2 + w_3 x_3 + ... + w_n x_n + b \\] <p>\u7528\u5411\u91cf\u8868\u793a\u6cd5, \u4e0a\u5f0f\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a</p> \\[f_{\\vec{w},b}(\\vec{x}) =  [w_1 w_2 ... w_n ]  \\left[\\begin{matrix} x_0 \\\\\\ x_1 \\\\\\ ...\\\\\\ x_n \\end{matrix}\\right] + b  = \\vec{w} \\cdot \\vec{x} + b \\]"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_3","title":"\u591a\u5143\u635f\u5931\u51fd\u6570","text":"\\[ J_{\\vec{w},b} = \\frac{1}{2m}\\sum_{i=1}^m\\bigl(f_{\\vec{w},b}(\\vec{x}^{(i)}\\bigr)-y^{(i)}\\bigr)^2\\]"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_4","title":"\u591a\u5143\u7684\u68af\u5ea6\u4e0b\u964d","text":"\\[\\begin{align*} \\text{repeat} \\ \\{ \\\\ \\quad w_j &amp;= w_j - \\alpha \\frac{\\partial}{\\partial w_j} J(\\vec{w}, b) \\\\ \\quad b &amp;= b - \\alpha \\frac{\\partial}{\\partial b} J(\\vec{w}, b) \\\\ \\} \\end{align*}\\] <p>\u5b9a\u4e49\u53d8\u91cf\u8bf4\u660e \u7ed9\u5b9a \\(n\\) \u4e2a\u7279\u5f81\uff08\\(n \\geq 2\\)\uff09\uff0c\u4f7f\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u8fed\u4ee3\u66f4\u65b0\u53c2\u6570\uff1a</p> \\[ \\text{repeat} \\left\\{ \\begin{aligned} w_1 &amp;:= w_1 - \\alpha \\cdot \\frac{1}{m} \\sum_{i=1}^{m} \\left( f_{\\bm{w}, b}(\\bm{x}^{(i)}) - y^{(i)} \\right) x_1^{(i)} \\\\ &amp;\\vdots \\\\ w_n &amp;:= w_n - \\alpha \\cdot \\frac{1}{m} \\sum_{i=1}^{m} \\left( f_{\\bm{w}, b}(\\bm{x}^{(i)}) - y^{(i)} \\right) x_n^{(i)} \\\\ b &amp;:= b - \\alpha \\cdot \\frac{1}{m} \\sum_{i=1}^{m} \\left( f_{\\bm{w}, b}(\\bm{x}^{(i)}) - y^{(i)} \\right) \\end{aligned} \\right. \\] <p>\u5176\u4e2d\uff0c\u6a21\u578b\u7684\u9884\u6d4b\u51fd\u6570\u4e3a\uff1a</p> \\[ f_{\\bm{w}, b}(\\bm{x}) = \\bm{w}^\\top \\bm{x} + b \\] <p>\u6bcf\u6b21\u8fed\u4ee3\u540c\u65f6\u66f4\u65b0\u6240\u6709\u53c2\u6570 \\(w_j \\ (j = 1,\\dots,n)\\) \u548c\u504f\u7f6e \\(b\\)\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#-","title":"\u5b9e\u8df5\u4e2d\u7684\u68af\u5ea6\u4e0b\u964d - \u7279\u5f81\u7f29\u653e","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4f7f\u6bcf\u4e2a\u8f93\u5165\u503c\u5728\u5927\u81f4\u76f8\u540c\u7684\u8303\u56f4\u5185\u6765\u52a0\u901f\u68af\u5ea6\u4e0b\u964d\u3002\u8fd9\u662f\u56e0\u4e3a\u68af\u5ea6\u5728\u5c0f\u8303\u56f4\u5185\u4e0b\u964d\u5feb\uff0c\u800c\u5728\u5927\u8303\u56f4\u5185\u4e0b\u964d\u8f83\u6162\uff1b\u53e6\u5916\uff0c\u5bf9\u4e8e\u4e0d\u5e73\u6574\u7684\u53d8\u91cf\uff0c\u68af\u5ea6\u5728\u4e0b\u964d\u81f3\u6700\u4f18\u503c\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u51fa\u73b0\u964d\u4f4e\u6548\u7387\u7684\u9707\u8361\u3002</p> <p>\u56e0\u6b64\u5c06\u7279\u5f81\u7f29\u653e\uff08feature scaling\uff09\u548c\u5747\u503c\u5f52\u4e00\u5316\uff08mean normalization\uff09\u4e24\u79cd\u6280\u672f\u7ed3\u5408\u4f7f\u7528\u3002\u7279\u5f81\u7f29\u653e\u5c06\u8f93\u5165\u503c\u9664\u4ee5\u8f93\u5165\u53d8\u91cf\u7684\u8303\u56f4\uff08\u5373\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\uff09\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a\u5927\u5c0f\u4e3a 1 \u7684\u65b0\u8303\u56f4\uff1b\u5747\u503c\u5f52\u4e00\u5316\u6d89\u53ca\u4ece\u8f93\u5165\u53d8\u91cf\u7684\u503c\u51cf\u53bb\u8f93\u5165\u53d8\u91cf\u7684\u5e73\u5747\u503c\uff0c\u4ece\u800c\u5bfc\u81f4\u8f93\u5165\u53d8\u91cf\u7684\u65b0\u5e73\u5747\u503c\u4e3a 0\u3002\u516c\u5f0f\u4e3a\uff1a</p> \\[x\\_i := \\frac{x\\_i - \\mu\\_i}{s\\_i}\\] <p>\u5176\u4e2d\uff0c\\(\\mu\\_i\\) \u662f\u7279\u5f81 \\(i\\) \u6240\u6709\u503c\u7684\u5e73\u5747\u503c\uff0c\\(s\\_i\\) \u662f\u7279\u5f81 \\(i\\) \u7684\u8303\u56f4\uff08\u6700\u5927\u503c\u51cf\u6700\u5c0f\u503c\uff09\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#-_1","title":"\u5b9e\u8df5\u4e2d\u7684\u68af\u5ea6\u4e0b\u964d - \u5b66\u4e60\u7387","text":"<p>\u5f53\u5b66\u4e60\u7387 \\(\\alpha\\) \u592a\u5c0f\uff0c\u5219\u68af\u5ea6\u4e0b\u964d\u592a\u6162\uff1b\u800c\u5f53\u5b66\u4e60\u7387 \\(\\alpha\\) \u592a\u5927\uff0c\u5219\u68af\u5ea6\u53ef\u80fd\u4e0d\u4f1a\u4e0b\u964d\uff0c\u4e5f\u56e0\u6b64\u4e0d\u4f1a\u6536\u655b\u3002\u56e0\u6b64\u6709\u65f6\u9700\u8981\u89c2\u5bdf\u5e76\u8fdb\u884c\u8c03\u6574\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_5","title":"\u53c2\u6570\u8ba1\u7b97","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_6","title":"\u6b63\u89c4\u65b9\u7a0b","text":"<p>\u68af\u5ea6\u4e0b\u964d\u662f\u6700\u5c0f\u5316 \\(J\\) \u7684\u4e00\u79cd\u65b9\u6cd5\u3002\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u6b63\u89c4\u65b9\u7a0b\uff08Normal Equation\uff09\uff0c\u5b83\u663e\u5f0f\u5730\u6267\u884c\u6700\u5c0f\u5316\uff0c\u800c\u4e0d\u4f7f\u7528\u8fed\u4ee3\u5f0f\u7684\u7b97\u6cd5\u3002</p> \\[\\theta = (X^TX)^{-1}X^Ty\\] <p>\u6b63\u89c4\u65b9\u7a0b\u65b9\u6cd5\u4e2d\uff0c\u65e0\u9700\u505a\u7279\u5f81\u7f29\u653e\u3002\u4e24\u79cd\u65b9\u6cd5\u7684\u5bf9\u6bd4\u5982\u4e0b\uff1a</p> \u68af\u5ea6\u4e0b\u964d \u6b63\u89c4\u65b9\u7a0b \u9700\u8981\u9009\u62e9\u5b66\u4e60\u7387 \u4e0d\u9700\u8981\u9009\u62e9\u5b66\u4e60\u7387 \u9700\u8981\u591a\u6b21\u8fed\u4ee3 \u4e0d\u9700\u8981\u8fed\u4ee3 \\(O(kn^2)\\) \\(O(n^3)\\)\uff0c\u9700\u8981\u8ba1\u7b97 \\((X^TX)^{-1}\\) \u5f53 n \u8f83\u5927\u65f6\u6548\u679c\u5f88\u597d \u5f53 n \u8f83\u5927\u65f6\u901f\u5ea6\u8f83\u6162 <p>\u4e0d\u8fc7\u6b63\u89c4\u65b9\u7a0b\u65b9\u6cd5\u8981\u6c42 \\(X^TX\\) \u53ef\u9006\u3002\\(X^TX\\) \u4e0d\u53ef\u9006\u7684\u539f\u56e0\u6709\u4e24\u79cd\u53ef\u80fd\uff1a</p> <ol> <li>\u5217\u5411\u91cf\u7ebf\u6027\u76f8\u5173\uff1a\u5373\u8bad\u7ec3\u96c6\u4e2d\u5b58\u5728\u5197\u4f59\u7279\u5f81\uff08\u7279\u5f81\u7ebf\u6027\u4f9d\u8d56\uff09\uff0c\u6b64\u65f6\u5e94\u8be5\u5254\u9664\u6389\u591a\u4f59\u7279\u5f81\uff1b</li> <li>\u7279\u5f81\u8fc7\u591a\uff08\u591a\u4e8e\u6837\u672c\u6570\u91cf\uff09\uff1a\u6b64\u65f6\u5e94\u8be5\u53bb\u6389\u5f71\u54cd\u8f83\u5c0f\u7684\u7279\u5f81\uff0c\u6216\u5f15\u5165\u6b63\u5219\u5316\uff08regularization\uff09\u9879\u3002</li> </ol>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/3%20%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/#_7","title":"\u6b63\u89c4\u65b9\u7a0b\u7684\u63a8\u5bfc\u8fc7\u7a0b","text":"<p>\u628a\u6570\u636e\u96c6\u8868\u793a\u4e3a\u77e9\u9635</p> \\[X = \\left( \\begin{matrix} x\\_{11} &amp; x\\_{12} &amp; \\cdots &amp; x\\_{1d} &amp; 1 \\\\\\ x\\_{21} &amp; x\\_{22} &amp; \\cdots &amp; x\\_{2d} &amp; 1 \\\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots &amp; \\vdots \\\\\\ x\\_{m1} &amp; x\\_{m2} &amp; \\cdots &amp; x\\_{md} &amp; 1 \\\\\\ \\end{matrix} \\right) = \\left( \\begin{matrix} x\\_{1}^T &amp; 1 \\\\\\ x\\_{2}^T &amp; 1 \\\\\\ \\vdots &amp; \\vdots \\\\\\ x\\_{m}^T &amp; 1 \\\\\\ \\end{matrix} \\right)\\] <p>\u540c\u65f6\u5c06\u6807\u7b7e\u4e5f\u5199\u6210\u5411\u91cf\u5f62\u5f0f</p> \\[y = (y\\_1;y\\_2;...;y\\_m)\\] <p>\u7531\u5747\u65b9\u8bef\u5dee\u6700\u5c0f\u5316\uff0c\u53ef\u5f97</p> \\[\\theta^* = arg\\_{\\theta}min(y-X\\theta)^T(y-X\\theta)\\] <p>\u5176\u4e2d\uff0c\\(\\theta^*\\)\u8868\u793a \\(\\theta\\) \u7684\u89e3\u3002</p> <p>\u4ee4</p> \\[E\\_{\\theta} = (y-X\\theta)^T(y-X\\theta)\\] <p>\u5bf9 \\(\\theta\\) \u6c42\u5bfc\u5f97\u5230</p> \\[ \\begin{equation} \\begin{split} \\frac{\\partial E\\_{\\theta}}{\\partial \\theta}&amp;=-X^T(y-X\\theta) + (y^T - \\theta^TX^T) \\cdot (-X)\\\\\\ &amp;=2X^T(X\\theta - y) \\end{split} \\end{equation} \\] <p>\u4ee4\u4e0a\u5f0f\u4e3a 0\uff0c\u6709</p> \\[2X^T(X\\theta - y) = 0\\] \\[X^TX\\theta = X^Ty\\] <p>\u6700\u7ec8\u5f97\u5230</p> \\[\\theta = (X^TX)^{-1}X^Ty\\] <p>\u5f53 \\(X^TX\\) \u4e0d\u4e3a\u6ee1\u79e9\u77e9\u9635\uff08\u4e0d\u53ef\u9006\uff09\u65f6\uff0c\u53ef\u89e3\u51fa\u591a\u4e2a \\(\\theta\\) \u4f7f\u5747\u65b9\u8bef\u5dee\u6700\u5c0f\u5316\u3002\u56e0\u6b64\u5c06\u7531\u5b66\u4e60\u7b97\u6cd5\u7684\u5f52\u7eb3\u504f\u597d\u6765\u51b3\u5b9a\u9009\u62e9\u54ea\u4e00\u4e2a\u89e3\u4f5c\u4e3a\u8f93\u51fa\uff0c\u5e38\u89c1\u7684\u505a\u6cd5\u5c31\u662f\u5f15\u5165\u6b63\u5219\u5316\u9879\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/","title":"4 \u7279\u5f81\u7f29\u653e\u4e0e\u5b66\u4e60\u7387","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_1","title":"\u7279\u5f81\u7f29\u653e","text":"<p>\u623f\u4ef7</p> <p>$$ pr i c e=w_{1}x_{1}+w_{2}x_{2}+b $$ \u5f53\u7279\u5f81\u7684\u53ef\u80fd\u503c\u8f83\u5927\u65f6\uff0c\u5982\u623f\u95f4\u5927\u5c0f(\\(x_{1}\\))\uff0c\u5219\u5176\u53c2\u6570(\\(w_{1}\\))\u7684\u5408\u7406\u503c\u5c06\u76f8\u5bf9\u8f83\u5c0f \u5f53\u7279\u5f81\u7684\u53ef\u80fd\u503c\u8f83\u5c0f\u65f6\uff0c\u5982\u5367\u5ba4\u6570\u91cf(\\(x_{2}\\))\uff0c\u5219\u5176\u53c2\u6570(\\(w_{2}\\))\u7684\u5408\u7406\u503c\u5c06\u76f8\u5bf9\u8f83\u5927</p> <p>\u7279\u5f81\u6563\u70b9\u56fe\u5982\u5de6\u4e0a\u65f6\uff0c\u5176\u4ee3\u4ef7\u51fd\u6570\u5728\u7b49\u9ad8\u7ebf\u56fe\u4e2d\u7684\u6837\u5b50\u5982\u53f3\u4e0a\u6240\u793a\uff0c\u4e3a\u692d\u5706\u5f62\uff0c\u68af\u5ea6\u4e0b\u964d\u53ef\u80fd\u4f1a\u5728\u5b83\u6700\u7ec8\u627e\u5230\u5168\u5c40\u6700\u5c0f\u503c\u4e4b\u524d\u6765\u56de\u5f39\u8df3\u5f88\u957f\u7684\u65f6\u95f4\u3002</p> <p>\u6240\u4ee5\u5f53\u4f60\u6709\u4e0d\u540c\u7684\u7279\u5f81\uff0c\u5b83\u4eec\u7684\u53d6\u503c\u8303\u56f4\u975e\u5e38\u4e0d\u540c\u65f6\uff0c\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4\u68af\u5ea6\u4e0b\u964d\u8fd0\u884c\u7f13\u6162\uff0c\u4f46\u91cd\u65b0\u7f29\u653e\u4e0d\u540c\u7684\u7279\u5f81\uff0c\u4f7f\u5b83\u4eec\u90fd\u5177\u6709\u53ef\u6bd4\u8f83\u7684\u53d6\u503c\u8303\u56f4\uff0c\u8ba9\u68af\u5ea6\u4e0b\u964d\u6cd5\u8fd0\u884c\u5f97\u66f4\u5feb\u3002</p> <p>\u7279\u5f81\u7f29\u653e\uff08Feature Scaling\uff09 \u901a\u8fc7\u4f7f\u6bcf\u4e2a\u8f93\u5165\u503c\u5728\u5927\u81f4\u76f8\u540c\u7684\u8303\u56f4\u5185\u6765\u52a0\u901f\u68af\u5ea6\u4e0b\u964d\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3a\u68af\u5ea6\u5728\u5c0f\u8303\u56f4\u5185\u4e0b\u964d\u5feb\uff0c\u800c\u5728\u5927\u8303\u56f4\u5185\u4e0b\u964d\u8f83\u6162\uff1b\u53e6\u5916\uff0c\u5bf9\u4e8e\u4e0d\u5e73\u6574\u7684\u53d8\u91cf\uff0c\u68af\u5ea6\u5728\u4e0b\u964d\u81f3\u6700\u4f18\u503c\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u51fa\u73b0\u964d\u4f4e\u6548\u7387\u7684\u9707\u8361\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_2","title":"\u5f52\u4e00\u5316","text":"<p>\u5c06 \u7279\u5f81\u7f29\u653e\uff08feature scaling\uff09 \u548c \u5747\u503c\u5f52\u4e00\u5316\uff08mean normalization\uff09 \u4e24\u79cd\u6280\u672f\u7ed3\u5408\u4f7f\u7528\u3002  </p> <p>\u7279\u5f81\u7f29\u653e \u5c06\u8f93\u5165\u503c\u9664\u4ee5\u8f93\u5165\u53d8\u91cf\u7684\u8303\u56f4\uff08\u5373\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\uff09\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a\u5927\u5c0f\u4e3a 1 \u7684\u65b0\u8303\u56f4\u3002  </p> <p>\u5747\u503c\u5f52\u4e00\u5316 \u6d89\u53ca\u4ece\u8f93\u5165\u53d8\u91cf\u7684\u503c\u51cf\u53bb\u8f93\u5165\u53d8\u91cf\u7684\u5e73\u5747\u503c\uff0c\u4ece\u800c\u5bfc\u81f4\u8f93\u5165\u53d8\u91cf\u7684\u65b0\u5e73\u5747\u503c\u4e3a 0\u3002  </p> <p>\u5e73\u5747\u503c\u5f52\u4e00\u5316\u65b9\u6cd5\uff08Mean normalization\uff09</p> <p>\u5982\u679c\u8981\u5c06\u8be5\u503c\u6620\u5c04\u5230[-1,1]\u533a\u95f4\u5185\uff0c\u5219\u9700\u8981\u8ba1\u7b97\u7279\u5f81\u7684\u5e73\u5747\u503c\\(X_{Mean}\\)\uff0c\u4f7f\u7528\u5e73\u5747\u503c\u5f52\u4e00\u5316\u65b9\u6cd5\u516c\u5f0f\u4e3a</p> \\[x=\\frac{X-X_{Mean}}{X_{Max}-X_{Min}}\\] <p>Z-score\u6807\u51c6\u5316\u65b9\u6cd5\uff08Z-score Normalization\uff09</p> <p>\u6807\u51c6\u5316\u6cd5\u9700\u8981\u63d0\u524d\u8ba1\u7b97\u7279\u5f81\u7684\u5747\u503c\\(X_{Mean}\\)\u548c\u6807\u51c6\u5dee\\(\\sigma\\)\uff0c\u6807\u51c6\u5316\u540e\u7684\u53d8\u91cf\u503c\u56f4\u7ed50\u4e0a\u4e0b\u6ce2\u52a8\uff0c\u5927\u4e8e0\u8bf4\u660e\u9ad8\u4e8e\u5e73\u5747\u6c34\u5e73\uff0c\u5c0f\u4e8e0\u8bf4\u660e\u4f4e\u4e8e\u5e73\u5747\u6c34\u5e73\u3002 \\(\\(x={\\frac{X-X_{M e a n}}{\\sigma}}\\)\\)</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_3","title":"\u7279\u5f81\u7f29\u653e\u7684\u8303\u56f4","text":"<p>\u6700\u597d\u662f-1\u52301\uff0c\u5b9e\u5728\u4e0d\u884c\uff0c\u6700\u5927\u662f-3\u52303\uff0c\u6700\u5c0f\u662f-0.3\u52300.3\uff0c\u90fd\u80fd\u63a5\u53d7\u3002</p> <p>\u57fa\u672c\u610f\u601d\u662f\uff0c\u4fdd\u8bc1\u5404\u4e2a\u7279\u5f81\u7684\u6570\u91cf\u7ea7\u4e00\u81f4\uff0c\u901a\u8fc7\u7f29\u653e\u5c3d\u91cf\u8ba9\u6240\u6709\u7279\u5f81\u7684\u53d6\u503c\u5728\u5dee\u4e0d\u591a\u8303\u56f4\uff0c\u5728\u4e00\u4e2a\u6570\u91cf\u7ea7\u4ee5\u5185\u7684\u7279\u5f81\u53ef\u4ee5\u4e0d\u8003\u8651\u7f29\u653e\uff0c\u8fd9\u6837\u5b83\u4eec\u7684\u53d8\u5316\u5bf9\u9884\u6d4b\u503c\u7684\u5f71\u54cd\u90fd\u662f\u63a5\u8fd1\u7684\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_4","title":"\u68c0\u67e5\u68af\u5ea6\u4e0b\u964d\u662f\u5426\u6536\u655b","text":"<p>\u5728\u8fd0\u884c\u68af\u5ea6\u4e0b\u964d\u65f6\uff0c\u600e\u6837\u624d\u80fd\u77e5\u9053\u68af\u5ea6\u4e0b\u964d\u662f\u5426\u6709\u6548\uff0c\u662f\u5426\u6b63\u5728\u627e\u5230\u5168\u5c40\u6700\u5c0f\u503c\u6216\u63a5\u8fd1\u5b83\u7684\u503c\uff1f\u4e3a\u4e86\u80fd\u591f\u9009\u62e9\u66f4\u597d\u7684\u5b66\u4e60\u7387\u3002</p> <p>\u5224\u65ad\u68af\u5ea6\u4e0b\u964d\u8fd0\u884c\u662f\u5426\u826f\u597d\uff0c\u7528\u5b66\u4e60\u66f2\u7ebf\uff08learning curve\uff09\uff0c\u6a2a\u8f74\u4e3a\u68af\u5ea6\u4e0b\u964d\u8fed\u4ee3\u6b21\u6570\uff0c\u7eb5\u8f74\u4e3a\u4ee3\u4ef7\u51fd\u6570J\u3002</p> <p></p> <p>\u5f53\u8fd0\u884c\u826f\u597d\u65f6\uff0c\u5b66\u4e60\u66f2\u7ebf\u662f\u4e00\u76f4\u4e0b\u964d\u7684\uff0c\u76f4\u5230\u53d8\u5e73\uff08\u5373\u6536\u655b\uff09\uff1b\u5f53\u51fa\u73b0\u5148\u4e0b\u964d\u540e\u53c8\u4e0a\u5347\u7684\u60c5\u51b5\u65f6\uff0c\u53ef\u80fd\u662f\u5b66\u4e60\u7387\u9519\u8bef\uff0c\u6216\u8005\u7a0b\u5e8f\u9519\u8bef\u3002\u67e5\u770b\u6b64\u5b66\u4e60\u66f2\u7ebf\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u53d1\u73b0\u68af\u5ea6\u4e0b\u964d\u662f\u5426\u6536\u655b\u3002</p> <p>\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u81ea\u52a8\u6536\u655b\u6d4b\u8bd5\uff08Automatic convergence test\uff09 \u4ee4\\(\\epsilon\\) \u201depsilon\u201c\u7b49\u4e8e\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u6570\uff0c\u5982\u679c\u4ee3\u4ef7J\u5728\u4e00\u6b21\u8fed\u4ee3\u4e2d\u51cf\u5c11\u7684\u5e45\u5ea6\u5c0f\u4e8e\u8fd9\u4e2a\u6570\u5b57epsilon,\u90a3\u4e48\u5f88\u53ef\u80fd\u4f4d\u4e8e\u5b66\u4e60\u66f2\u7ebf\u7684\u5e73\u5766\u90e8\u5206\uff0c\u53ef\u4ee5\u5ba3\u5e03\u6536\u655b\u3002\u4f46\u662f\u9009\u62e9\u6b63\u786e\u7684\u9608\u503cepsilon\u975e\u5e38\u56f0\u96be\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_5","title":"\u5b66\u4e60\u7387","text":"<p> \u5f53\u5b66\u4e60\u7387 \\(\\alpha\\) \u592a\u5c0f\uff0c\u5219\u68af\u5ea6\u4e0b\u964d\u592a\u6162\uff1b\u800c\u5f53\u5b66\u4e60\u7387 \\(\\alpha\\) \u592a\u5927\uff0c\u5219\u68af\u5ea6\u53ef\u80fd\u4e0d\u4f1a\u4e0b\u964d\uff0c\u4e5f\u56e0\u6b64\u4e0d\u4f1a\u6536\u655b\u3002\u56e0\u6b64\u6709\u65f6\u9700\u8981\u89c2\u5bdf\u5e76\u8fdb\u884c\u8c03\u6574\u3002</p> <ul> <li>\u5b66\u4e60\u7387\u8fc7\u5927\uff0c\u8c03\u5c0f\u5b66\u4e60\u7387</li> <li>\u7a0b\u5e8f\u6709\u9519\u8bef\uff0c\u67e5\u770b\u516c\u5f0f\u662f\u5426\u5199\u9519\uff0c\u6bd4\u5982\u628a\u51cf\u53f7\u5199\u6210\u52a0\u53f7</li> </ul> <p>\u5c1d\u8bd5\u4e0d\u540c\u7684\u5b66\u4e60\u7387\u5e76\u753b\u5bf9\u5e94\u7684\u5b66\u4e60\u66f2\u7ebf</p> <p>\u2026\u20260.001\uff0c0.003\uff0c0.01\uff0c0.03\uff0c0.1\uff0c0.3\uff0c1 \u2026\u2026 </p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_6","title":"\u7279\u5f81\u5de5\u7a0b","text":"<p>\u5229\u7528\u9886\u57df\u77e5\u8bc6\u548c\u73b0\u6709\u6570\u636e\uff0c\u521b\u9020\u51fa\u65b0\u7684\u7279\u5f81\uff0c\u7528\u4e8e\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\uff1b\u53ef\u4ee5\u624b\u52a8\uff08manual\uff09\u6216\u81ea\u52a8\uff08automated\uff09\u3002</p> <p>\u5982\u679c\u65b0\u7279\u5f81\u662f\u539f\u59cb\u7279\u5f81\u7684\u6b21\u65b9\uff0c\u90a3\u4e48\u7279\u5f81\u7f29\u653e\u4f1a\u975e\u5e38\u91cd\u8981</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_7","title":"\u53c2\u6570\u8ba1\u7b97","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_8","title":"\u6b63\u89c4\u65b9\u7a0b","text":"<p>\u68af\u5ea6\u4e0b\u964d\u662f\u6700\u5c0f\u5316 \\(J\\) \u7684\u4e00\u79cd\u65b9\u6cd5\u3002\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u6b63\u89c4\u65b9\u7a0b\uff08Normal Equation\uff09\uff0c\u5b83\u663e\u5f0f\u5730\u6267\u884c\u6700\u5c0f\u5316\uff0c\u800c\u4e0d\u4f7f\u7528\u8fed\u4ee3\u5f0f\u7684\u7b97\u6cd5\u3002</p> \\[\\theta = (X^TX)^{-1}X^Ty\\] <p>\u6b63\u89c4\u65b9\u7a0b\u65b9\u6cd5\u4e2d\uff0c\u65e0\u9700\u505a\u7279\u5f81\u7f29\u653e\u3002\u4e24\u79cd\u65b9\u6cd5\u7684\u5bf9\u6bd4\u5982\u4e0b\uff1a</p> \u68af\u5ea6\u4e0b\u964d \u6b63\u89c4\u65b9\u7a0b \u9700\u8981\u9009\u62e9\u5b66\u4e60\u7387 \u4e0d\u9700\u8981\u9009\u62e9\u5b66\u4e60\u7387 \u9700\u8981\u591a\u6b21\u8fed\u4ee3 \u4e0d\u9700\u8981\u8fed\u4ee3 \\(O(kn^2)\\) \\(O(n^3)\\)\uff0c\u9700\u8981\u8ba1\u7b97 \\((X^TX)^{-1}\\) \u5f53 n \u8f83\u5927\u65f6\u6548\u679c\u5f88\u597d \u5f53 n \u8f83\u5927\u65f6\u901f\u5ea6\u8f83\u6162 <p>\u4e0d\u8fc7\u6b63\u89c4\u65b9\u7a0b\u65b9\u6cd5\u8981\u6c42 \\(X^TX\\) \u53ef\u9006\u3002\\(X^TX\\) \u4e0d\u53ef\u9006\u7684\u539f\u56e0\u6709\u4e24\u79cd\u53ef\u80fd\uff1a</p> <ol> <li>\u5217\u5411\u91cf\u7ebf\u6027\u76f8\u5173\uff1a\u5373\u8bad\u7ec3\u96c6\u4e2d\u5b58\u5728\u5197\u4f59\u7279\u5f81\uff08\u7279\u5f81\u7ebf\u6027\u4f9d\u8d56\uff09\uff0c\u6b64\u65f6\u5e94\u8be5\u5254\u9664\u6389\u591a\u4f59\u7279\u5f81\uff1b</li> <li>\u7279\u5f81\u8fc7\u591a\uff08\u591a\u4e8e\u6837\u672c\u6570\u91cf\uff09\uff1a\u6b64\u65f6\u5e94\u8be5\u53bb\u6389\u5f71\u54cd\u8f83\u5c0f\u7684\u7279\u5f81\uff0c\u6216\u5f15\u5165\u6b63\u5219\u5316\uff08regularization\uff09\u9879\u3002</li> </ol>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/4%20%E7%89%B9%E5%BE%81%E7%BC%A9%E6%94%BE%E4%B8%8E%E5%AD%A6%E4%B9%A0%E7%8E%87/#_9","title":"\u6b63\u89c4\u65b9\u7a0b\u7684\u63a8\u5bfc\u8fc7\u7a0b","text":"<p>\u628a\u6570\u636e\u96c6\u8868\u793a\u4e3a\u77e9\u9635</p> \\[X = \\left( \\begin{matrix} x\\_{11} &amp; x\\_{12} &amp; \\cdots &amp; x\\_{1d} &amp; 1 \\\\\\ x\\_{21} &amp; x\\_{22} &amp; \\cdots &amp; x\\_{2d} &amp; 1 \\\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots &amp; \\vdots \\\\\\ x\\_{m1} &amp; x\\_{m2} &amp; \\cdots &amp; x\\_{md} &amp; 1 \\\\\\ \\end{matrix} \\right) = \\left( \\begin{matrix} x\\_{1}^T &amp; 1 \\\\\\ x\\_{2}^T &amp; 1 \\\\\\ \\vdots &amp; \\vdots \\\\\\ x\\_{m}^T &amp; 1 \\\\\\ \\end{matrix} \\right)\\] <p>\u540c\u65f6\u5c06\u6807\u7b7e\u4e5f\u5199\u6210\u5411\u91cf\u5f62\u5f0f</p> \\[y = (y\\_1;y\\_2;...;y\\_m)\\] <p>\u7531\u5747\u65b9\u8bef\u5dee\u6700\u5c0f\u5316\uff0c\u53ef\u5f97</p> \\[\\theta^* = arg\\_{\\theta}min(y-X\\theta)^T(y-X\\theta)\\] <p>\u5176\u4e2d\uff0c\\(\\theta^*\\)\u8868\u793a \\(\\theta\\) \u7684\u89e3\u3002</p> <p>\u4ee4</p> \\[E\\_{\\theta} = (y-X\\theta)^T(y-X\\theta)\\] <p>\u5bf9 \\(\\theta\\) \u6c42\u5bfc\u5f97\u5230</p> \\[ \\begin{equation} \\begin{split} \\frac{\\partial E\\_{\\theta}}{\\partial \\theta}&amp;=-X^T(y-X\\theta) + (y^T - \\theta^TX^T) \\cdot (-X)\\\\\\ &amp;=2X^T(X\\theta - y) \\end{split} \\end{equation} \\] <p>\u4ee4\u4e0a\u5f0f\u4e3a 0\uff0c\u6709</p> \\[2X^T(X\\theta - y) = 0\\] \\[X^TX\\theta = X^Ty\\] <p>\u6700\u7ec8\u5f97\u5230</p> \\[\\theta = (X^TX)^{-1}X^Ty\\] <p>\u5f53 \\(X^TX\\) \u4e0d\u4e3a\u6ee1\u79e9\u77e9\u9635\uff08\u4e0d\u53ef\u9006\uff09\u65f6\uff0c\u53ef\u89e3\u51fa\u591a\u4e2a \\(\\theta\\) \u4f7f\u5747\u65b9\u8bef\u5dee\u6700\u5c0f\u5316\u3002\u56e0\u6b64\u5c06\u7531\u5b66\u4e60\u7b97\u6cd5\u7684\u5f52\u7eb3\u504f\u597d\u6765\u51b3\u5b9a\u9009\u62e9\u54ea\u4e00\u4e2a\u89e3\u4f5c\u4e3a\u8f93\u51fa\uff0c\u5e38\u89c1\u7684\u505a\u6cd5\u5c31\u662f\u5f15\u5165\u6b63\u5219\u5316\u9879\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/","title":"5 \u903b\u8f91\u56de\u5f52","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/#_1","title":"\u5206\u7c7b\u95ee\u9898","text":"<p>\u4e00\u4e2a\u5206\u7c7b\u95ee\u9898\uff1a\u6839\u636e\u80bf\u7624\u7684\u5927\u5c0f\u8fdb\u884c\u9884\u6d4b\uff0c\u53ef\u80fd\u662f\u826f\u6027\u7684\u6216\u6076\u6027\u7684\u3002</p> <p>\u51fd\u6570 \\(f_{w,b}(x)\\) \u6839\u636e\u80bf\u7624\u7684\u5927\u5c0f\u8ba1\u7b97\u51fa\u4e00\u4e2a\u503c\uff0c\u518d\u4e0e\u9608\u503c\u8fdb\u884c\u6bd4\u8f83\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/#_2","title":"\u5047\u8bbe\u51fd\u6570","text":"<p>\u9996\u5148\u4ecb\u7ecdsigmoid\u51fd\u6570\uff0c\u53c8\u79f0logistic\u51fd\u6570 \\(\\(g(z)=\\frac{1}{1+e^{-z}}\\quad0&lt;g(z)&lt;1\\)\\)</p> <p>\u5f53 z \u53d6\u65e0\u9650\u5927\u65f6\uff0c\u51fd\u6570\u8d8b\u5411\u4e8e1\uff1b\u5f53\u53d6\u65e0\u9650\u5c0f\u65f6\uff0c\u8d8b\u5411\u4e8e0\uff1b\u8be5\u51fd\u6570\u8868\u793a\u7ed3\u679c\u8f93\u51fa\u4e3a1\u7684\u6982\u7387\u3002</p> <p>\u4ee4 \\(\\(\\text{Z}=\\overrightarrow{W}\\cdot\\overrightarrow{X}+b\\)\\) \u5219\u903b\u8f91\u56de\u5f52\u7684\u6a21\u578b\u5047\u8bbe\u51fd\u6570\u4e3a \\(\\(f_{\\overrightarrow{W},b}(\\overrightarrow{X}) =g(\\text{Z}) =g(\\vec{W}\\cdot\\vec{X}+b)=\\frac{1}{1+e^{-(\\overrightarrow{W}\\cdot\\overrightarrow{X}+b)}}\\)\\)</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/#_3","title":"\u51b3\u7b56\u8fb9\u754c","text":"<p>sigmoid \u51fd\u6570\u7684\u610f\u4e49\u5c31\u662f\u5c06\u4e0d\u540c\u7684\u6a21\u578b\u5047\u8bbe\u51fd\u6570\u7684\u503c\u533a\u95f4\u9650\u5236\u5728 (0,1) \u7684\u8303\u56f4\u5185\uff0c\u7136\u540e\u53d6\u9608\u503c\u8fdb\u884c\u5206\u7c7b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/#_4","title":"\u4ee3\u4ef7\u51fd\u6570","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/#_5","title":"\u5c06\u7ebf\u6027\u56de\u5f52\u4ee3\u4ef7\u51fd\u6570\u5e94\u7528\u5230\u903b\u8f91\u56de\u5f52","text":"<p>\u9996\u5148\u6211\u4eec\u56de\u987e\u4e00\u4e0b\u4e4b\u524d\u5b66\u8fc7\u7684\u4e00\u4e2a\u4ee3\u4ef7\u51fd\u6570\uff0c\u7ebf\u6027\u56de\u5f52\u7684\u4ee3\u4ef7\u51fd\u6570\uff1a \\(\\(J(w,b)=\\frac{1}{2m}\\sum_{i=1}^m\\bigl(f_{w,b}\\bigl(x^{(i)}\\bigr)-y^{(i)}\\bigr)^2\\)\\) \u5982\u679c\u628a\u6b64\u4ee3\u4ef7\u51fd\u6570\u7528\u5728\u903b\u8f91\u56de\u5f52\u4e2d\u4f1a\u600e\u4e48\u6837\uff1f\u5982\u4e0a\u56fe\u3002</p> <p>\u6211\u4eec\u53d1\u73b0\uff0c\u6b64\u51fd\u6570\u4e0d\u662f\u51f8\u51fd\u6570\uff0c\u5982\u679c\u7528\u68af\u5ea6\u4e0b\u964d\u7684\u8bdd\uff0c\u627e\u5230\u7684\u662f\u5c40\u90e8\u6700\u4f18\uff0c\u4e0d\u662f\u6574\u4f53\u6700\u4f18\u3002</p> <pre><code>\u51f8\u51fd\u6570\u6709\u4e2a\u5f88\u597d\u7684\u6027\u8d28\uff0c\u53ea\u8981\u80fd\u8bc1\u660e\u662f\u51f8\u51fd\u6570\uff0c\u6700\u7ec8\u89e3\u4e00\u5b9a\u662f\u5168\u5c40\u6700\u4f18\u89e3\uff0c\u5373\u5c40\u90e8\u6700\u5c0f\u503c\u662f\u5168\u5c40\u6700\u5c0f\u503c\u3002\n</code></pre> <p>\u56e0\u6b64\uff0c\u5f97\u51fa\u7684\u7ed3\u8bba\u662f\uff0c\u6700\u5c0f\u4e8c\u4e58\u6cd5\u4ee3\u4ef7\u51fd\u6570\u4e0d\u9002\u5408\u903b\u8f91\u56de\u5f52\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/#_6","title":"\u903b\u8f91\u56de\u5f52\u4ee3\u4ef7\u51fd\u6570","text":"<p> \u6211\u4eec\u5b9a\u4e49\u903b\u8f91\u56de\u5f52\u7684\u635f\u5931\u51fd\u6570\u5982\u4e0b\uff08\u540e\u7eed\u8bf4\u660e\u4e3a\u4f55\u5b9a\u4e49\u8be5\u51fd\u6570\uff09\uff1a \\(\\(L\\left(f_{\\overrightarrow{{{w}}},b}\\left(\\overrightarrow{{{x}}}^{(i)}\\right),y^{(i)}\\right)=\\left\\{\\begin{array}{rl}{{-\\log\\left(f_{\\overrightarrow{{{w}}},b}\\left(\\overrightarrow{{{x}}}^{(i)}\\right)\\right)}}&amp;{{\\mathrm{if~}y^{(i)}=1}}\\\\ {{-\\log\\left(1-f_{\\overrightarrow{{{w}}},b}\\left(\\overrightarrow{{{x}}}^{(i)}\\right)\\right)}}&amp;{{\\mathrm{if~}y^{(i)}=0}}\\end{array}\\right.\\)\\)</p> <p>\u56e0\u6b64\uff0c\u903b\u8f91\u56de\u5f52\u7684\u4ee3\u4ef7\u51fd\u6570\u5982\u4e0b\uff1a</p> \\[J(\\overrightarrow{W},b)=\\frac{1}{m}\\sum_{i=1}^{m}L\\bigl(f_{\\overrightarrow{W},b}\\bigl(\\overrightarrow{x}^{(i)}\\bigr),y^{(i)}\\bigr)\\] <p></p> <p>\u7531\u4e8ey\u7684\u53d6\u503c\u53ea\u80fd\u662f0\u62161\uff0c\u6240\u4ee5\u7b80\u5316\u540e\u7684\u635f\u5931\u51fd\u6570\u53ca\u4ee3\u4ef7\u51fd\u6570\u5982\u4e0b\uff1a \\(\\(\\begin{aligned} &amp;L{\\big(}f_{\\overrightarrow{{{w}}},b}{\\big(}\\overrightarrow{{{x}}}^{(i)}{\\big)},y^{(i)}{\\big)}=-y^{(i)}\\mathrm{log}{\\Big(}f_{\\overrightarrow{{{w}}},b}{\\big(}\\overrightarrow{{{x}}}^{(i)}{\\big)}{\\Big)}-{\\big(}1-y^{(i)}\\big){\\mathrm{log}}{\\Big(}1-f_{\\overrightarrow{{{w}}},b}{\\big(}\\overrightarrow{{{x}}}^{(i)}{\\big)}{\\Big)} \\\\ &amp;J(\\overrightarrow{w},b)=\\frac{1}{m}\\sum_{i=1}^{m}[L\\big(f_{\\overrightarrow{w},b}\\big(\\overrightarrow{x}^{(i)}\\big),y^{(i)}\\big)] \\end{aligned}\\)\\)</p> <p>\u4e3a\u4ec0\u4e48\u9009\u62e9\u8fd9\u4e2a\u51fd\u6570\u4f5c\u4e3a\u4ee3\u4ef7\u51fd\u6570\u5462\uff1f</p> <p>\u8fd9\u4e2a\u7279\u5b9a\u7684\u4ee3\u4ef7\u51fd\u6570\u662f\u4f7f\u7528\u79f0\u4e3a\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u7684\u7edf\u8ba1\u539f\u7406\u4ece\u7edf\u8ba1\u4e2d\u63a8\u5bfc\u51fa\u6765\u7684\u3002\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u662f\u4e00\u79cd\u5e38\u7528\u7684\u53c2\u6570\u4f30\u8ba1\u65b9\u6cd5\uff0c\u5b83\u57fa\u4e8e\u6837\u672c\u6570\u636e\uff0c\u901a\u8fc7\u5bfb\u627e\u6700\u6709\u53ef\u80fd\u4ea7\u751f\u8fd9\u4e9b\u6570\u636e\u7684\u53c2\u6570\u503c\uff0c\u6765\u786e\u5b9a\u6a21\u578b\u7684\u53c2\u6570\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/5%20%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/#_7","title":"\u68af\u5ea6\u4e0b\u964d","text":"\\[\\begin{aligned} w_{j}&amp;=w_{j}-\\alpha\\frac{1}{m}\\sum_{i=1}^{m}(f_{w,b}\\big(x^{(i)}\\big)-y^{(i)})x_{j}^{(i)}\\\\ b &amp;=b-\\alpha\\frac{1}{m}\\sum_{i=1}^{m}(f_{w,b}(x^{(i)})-y^{(i)}) \\end{aligned}\\] <p>\u6ce8\u610f\uff1a\u5f62\u5f0f\u4e0e\u7ebf\u6027\u56de\u5f52\u4e00\u6837\uff0c\u4f46\u662f\\(f_{w,b}(x)\\) \u8868\u8fbe\u5f0f\u4e0d\u540c\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/6%20%E8%BF%87%E6%8B%9F%E5%90%88%E4%B8%8E%E6%AD%A3%E5%88%99%E5%8C%96/","title":"6 \u8fc7\u62df\u5408\u4e0e\u6b63\u5219\u5316","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/6%20%E8%BF%87%E6%8B%9F%E5%90%88%E4%B8%8E%E6%AD%A3%E5%88%99%E5%8C%96/#_1","title":"\u6b20\u62df\u5408\u4e0e\u8fc7\u62df\u5408","text":"<p>\u5de6\u56fe: \u6b20\u62df\u5408\uff08underfit) \u6216 \u9ad8\u504f\u5dee\uff08High-bias\uff09\uff0c\u5373\u5bf9\u4e8e\u5f53\u524d\u6570\u636e\u96c6\u7684\u62df\u5408\u7a0b\u5ea6\u4e0d\u591f\uff0c\u6b20\u62df\u5408\u7684\u7279\u5f81\u662f\u5728\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u4e0a\u7684\u51c6\u786e\u7387\u90fd\u4e0d\u597d\uff1b</p> <p>\u4e2d\u56fe\uff0c\u62df\u5408\u521a\u597d\u7684\u72b6\u6001\uff0c\u5177\u6709\u6cdb\u5316\u80fd\u529b\uff1b</p> <p>\u53f3\u56fe\uff0c\u8fc7\u62df\u5408\uff08overfit\uff09\uff0c\u4e5f\u79f0\u4f5c\u9ad8\u65b9\u5dee\uff08High variance\uff09\uff0c\u8fc7\u62df\u5408\u5bf9\u4e8e\u5f53\u524d\u8bad\u7ec3\u6570\u636e\u62df\u5408\u5f97\u592a\u597d\u4e86\uff0c\u4ee5\u81f3\u4e8e\u6a21\u578b\u53ea\u5728\u5f53\u524d\u7684\u8bad\u7ec3\u96c6\u4e0a\u8868\u73b0\u5f88\u597d\uff0c\u800c\u5728\u5176\u4ed6\u6570\u636e\u96c6\u4e0a\u8868\u73b0\u5c31\u4e0d\u662f\u90a3\u4e48\u597d\uff0c\u6240\u4ee5\u8fc7\u62df\u5408\u7684\u7279\u5f81\u662f\u5728\u8bad\u7ec3\u96c6\u4e0a\u51c6\u786e\u7387\u5f88\u9ad8\u800c\u5728\u6d4b\u8bd5\u96c6\u4e0a\u8868\u73b0\u4e00\u822c\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/6%20%E8%BF%87%E6%8B%9F%E5%90%88%E4%B8%8E%E6%AD%A3%E5%88%99%E5%8C%96/#_2","title":"\u89e3\u51b3\u8fc7\u62df\u5408","text":"<p>\u65b9\u6cd5\uff1a     1. \u6536\u96c6\u66f4\u591a\u7684\u6570\u636e     2. \u51cf\u5c11\u7279\u5f81\u6570\u91cf     3. \u6b63\u5219\u5316</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/6%20%E8%BF%87%E6%8B%9F%E5%90%88%E4%B8%8E%E6%AD%A3%E5%88%99%E5%8C%96/#_3","title":"\u7279\u5f81\u5de5\u7a0b","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/6%20%E8%BF%87%E6%8B%9F%E5%90%88%E4%B8%8E%E6%AD%A3%E5%88%99%E5%8C%96/#_4","title":"\u6b63\u5219\u5316","text":"<p>\u5c06\u6b63\u5219\u5316\u5e94\u7528\u5728\u4ee3\u4ef7\u51fd\u6570\u4e2d\uff0c\u4f7f\u7528\u6b63\u5219\u5316\u6765\u51cf\u5c0f\u53c2\u6570\u7684\u5927\u5c0f</p> <p></p> <p>\u5982\u4f55\u7406\u89e3\u4e0a\u5f0f\uff1f</p> <p>\u56e0\u4e3a\\(w_3^2\\)\u548c\\(w_4^2\\)\u524d\u7684\u7cfb\u6570\u975e\u5e38\u5927\uff0c\u8981\u60f3\u4f7f\u6574\u4e2a\u5f0f\u5b50\u6700\u5c0f\u5316\uff0c\u53ea\u80fd\u4ee4\\(w_3^2\\)\u548c\\(w_4^2\\) \u975e\u5e38\u5c0f\uff08\\(\\approx0\\)\uff09\uff0c\\(w_3\\)\u548c\\(w_4\\) \u5373\u4e3a\u60e9\u7f5a\u9879\u3002 \u5bf9\u4e8e\u53f3\u56fe\u8fc7\u62df\u5408\u72b6\u6001\uff0c\u6b64\u65f6\\(w_3\\)\u548c\\(w_4\\) \u6743\u91cd\u8870\u51cf\uff0c\u8fd9\u6837\u5c31\u4f1a\u964d\u4f4e\u9ad8\u9636\u9879\u5bf9\u6574\u4e2a\u51fd\u6570\u7684\u5f71\u54cd\uff0c\u4f7f\u5f97\u62df\u5408\u7684\u51fd\u6570\u53d8\u5f97\u6bd4\u8f83\u5e73\u6ed1\u3002</p> <p>\u5982\u679c\u6709\u5f88\u591a\u7684\u7279\u5f81\uff0c\u90a3\u5982\u4f55\u9009\u62e9\u60e9\u7f5a\u9879\u5462\uff1f</p> <p>\u5982\u679c\u6709\u975e\u5e38\u591a\u7684\u7279\u5f81\uff0c\u4f60\u53ef\u80fd\u4e0d\u77e5\u9053\u90a3\u4e9b\u7279\u5f81\u91cd\u8981\uff0c\u4ee5\u53ca\u9700\u8981\u60e9\u7f5a\u7684\u7279\u5f81\u3002\u901a\u5e38\u5b9e\u73b0\u6b63\u5219\u5316\u7684\u65b9\u5f0f\u662f\u60e9\u7f5a\u6240\u6709\u7684\u7279\u5f81\u3002\uff08\u4e3a\u4ec0\u4e48\u60e9\u7f5a\u6709\u5229\u7279\u5f81\uff09</p> <p>\u5bf9\u4e8e\u9884\u6d4b\u623f\u4ef7\u5b9e\u4f8b\uff0c\u6bd4\u5982\u6709100\u4e2a\u7279\u5f81\uff0c\u6b63\u5219\u5316\u540e\u7684\u4ee3\u4ef7\u51fd\u6570\u5982\u4e0b\uff1a \\(\\(J(\\vec{w},b)=\\frac{1}{2m}\\sum_{i=1}^{m}(f_{\\vec{w},b}\\big(\\vec{x}^{(i)}\\big)-y^{(i)}\\big)^2+\\frac{\\lambda}{2m}\\sum_{j=1}^{n}\\omega_{j}^2\\)\\) \u628a\u4e0a\u5f0f\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u5de6\u8fb9\u90e8\u5206\u5373\u4e3a\u539f\u59cb\u7684\u4ee3\u4ef7\u51fd\u6570\uff0c\u53f3\u8fb9\u90e8\u5206\u4e3a\u6b63\u5219\u5316\u9879\u3002\u03bb\u4e3a\u8d85\u53c2\u6570\uff0c\u901a\u5e38\u4f1a\u53d6\u4e00\u4e2a\u8f83\u5927\u7684\u6570\u3002</p> <p>\u4e3a\u4e86\u6700\u5c0f\u5316\u6574\u4e2a\u4ee3\u4ef7\u51fd\u6570\uff0c\u5f53\u03bb\u662f\u56fa\u5b9a\u7684\uff0c\u90a3\u4e48\u5c31\u8981\u51cf\u5c0f\\(w_1\\)\u5230\\(w_n\\)\u7684\u503c\u3002\u52a0\u5165\u6b63\u5219\u9879\u540e\uff0c\\(w_1\\)\u5230\\(w_n\\)\u5747\u4f1a\u51cf\u5c0f\uff0c\u4e5f\u5c31\u662f\u4f7f\u5f97\u6743\u91cd\u8870\u51cf\uff0c\u8fd9\u6837\u5c31\u4f1a\u964d\u4f4e\u9ad8\u9636\u9879\u5bf9\u4e8e\u6574\u4e2a\u51fd\u6570\u7684\u5f71\u54cd\uff0c\u4f7f\u5f97\u4f30\u8ba1\u51fd\u6570\u53d8\u5f97\u6bd4\u8f83\u5e73\u6ed1\u3002</p> <p>\u6211\u4eec\u8fd8\u5c06\u03bb\u9664\u4ee52m,\u8fd9\u6837\u8fd9\u91cc\u7684\u7b2c\u4e00\u9879\u548c\u7b2c\u4e8c\u9879\u90fd\u57282m\u4e0a\u6309\u6bd4\u4f8b\u7f29\u653e\uff0c\u4f1a\u66f4\u6539\u5bb9\u6613\u9009\u62e9\u03bb\u7684\u503c\u3002\u6309\u7167\u60ef\u4f8b\u6211\u4eec\u4e0d\u4f1a\u56e0\u4e3a\u53c2\u6570b\u592a\u5927\u800c\u60e9\u7f5a\u5b83\uff0c\u5728\u5b9e\u8df5\u4e2d\uff0c\u505a\u4e0e\u4e0d\u505a\u51e0\u4e4e\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\u3002</p> <p>\u56e0\u6b64\uff0c\u603b\u7ed3\u4e00\u4e0b\u8fd9\u4e2a\u4fee\u6539\u540e\u7684\u4ee3\u4ef7\u51fd\u6570\uff1a </p> <p>\u6211\u4eec\u60f3\u8981\u6700\u5c0f\u5316[\u539f\u59cb\u4ee3\u4ef7\u51fd\u6570\u5373\u5747\u65b9\u8bef\u5dee\u9879+\u7b2c\u4e8c\u9879\u5373\u6b63\u5219\u5316\u9879]</p> <p>\u03bb\u00a0: \u53ef\u4ee5\u63a7\u5236\u4e24\u4e2a\u4e0d\u540c\u76ee\u6807\u4e4b\u95f4\u7684\u53d6\u820d\u3002</p> <p>\u6b64\u51fd\u6570\u6709\u4e24\u4e2a\u76ee\u7684\uff0c\u76ee\u7684\u4e00\uff1a\u6700\u5c0f\u5316\u9884\u6d4b\u503c\u4e0e\u771f\u5b9e\u503c\u4e4b\u95f4\u7684\u8bef\u5dee\uff0c\u66f4\u597d\u7684\u62df\u5408\u8bad\u7ec3\u96c6\u3002\u76ee\u7684\u4e8c\uff1a\u8bd5\u56fe\u51cf\u5c0f\\(w_j\\) \uff0c\u4f7f\u5047\u8bbe\u51fd\u6570\u53d8\u5f97\u201c\u7b80\u5355\u201d\uff0c\u9632\u6b62\u8fc7\u5ea6\u62df\u5408\u3002</p> <p>\u4e24\u8005\u76f8\u4e92\u5e73\u8861\uff0c\u4ece\u800c\u8fbe\u5230\u4e00\u79cd\u76f8\u4e92\u5236\u7ea6\u7684\u5173\u7cfb\uff0c\u6700\u7ec8\u627e\u5230\u4e00\u4e2a\u5e73\u8861\u70b9\uff0c\u4ece\u800c\u66f4\u597d\u5730\u62df\u5408\u8bad\u7ec3\u96c6\u5e76\u4e14\u5177\u6709\u826f\u597d\u7684\u6cdb\u5316\u80fd\u529b\u3002</p> <p>\u4e0d\u540c\u7684\u03bb\u503c\u6709\u4ec0\u4e48\u5f71\u54cd\uff1f</p> <p>\u4f7f\u7528\u7ebf\u6027\u56de\u5f52\u7684\u623f\u4ef7\u9884\u6d4b\u793a\u4f8b\u3002</p> <p>\u5982\u679c\uff0c\u03bb\u7b49\u4e8e0\uff0c\u90a3\u4e48\u6b63\u5219\u9879\u7b49\u4e8e\u96f6\uff0c\u5373\u6839\u672c\u6ca1\u6709\u4f7f\u7528\u6b63\u5219\u5316\uff0c\u4f1a\u8fc7\u5ea6\u62df\u5408\u3002 </p> <p>\u5f53\u03bb\u975e\u5e38\u975e\u5e38\u5927\u65f6\uff0c\u4f8b\u5982\\(\\lambda=10^{10}\\),\u90a3\u4e48\\(w_1\u5230w_4\\)\u51e0\u4e4e\u7b49\u4e8e0\uff0c\u53ea\u5269\u5e38\u6570b\u9879\uff0c\u6b64\u65f6\u4f1a\u6b20\u62df\u5408\u3002</p> <p></p> <p>\u7ebf\u6027\u56de\u5f52\u7684\u6b63\u5219\u5316\u65b9\u6cd5\uff1a </p> \\[\\begin{aligned} &amp; w_{j}=w_{j}-\\alpha\\left[\\frac{1}{m}\\sum_{i=1}^{m}\\left[(f_{\\vec{{{w}}},b}\\big(\\vec{x}^{(i)}\\big)-y^{(i)}\\big)x_{j}^{(i)}\\right]+\\frac{\\lambda}{m}w_{j}\\right]  \\\\ &amp;b=b-\\alpha\\frac{1}{m}\\sum_{i=1}^m(f_{\\vec{\\mathbf{w}},b}(\\vec{\\mathbf{x}}^{(i)})-y^{(i)}) \\end{aligned}\\] <p>\u903b\u8f91\u56de\u5f52\u7684\u6b63\u5219\u5316\u65b9\u6cd5\uff1a </p> <p>\u53c2\u8003\u8d44\u6599\uff1a\u5434\u6069\u8fbe\u673a\u5668\u5b66\u4e60\u7b14\u8bb0\uff08\u4e09\uff09\u6b63\u5219\u5316</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/","title":"\u7b2c\u4e8c\u5468","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#_2","title":"\u591a\u5143\u7ebf\u6027\u56de\u5f52","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#_3","title":"\u5f15\u5165\u591a\u5143","text":"<p>\u5f15\u5165\u4ee5\u4e0b\u7b26\u53f7\uff1a</p> <ul> <li>\\(x\\_j^{(i)}\\)\uff1a\u7b2c \\(i\\) \u4e2a\u8bad\u7ec3\u6837\u672c\u7684\u7279\u5f81 \\(j\\) \u7684\u503c</li> <li>\\(x^{(i)}\\)\uff1a\u7b2c \\(i\\) \u4e2a\u8bad\u7ec3\u6837\u672c\u7684\u6240\u6709\u7279\u5f81</li> <li>\\(m\\)\uff1a\u8bad\u7ec3\u6837\u672c\u7684\u6570\u91cf</li> <li>\\(n\\)\uff1a\u7279\u5f81\u7684\u6570\u91cf</li> </ul> <p>\u5219\u6709\u591a\u9879\u5f0f\u7684\u5047\u8bbe\u51fd\u6570\uff1a</p> \\[h\\_{\\theta}(x) = \\theta\\_0 + \\theta\\_1 x\\_1 + \\theta\\_2 x\\_2 + \\theta\\_3 x\\_3 + ... + \\theta\\_n x\\_n\\] <p>\u4ee4 \\(x\\_0 = 1\\)\uff0c\u5219\u4e0a\u5f0f\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a</p> \\[h\\_{\\theta}(x) = \\big[\\theta\\_0\\ \\ \\theta\\_1\\ \\ ... \\ \\ \\theta\\_n\\big] \\left[\\begin{matrix}x\\_0\\\\\\ x\\_1\\\\\\ ...\\\\\\ x\\_n\\end{matrix}\\right]= \\theta^Tx\\]"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#_4","title":"\u5bf9\u4e8e\u591a\u5143\u7684\u68af\u5ea6\u4e0b\u964d","text":"<p>\u540c\u7406\uff0c\u6709</p> \\[\\theta\\_j := \\theta\\_j - \\alpha\\frac{\\partial}{\\partial \\theta\\_j}J(\\theta)\\] <p>\u5f53 n &gt;= 1 \u65f6\uff0c\u6709</p> \\[\\frac{\\partial}{\\partial \\theta\\_j}J(\\theta) = \\frac{1}{m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})x^{(i)}\\_j\\] <p>\u6ce8\u610f\u4ee5\u4e0a\u7b49\u5f0f\u7531</p> \\[J(\\theta) = \\frac{1}{2m}\\sum^m\\_{i=1}(h\\_{\\theta}(x^{(i)}) - y^{(i)})^2\\] <p>\u63a8\u5f97\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#-","title":"\u5b9e\u8df5\u4e2d\u7684\u68af\u5ea6\u4e0b\u964d - \u7279\u5f81\u7f29\u653e","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4f7f\u6bcf\u4e2a\u8f93\u5165\u503c\u5728\u5927\u81f4\u76f8\u540c\u7684\u8303\u56f4\u5185\u6765\u52a0\u901f\u68af\u5ea6\u4e0b\u964d\u3002\u8fd9\u662f\u56e0\u4e3a\u68af\u5ea6\u5728\u5c0f\u8303\u56f4\u5185\u4e0b\u964d\u5feb\uff0c\u800c\u5728\u5927\u8303\u56f4\u5185\u4e0b\u964d\u8f83\u6162\uff1b\u53e6\u5916\uff0c\u5bf9\u4e8e\u4e0d\u5e73\u6574\u7684\u53d8\u91cf\uff0c\u68af\u5ea6\u5728\u4e0b\u964d\u81f3\u6700\u4f18\u503c\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u51fa\u73b0\u964d\u4f4e\u6548\u7387\u7684\u9707\u8361\u3002</p> <p>\u56e0\u6b64\u5c06\u7279\u5f81\u7f29\u653e\uff08feature scaling\uff09\u548c\u5747\u503c\u5f52\u4e00\u5316\uff08mean normalization\uff09\u4e24\u79cd\u6280\u672f\u7ed3\u5408\u4f7f\u7528\u3002\u7279\u5f81\u7f29\u653e\u5c06\u8f93\u5165\u503c\u9664\u4ee5\u8f93\u5165\u53d8\u91cf\u7684\u8303\u56f4\uff08\u5373\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\uff09\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a\u5927\u5c0f\u4e3a 1 \u7684\u65b0\u8303\u56f4\uff1b\u5747\u503c\u5f52\u4e00\u5316\u6d89\u53ca\u4ece\u8f93\u5165\u53d8\u91cf\u7684\u503c\u51cf\u53bb\u8f93\u5165\u53d8\u91cf\u7684\u5e73\u5747\u503c\uff0c\u4ece\u800c\u5bfc\u81f4\u8f93\u5165\u53d8\u91cf\u7684\u65b0\u5e73\u5747\u503c\u4e3a 0\u3002\u516c\u5f0f\u4e3a\uff1a</p> \\[x\\_i := \\frac{x\\_i - \\mu\\_i}{s\\_i}\\] <p>\u5176\u4e2d\uff0c\\(\\mu\\_i\\) \u662f\u7279\u5f81 \\(i\\) \u6240\u6709\u503c\u7684\u5e73\u5747\u503c\uff0c\\(s\\_i\\) \u662f\u7279\u5f81 \\(i\\) \u7684\u8303\u56f4\uff08\u6700\u5927\u503c\u51cf\u6700\u5c0f\u503c\uff09\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#-_1","title":"\u5b9e\u8df5\u4e2d\u7684\u68af\u5ea6\u4e0b\u964d - \u5b66\u4e60\u7387","text":"<p>\u5f53\u5b66\u4e60\u7387 \\(\\alpha\\) \u592a\u5c0f\uff0c\u5219\u68af\u5ea6\u4e0b\u964d\u592a\u6162\uff1b\u800c\u5f53\u5b66\u4e60\u7387 \\(\\alpha\\) \u592a\u5927\uff0c\u5219\u68af\u5ea6\u53ef\u80fd\u4e0d\u4f1a\u4e0b\u964d\uff0c\u4e5f\u56e0\u6b64\u4e0d\u4f1a\u6536\u655b\u3002\u56e0\u6b64\u6709\u65f6\u9700\u8981\u89c2\u5bdf\u5e76\u8fdb\u884c\u8c03\u6574\u3002</p>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#_5","title":"\u53c2\u6570\u8ba1\u7b97","text":""},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#_6","title":"\u6b63\u89c4\u65b9\u7a0b","text":"<p>\u68af\u5ea6\u4e0b\u964d\u662f\u6700\u5c0f\u5316 \\(J\\) \u7684\u4e00\u79cd\u65b9\u6cd5\u3002\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u6b63\u89c4\u65b9\u7a0b\uff08Normal Equation\uff09\uff0c\u5b83\u663e\u5f0f\u5730\u6267\u884c\u6700\u5c0f\u5316\uff0c\u800c\u4e0d\u4f7f\u7528\u8fed\u4ee3\u5f0f\u7684\u7b97\u6cd5\u3002</p> \\[\\theta = (X^TX)^{-1}X^Ty\\] <p>\u6b63\u89c4\u65b9\u7a0b\u65b9\u6cd5\u4e2d\uff0c\u65e0\u9700\u505a\u7279\u5f81\u7f29\u653e\u3002\u4e24\u79cd\u65b9\u6cd5\u7684\u5bf9\u6bd4\u5982\u4e0b\uff1a</p> \u68af\u5ea6\u4e0b\u964d \u6b63\u89c4\u65b9\u7a0b \u9700\u8981\u9009\u62e9\u5b66\u4e60\u7387 \u4e0d\u9700\u8981\u9009\u62e9\u5b66\u4e60\u7387 \u9700\u8981\u591a\u6b21\u8fed\u4ee3 \u4e0d\u9700\u8981\u8fed\u4ee3 \\(O(kn^2)\\) \\(O(n^3)\\)\uff0c\u9700\u8981\u8ba1\u7b97 \\((X^TX)^{-1}\\) \u5f53 n \u8f83\u5927\u65f6\u6548\u679c\u5f88\u597d \u5f53 n \u8f83\u5927\u65f6\u901f\u5ea6\u8f83\u6162 <p>\u4e0d\u8fc7\u6b63\u89c4\u65b9\u7a0b\u65b9\u6cd5\u8981\u6c42 \\(X^TX\\) \u53ef\u9006\u3002\\(X^TX\\) \u4e0d\u53ef\u9006\u7684\u539f\u56e0\u6709\u4e24\u79cd\u53ef\u80fd\uff1a</p> <ol> <li>\u5217\u5411\u91cf\u7ebf\u6027\u76f8\u5173\uff1a\u5373\u8bad\u7ec3\u96c6\u4e2d\u5b58\u5728\u5197\u4f59\u7279\u5f81\uff08\u7279\u5f81\u7ebf\u6027\u4f9d\u8d56\uff09\uff0c\u6b64\u65f6\u5e94\u8be5\u5254\u9664\u6389\u591a\u4f59\u7279\u5f81\uff1b</li> <li>\u7279\u5f81\u8fc7\u591a\uff08\u591a\u4e8e\u6837\u672c\u6570\u91cf\uff09\uff1a\u6b64\u65f6\u5e94\u8be5\u53bb\u6389\u5f71\u54cd\u8f83\u5c0f\u7684\u7279\u5f81\uff0c\u6216\u5f15\u5165\u6b63\u5219\u5316\uff08regularization\uff09\u9879\u3002</li> </ol>"},{"location":"AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/assets/week2/#_7","title":"\u6b63\u89c4\u65b9\u7a0b\u7684\u63a8\u5bfc\u8fc7\u7a0b","text":"<p>\u628a\u6570\u636e\u96c6\u8868\u793a\u4e3a\u77e9\u9635</p> \\[X = \\left( \\begin{matrix} x\\_{11} &amp; x\\_{12} &amp; \\cdots &amp; x\\_{1d} &amp; 1 \\\\\\ x\\_{21} &amp; x\\_{22} &amp; \\cdots &amp; x\\_{2d} &amp; 1 \\\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots &amp; \\vdots \\\\\\ x\\_{m1} &amp; x\\_{m2} &amp; \\cdots &amp; x\\_{md} &amp; 1 \\\\\\ \\end{matrix} \\right) = \\left( \\begin{matrix} x\\_{1}^T &amp; 1 \\\\\\ x\\_{2}^T &amp; 1 \\\\\\ \\vdots &amp; \\vdots \\\\\\ x\\_{m}^T &amp; 1 \\\\\\ \\end{matrix} \\right)\\] <p>\u540c\u65f6\u5c06\u6807\u7b7e\u4e5f\u5199\u6210\u5411\u91cf\u5f62\u5f0f</p> \\[y = (y\\_1;y\\_2;...;y\\_m)\\] <p>\u7531\u5747\u65b9\u8bef\u5dee\u6700\u5c0f\u5316\uff0c\u53ef\u5f97</p> \\[\\theta^* = arg\\_{\\theta}min(y-X\\theta)^T(y-X\\theta)\\] <p>\u5176\u4e2d\uff0c\\(\\theta^*\\)\u8868\u793a \\(\\theta\\) \u7684\u89e3\u3002</p> <p>\u4ee4</p> \\[E\\_{\\theta} = (y-X\\theta)^T(y-X\\theta)\\] <p>\u5bf9 \\(\\theta\\) \u6c42\u5bfc\u5f97\u5230</p> \\[ \\begin{equation} \\begin{split} \\frac{\\partial E\\_{\\theta}}{\\partial \\theta}&amp;=-X^T(y-X\\theta) + (y^T - \\theta^TX^T) \\cdot (-X)\\\\\\ &amp;=2X^T(X\\theta - y) \\end{split} \\end{equation} \\] <p>\u4ee4\u4e0a\u5f0f\u4e3a 0\uff0c\u6709</p> \\[2X^T(X\\theta - y) = 0\\] \\[X^TX\\theta = X^Ty\\] <p>\u6700\u7ec8\u5f97\u5230</p> \\[\\theta = (X^TX)^{-1}X^Ty\\] <p>\u5f53 \\(X^TX\\) \u4e0d\u4e3a\u6ee1\u79e9\u77e9\u9635\uff08\u4e0d\u53ef\u9006\uff09\u65f6\uff0c\u53ef\u89e3\u51fa\u591a\u4e2a \\(\\theta\\) \u4f7f\u5747\u65b9\u8bef\u5dee\u6700\u5c0f\u5316\u3002\u56e0\u6b64\u5c06\u7531\u5b66\u4e60\u7b97\u6cd5\u7684\u5f52\u7eb3\u504f\u597d\u6765\u51b3\u5b9a\u9009\u62e9\u54ea\u4e00\u4e2a\u89e3\u4f5c\u4e3a\u8f93\u51fa\uff0c\u5e38\u89c1\u7684\u505a\u6cd5\u5c31\u662f\u5f15\u5165\u6b63\u5219\u5316\u9879\u3002</p>"},{"location":"GIS/GIS%E7%9F%A5%E8%AF%86%E7%82%B9/","title":"GIS\u77e5\u8bc6\u70b9","text":"<p>GIS\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\u53ef\u4ee5\u7406\u89e3\u4e3a\u57fa\u4e8e\u5730\u56fe\u6765\u505a\u7ba1\u7406\u548c\u5206\u6790\u7684\u8f6f\u4ef6\u7cfb\u7edf\uff0cGIS\u7684\u5730\u56fe\u6570\u636e\u662f\u5e26\u6709\u4f4d\u7f6e\u3001\u5750\u6807\u7b49\u4fe1\u606f\u7684\u6570\u636e\u5e93\u3002 GIS\u6280\u672f\u5206\u4e24\u5c42\uff0c\u4e00\u662f\u540e\u53f0\u670d\u52a1\uff08\u4f8b\u5982Geoserver\u3001arcgis server\uff09\uff0c\u63d0\u4f9b\u5730\u56fe\u6570\u636e\u8bbf\u95ee\u670d\u52a1\uff0c\u652f\u6301\u4e0d\u540c\u7ec4\u7ec7\u63d0\u4f9b\u7684\u591a\u79cd\u6570\u636e\u89c4\u8303\u5305\u62ecWMS\u3001WMTS\u3001WCS\u3001TMS\u7b49\u3002\u4e8c\u662f\u6e32\u67d3\u670d\u52a1\uff0c\u5373\u5c06\u540e\u53f0\u6570\u636e\u8fdb\u884c\u53ef\u89c6\u5316\u3002 </p> <p>GIS\u6570\u636e\u7c7b\u578b\u5305\u62ec\u56fe\u7247\u3001\u77e2\u91cf\u548c\u6805\u683c\u6570\u636e\uff0c\u5176\u4e2d\uff1a</p> <ul> <li> <p>\u77e2\u91cf\u6570\u636e\u662f\u7531\u70b9\u3001\u7ebf\u3001\u591a\u8fb9\u5f62\uff08\u533a\u57df\uff09\u7ec4\u6210\uff0c\u7528\u7a7a\u95f4\u5750\u6807x\uff0cy\u8868\u793a\u5730\u7406\u5b9e\u4f53\u7684\u4f4d\u7f6e\u548c\u5f62\u72b6\u7684\u6570\u636e\uff0c\u4f8b\u5982\u77e2\u91cf\u70b9\u8868\u793a\u7ecf\u7eac\u5ea6\uff0c\u6cb3\u6d41\u3001\u9053\u8def\u3001\u7ba1\u7ebf\u663e\u793a\u4e3a\u77e2\u91cf\u7ebf\uff0c\u591a\u8fb9\u5f62\u5219\u8868\u793a\u533a\u57df\u8fb9\u754c\uff0c\u5982\u5efa\u7b51\u5360\u5730\u9762\u79ef\uff1b</p> </li> <li> <p>\u6805\u683c\u7f51\u683c\u683c\u5f0f\u662f\u536b\u661f\u6570\u636e\u548c\u5176\u4ed6\u9065\u611f\u6570\u636e\u7684\u6570\u636e\u6a21\u578b\uff0c\u6805\u683c\u6570\u636e\u7531\u50cf\u7d20\uff08\u4e5f\u79f0\u4e3a\u7f51\u683c\u5355\u5143\uff09\u6765\u8868\u793a\u8fde\u7eed\u7684\u7a7a\u95f4\u5b9e\u4f53\uff0c\u4f8b\u5982\u6d77\u62d4\u8868\u9762\u3001\u6e29\u5ea6\u53d8\u5316\u3001\u94c5\u6c61\u67d3\u7b49\u3002\u6805\u683c\u4e2d\u7684\u6bcf\u4e2a\u50cf\u7d20\u90fd\u6709\u81ea\u5df1\u7684\u503c\u6216\u7c7b\u522b\u3002</p> </li> </ul> <p>3D\u5f15\u64ce\u662f\u4e00\u5957\u5e2e\u52a9\u5f00\u53d1\u8005\u53bb\u6784\u5efa\u548c\u5448\u73b03D\u56fe\u5f62\u548c\u573a\u666f\u7684\u5de5\u5177\u30023D\u5f15\u64ce\u901a\u5e38\u5305\u62ec\u4e00\u4e2a\u56fe\u5f62\u6e32\u67d3\u5668\uff0c\u7528\u4e8e\u521b\u5efa\u903c\u771f\u76843D\u56fe\u50cf\uff0c\u4ee5\u53ca\u4e00\u4e2a\u7269\u7406\u5f15\u64ce\uff0c\u7528\u4e8e\u5904\u7406\u7269\u7406\u4ea4\u4e92\u548c\u78b0\u649e\u68c0\u6d4b\u3002\u5b83\u4eec\u8fd8\u53ef\u4ee5\u63d0\u4f9b\u811a\u672c\u8bed\u8a00\u548c\u573a\u666f\u7f16\u8f91\u5668\uff0c\u7528\u4e8e\u5bfc\u5165\u548c\u7ba1\u7406\u6e38\u620f\u8d44\u6e90\u5e76\u4e14\u521b\u5efa\u548c\u7f16\u8f91\u573a\u666f\u3001\u5bf9\u8c61\u3001\u52a8\u753b\u548c\u7279\u6548\u7b49\u30023D\u5f15\u64ce\u4f5c\u4e3a\u4e00\u79cd\u5e95\u5c42\u5de5\u5177\u652f\u6301\u7740\u9ad8\u5c42\u7684\u56fe\u5f62\u8f6f\u4ef6\u7684\u5f00\u53d1\uff0c\u53ef\u4ee5\u5c06\u5176\u7406\u89e3\u4e3a\u5bf9\u4e00\u4e9b\u56fe\u5f62\u901a\u7528\u7b97\u6cd5\u3001\u5e95\u5c42\u5de5\u5177\u548c3D API\u7684\u5c01\u88c5\u3001\u5229\u7528\u5b83\u53ef\u4ee5\u8ba9\u7528\u6237\u4e13\u6ce8\u4e8e\u6e38\u620f\u903b\u8f91\u7684\u5b9e\u73b0\u3002 ![[assets/Pasted image 20250602094934.png]]\u65e9\u671f\u7684\u5de5\u4e1a\u53ef\u89c6\u5316\u8f6f\u4ef6\u57fa\u672c\u90fd\u4f7f\u7528OpenGL\u81ea\u5df1\u5f00\u53d1\uff0cOpenGL\u548cDirectX\u662f\u56fe\u5f62API\uff08\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\uff09\uff0c\u5b83\u4e0eGPU\u6765\u5bf9\u63a5\uff0c\u662f\u901a\u5f80CPU\u548cGPU\u7684\u6865\u6881\uff1b \u540e\u6765\u51fa\u73b0\u7684\u5f00\u6e90\u663e\u793a\u5f15\u64ce\uff0c\u5e38\u7528\u7684\u6bd4\u5982Osg\uff0cOgre\uff0cVTK\u7b49\uff0c\u5e95\u5c42\u4e5f\u662f\u8c03\u7528OpenGL\uff1b \u8001\u724c\u56fe\u5f62\u5382\u5bb6\u4e00\u822c\u4f7f\u7528Ogre\u3001Osg\u3001OsgEarth\u3001VTK\u3001Unigine\u7b49\u56fe\u5f62\u5f15\u64ce\uff0c\u67b6\u6784\u76f8\u5bf9\u8f83\u8001\uff0c\u53ea\u652f\u6301C/S\u5e94\u7528\uff0c\u5927\u90e8\u5206\u6b64\u7c7b\u516c\u53f8\u8fd8\u4f1a\u518d\u5f00\u8f9f\u4e00\u6761B/S\u5f15\u64ce\u7ebf\u3002</p> <ul> <li> <p>OGRE\u591a\u7528\u4e8e\u6e38\u620f\u5f00\u53d1\u3001OSG\u591a\u7528\u4e8e\u4eff\u771f\u5f00\u53d1\uff0c\u5728GIS\u9886\u57df\u5e94\u7528\u8f83\u591a\uff0c\u4f46\u573a\u666f\u7ec6\u8282\u76f8\u8f83\u6e38\u620f\u5f15\u64ce\u6e32\u67d3\u6548\u679c\u8f83\u5dee\uff1b</p> </li> <li> <p>OSGEarth\u662f\u5728OSG\u7684\u57fa\u7840\u4e0a\u5c01\u88c5\u7684\u4e09\u7ef4GIS\u5f15\u64ce\uff0c\u80fd\u591f\u52a0\u8f7d\u5e38\u89c1\u7684GIS\u6570\u636e\u4ee5\u53caOGC\u670d\u52a1\uff0cOSGEarth\u666e\u53ca\u7a0b\u5ea6\u975e\u5e38\u9ad8\uff0c\u56fd\u5185\u4e5f\u6709\u5f88\u591a\u516c\u53f8\u57fa\u4e8eOSGEarth\uff0c\u63a8\u51fa\u6240\u8c13\u7684\u81ea\u7814\u5f15\u64ce\uff0c\u4f8b\u5982\uff1a\u6052\u6b4c\u79d1\u6280-FreeXGIS Desktop \u6218\u573a\u6001\u52bf\u4eff\u771f\u7cfb\u7edf\u3002</p> </li> </ul> <p>\u6e38\u620f\u548c\u4eff\u771f\u8de8\u754c\u7684\u5382\u5bb6\u4e00\u822c\u4f7f\u7528UE4\u3001Unity\u7b49\u6e38\u620f\u5f15\u64ce\uff0c\u5982\u4eca\u7684\u6e38\u620f\u5f15\u64ce\u5df2\u7ecf\u53d1\u5c55\u4e3a\u4e00\u5957\u7531\u591a\u4e2a\u5b50\u7cfb\u7edf\u5171\u540c\u6784\u6210\u7684\u590d\u6742\u7cfb\u7edf\uff0c\u4ece\u5efa\u6a21\u3001\u52a8\u753b\u5230\u5149\u5f71\u3001\u7c92\u5b50\u7279\u6548\uff0c\u4ece\u7269\u7406\u7cfb\u7edf\u3001\u78b0\u649e\u68c0\u6d4b\u5230\u6587\u4ef6\u7ba1\u7406\u3001\u7f51\u7edc\u7279\u6027\uff0c\u8fd8\u6709\u4e13\u4e1a\u7684\u7f16\u8f91\u5de5\u5177\u548c\u63d2\u4ef6\uff0c\u51e0\u4e4e\u6db5\u76d6\u4e86\u6e38\u620f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u7684\u6240\u6709\u91cd\u8981\u73af\u8282\u3002</p> <ul> <li> <p>UE4\u662f3A\u6e38\u620f\u9996\u9009\uff0c\u4fa7\u91cd\u4e8ePC\u7aef\uff0c\u64c5\u957f\u5c0f\u573a\u666f\u7684\u7ec6\u8282\u6548\u679c\u5c55\u793a\uff0c\u5f15\u64ce\u5927\u90e8\u5206\u4e1a\u52a1\u5c42\u4ee3\u7801\u5f00\u6e90\uff0c\u652f\u6301\u84dd\u56fe\u3001C++\uff0c\u5b66\u4e60\u6210\u672c\u8f83\u9ad8\u3002\u4ee3\u8868\u4f5c\u6709\u817e\u8baf\u7684\u201c\u548c\u5e73\u7cbe\u82f1\u201d\uff0cUE4\u76ee\u524d\u53ef\u901a\u8fc7Cesium for Unreal\u3001SupeMap Scense SDKs \u7ec4\u4ef6\uff0c\u5b9e\u73b0\u4e86\u6e38\u620f\u5f15\u64ce\u548cGIS\u5f15\u64ce\u7684\u8de8\u754c\u878d\u5408\uff1b</p> </li> <li> <p>Unity\u4fa7\u91cd\u8f7b\u91cf\u7ea7\u7684\u5f00\u53d1\uff0c\u504f\u5411\u4e8e\u79fb\u52a8\u7aef\uff0cUnity\u652f\u6301C#\uff0c\u5b66\u4e60\u6210\u672c\u66f4\u4f4e\uff0c\u4f46\u5176\u5f15\u64ce\u6e90\u7801\u4e0d\u516c\u5f00\uff0c\u542f\u52a8\u9700\u8981\u8054\u7f51\u3002\u4ee3\u8868\u4f5c\u6709\u201c\u738b\u8005\u8363\u8000\u201d\u3001\u201c\u7eaa\u5ff5\u7891\u8c37\u201d\u3001\u201c\u539f\u795e\u201d\uff0cUnity\u4e5f\u53ef\u901a\u8fc7\u63d2\u4ef6\u7684\u5f62\u5f0f\u5b9e\u73b0\u4e0eGIS\u7684\u878d\u5408\u3002</p> </li> <li> <p>\u4e3a\u4e86\u63d0\u9ad8GIS\u6570\u636e\u7684\u771f\u5b9e\u8fd8\u539f\u5ea6\uff0c\u76ee\u524dGIS\u4e0e\u6e38\u620f\u5f15\u64ce\u7684\u7ed3\u5408\u4e5f\u662f\u4e00\u5927\u6280\u672f\u878d\u5408\u8d8b\u52bf\u3002\u4e09\u7ef4GIS\u901a\u8fc7\u878d\u5408\u6e38\u620f\u5f15\u64ce\uff0c\u5b9e\u73b0\u5b9e\u65f6\u52a0\u8f7d\u771f\u5b9e\u5730\u7406\u5750\u6807\u7cfb\u4e0b\u7684\u5730\u5f62\u3001\u5f71\u50cf\u3001\u503e\u659c\u6444\u5f71\u6a21\u578b\u3001\u6fc0\u5149\u70b9\u4e91\u3001\u624b\u5de5\u5efa\u6a21\u6570\u636e\u3001BIM\u6a21\u578b\u7b49\u591a\u6e90\u5f02\u6784\u7684\u5730\u7406\u7a7a\u95f4\u6570\u636e\uff0c\u6253\u901a\u4e09\u7ef4GIS\u4e0e\u6e38\u620f\u5f15\u64ce\u7684\u8de8\u754c\u878d\u5408\uff0c\u5c06\u5177\u6709\u771f\u5b9e\u5730\u7406\u5750\u6807\u7684\u5ba4\u5916\u5730\u7406\u73af\u5883\u3001\u5ba4\u5185BIM\u6a21\u578b\u3001\u5b9e\u65f6\u7684IoT\uff08\u7269\u8054\u7f51\uff09\u6570\u636e\u7b49\u878d\u5408\u5230\u6e38\u620f\u5f15\u64ce\uff0c\u6784\u5efa\u4e00\u4e2a\u5ba4\u5185/\u5ba4\u5916\u4e00\u4f53\u5316\u3001\u5b8f\u89c2/\u5fae\u89c2\u4e00\u4f53\u5316\u3001\u7a7a\u5929/\u5730\u8868/\u5730\u4e0b\u4e00\u4f53\u5316\u7684.</p> </li> <li> <p>B\u7aef\u56fe\u5f62\u5382\u5bb6\u4e00\u822c\u4f7f\u7528Cesium.js\uff0cThree.js\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e9b\u8001\u724c\u56fe\u5f62\u5382\u5bb6\u652f\u6301B/S\u6280\u672f\u7684\u5f15\u64ce\u9009\u62e9\uff0cGIS\u7684\u5f00\u53d1\u548c\u5e94\u7528\u672a\u6765\u591a\u503e\u5411\u4e8eWebGIS\u3002</p> </li> <li> <p>WebGIS\u662fWeb\u6280\u672f\u5e94\u7528\u4e8eGIS\u5f00\u53d1\u7684\u4ea7\u7269\uff0cGIS\u901a\u8fc7Web\u529f\u80fd\u5f97\u4ee5\u6269\u5c55\uff0c\u65e2\u5177\u6709\u7a7a\u95f4\u6570\u636e\u7684\u68c0\u7d22\u3001\u67e5\u8be2\u3001\u7f16\u8f91\u3001\u5206\u6790\u3001\u8f93\u51fa\u7b49\u4f20\u7edfGIS\u529f\u80fd\uff0c\u540c\u65f6\u80fd\u5b9e\u73b0\u6570\u636e\u7684\u534f\u4f5c\u548c\u5171\u4eab\u3002</p> </li> <li> <p>Web\u524d\u7aef\u53ef\u89c6\u5316\u6280\u672f\uff08\u5f53\u4e0bWebGL\u3001\u672a\u6765WebGPU\uff09\u4e0eGIS\u6280\u672f\u6df1\u5ea6\u878d\u5408\uff0c\u6d8c\u73b0\u51fa\u4e00\u6279\u4f18\u79c0\u7684\u5f00\u6e90\u6846\u67b6\uff1aa. \u5904\u7406\u4e8c\u7ef4GIS\u7684openlayers\u3001leaflet\uff1bb. \u5904\u7406\u4e8c\u4e09\u7ef4\u4e00\u4f53\u5316\u7684cesium\u3001MapBox\uff1b\u5e38\u89c1\u7684\u7684WebGIS\u5e94\u7528\u573a\u666f\u5305\u62ec\uff1aa. \u653f\u52a1Charts\u53ef\u89c6\u5316\u56fe\u8868\uff1bb. LBS Location Based Service\u5730\u56fe\u5f00\u653e\u5e73\u53f0\uff08\u9ad8\u5fb7\u3001\u8c37\u6b4c\u3001\u767e\u5ea6\u3001\u5929\u5730\u56fe\uff09\uff1bc. \u5546\u4e1aAPI\uff08\u4e2d\u5730\u6570\u7801\u7684MapGIS Client for JS\u3001\u8d85\u56fe\u7684IClient\u3001ESRI\uff09\u3002</p> </li> </ul> <p>DEM\uff08Digital Elevation Model\uff0c\u6570\u5b57\u9ad8\u7a0b\u6a21\u578b\uff09\u662f\u4e00\u4e2a\u5e7f\u4e49\u7684\u672f\u8bed\uff0c\u8868\u793a\u5730\u7403\u8868\u9762\u9ad8\u5ea6\u4fe1\u606f\u7684\u6570\u5b57\u6a21\u578b\uff0c\u5b83\u901a\u8fc7\u7f51\u683c\u5f62\u5f0f\u5b58\u50a8\u5730\u5f62\u7684\u9ad8\u7a0b\u6570\u636e\uff0c\u53ef\u4ee5\u5305\u62ec DSM \u6216 DTM \u7684\u5185\u5bb9\u3002\u56e0\u6b64\uff0cDEM \u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u603b\u62ec\u6027\u7684\u540d\u79f0\uff0c\u7528\u6765\u63cf\u8ff0\u4efb\u4f55\u5173\u4e8e\u5730\u8868\u9ad8\u5ea6\u7684\u6570\u5b57\u6a21\u578b\u3002 DSM\uff08Digital Surface Model\uff0c\u6570\u5b57\u8868\u9762\u6a21\u578b\uff09\u662f\u4e00\u79cd\u66f4\u4e3a\u5177\u4f53\u7684\u9ad8\u7a0b\u6a21\u578b\uff0c\u8868\u793a\u7684\u662f\u5305\u62ec\u5730\u8868\u6240\u6709\u7269\u4f53\u7684\u9ad8\u5ea6\u3002\u8fd9\u610f\u5473\u7740\u5b83\u4e0d\u4ec5\u8003\u8651\u88f8\u9732\u5730\u9762\u7684\u9ad8\u5ea6\uff0c\u8fd8\u5305\u62ec\u5730\u8868\u4e0a\u8986\u76d6\u7684\u7269\u4f53\uff0c\u5982\u5efa\u7b51\u7269\u3001\u6811\u6728\u3001\u690d\u88ab\u7b49\u3002 DTM\uff08Digital Terrain Model\uff0c\u6570\u5b57\u5730\u5f62\u6a21\u578b\uff09\u662f\u53e6\u4e00\u79cd\u5177\u4f53\u7684\u9ad8\u7a0b\u6a21\u578b\uff0c\u4e13\u6ce8\u4e8e\u8868\u793a\u88f8\u9732\u7684\u5730\u5f62\u9ad8\u7a0b\uff0c\u53bb\u9664\u4e86\u5730\u8868\u4e0a\u7684\u6240\u6709\u7269\u4f53\uff08\u5982\u6811\u6728\u3001\u5efa\u7b51\u7269\uff09\u3002\u5b83\u53ea\u53cd\u6620\u5730\u7403\u8868\u9762\u7684\u771f\u5b9e\u5730\u5f62\u8d77\u4f0f\uff0c\u56e0\u6b64\u5b83\u66f4\u52a0\u51c6\u786e\u5730\u63cf\u7ed8\u4e86\u5730\u9762\u672c\u8eab\u7684\u5f62\u6001\u3002 DOM\uff08Digital Orthophoto Map\uff0c\u6570\u5b57\u6b63\u5c04\u5f71\u50cf\u56fe\uff09\u662f\u6307\u7ecf\u8fc7\u51e0\u4f55\u6821\u6b63\u5904\u7406\u7684\u822a\u7a7a\u5f71\u50cf\u6216\u536b\u661f\u5f71\u50cf\u3002\u8fd9\u79cd\u5f71\u50cf\u53bb\u9664\u4e86\u7531\u4e8e\u5730\u5f62\u8d77\u4f0f\u3001\u4f20\u611f\u5668\u503e\u659c\u548c\u900f\u89c6\u9020\u6210\u7684\u51e0\u4f55\u7578\u53d8\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u50cf\u7d20\u90fd\u4e0e\u5730\u9762\u7684\u5b9e\u9645\u4f4d\u7f6e\u7cbe\u786e\u5bf9\u5e94\uff0c\u7c7b\u4f3c\u5730\u56fe\u4e0a\u7684\u6295\u5f71\u3002\u56e0\u6b64\uff0cDOM \u53ef\u4ee5\u7528\u4f5c\u7cbe\u786e\u7684\u6d4b\u7ed8\u57fa\u7840\uff0c\u5e76\u4e0e\u5176\u4ed6\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\uff08GIS\uff09\u6570\u636e\u8fdb\u884c\u914d\u5408\u4f7f\u7528\u3002 TDOM\uff08True Digital Orthophoto Map\uff0c\u771f\u5f69\u8272\u6570\u5b57\u6b63\u5c04\u5f71\u50cf\u56fe\uff09\u662f\u6307\u4ee5\u81ea\u7136\u989c\u8272\u4e3a\u57fa\u7840\u7684\u6570\u5b57\u6b63\u5c04\u5f71\u50cf\u56fe\u3002\u5b83\u662f\u4e00\u79cd\u7ecf\u8fc7\u51e0\u4f55\u6821\u6b63\u7684\u5f71\u50cf\u6570\u636e\uff0c\u5176\u4e2d\u5f71\u50cf\u7684\u8272\u5f69\u771f\u5b9e\u53cd\u6620\u4e86\u5730\u8868\u7684\u81ea\u7136\u989c\u8272\uff0c\u6ca1\u6709\u7ecf\u8fc7\u4eba\u4e3a\u8272\u5f69\u8c03\u6574\u6216\u589e\u5f3a\u3002TDOM \u4e0e\u666e\u901a\u7684\u6570\u5b57\u6b63\u5c04\u5f71\u50cf\uff08DOM\uff09\u7c7b\u4f3c\uff0c\u4f46\u5f3a\u8c03\u4e86\u5176\u771f\u5b9e\u7684\u8272\u5f69\u8fd8\u539f\uff0c\u4e3b\u8981\u7528\u4e8e\u9700\u8981\u771f\u5b9e\u8272\u5f69\u8868\u73b0\u7684\u5e94\u7528\u573a\u666f\u3002 \u662f\u5c06DOM\u7ea0\u6b63\u4e3a\u5782\u76f4\u89c6\u89d2\u7684\u5f71\u50cf\u4ea7\u54c1\uff0c\u5bf9\u5404\u79cd\u5730\u7269\u3001\u5730\u5f62\u3001\u690d\u88ab\u7b49\u7684\u503e\u659c\u6295\u5f71(\u5730\u7269\u9690\u853d\u90e8\u5206\uff09\u91c7\u7528\u76f8\u90bb\u50cf\u7247\u4fee\u6b63\uff0c\u4ece\u800c\u5f62\u6210\u5730\u7269\u6ca1\u6709\u6295\u5f71\u5dee\u3001\u5efa\u7b51\u7269\u95f4\u65e0\u906e\u6321\u7684\u6b63\u5c04\u5f71\u50cf\u56fe\u3002 https://www.cnblogs.com/gooutlook/p/17807986.html DLG\uff08Digital Line Graph\uff0c\u6570\u5b57\u7ebf\u5212\u56fe\uff09\u662f\u4e00\u79cd\u4ee5\u6570\u5b57\u5f62\u5f0f\u5b58\u50a8\u5730\u7406\u4fe1\u606f\u7684\u7ebf\u6761\u56fe\uff0c\u8868\u793a\u5730\u7406\u8981\u7d20\u7684\u51e0\u4f55\u5f62\u72b6\u548c\u7a7a\u95f4\u5206\u5e03\u3002DLG \u4e3b\u8981\u5305\u542b\u5730\u5f62\u548c\u5730\u7406\u8981\u7d20\u7684\u7ebf\u6761\u6570\u636e\uff0c\u5982\u6cb3\u6d41\u3001\u9053\u8def\u3001\u884c\u653f\u8fb9\u754c\u3001\u7b49\u9ad8\u7ebf\u7b49\u3002 \u503e\u659c\u6444\u5f71\uff08Oblique Photography\uff09\u662f\u4e00\u79cd\u6444\u5f71\u6d4b\u91cf\u6280\u672f\uff0c\u7a81\u7834\u4e86\u4f20\u7edf\u6b63\u5c04\u5f71\u50cf\u53ea\u6709\u5782\u76f4\u89d2\u5ea6\u7684\u5c40\u9650\uff0c\u901a\u8fc7\u65e0\u4eba\u673a\u642d\u8f7d\u591a\u53f0\u4f20\u611f\u5668\uff0c\u540c\u65f6\u4ece\u4e00\u4e2a\u5782\u76f4\u3001\u56db\u4e2a\u503e\u659c\u7b49\u4e94\u4e2a\u4e0d\u540c\u7684\u89d2\u5ea6\u91c7\u96c6\u5f71\u50cf\uff0c\u80fd\u591f\u5b9e\u73b0\u5927\u89c4\u6a21\u533a\u57df\u7684\u5feb\u901f\u4e09\u7ef4\u91cd\u5efa\uff0c\u5e76\u4ee5\u771f\u5b9e\u5f71\u50cf\u4f5c\u4e3a\u6a21\u578b\u8d34\u56fe\uff0c\u662f\u5bf9\u771f\u5b9e\u4e16\u754c\u8fdb\u884c\u5feb\u901f\u4e09\u7ef4\u91cd\u5efa\u7684\u6709\u6548\u65b9\u5f0f\u3002 \u503e\u659c\u6444\u5f71\u52a0\u5de5\u6d41\u7a0b\uff0c\u9700\u8981\u7684\u8bbe\u5907\u548c\u5de5\u4f5c\u5305\u62ec\uff1a \u2022 \u822a\u7a7a\u8f7d\u5177\uff1a\u76ee\u524d\u5b9e\u9645\u91c7\u96c6\u4ee5\u65e0\u4eba\u673a\u4e3a\u4e3b\uff0c\u53ef\u4ee5\u662f\u65cb\u7ffc\u673a\u6216\u8005\u590d\u5408\u7ffc\uff1b\u5927\u7586\u7cfb\u5217\u65e0\u4eba\u673a\u5e94\u7528\u5f88\u591a\uff1b \u2022 \u5f71\u50cf\u91c7\u96c6\u8bbe\u5907\uff1a\u591a\u76ee\u503e\u659c\u6444\u5f71\u76f8\u673a\uff0c\u5e38\u89c1\u7684\u59825\u955c\u5934\u76f8\u673a\uff1b\u9009\u62e9\u5408\u9002\u7684\u62cd\u6444\u8f6f\u4ef6\u5982Altizure\u7b49\uff1b \u2022 \u5f71\u50cf\u91c7\u96c6\uff1a\u5305\u62ec\u822a\u7ebf\u89c4\u5212\u3001\u98de\u7ebf\u91c7\u96c6\uff0c\u4ee5\u53ca\u76f8\u5173\u7684\u5b89\u5168\u98de\u884c\u4fdd\u969c\uff1b\u76ee\u524d\u56fd\u5bb6\u5bf9\u65e0\u4eba\u673a\u7684\u4f7f\u7528\u662f\u6709\u76f8\u5e94\u6cd5\u89c4\u7ba1\u63a7\u7684\uff0c\u4e0d\u80fd\u968f\u610f\u98de\u884c\uff1b \u2022 \u91c7\u96c6\u6570\u636e\u5904\u7406\uff1a\u822a\u62cd\u91c7\u96c6\u7684\u5f71\u50cf\uff0c\u901a\u8fc7\u4e13\u7528\u7684\u5904\u7406\u8f6f\u4ef6\uff0c\u7ecf\u8fc7\u70b9\u4e91\u751f\u6210\u3001tin\u7f51\u3001\u6784\u5efa\u767d\u6a21\u3001\u6784\u5efa\u4e09\u7ef4\u6a21\u578b\u7b49\u6b65\u9aa4\uff0c\u751f\u6210\u6700\u7ec8\u7684\u503e\u659c\u6444\u5f71\u6a21\u578b\uff1b \u2022 \u8f83\u4e3b\u6d41\u7684\u8f6f\u4ef6\u5305\u62ec\u4e86Smart3d\u3001PIX4D MAPPER\u3001PHOTOSCAN\u3001Photomesh\u3001\u8857\u666f\u5de5\u5382\u7b49\uff1b \u2022 \u76ee\u524d\u4e3b\u6d41\u7684\u503e\u659c\u6444\u5f71\u683c\u5f0f\u662fOSGB\uff1b\u6839\u636e\u5bc6\u96c6\u70b9\u4e91\u9010\u7ea7\u62bd\u7a00\u540e\u6784\u5efa\u7684tin\u6a21\u578b\uff0c\u81ea\u52a8\u521b\u5efaLOD\uff0c\u5b9e\u73b0\u4e0d\u540c\u5c42\u7ea7\u4e4b\u95f4\u7684\u5e73\u6ed1\u8fc7\u5ea6\uff1b</p> <p>![[assets/Pasted image 20250602095110.png]]</p> <p>DEM\u6709\u4e09\u79cd\u4e3b\u8981\u7684\u8868\u793a\u6a21\u578b\uff1a\u89c4\u5219\u683c\u7f51\u6a21\u578b\u3001\u7b49\u9ad8\u7ebf\u6a21\u578b\u548c\u4e0d\u89c4\u5219\u4e09\u89d2\u7f51\u3002</p> <p>\u6805\u683c\u5f62\u5f0f\uff08GRID DEM\uff09\uff1a\u6700\u5e38\u89c1\u7684\u5f62\u5f0f\uff0c\u5730\u8868\u88ab\u5212\u5206\u6210\u89c4\u5219\u7684\u7f51\u683c\u5355\u5143\uff0c\u6bcf\u4e2a\u6805\u683c\u5355\u5143\u5305\u542b\u4e00\u4e2a\u9ad8\u7a0b\u503c\uff0c\u901a\u5e38\u4ee5\u6570\u5b57\u5f62\u5f0f\u8868\u793a\u3002\u6805\u683cDEM\u9002\u7528\u4e8e\u8bb8\u591aGIS\u8f6f\u4ef6\uff0c\u5982ArcGIS\u548cQGIS\uff0c\u4ee5\u53ca\u7528\u4e8e\u5730\u5f62\u5206\u6790\u3001\u6d78\u6c34\u6a21\u62df\u7b49\u5e94\u7528\u3002</p> <p>TIN\u5f62\u5f0f\uff08Triangulated Irregular Network\uff09\uff1aTIN DEM \u4f7f\u7528\u4e0d\u89c4\u5219\u7684\u4e09\u89d2\u5f62\u6765\u8868\u793a\u5730\u8868\uff0c\u6bcf\u4e2a\u4e09\u89d2\u5f62\u7531\u4e09\u4e2a\u5730\u70b9\uff08\u70b9\u6216\u8282\u70b9\uff09\u5b9a\u4e49\uff0c\u5305\u62ec\u9ad8\u7a0b\u503c\u3002TIN DEM \u9002\u7528\u4e8e\u63cf\u8ff0\u4e0d\u89c4\u5219\u5730\u5f62\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u66f4\u7cbe\u786e\u5730\u6355\u6349\u5730\u8868\u7684\u66f2\u7ebf\u548c\u659c\u5761\u3002</p> <p>\u70b9\u4e91\u5f62\u5f0f\uff08Point Cloud\uff09\uff1a\u70b9\u4e91DEM\u662f\u4e00\u7ec4\u5730\u7406\u5750\u6807\u70b9\uff0c\u6bcf\u4e2a\u70b9\u5177\u6709\u9ad8\u7a0b\u503c\u3002\u901a\u5e38\u91c7\u7528LAS\uff08\u956d\u5c04\u626b\u63cf\u6807\u51c6\uff09\u6587\u4ef6\u683c\u5f0f\u6765\u5b58\u50a8\uff0c\u7528\u4e8e\u6fc0\u5149\u96f7\u8fbe\u548c\u4e09\u7ef4\u626b\u63cf\u4eea\u6570\u636e\u3002\u70b9\u4e91DEM\u9002\u7528\u4e8e\u9ad8\u7cbe\u5ea6\u5730\u5f62\u5efa\u6a21\u548c3D\u5730\u5f62\u5206\u6790\u3002</p> <p>\u77e2\u91cf\u5f62\u5f0f\uff08Vector DEM\uff09\uff1a\u77e2\u91cfDEM\u4f7f\u7528\u77e2\u91cf\u7ebf\u6bb5\u3001\u591a\u8fb9\u5f62\u548c\u591a\u70b9\u6570\u636e\u6765\u8868\u793a\u5730\u8868\u3002\u8fd9\u4e9b\u6570\u636e\u901a\u5e38\u7528\u4e8e\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\uff08GIS\uff09\u4e2d\uff0c\u53ef\u4ee5\u8868\u793a\u9ad8\u7a0b\u7b49\u503c\u7ebf\u3001\u7b49\u9ad8\u7ebf\u548c\u5730\u5f62\u7279\u5f81\u3002</p> <p>\u6807\u91cf\u573a\u5f62\u5f0f\uff08Scalar Field\uff09\uff1a\u6807\u91cf\u573aDEM\u5c06\u9ad8\u7a0b\u4fe1\u606f\u8868\u793a\u4e3a\u4e00\u4e2a\u8fde\u7eed\u7684\u6807\u91cf\u573a\uff0c\u5176\u4e2d\u6bcf\u4e2a\u70b9\u90fd\u5177\u6709\u9ad8\u7a0b\u503c\u3002\u901a\u8fc7\u6570\u5b66\u65b9\u7a0b\u5f0f\u6765\u63cf\u8ff0\u5730\u8868\uff0c\u9002\u7528\u4e8e\u5730\u5f62\u5efa\u6a21\u548c\u5206\u6790\u3002</p> <p>\u4e09\u7ef4\u6a21\u578b\u5f62\u5f0f\uff083D Model DEM\uff09\uff1a\u4e09\u7ef4\u6a21\u578bDEM\u4f7f\u7528\u4e09\u7ef4\u6a21\u578b\u6587\u4ef6\u683c\u5f0f\uff08\u5982COLLADA\u3001OBJ\u7b49\uff09\u6765\u8868\u793a\u5730\u8868\u3002\u8fd9\u79cd\u5f62\u5f0f\u901a\u5e38\u7528\u4e8e\u4e09\u7ef4\u5efa\u7b51\u548c\u57ce\u5e02\u6a21\u578b\uff0c\u5305\u62ec\u5efa\u7b51\u7269\u548c\u5730\u5f62\u3002</p> <p>\u6570\u636e\u683c\u5f0f\uff1a</p> <p>.ddf USGS DEM</p> <p>.dem Vista Pro Binary DEM</p> <p>.dem USGS DEM</p> <p>.hgt SRTM\uff08\u822a\u5929\u98de\u673a\u96f7\u8fbe\u5730\u5f62\u6d4b\u7ed8\u4f7f\u547d\uff09</p> <p>.tif GeoTIFF</p> <p>.dem Vista Pro Binary DEM</p> <ol> <li> <p>USGS DEM\uff1a\u7531\u7f8e\u56fd\u5730\u8d28\u8c03\u67e5\u5c40\u5f00\u53d1\u7684\u4e00\u79cd\u65e9\u671f\u6807\u51c6\u683c\u5f0f\uff0c\u6bcf\u4e2a\u5355\u5143\u683c\u4ee3\u8868\u4e00\u4e2a\u56fa\u5b9a\u9762\u79ef\u5185\u7684\u5e73\u5747\u6d77\u62d4\u9ad8\u5ea6\uff0c\u5b58\u50a8\u4e3aASCII\u6587\u672c\u6216 binary \u683c\u5f0f\u3002</p> </li> <li> <p>ESRI GRID\uff1a\u4f5c\u4e3aArcGIS\u5e73\u53f0\u652f\u6301\u7684\u6807\u51c6\u683c\u5f0f\u4e4b\u4e00\uff0cGRID\u683c\u5f0f\u80fd\u6709\u6548\u50a8\u5b58DEM\u7684\u6570\u636e\u7ed3\u6784\u4e0e\u5c5e\u6027\u4fe1\u606f\uff0c\u5305\u62ec\u50cf\u5143\u5927\u5c0f\u3001\u5750\u6807\u7cfb\u7edf\u4ee5\u53ca\u9576\u5d4c\u89c4\u5219\u7b49\u8be6\u7ec6\u53c2\u6570\u3002</p> </li> <li> <p>DTED (Digital Terrain Elevation Data): \u662f\u519b\u7528\u9886\u57df\u5e7f\u6cdb\u5e94\u7528\u7684\u4e00\u7c7b\u5168\u7403\u7edf\u4e00\u89c4\u683c\u7684DEM\u683c\u5f0f\uff0c\u5305\u542bDTED Level 0\u81f3Level 2\u4e09\u79cd\u7cbe\u5ea6\u7b49\u7ea7\uff0c\u5206\u522b\u5bf9\u5e94\u4e0d\u540c\u7684\u5206\u8fa8\u7387\u8981\u6c42\u3002</p> </li> <li> <p>GeoTIFF: \u8fd9\u79cd\u57fa\u4e8e TIFF \u56fe\u50cf\u683c\u5f0f\u6269\u5c55\u800c\u6765\u7684 GIS \u6570\u636e\u4ea4\u6362\u65b9\u5f0f\u53ef\u4ee5\u5d4c\u5165\u5730\u7406\u4f4d\u7f6e\u53c2\u8003\u548c\u5176\u4ed6\u5143\u6570\u636e\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u7c7b\u578b\u7684\u9065\u611f\u5f71\u50cf\uff0c\u5f53\u7136\u4e5f\u5305\u542b\u4e86\u7528\u4e8e\u8868\u8fbeDEM\u7684\u7a7a\u95f4\u5411\u91cf\u4fe1\u606f\u3002</p> </li> <li> <p>LiDAR LAS/LAZ Format\uff1a\u9488\u5bf9\u6fc0\u5149\u96f7\u8fbe(LiDAR)\u91c7\u96c6\u5f97\u5230\u7684\u5bc6\u96c6\u578b elevation \u70b9\u4e91\u6570\u636e\u8bbe\u8ba1\u7684\u4e13\u7528\u683c\u5f0f\uff0c\u4e0d\u4ec5\u8bb0\u5f55\u4e86\u6bcf\u4e00\u4e2a\u6d4b\u5b9a\u70b9\u7684\u4f4d\u7f6e\u4e0e\u5f3a\u5ea6\u4fe1\u606f\uff0c\u8fd8\u53ef\u627f\u8f7d\u989c\u8272\u3001\u5206\u7c7b\u7b49\u591a\u79cd\u9644\u52a0\u5c5e\u6027\u3002</p> </li> </ol> <p>TIFF \u4e0e GEO TIFF</p> <p>https://www.cnblogs.com/arxive/p/6746570.html</p> <p>\u6587\u4ef6\u683c\u5f0f\uff1ahttp://www.bimant.com/docs/3dformat/GeoTIFF/</p> <p>https://blog.geohey.com/geotiff-shu-ju-ge-shi-tan-suo/</p> <p>https://gisgeography.com/gis-formats/</p> <p>Esri Grid</p> <p>https://desktop.arcgis.com/zh-cn/arcmap/latest/manage-data/raster-and-images/esri-grid-format.htm</p> <p>![[assets/Pasted image 20250602095141.png]]</p> <p>https://zhuanlan.zhihu.com/p/695271819</p> <p>\u77e2\u91cf\u5207\u7247</p> <p>\u77e2\u91cf\u5207\u7247\u89c4\u8303</p> <p>awesome-vector-tiles \u6574\u7406\u641c\u96c6\u77e2\u91cf\u5207\u7247\u76f8\u5173\u7684\u5e93</p> <p>\u77e2\u91cf\u5207\u7247\u7684\u5e38\u89c1\u683c\u5f0f\uff1a</p> <p>Mapbox Vector Tiles (MVT)\uff1aMapbox\u5b9a\u4e49\u7684\u683c\u5f0f\uff0c\u57fa\u4e8e\u4e8c\u8fdb\u5236\u7684Protobuf\u7f16\u7801\uff0c.pbf \u7ed3\u5c3e\u3002</p> <p>GeoJSON\uff1a\u57fa\u4e8eGeoJSON\u683c\u5f0f\uff0c\u6570\u636e\u4ee5JSON\u683c\u5f0f\u4f20\u8f93\u3002</p> <p>TopoJSON\uff1aGeoJSON\u7684\u53d8\u4f53\uff0c\u901a\u8fc7\u6d88\u9664\u5197\u4f59\u8282\u70b9\u5e76\u5171\u4eab\u8fb9\u754c\u6765\u51cf\u5c11\u6587\u4ef6\u5927\u5c0f\uff0c\u9002\u5408\u63cf\u8ff0\u590d\u6742\u51e0\u4f55\u7ed3\u6784\u3002</p> <p>\u62bd\u7a00\u548c\u63d2\u503c</p>"},{"location":"GIS/opengauss/","title":"Opengauss","text":"<p>opengauss</p> <pre><code># 1.\u62c9\u53d6\u955c\u50cf\ndocker pull enmotech/opengauss\n\n# 2.\u5f00\u542fopengauss\u6570\u636e\u5e93\u670d\u52a1\ndocker run --name opengauss \\\n    --privileged=true -d \\\n    -e GS_USERNAME=gaussdb \\\n    -e GS_PASSWORD=**************@*** \\\n    -p 5432:5432 \\\n    enmotech/opengauss:latest\n</code></pre> <pre><code># 1. \u8fdb\u5165\u8fd0\u884c\u7684Docker\u5bb9\u5668\ndocker exec -it opengauss /bin/bash\n\n# 2. \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\nexport GAUSSHOME=/usr/local/opengauss\nexport PATH=$GAUSSHOME/bin:$GAUSSHOME:$GAUSSHOME/lib:$PATH\nexport LD_LIBRARY_PATH=$GAUSSHOME/lib:$LD_LIBRARY_PATH\nexport DATADIR='/var/lib/opengauss/data'\n\n# 3. \u4f7f\u7528gsql\u767b\u9646opengauss\u6570\u636e\u5e93\ngsql -U gaussdb -W **************@*** -d postgres -p 5432\n\n# 4. \u521b\u5efatest_db\u6570\u636e\u5e93\nCREATE DATABASE test_db WITH ENCODING 'UTF8' template = template0;\n\n# 5. \u91cd\u65b0\u52a0\u8f7dOpenGauss\u6570\u636e\u5e93\ngs_ctl reload -D $DATADIR\n</code></pre> <pre><code>ALTER USER postgres SYSADMIN;\n</code></pre>"},{"location":"GIS/polardb/","title":"Polardb","text":"<pre><code>docker pull polardb/polardb_pg_local_instance:15\n\ndocker run -it --rm \\\n    --cap-add=SYS_PTRACE --privileged=true \\\n    --env POLARDB_PORT=5432 \\\n    --env POLARDB_USER=postgres \\\n    --env POLARDB_PASSWORD=Superman@2021 \\\n    -v ${your_data_dir}:/var/polardb \\\n    polardb/polardb_pg_local_instance:15\n</code></pre>"},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","title":"\u4e00\u6587\u901a\u8bfbGIS\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_1","title":"\u7a7a\u95f4\u53c2\u8003\u7cfb","text":"<p>\u53c2\u8003\u7cfb\u7528\u4e8e\u63cf\u8ff0\u7269\u4f53\u5728\u7a7a\u95f4\u4e2d\u7684\u76f8\u5bf9\u4f4d\u7f6e\u7684\u57fa\u51c6\uff0c\u8981\u5728\u4e00\u8d77\u4f7f\u7528\u7684\u56fe\u5c42\u5fc5\u987b\u5728\u7a7a\u95f4\u4e0a\u76f8\u4e92\u5339\u914d\uff0c\u5426\u5219\u5c31\u4f1a\u53d1\u751f\u660e\u663e\u9519\u8bef\u3002 </p>"},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_2","title":"\u5927\u5730\u6c34\u51c6\u9762","text":"<p>\u7b49\u91cd\u529b\u9762\uff0c\u4e0e\u6d77\u5e73\u9762\u91cd\u5408\u5e76\u5ef6\u4f38\u5230\u5927\u9646\u5185\u90e8\u7684\u6c34\u51c6\u9762\u3002</p> <p>\u91cd\u529b\u4f5c\u7528\u4e0b\u5047\u8bbe\u5168\u7403\u6d77\u6c34\u5ef6\u4f38\u5230\u9646\u5730\u4ee5\u4e0b\u5f62\u6210\u5c01\u95ed\u66f2\u9762\uff0c\u8fd9\u4e2a\u9762\u4e0a\u91cd\u529b\u503c\u76f8\u7b49\u3002</p> <p>\u5927\u5730\u6c34\u51c6\u9762\uff08Geoid\uff09\u4e5f\u662f\u7ecf\u5e38\u51fa\u73b0\u7684\u4e00\u4e2a\u6982\u5ff5\uff0c\u5c31\u662f\u692d\u7403\u4f53\u5427\u3002 \u5927\u5730\u6c34\u51c6\u9762\u662f\u6d77\u6d0b\u8868\u9762\u5728\u6392\u9664\u98ce\u529b\u3001\u6f6e\u6c50\u7b49\u5176\u5b83\u5f71\u54cd\uff0c\u53ea\u8003\u8651\u91cd\u529b\u548c\u81ea\u8f6c\u5f71\u54cd\u4e0b\u7684\u5f62\u72b6\uff0c\u8fd9\u4e2a\u5f62\u72b6\u5ef6\u4f38\u8fc7\u9646\u5730\uff0c\u751f\u6210\u4e00\u4e2a\u5bc6\u95ed\u7684\u66f2\u9762\u3002 \u867d\u7136\u524d\u9762\u8bf4\u4e86\u5730\u7403\u662f\u4e00\u4e2a\u692d\u7403\u4f53\uff0c\u4f46\u662f\u8fd9\u4e2a\u692d\u7403\u4f53\u7684\u8868\u793a\u662f\u51f9\u51f8\u4e0d\u5e73\u7684\uff0c\u7531\u4e8e\u5730\u7403\u5404\u90e8\u5206\u7684\u5bc6\u5ea6\u4e0d\u540c\uff0c\u5f15\u529b\u5206\u5e03\u4e0d\u5747\uff0c\u5927\u5730\u6c34\u51c6\u9762\u662f\u4e00\u4e2a\u4e0d\u89c4\u5219\u7684\u5149\u6ed1\u66f2\u9762\u3002 \u5927\u5730\u6c34\u51c6\u9762\u662f\u4e00\u4e2a\u5047\u60f3\u7684\u3001\u4e0e\u5730\u7403\u6d77\u6d0b\u5e73\u5747\u6d77\u5e73\u9762\u4e00\u81f4\u5e76\u5728\u5168\u7403\u8303\u56f4\u5185\u5ef6\u4f38\u7684\u201c\u7b49\u91cd\u529b\u9762\u201d\u3002\u5b83\u4ee3\u8868\u4e86\u201c\u91cd\u529b\u7b49\u4f4d\u201d\u7684\u771f\u5b9e\u6d77\u62d4\u57fa\u51c6\u3002</p>"},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#reference-ellipsoid","title":"\u53c2\u8003\u692d\u7403\u9762\uff08Reference Ellipsoid\uff09","text":""},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_3","title":"\u4e00\u6587\u901a\u8bfbGIS\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_4","title":"\u4f3c\u5927\u5730\u6c34\u51c6\u9762","text":""},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_5","title":"\u5927\u5730\u57fa\u51c6","text":"<p>\u5730\u7403\u662f\u692d\u5706\u7684\uff0c\u3002\u3002\u3002\u3002 \u8fd9\u5f15\u5165\u4e86\u5730\u7406\u5750\u6807\u7cfb\u7edf\u3002</p> <p>\u5730\u7403\u662f\u692d\u5706\u7684\uff0c\u4f46\u4eba\u4eec\u901a\u5e38\u9700\u8981\u5728\u5e73\u9762\u4e0a\u5bf9\u5730\u56fe\u8fdb\u884c\u4f5c\u4e1a\uff0c\u9700\u8981\u7ecf\u7eac\u5ea6\u5750\u6807\u7403\u9762\u5750\u6807\u7cfb\u7edf\u8f6c\u6362\u5230x \u8f74\u548c y \u8f74\u8868\u793a\u7684\u5e73\u9762\u5750\u6807\u7cfb\u7edf\uff0c\u7531\u5730\u7406\u5750\u6807\u53d8\u6362\u5230\u6295\u5f71\u5750\u6807\u3002</p>"},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_6","title":"\u5730\u7406\u5750\u6807\u7cfb\u7edf","text":"<p>\u5730\u7406\u5750\u6807\u7cfb\u7edf\u662f\u7531\u7ecf\u5ea6\u548c\u7eac\u5ea6\u5b9a\u4e49\uff0c\u5747\u89d2\u5ea6\u8868\u793a\u3002</p> <p>\u7ecf\u5ea6\u662f\u4ece\u672c\u521d\u5b50\u5348\u7ebf\u5f00\u59cb\u5411\u4e1c\u6216\u5411\u897f\u91cf\u5ea6\u89d2\u5ea6\uff0c\u800c\u7eac\u5ea6\u662f\u4ece\u8d64\u9053\u5e73\u9762\u5411\u5317\u6216\u5411\u5357\u91cf\u5ea6\u89d2\u5ea6\u7684\u3002</p> <p>\u5b50\u5348\u7ebf\u662f\u6307\u7ecf\u5ea6\u76f8\u540c\u7684\u7ebf\u3002</p> <p>\u672c\u521d\u5b50\u5348\u7ebf\u7ecf\u8fc7\u82f1\u683c\u5170\u7684\u683c\u6797\u5c3c\u6cbb\uff0c\u7ecf\u5ea6\u4e3a 0\u00b0\u3002\u4ee5\u672c\u521d\u5b50\u5348\u7ebf\u4e3a\u53c2\u7167\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u672c\u521d\u5b50\u5348\u7ebf\u5f00\u59cb\u5411\u4e1c\u6216\u5411\u897f\u5728 0\u00b0\uff5e180\u00b0\u6d4b\u91cf\u5730\u7403\u8868\u9762\u67d0\u4e2a\u5730\u70b9\u7684\u7ecf\u5ea6\u503c\u3002\u56e0\u6b64\uff0c\u5b50\u5348\u7ebf\u7528\u4e8e\u4e1c-\u897f\u4f4d\u7f6e\u7684\u5ea6\u91cf\u3002</p> <p>\u7eac\u7ebf\u662f\u6307\u7eac\u5ea6\u76f8\u540c\u7684\u7ebf\u3002\u4ee5\u8d64\u9053\u4e3a 0\u00b0\u7eac\u5ea6\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u8d64\u9053\u5411\u5357\u6216\u5411\u5317\u5728 0\u00b0\uff5e90\u00b0\u6d4b\u91cf\u7eac\u5ea6\u503c\u3002\u663e\u7136\u7eac\u7ebf\u7528\u4e8e\u6d4b\u91cf\u5357\u5317\u65b9\u5411\u7684\u4f4d\u7f6e\u3002\u5730\u7403\u8868\u9762\u67d0\u70b9\u4f4d\u7f6e\u4e3a 120\u00b0W60\u00b0N\uff0c\u8868\u793a\u5176\u4f4d\u4e8e\u672c\u521d\u5b50\u5348\u7ebf\u4ee5\u897f120\u00b0\uff0c\u8d64\u9053\u4ee5\u5317 60\u00b0\u3002</p> <p>\u672c\u521d\u5b50\u5348\u7ebf\u548c\u8d64\u9053\u88ab\u770b\u4f5c\u662f\u5730\u7406\u5750\u6807\u7cfb\u7edf\u7684\u57fa\u7ebf\u3002</p> <p>\u7ecf\u7ebf\u548c\u7eac\u7ebf\u7684\u89d2\u5ea6\u53ef\u4ee5\u7528\u5ea6-\u5206-\u79d2\uff08DMS\uff09\u3001\u5341\u8fdb\u5236\u8868\u793a\u7684\u5ea6\u6570\uff08DD\uff09\uff0c\u6216\u8005\u662f\u5f27\u5ea6\uff08rad\uff09\u7684\u5f62\u5f0f\u8868\u793a\u30021 \u5ea6\u7b49\u4e8e 60 \u5206\uff0c1 \u5206\u7b49\u4e8e 60 \u79d2\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 DMS \u548c DD \u4e4b\u95f4\u8fdb\u884c\u8f6c\u6362\u3002\u4f8b\u5982\uff0c\u7eac\u5ea6\u503c 45\u00b052\u203230\u2033\u7b49\u4e8e 45.875\u00b0\uff0845 + 52/60 + 30/3600\uff09\u3002\u5f27\u5ea6\u4e00\u822c\u5728\u8ba1\u7b97\u673a\u7f16\u7a0b\u4e2d\u5e94\u7528\u30021 \u5f27\u5ea6\u7b49\u4e8e 57.2958\u00b0\uff0c1 \u5ea6\u7b49\u4e8e 0.01745 \u5f27\u5ea6\u3002</p> <p>\u5730\u7406\u5750\u6807\u7cfb\u7edf\u662f\u4e00\u4e2a\u7403\u9762\u5750\u6807\u7cfb\u7edf\uff0c\u7b2c\u4e00\u6b65\u662f\u9009\u62e9\u4e00\u4e2a\u4e0e\u5730\u7403\u5f62\u72b6\u3001\u5927\u5c0f\u63a5\u8fd1\u7684\u6a21\u578b\u3002\u6700\u7b80\u5355\u7684\u6a21\u578b\u5c31\u662f\u7403\u4f53\u3002</p>"},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#reference-ellipsoid_1","title":"\u53c2\u8003\u692d\u7403\u4f53\uff08Reference Ellipsoid\uff09","text":"<p>\u4f46\u662f\u5730\u7403\u5e76\u4e0d\u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684\u7403\u4f53\uff1a\u5730\u7403\u7684\u8d64\u9053\u6bd4\u4e24\u6781\u4e4b\u95f4\u5bbd\u4e00\u4e9b\u3002\u56e0\u6b64\uff0c\u4e0e\u5730\u7403\u5f62\u72b6\u6bd4\u8f83\u63a5\u8fd1\u7684\u662f\u4e00\u4e2a\u4ee5\u692d\u5706\u77ed\u8f74\u65cb\u8f6c\u800c\u6210\u7684\u6241\u7403\uff0c\u4e5f\u79f0\u4e3a\u692d\u7403\u4f53\u3002</p> <p>\u53c2\u8003\u692d\u7403\u4f53\u662f\u7528\u6765\u8fd1\u4f3c\u63cf\u8ff0\u5730\u7403\u5f62\u72b6\u7684\u4e00\u4e2a\u89c4\u5219\u6570\u5b66\u6a21\u578b\uff0c\u662f\u65cb\u8f6c\u692d\u7403\u4f53\u3002</p> <p>\u692d\u7403\u4f53\u6709\u4e0e\u8d64\u9053\u76f8\u8fde\u7684\u957f\u8f74\uff08a\uff09\u548c\u4e0e\u6781\u70b9\u76f8\u63a5\u7684\u77ed\u8f74\uff08b\uff09\uff0c\u53c2\u6570\u6241\u7387\uff08f\uff09\u7528\u4e8e\u6d4b\u91cf\u692d\u7403\u4f53\u4e24\u8f74\u7684\u5dee\u5f02\uff0c\u516c\u5f0f\u4e3a\uff08a\u2013b\uff09/a\u3002</p> <p></p> <p>\u57fa\u4e8e\u692d\u7403\u4f53\u7684\u5730\u7406\u5750\u6807\u88ab\u79f0\u4e3a\u5927\u5730\u5750\u6807\uff0c\u6216\u6210\u4e3a\u5730\u7406\u5750\u6807\u3002</p>"},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#datum","title":"\u5927\u5730\u57fa\u51c6\uff08Datum\uff09","text":"<p>\u5927\u5730\u57fa\u51c6\u9762\u662f\u7528\u4e8e\u5b9a\u4e49\u5730\u7406\u5750\u6807\u7cfb\u7edf\uff08\u5982\u7ecf\u7eac\u5ea6\uff09\u7684\u53c2\u8003\u57fa\u7840\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u53c2\u8003\u692d\u7403\u4f53\uff1a\u5982 \u514b\u62c9\u7d22\u592b\u65af\u57fa\u692d\u7403\u4f53\u3001GRS80 \u692d\u7403\u4f53\u7b49</li> <li>\u5730\u65b9\u57fa\u51c6\u9762\uff1a\u5c40\u90e8\u57fa\u51c6\u70b9\u5982\u897f\u5b89\u3001\u5730\u7403\u8d28\u91cf\u4e2d\u5fc3\uff08\u5730\u5fc3\u7cfb\uff09\u7b49</li> </ul> <p>\u662f\u628a\u692d\u7403\u201c\u653e\u201d\u5728\u5730\u7403\u4e0a\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u51b3\u5b9a\u692d\u7403\u7684\u4f4d\u7f6e\u3001\u65b9\u5411\u548c\u96f6\u70b9\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4f9d\u8d56\u4e8e\u4e00\u4e9b\u57fa\u51c6\u70b9\u6765\u63a7\u5236\u3002</p> <p>\u692d\u7403\u4f53\u4e0e\u5730\u7403\u4e2d\u5fc3\u6216\u8868\u9762\u7684\u5b9a\u4f4d\u65b9\u5f0f\u3002</p> <p>\u5927\u5730\u57fa\u51c6\u662f\u5730\u7403\u7684\u6570\u5b66\u6a21\u578b\uff0c\u5b83\u662f\u8ba1\u7b97\u6c34\u5e73\u57fa\u51c6\u65f6\u7684\u5730\u7406\u5750\u6807\u7684\u53c2\u7167\u6216\u57fa\u7840\uff0c\u5e76\u7528\u4e8e\u8ba1\u7b97\u5782\u76f4\u6d77\u62d4\u9ad8\u5ea6\u3002 \u6c34\u5e73\u57fa\u51c6\u7684\u5b9a\u4e49\u5305\u62ec\u8d77\u59cb\u70b9\uff08\u539f\u70b9\uff09\u7684\u7ecf\u5ea6\u548c\u7eac\u5ea6\u3001\u692d\u7403\u4f53\u53ca\u692d\u7403\u4f53\u4e0e\u5730\u7403\u5728\u539f\u70b9\u7684\u5206\u79bb\u3002\u56e0\u6b64\uff0c\u57fa\u51c6\u9762\u548c\u692d\u7403\u9762\u662f\u5bc6\u5207\u76f8\u5173\u7684\u3002</p> <p>\u771f\u5b9e\u5730\u7403\u8868\u9762 \u2502 \u251c\u2500 \u5927\u5730\u6c34\u51c6\u9762\uff08\u7b49\u91cd\u529b\u9762\uff09\u2014\u2014\u771f\u5b9e\u201c\u6d77\u62d4\u201d\u7684\u53c2\u8003 \u2502 \u251c\u2500 \u5927\u5730\u57fa\u51c6\u9762\uff08Datum\uff09= \u692d\u7403\u4f53 + \u4e0e\u5730\u7403\u5bf9\u9f50\u65b9\u5f0f \u2502    \u2514\u2500 \u692d\u7403\u4f53\uff08\u6570\u5b66\u6a21\u578b\uff09\u7528\u6765\u5b9a\u4e49\u5730\u7406\u5750\u6807\u7cfb\u7edf\uff08\u7ecf\u7eac\u5ea6\uff09</p> \u9879\u76ee \u5317\u4eac54 / \u897f\u5b8980 CGCS2000 \u692d\u7403\u4f53 \u514b\u62c9\u7d22\u592b\u65af\u57fa\u692d\u7403\u4f53 GRS80 \u692d\u7403\u4f53\uff08\u4e0e WGS84 \u57fa\u672c\u4e00\u81f4\uff09 \u57fa\u51c6\u70b9 \u5730\u533a\u672c\u5730\u63a7\u5236\u70b9\uff08\u666e\u5c14\u79d1\u6c83\u3001\u897f\u5b89\uff09 \u5730\u7403\u8d28\u91cf\u4e2d\u5fc3\uff08\u5730\u5fc3\u7cfb\uff09 \u5b9a\u4f4d\u65b9\u5f0f \u672c\u5730\u62df\u5408 \u5168\u7403\u62df\u5408\uff0c\u57fa\u4e8e GNSS \u6570\u636e \u7cbe\u5ea6 \u5c40\u90e8\u7cbe\u5ea6\u9ad8\uff0c\u5168\u7403\u7cbe\u5ea6\u5dee \u5168\u7403\u7edf\u4e00\uff0c\u517c\u5bb9 GPS \u7b49\u7cfb\u7edf <p>\u5982\u4f55\u5b9e\u73b0\u62df\u5408\uff1f \u7b2c\u4e00\u6b65\uff1a\u9009\u62e9\u4e00\u4e2a\u53c2\u8003\u692d\u7403\u4f53\u3002 \u5982\uff1aKrassovsky 1940\u3001GRS80\u3001WGS84\u3002\u8fd9\u4e9b\u5b9a\u4e49\u4e86\uff1a - \u957f\u534a\u8f74\uff08a\uff09 - \u6241\u7387\uff08f\uff09</p> <p>\u7b2c\u4e8c\u90e8\uff1a \u6536\u96c6\u591a\u4e2a\u9ad8\u7cbe\u5ea6\u7684\u57fa\u51c6\u70b9\u6570\u636e \u8fd9\u4e9b\u63a7\u5236\u70b9\u8981\u5177\u5907\uff1a - \u5b9e\u9645\u89c2\u6d4b\u503c\uff08\u5929\u6587\u7eac\u5ea6\u3001\u7ecf\u5ea6\u3001\u5927\u5730\u9ad8\uff09 - \u5bf9\u5e94\u7684\u5927\u5730\u6c34\u51c6\u9762\u503c\uff08\u5982\u6c34\u51c6\u6d4b\u91cf\u6d77\u62d4\uff09</p>"},{"location":"GIS/%E4%B8%80%E6%96%87%E9%80%9A%E8%AF%BBGIS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_7","title":"\u4e24\u79cd\u62df\u5408\u65b9\u5f0f\uff1a","text":"\u62df\u5408\u65b9\u5f0f \u63cf\u8ff0 \u672c\u5730\u62df\u5408\uff08Local Datum\uff09 \u8c03\u6574\u692d\u7403\u4e2d\u5fc3\u548c\u65b9\u5411\uff0c\u4f7f\u5b83\u5728\u67d0\u4e00\u533a\u57df\uff08\u5982\u4e2d\u56fd\uff09\u4e0e\u5f53\u5730\u5927\u5730\u6c34\u51c6\u9762\u6700\u63a5\u8fd1\u3002\u4f8b\u5982\uff1a\u897f\u5b8980\u3001\u5317\u4eac54 \u5730\u5fc3\u62df\u5408\uff08Geocentric Datum\uff09 \u692d\u7403\u4ee5\u5730\u7403\u8d28\u5fc3\u4e3a\u4e2d\u5fc3\uff0c\u4e0d\u518d\u9488\u5bf9\u5c40\u90e8\u4f18\u5316\uff0c\u5982\uff1aWGS84\u3001CGCS2000 #### \u672c\u5730\u62df\u5408\u4f7f\u7528\u7684\u6570\u5b66\u5de5\u5177\uff1a <ul> <li> <p>\u5e73\u79fb\uff1a\u8c03\u6574\u692d\u7403\u4e2d\u5fc3\u4f4d\u7f6e\uff08X\u3001Y\u3001Z\uff09</p> </li> <li> <p>\u65cb\u8f6c\uff1a\u5fae\u8c03\u692d\u7403\u7684\u59ff\u6001\uff08\u03b1\u3001\u03b2\u3001\u03b3\uff09</p> </li> <li> <p>\u7f29\u653e\uff1a\u6781\u5c0f\u6bd4\u4f8b\u56e0\u5b50\u4fee\u6b63\uff08\u03bc\uff09     \ud83d\udc49 \u5408\u79f0\u4e3a\u201c\u4e03\u53c2\u6570\u62df\u5408\u201d</p> </li> </ul> <p>\u4e03\u53c2\u6570\u8f6c\u6362\u516c\u5f0f\uff08\u7b80\u5316\uff09 \u7528\u4e8e\u5c06\u201c\u5730\u5fc3\u76f4\u89d2\u5750\u6807\uff08X, Y, Z\uff09\u201d\u4ece\u4e00\u4e2a\u5927\u5730\u57fa\u51c6\uff08\u5982\u897f\u5b8980\uff09\u8f6c\u6362\u5230\u53e6\u4e00\u4e2a\uff08\u5982CGCS2000\uff09\uff1a <pre><code>X2 = X1 + dx + \u03bc\u00b7X1 + (\u03b3\u00b7Y1 - \u03b2\u00b7Z1)\nY2 = Y1 + dy + \u03bc\u00b7Y1 + (-\u03b3\u00b7X1 + \u03b1\u00b7Z1)\nZ2 = Z1 + dz + \u03bc\u00b7Z1 + (\u03b2\u00b7X1 - \u03b1\u00b7Y1)\n</code></pre></p> <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>dx, dy, dz = \u5e73\u79fb\u53c2\u6570</p> </li> <li> <p>\u03b1, \u03b2, \u03b3 = \u4e09\u8f74\u65cb\u8f6c\u89d2</p> </li> <li> <p>\u03bc = \u5c3a\u5ea6\u56e0\u5b50</p> </li> </ul> <p>\u53c2\u5fc3\u5750\u6807\u7cfb  </p> <p>\u5730\u5fc3\u5750\u6807\u7cfb  </p>"},{"location":"GIS/%E5%9C%B0%E5%9B%BE%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95/","title":"\u5730\u56fe\u5339\u914d\u7b97\u6cd5","text":"<p>\u5730\u56fe\u5339\u914d\u65b9\u6cd5\u6982\u8ff0</p> <p>\u5b9e\u73b0 ST-matching\u7b97\u6cd5 Map-matching for low-sampling-rate GPS trajectories</p>"},{"location":"GIS/%E5%9C%B0%E5%9B%BE%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95/#_1","title":"\u5019\u9009\u51c6\u5907","text":"<p>\u7ed9\u5b9a\u4e00\u6761\u786e\u5b9a\u8f68\u8ff9 \\(T=p_1 \\to p_2 \\to p_3 \\to \\dots \\to p_n\\) \u5bf9\u6bcf\u4e00\u4e2a\u70b9 \\(P_i\\)\u200b\uff0c\u5728\u534a\u5f84\u4e3a \\(r\\) \u7684\u8303\u56f4\u5185\u641c\u7d22\u8be5\u8def\u6bb5\u7684\u5019\u9009\u96c6\uff0c\u7136\u540e\u8ba1\u7b97\u5019\u9009\u70b9\uff0c\u5019\u9009\u70b9\u662f \\(P_i\\) \u200b\u5bf9\u8fd9\u4e9b\u8def\u6bb5\u7684\u6295\u5f71\u3002</p> <p></p>"},{"location":"GIS/%E5%9C%B0%E5%9B%BE%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95/#_2","title":"\u7a7a\u95f4\u5206\u6790","text":"<p>\u5728\u7a7a\u95f4\u5206\u6790\u4e2d\uff0c\u540c\u65f6\u4f7f\u7528\u8def\u7f51\u7684\u51e0\u4f55\u548c\u62d3\u6251\u4fe1\u606f\u6765\u8bc4\u4f30\u5728\u4e0a\u4e00\u6b65\u4e2d\u627e\u5230\u7684\u5019\u9009\u70b9\u3002\u4f7f\u7528\u89c2\u6d4b\u6982\u7387\u5408\u5e76\u51e0\u4f55\u4fe1\u606f\uff0c\u5e76\u4f7f\u7528\u4f20\u8f93\u6982\u7387\u8868\u8fbe\u62d3\u6251\u4fe1\u606f\u3002</p> <p>\u89c2\u6d4b\u6982\u7387\uff1a\u5c31\u662f\u57fa\u4e8e\u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\uff0c\u5f97\u5230\u7684\u76f8\u5339\u914d\u4f3c\u7136\u6027\u3002 \u4e00\u822c\u6765\u8bf4\uff0cGPS\u6d4b\u91cf\u8bef\u5dee\u53ef\u4ee5\u88ab\u63cf\u8ff0\u4e3a\\(p_i\\) \u548c \\(c_i^j\\) \u4e4b\u95f4\u8ddd\u79bb\u7684\u6b63\u6001\u5206\u5e03\\(N(\\mu,\\sigma^2)\\) \u3002\u5b83\u63cf\u8ff0\u7684\u662f\u5728\u4e0d\u8003\u8651\u4e34\u8fd1\u70b9\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2aGPS\u91c7\u6837\u70b9p i p_i  p   i  \u200b     \u80fd\u591f\u5339\u914d\u5230\u771f\u5b9e\u8def\u5f84\u4e0a\u7684\u5019\u9009\u70b9c i j c_i^j  c   i   j  \u200b     \u7684\u53ef\u80fd\u6027\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/","title":"\u5750\u6807\u7cfb\u3001\u6295\u5f71\u4e0e\u74e6\u7247","text":"<p>\u5e38\u7528\u6295\u5f71:    - \u5730\u7406\u5750\u6807\u7cfb(EPSG:4326): \u7ecf\u7eac\u5ea6(\u76f4\u6295)\u5750\u6807\u7cfb, \u5e7f\u6cdb\u7528\u4e8e\u5168\u7403\u5b9a\u4f4d\u7cfb\u7edf(GPS)\u548c\u5730\u7406\u4fe1\u606f\u7cfb\u7edf(GIS)\u3002    - Web\u58a8\u5361\u6258\u6295\u5f71(EPSG:3857): \u5c06\u7ecf\u7eac\u5ea6\u6295\u5f71\u4e3a\u5e73\u9762\u5750\u6807\uff0c\u5355\u4f4d\u4e3a\u7c73\uff0c\u5e7f\u6cdb\u7528\u4e8e\u5728\u7ebf\u5730\u56fe\uff08\u5982\u8c37\u6b4c\u5730\u56fe\uff09\u3002    - \u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71(\u5982 EPSG:4549): \u4e2d\u56fd\u5e38\u7528\u7684\u5e73\u9762\u6295\u5f71\uff0c\u5355\u4f4d\u4e3a\u7c73\uff0c\u7528\u4e8e\u5927\u6bd4\u4f8b\u5c3a\u5730\u5f62\u6d4b\u7ed8\u3002    - UTM\u6295\u5f71(\u5982 EPSG:32649): \u5206\u5e26\u6295\u5f71\uff0c\u5355\u4f4d\u4e3a\u7c73\uff0c\u9002\u7528\u4e8e\u9ad8\u7cbe\u5ea6\u533a\u57df\u6d4b\u91cf\u3002</p> <p>\u4f2a\u58a8\u5361\u6258\u6295\u5f71, \u53c8\u79f0\u4e3a\u7403\u9762\u58a8\u5361\u6258 \u6216 web\u58a8\u5361\u6258, \u5bf9\u4f20\u7edf\u58a8\u5361\u6258\u6295\u5f71\u8fdb\u884c\u7b80\u5316\uff0c\u5c06\u5730\u7403\u89c6\u4e3a\u7403\u4f53\u800c\u975e\u692d\u7403\u4f53\u6765\u8fdb\u884c\u6295\u5f71\u8ba1\u7b97 \u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f51\u7edc\u5730\u56fe\u670d\u52a1\uff08\u5982\u8c37\u6b4c\u5730\u56fe\u3001OpenStreetMap \u7b49\uff09\uff0c\u5176\u6807\u51c6 EPSG \u4ee3\u7801\u4e3a 3857.</p> <p>\u4f20\u7edf\u58a8\u5361\u6258\u6295\u5f71, \u5c06\u5730\u7403\u89c6\u4e3a\u692d\u7403\u4f53, \u5176\u6807\u51c6 EPSG \u4ee3\u7801\u4e3a 3395, \u4f7f\u7528\u8f83\u5c11, \u901a\u5e38\u4f7f\u7528          UTM \u6295\u5f71(Universal Transverse Mercator\uff0c\u901a\u7528\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71) \u6d4b\u7ed8\u5c40\u90e8\u6570\u636e         \u4e2d\u56fd\u5883\u5185, \u901a\u5e38\u4f7f\u7528 \u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71 (UTM\u6295\u5f71\u7684\u53d8\u4f53)</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#_1","title":"\u5e38\u89c1\u95ee\u9898\u70b9\uff1a","text":"<p>1. CGCS2000\u4e0eWGS84\u7684\u6280\u672f\u533a\u522b\u5728\u54ea\u91cc\uff1f \u603b\u4f53\u6765\u8bb2\u5b83\u4eec\u4e24\u4e2a\u51e0\u4e4e\u4e00\u6837\uff0c\u90fd\u662f\u4ee5\u5730\u7403\u8d28\u5fc3\u4e3a\u7403\u5fc3\uff0c\u8d64\u9053\u534a\u5f84\u4e00\u81f4\uff0c\u504f\u7387\u4e00\u81f4\uff0c\u4f46\u662f\u6781\u534a\u5f84\u6709\u7ec6\u5fae\u5dee\u522b\u3002</p> <p>2.\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71 \u548c WEB\u9ed8\u5361\u6258\u6295\u5f71 \u7684\u6280\u672f\u533a\u522b\u53c8\u5728\u54ea\u91cc\uff1f \u9ad8\u65af\u514b\u5415\u683c\u662f\u6a2a\u8f74\u6295\u5f71\uff0c\u662f\u63093\u5ea6\u5e26\u62166\u5ea6\u5e26\u5bf9\u5730\u7403\u8fdb\u884c\u5206\u7247\u6295\u5f71\u7684\uff0c\u56e0\u4e3a\u662f\u5206\u533a\u57df\u6295\u5f71\u6240\u4ee5\u5f62\u53d8\u5f88\u5c0f\uff0c\u4e00\u822c\u53ea\u9002\u5408\u5e02\u57df\u5927\u5c0f\u533a\u57df\u7684\u6295\u5f71\uff1b WEB\u58a8\u5361\u6258\u6295\u5f71\u662f\u6b63\u8f74\u6295\u5f71\u662f\u5168\u7403\u6574\u4e2a\u8fdb\u884c\u7684\u6295\u5f71\uff0c\u4e0d\u7528\u5206\u5e26\uff0c\u53bf\u662f\u628a\u5730\u7403\u5f53\u4f5c\u4e00\u4e2a\u6b63\u5706\u6765\u6295\u5f71\u7684\uff0c\u6295\u5f71\u51fa\u6765\u7684\u5168\u7403\u5730\u56fe\u662f\u4e2a\u6b63\u65b9\u5f62\uff0c\u867d\u7136\u9ad8\u7eac\u5ea6\u5730\u533a\u4f1a\u6709\u5f62\u53d8\uff0885\u5ea6\u4ee5\u4e0a\u76f4\u63a5\u820d\u5f03\u4e86\uff09\uff0c\u4f46\u6574\u4f53\u4e0a\u57fa\u672c\u4fdd\u6301\u4e86\u7ecf\u7eac\u5ea6\u540c\u6bd4\u4f8b\u653e\u5927\uff0c\u6240\u4ee5\u53ea\u662f\u7269\u4f53\u653e\u5927\u4e86\u800c\u5b9e\u9645\u76f8\u5bf9\u7684\u957f\u5bbd\u5e76\u6ca1\u6709\u53d8\u5316\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#3","title":"3.\u5b83\u4eec\u5bf9\u5e94\u5230\u73b0\u5728\u7684\u4fe1\u606f\u5316\u6280\u672f\uff0c\u53c8\u5728\u54ea\u4e9b\u5b9e\u73b0\u65b9\u6848\u4e0a\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f","text":"<p>\u6240\u8c13\u73b0\u4ee3\u4fe1\u606f\u6280\u672f\u5927\u6982\u5c31\u662f\u6307\u628a\u5b83\u653e\u5230\u7f51\u9875\u4e0a\u6765\uff0c\u7f51\u9875\u4e0a\u73b0\u5728\u91c7\u7528\u7684\u4e3b\u6d41\u662fWeb\u58a8\u5361\u6258\uff0c\u5176\u6b21\u4ee5\u7ecf\u7eac\u5ea6\u76f4\u6295\u4e3a\u8f85\u52a9\u3002\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\u7684\u7f51\u9875\u5730\u56fe\u8fd8\u6ca1\u770b\u89c1\u8fc7\uff0c\u6240\u4ee5\u5728\u5b9e\u73b0\u65b9\u6848\u4e0a\u65e0\u6cd5\u505a\u51fa\u4ec0\u4e48\u6bd4\u8f83\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#4cgcs2000wgs84web","title":"4.CGCS2000\u4e0eWGS84\uff0c\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\u548cWEB\u9ed8\u5361\u6258\u6295\u5f71\u5b83\u4eec\u5982\u4f55\u4ece\u6280\u672f\u4e0a\u8fdb\u884c\u53d8\u6362\uff1f","text":"<p>CGCS2000\u4e0eWGS84\u4e4b\u95f4\u7684\u53d8\u6362\u6709\u7f51\u53cb\u63d0\u4f9b\u7684\u8ba1\u7b97\u516c\u5f0f\uff0c\u4e0d\u8fc7\u56e0\u4e3a\u5dee\u5f02\u5b9e\u5728\u592a\u5c0f\uff0c\u53d8\u4e0d\u53d8\u90fd\u65e0\u6240\u8c13\u3002 \u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\u548cWEB\u9ed8\u5361\u6258\u6295\u5f71\u6ca1\u6709\u53d8\u6362\u7684\u5fc5\u8981\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#5","title":"5.\u5750\u6807\u8f6c\u6362\u6d89\u53ca\u5230\u7684\u4e03\u53c2\u6570\u6cd5\u3001\u56db\u53c2\u6570\u6cd5\u5230\u5e95\u662f\u600e\u6837\u64cd\u4f5c\u7684\uff1f","text":"<p>\u4e03\u53c2\u6570\u662f\u9488\u5bf9\u4e09\u7ef4\u7a7a\u95f4\uff0c\u56db\u53c2\u6570\u662f\u9488\u5bf9\u4e8c\u7ef4\u7a7a\u95f4</p> <p>\u4e24\u4e2a\u4e0d\u540c\u7684\u4e09\u7ef4\u7a7a\u95f4\u76f4\u89d2\u5750\u6807\u7cfb\u4e4b\u95f4\u8f6c\u6362\u65f6\uff0c\u901a\u5e38\u4f7f\u7528\u4e03\u53c2\u6570\u6a21\u578b\uff08\u6570\u5b66\u65b9\u7a0b\u7ec4\uff09\uff0c\u5728\u8be5\u6a21\u578b\u4e2d\u6709\u4e03\u4e2a\u672a\u77e5\u53c2\u6570\uff0c\u5373\uff1a</p> <p>\uff081\uff09\u4e09\u4e2a\u5750\u6807\u5e73\u79fb\u91cf\uff08\u25b3X\uff0c\u25b3Y\uff0c\u25b3Z\uff09\uff0c\u5373\u4e24\u4e2a\u7a7a\u95f4\u5750\u6807\u7cfb\u7684\u5750\u6807\u539f\u70b9\u4e4b\u95f4\u5750\u6807\u5dee\u503c\uff1b</p> <p>\uff082\uff09\u4e09\u4e2a\u5750\u6807\u8f74\u7684\u65cb\u8f6c\u89d2\u5ea6\uff08\u25b3\u03b1\uff0c\u25b3\u03b2\uff0c\u25b3\u03b3\uff09\uff0c\u901a\u8fc7\u6309\u987a\u5e8f\u65cb\u8f6c\u4e09\u4e2a\u5750\u6807\u8f74\u6307\u5b9a\u89d2\u5ea6\uff0c\u53ef\u4ee5\u4f7f\u4e24\u4e2a\u7a7a\u95f4\u76f4\u89d2\u5750\u6807\u7cfb\u7684XYZ\u8f74\u91cd\u5408\u5728\u4e00\u8d77\u3002</p> <p>\uff083\uff09\u5c3a\u5ea6\u56e0\u5b50K\uff0c\u5373\u4e24\u4e2a\u7a7a\u95f4\u5750\u6807\u7cfb\u5185\u7684\u540c\u4e00\u6bb5\u76f4\u7ebf\u7684\u957f\u5ea6\u6bd4\u503c\uff0c\u5b9e\u73b0\u5c3a\u5ea6\u7684\u6bd4\u4f8b\u8f6c\u6362\u3002\u901a\u5e38K\u503c\u51e0\u4e4e\u7b49\u4e8e1\u3002</p> <p>\u4ee5\u4e0a\u4e03\u4e2a\u53c2\u6570\u901a\u5e38\u79f0\u4e3a\u4e03\u53c2\u6570\u3002\u8fd0\u7528\u4e03\u53c2\u6570\u8fdb\u884c\u7684\u5750\u6807\u8f6c\u6362\u79f0\u4e3a\u4e03\u53c2\u6570\u5750\u6807\u8f6c\u6362\u3002</p> <p>\u5728\u8f6c\u6362\u8303\u56f4\u8f83\u5c0f\u7684\u5c0f\u8303\u56f4\u5185\u4e0d\u540c\u7684\u5e73\u9762\u5750\u6807\u8f6c\u6362\u901a\u5e38\u91c7\u7528\u4e8c\u7ef4\u56db\u53c2\u6570\u6a21\u578b\u8f6c\u6362\uff0c\u56db\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\uff1a x\uff1ax\u65b9\u5411\u5e73\u79fb\u91cf y\uff1ay\u65b9\u5411\u5e73\u79fb\u91cf \u03b1\uff1a\u65cb\u8f6c\u53c2\u6570\uff0c\u5355\u4f4d\u4e3a\u5f27\u5ea6 m\uff1a\u5c3a\u5ea6\u53c2\u6570\uff0c\u65e0\u5355\u4f4d</p> <p>6. i3s\u89c4\u8303\u662f\u4ec0\u4e48\uff1f i3s\u662f\u4e00\u79cd\u7528\u6811\u7ed3\u6784\u6765\u7ec4\u7ec7\u5927\u4f53\u79ef\u91cf\u4e09\u7ef4\u6570\u636e\u7684\u6570\u636e\u683c\u5f0f\u6807\u51c6\uff0c\u4e0e\u4f4d\u56fe\u754c\u7684jpg\u683c\u5f0f\u4e00\u6837\uff0c\u53ea\u4e0d\u8fc7i3s\u662f\u201c\u6807\u51c6\u201d\uff0c\u5177\u4f53\u5b9e\u73b0\u7684\u6587\u4ef6\u683c\u5f0f\u53e6\u6709\u4e00\u8bf4\u3002 i3s\u91c7\u7528json\u6587\u4ef6\u6765\u63cf\u8ff0\u6570\u636e\uff0c\u91c7\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u683c\u5f0f\u4e3a.bin\uff09\u6765\u5b58\u50a8\u4e09\u7ef4\u5730\u7406\u6570\u636e\u3002 i3s\u662fOGC\u89c4\u8303\uff0c\u76ee\u524dOGC\u7248\u672c\u662f1.0\uff0c\u4f46\u662f\u5728Esri\u7ef4\u62a4\u7684\u793e\u533a\u9879\u76ee\u4e2d\uff0ci3s\u5df2\u7ecf\u6f14\u8fdb\u52301.7\u4e86\u3002\u53ef\u4ee5\u8bf4\u662f\u201c\u4e00\u822c\u201d\u4e0e\u201c\u7279\u6b8a\u201d\u7684\u533a\u522b\u3002 OGC\u6807\u51c6\u4e00\u65e6\u5236\u5b9a\u5c31\u4e0d\u5e94\u8be5\u9891\u7e41\u66f4\u6539\uff0c\u4f46\u662f\u793e\u533a\u7ef4\u62a4\u7248\u672c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u751f\u4ea7\u9700\u8981\uff0c\u57fa\u4e8eOGC\u6807\u51c6\u505a\u7ed3\u6784\u4f18\u5316\u7b49\u3002 i3s\u6807\u51c6\u5c06\u4e09\u7ef4\u5730\u7406\u6570\u636e\u5207\u5206\uff0c\u7528\u201c\u8282\u70b9\u201d\u7684\u6982\u5ff5\u7ec4\u7ec7\u8d77\u6765\uff0c\u7136\u540e\u8fd9\u4e9b\u8282\u70b9\u88ab\u6709\u5e8f\u5730\u5199\u5728\u201c\u8282\u70b9\u9875\u201d\u4e2d\uff0c\u5373\u4ee5\u6811\u5f62\u7ed3\u6784\u5b58\u50a8\u6570\u636e\u3002 i3s\u5c06\u4e09\u7ef4\u5730\u7406\u6570\u636e\u7ec4\u7ec7\u8d77\u6765\u540e\uff0c\u53ef\u4ee5\u653e\u5728\u670d\u52a1\u5668\u4e0a\u901a\u8fc7REST\u63a5\u53e3\u8bbf\u95ee\u3002 i3s\u76ee\u524d\u7531slpk\u683c\u5f0f\u7684\u6587\u4ef6\u5b9e\u73b0\uff08\u4e3b\u8981\u662fArcGIS\u4f7f\u7528\uff09\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#73dtile","title":"7.3Dtile\u662f\u4ec0\u4e48\uff1f","text":"<p>3dtiles/gltf/s3m\u4e0ei3s\u4e00\u6837\u662f\u4e09\u7ef4\u7684\u6807\u51c6\u3002 3dtile\u4e3b\u8981\u662fcesium\u5728\u652f\u6301\u3002 gltf\u662f\u4e00\u79cd\u5f88\u8f7b\u91cf\u7684\u683c\u5f0f\uff0c\u662fthree.js\u63a8\u8350\u7684\u4e09\u7ef4\u683c\u5f0f\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#8utm","title":"8.UTM\u662f\u4ec0\u4e48\uff1f","text":"<p>\u6307\u901a\u7528\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71\u3002\u5b83\u4e0eWEB\u58a8\u5361\u6258\u548c\u9ad8\u65af\u514b\u5415\u683c\u7684\u4e0d\u540c\u770b\u540e\u9762\u7684\u6295\u5f71\u90e8\u5206\u5c31\u660e\u767d\u4e86\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#936","title":"9.3\u5ea6\u5e26\u548c6\u5ea6\u5e26\u8be6\u89e3\uff1f","text":"<p>\u4ee5\u683c\u6797\u5a01\u6cbb\u4e3a\u7b2c\u4e00\u6761\u4e2d\u592e\u7ecf\u7ebf\uff0c\u5c06\u5730\u7403\u4ee5\u7ecf\u7ebf\u65b9\u5411\u63093\u5ea6\u548c6\u5ea6\u5c06\u5730\u7403\u5747\u5206\u4e3a120\u4efd\u548c60\u4efd\u7684\u5206\u5e26\u65b9\u5f0f\uff0c\u6bcf\u4e2a\u5206\u5e26\u4e2d\u4ee5\u4e2d\u592e\u7ecf\u7ebf\u4e3a\u4e2d\u5fc3\u8fdb\u884c\u72ec\u7acb\u7684\u6295\u5f71\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#102000","title":"10.\u91c7\u75282000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u540e\u6295\u5f71\u65b9\u5f0f\u6709\u65e0\u6539\u53d8\uff1f","text":"<p>2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u5e73\u9762\u5750\u6807\u6295\u5f71\u4ecd\u91c7\u7528\u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71\u3002\u6d77\u56fe\u4ecd\u91c7\u7528\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71\uff08UTM\uff09\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#11","title":"11.\u201c\u56fd\u5bb6\u5929\u6587\u5927\u5730\u7f51\u201d\u662f\u4ec0\u4e48\uff1f","text":"<p>\u5929\u6587\u5927\u5730\u7f51\uff08astrogeodetic network\uff09\u3002\u5982\u679c\u5728\u5927\u5730\u7f51\u4e2d\u6bcf\u9694\u4e00\u5b9a\u8ddd\u79bb\u9009\u53d6\u82e5\u5e72\u5927\u5730\u70b9\u6d4b\u5b9a\u5929\u6587\u7ecf\u7eac\u5ea6\u548c\u5929\u6587\u65b9\u4f4d\u89d2\uff0c\u4f5c\u4e3a\u7f51\u7684\u8d77\u7b97\u548c\u6821\u6838\u6570\u636e\uff0c\u5e76\u7528\u4ee5\u8ba1\u7b97\u5929\u6587\u5927\u5730\u5782\u7ebf\u504f\u5dee\uff0c\u8fd9\u79cd\u5929\u6587\u6d4b\u91cf\u548c\u4e09\u89d2\u6d4b\u91cf\uff08\u6216\u5bfc\u7ebf\u6d4b\u91cf\uff09\u65b9\u6cd5\u5efa\u7acb\u7684\u6c34\u5e73\u63a7\u5236\u7f51\u79f0\u4e3a\u201c\u5929\u6587\u5927\u5730\u7f51\u201d\u3002 \u6211\u56fd\u5728\u5168\u56fd\u8303\u56f4\u5185\u9996\u5148\u5efa\u7acb\u8d77\u7684\u4e00\u7b49\u5929\u6587\u5927\u5730\u7f51\uff0c\u5176\u57fa\u672c\u56fe\u5f62\u4e3a\u6cbf\u7ecf\u7ebf\u548c\u7eac\u7ebf\u65b9\u5411\u5e03\u8bbe\u3001\u957f\u5ea6\u7ea6200km\u7684\u4e09\u89d2\u5f62\u9501\u6bb5\u6240\u7ec4\u6210\u7684\u65b9\u683c\u5f62\u7684\u63a7\u5236\u7f51\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#12","title":"12.\u5927\u5730\u539f\u70b9\u4e0e\u5750\u6807\u7cfb\u539f\u70b9\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":"<p>\u5927\u5730\u539f\u70b9\u4e00\u822c\u9009\u5728\u7279\u5b9a\u8303\u56f4\u7684\u4e2d\u5fc3\u4f4d\u7f6e\uff0c\u5176\u5750\u6807\u901a\u8fc7\u5404\u79cd\u65b9\u6cd5\u7efc\u5408\u786e\u5b9a\u3002\u59821980\u897f\u5b89\u5750\u6807\u7cfb\u4ee5\u6211\u56fd\u8303\u56f4\u5185\u9ad8\u7a0b\u5f02\u5e38\u5e73\u65b9\u548c\u6700\u5c0f\u4e3a\u6761\u4ef6\uff0c\u91c7\u7528\u591a\u70b9\u5b9a\u4f4d\u7684\u7ed3\u679c\u786e\u5b9a\u692d\u7403\u5b9a\u4f4d\u548c\u5b9a\u5411\uff1b\u5e76\u7531\u6b64\u63a8\u7b97\u5927\u5730\u539f\u70b9\u5728\u6b64\u5750\u6807\u7cfb\u7684\u5750\u6807\u4f5c\u4e3a\u8d77\u7b97\u6570\u636e\uff0c\u63a8\u7b97\u5176\u4ed6\u5404\u70b9\u7684\u5750\u6807\u30021980\u897f\u5b89\u5750\u6807\u7cfb\u7684\u5927\u5730\u539f\u70b9\u8bbe\u5728\u6211\u56fd\u4e2d\u90e8\u5730\u533a\uff0c\u53ef\u4f7f\u63a8\u7b97\u5750\u6807\u7684\u7cbe\u5ea6\u6bd4\u8f83\u5747\u5300\u3002\u56e0\u6b64\u5927\u5730\u539f\u70b9\u5750\u6807\u7edd\u4e0d\u662f\uff080\uff0c0\uff0c0\uff09\uff0c\u800c\u662f\u4e0e\u5927\u5730\u539f\u70b9\u5728\u692d\u7403\u4e0a\u6240\u5904\u5177\u4f53\u4f4d\u7f6e\u5bc6\u5207\u76f8\u5173\u7684\uff08B,L,H\uff09\u3002\u6309\u591a\u70b9\u5b9a\u4f4d\u89e3\u5f97\u7684\u5927\u5730\u539f\u70b9\u7684\u5782\u7ebf\u504f\u5dee\u548c\u9ad8\u7a0b\u5f02\u5e38\u503c\u5206\u522b\u4e3a\uff1a <code>\u03be =-1.9\uff0c\u03b7=-1.6\uff0c\u03b6=-14.0m</code> \u5750\u6807\u7cfb\u7684\u539f\u70b9\u4e3a\u5750\u6807\u7cfb\u7684\u5404\u70b9\u4f4d\u7f6e\u7684\u53c2\u7167\u70b9\uff0c\u4e00\u822c\u5b9a\u4e49\u4e3a\uff080\uff0c0\uff0c0\uff09</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#13","title":"13.\u5750\u6807\u7cfb\u8fd8\u6709\u4e2a\u201c\u5386\u5143\u201d\u7684\u6982\u5ff5\uff1f","text":"<p>\u5386\u5143\uff0c\u5728\u5929\u6587\u5b66\u662f\u4e00\u4e9b\u5929\u6587\u53d8\u6570\u4f5c\u4e3a\u53c2\u8003\u7684\u65f6\u523b\u70b9\uff0c\u4f8b\u5982\u5929\u7403\u5ea7\u6807\u6216\u5929\u4f53\u7684\u692d\u5706\u8f68\u9053\u8981\u7d20\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u4f1a\u53d7\u5230\u6444\u52a8\u800c\u968f\u7740\u65f6\u95f4\u53d8\u5316\u3002\u8fd9\u4e9b\u4f1a\u968f\u7740\u65f6\u95f4\u53d8\u52a8\u7684\u5929\u6587\u53d8\u91cf\u53ef\u80fd\u5305\u62ec\u5929\u4f53\u7684\u5e73\u9ec4\u7ecf\u6216\u5e73\u8fd1\u70b9\u89d2\u3001\u8f68\u9053\u76f8\u5bf9\u4e8e\u53c2\u8003\u5e73\u9762\u7684\u4ea4\u70b9\u3001\u8f68\u9053\u8fd1\u65e5\u70b9\u548c\u8fdc\u65e5\u70b9\u6216\u62f1\u70b9\u7684\u65b9\u5411\u3001\u5176\u8f68\u9053\u534a\u957f\u8f74\u7684\u5927\u5c0f\u7b49\u7b49\u3002\u5386\u5143\u6309\u7528\u9014\u4e0d\u540c\u4e3b\u8981\u5206\u4e3a3\u79cd\uff1a</p> <p>\uff081\uff09\u661f\u8868\uff08\u661f\u56fe\uff09\u5386\u5143</p> <p>\u7531\u4e8e\u5c81\u5dee\u548c\u7ae0\u52a8\u4ee5\u53ca\u81ea\u884c\u7684\u5f71\u54cd\uff0c\u5404\u79cd\u5929\u4f53\u7684\u5929\u7403\u5750\u6807\u90fd\u968f\u65f6\u53d8\u5316\u3002\u56e0\u6b64\uff0c\u661f\u8868\uff08\u661f\u56fe\uff09\u6240\u5217\u7684\u5404\u79cd\u5929\u4f53\u7684\u5929\u7403\u5750\u6807\uff0c\u90fd\u53ea\u80fd\u5bf9\u5e94\u4e8e\u67d0\u4e00\u7279\u5b9a\u65f6\u523b\uff0c\u6240\u4ee5\u9700\u8981\u6ce8\u660e\u5c5e\u4e8e\u67d0\u4e00\u5386\u5143\uff0c\u59821950.0\u30011975.0\u7b49\uff0c\u8fd9\u79cd\u5386\u5143\u79f0\u4e3a\u661f\u8868\uff08\u661f\u56fe\uff09\u5386\u5143\u3002\u5728\u4f7f\u7528\u661f\u8868\uff08\u661f\u56fe\uff09\u65f6\uff0c\u53ef\u4ee5\u5229\u7528\u5c81\u5dee\u3001\u7ae0\u52a8\u548c\u81ea\u884c\u7684\u8d44\u6599\uff0c\u5c06\u79cd\u79cd\u5929\u4f53\u5bf9\u5e94\u4e8e\u661f\u8868\uff08\u661f\u56fe\uff09\u5386\u5143\u7684\u5929\u7403\u5750\u6807\u6362\u7b97\u4e3a\u4f7f\u7528\u65f6\u523b\u7684\u5929\u7403\u5750\u6807\u3002</p> <p>\uff082\uff09\u89c2\u6d4b\u5386\u5143 \u4e3a\u4e86\u6bd4\u8f83\u4e0d\u540c\u65f6\u523b\u7684\u89c2\u6d4b\u7ed3\u679c\uff0c\u9700\u8981\u6ce8\u660e\u89c2\u6d4b\u8d44\u6599\u6240\u5bf9\u5e94\u7684\u89c2\u6d4b\u65f6\u523b\uff0c\u8fd9\u79cd\u65f6\u523b\u79f0\u4e3a\u89c2\u6d4b\u5386\u5143\u3002</p> <p>\uff083\uff09\u65f6\u95f4\u8ba1\u91cf\u7684\u521d\u59cb\u5386\u5143 \u5728\u65f6\u95f4\u8ba1\u91cf\u7cfb\u7edf\u4e2d\uff0c\u9664\u4e86\u786e\u5b9a\u65f6\u95f4\u5355\u4f4d\u5916\uff0c\u8fd8\u8981\u786e\u5b9a\u65f6\u95f4\u8ba1\u91cf\u7684\u8d77\u70b9\uff0c\u8fd9\u79cd\u8d77\u70b9\u79f0\u4e3a\u65f6\u95f4\u8ba1\u91cf\u7684\u521d\u59cb\u5386\u5143\u3002 \u73b0\u5728ITRF\u6846\u67b6\u4e2d\u4f7f\u7528\u7684\u6807\u51c6\u5386\u5143\u662fJ2000.0\uff0c\u5373TT\u4e3a2000\u5e741\u67081\u65e512:00\u3002\u524d\u7f00\u201cJ\u201d\uff0c\u4ee3\u8868\u8fd9\u662f\u4e00\u4e2a\u5112\u7565\u5386\u5143\u3002\u5728\u4f7f\u75282000.0\u524d\u7684\u6807\u51c6\u5386\u5143\u662fB1950.0\uff0c\u524d\u7f00\u201cB\u201d\u4ee3\u8868\u8fd9\u662f\u4e00\u4e2a\u8d1d\u585e\u5c14\u5386\u5143\u3002\u8d1d\u585e\u5c14\u5386\u5143\u57281984\u5e74\u524d\u4f7f\u7528\uff0c\u73b0\u5728\u4f7f\u7528\u7684\u662f\u5112\u7565\u5386\u5143\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#142000","title":"14.\u201c2000\u56fd\u5bb6\u5927\u5730\u63a7\u5236\u7f51\u201d\u662f\u4ec0\u4e48\uff1f","text":"<p>2000\u56fd\u5bb6\u5927\u5730\u63a7\u5236\u7f51\u70b9\u662f2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u7684\u6846\u67b6\u70b9\uff0c\u662f2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u7684\u5177\u4f53\u5b9e\u73b0\u3002\u9664\u4e86\u5305\u62ec2000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u5916\uff0c\u8fd8\u5305\u62ec\u57282000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u7684\u57fa\u7840\u4e0a\u5b8c\u6210\u7684\u5929\u6587\u5927\u5730\u7f51\u8054\u5408\u5e73\u5dee\u83b7\u5f97\u7684\u5728ITRF97\u6846\u67b6\u4e0b\u7684\u8fd15\u4e07\u4e2a\u4e00\u3001\u4e8c\u7b49\u5929\u6587\u5927\u5730\u7f51\u70b9\uff0c\u540c\u65f6\u4e5f\u5c06\u5305\u62ec\u5728ITRF97\u6846\u67b6\u4e0b\u5e73\u5dee\u540e\u83b7\u5f97\u7684\u8fd110\u4e07\u4e2a\u4e09\u3001\u56db\u7b49\u5929\u6587\u5927\u5730\u7f51\u70b9\u3002</p> <p>\u6309\u7cbe\u5ea6\u4e0d\u540c\u53ef\u5212\u5206\u4e3a\u4ee5\u4e0b3\u4e2a\u5c42\u6b21\uff1a \uff081\uff092000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u4e2d\u7684\u8fde\u7eed\u8fd0\u884c\u57fa\u51c6\u7ad9\uff0c\u5176\u5750\u6807\u7cbe\u5ea6\u4e3a\u6beb\u7c73\u7ea7\u3002 \uff082\uff09\u56fd\u5bb6\u6d4b\u7ed8\u5c40GPS A\u3001B\u7ea7\u7f51\uff0c\u603b\u53c2\u6d4b\u7ed8\u5c40GPS\u4e00\u3001\u4e8c\u7ea7\u7f51\u4ee5\u53ca\u7531\u4e2d\u56fd\u5730\u9707\u5c40\u3001\u603b\u53c2\u6d4b\u7ed8\u5c40\u3001\u4e2d\u56fd\u79d1\u5b66\u9662\u3001\u56fd\u5bb6\u6d4b\u7ed8\u5c40\u5171\u5efa\u7684\u4e2d\u56fd\u5730\u58f3\u8fd0\u52a8\u89c2\u6d4b\u7f51\uff0c\u8fd8\u6709\u5176\u4ed6\u5730\u58f3\u5f62\u53d8GPS\u76d1\u6d4b\u7f51\u7b49\u4e2d\u9664\u4e86CORS\u7ad9\u4ee5\u5916\u7684\u6240\u6709\u7ad9\u30022000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u63d0\u4f9b\u7684\u5730\u5fc3\u5750\u6807\u7684\u7cbe\u5ea6\u5e73\u5747\u4f18\u4e8e+-3cm\u3002 \uff083\uff092000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u4e0b\u7684\u4e00\u3001\u4e8c\u3001\u4e09\u3001\u56db\u7b49\u5929\u6587\u5927\u5730\u7f51\u70b9\u3002</p> <p>\u56fd\u5bb6\u6d4b\u7ed8\u5c40\u548c\u603b\u53c2\u6d4b\u7ed8\u5c40\u5206\u522b\u5b8c\u6210\u7684\u6211\u56fd\u5929\u6587\u5927\u5730\u7f51\u4e0e2000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u7684\u89c2\u6d4b\u6570\u636e\u8054\u5408\u5904\u7406\uff0c\u83b7\u5f97\u7684\u6211\u56fd48919\u4e2a\u4e00\u3001\u4e8cGPS\u7ad9\uff0c21\u4e2aVLBI\u7ad9\u548c11\u4e2aSLR\u7ad9\uff0c\u5176\u4e2d\u6709\u4e2d\u56fd\u7684\u62c9\u8428\u548c\u4e0a\u6d77\u7684SLR\u7ad9\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#15","title":"15.\u201c\u53c2\u8003\u7cfb\u4e0e\u53c2\u8003\u6846\u67b6\u95f4\u7684\u5173\u7cfb\u201d\u662f\u4ec0\u4e48\uff1f","text":"<p>\u53c2\u8003\u6846\u67b6\u662f\u5750\u6807\u53c2\u8003\u7cfb\u7684\u5b9e\u73b0\u3002\u53c2\u8003\u7cfb\u5b9a\u4e49\u660e\u786e\u4e14\u4e25\u5bc6\uff0c\u62bd\u8c61\u96be\u628a\u63e1\u3002\u9700\u901a\u8fc7\u4e00\u4e9b\u5177\u4f53\u76f4\u89c2\u7684\u70b9\u6765\u63cf\u8ff0\u6216\u53cd\u6620\u67d0\u4e00\u7279\u5b9a\u7684\u5750\u6807\u53c2\u8003\u7cfb\uff0c\u8fd9\u4e9b\u6ee1\u8db3\u7279\u5b9a\u5750\u6807\u53c2\u8003\u7cfb\u7684\u70b9\u5c31\u662f\u4eba\u4eec\u901a\u5e38\u6240\u8bf4\u7684\u5750\u6807\u53c2\u8003\u6846\u67b6\u3002\u4e00\u822c\u800c\u8a00\uff0c\u53ea\u8981\u6d89\u53ca\u4e0e\u7a7a\u95f4\u4f4d\u7f6e\u6709\u5173\u7684\u95ee\u9898\uff0c\u5c31\u4f1a\u6d89\u53ca\u53c2\u8003\u7cfb\uff1b\u800c\u6d89\u53ca\u53c2\u8003\u7cfb\u5fc5\u5c06\u4f1a\u6d89\u53ca\u5750\u6807\u53c2\u8003\u7cfb\u6846\u67b6\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#162000gps","title":"16.\u201c2000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u201d\u662f\u4ec0\u4e48\uff1f","text":"<p>2000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u7531\u56fd\u5bb6\u6d4b\u7ed8\u5c40\u5e03\u8bbe\u7684A\u3001B\u7ea7\u7f51\uff0c\u8054\u5408\u603b\u53c2\u6d4b\u7ed8\u5c40\u5e03\u8bbe\u7684GPS\u4e00\u3001\u4e8c\u7ea7\u7f51\u4ee5\u53ca\u7531\u4e2d\u56fd\u5730\u9707\u5c40\u3001\u603b\u53c2\u6d4b\u7ed8\u5c40\u3001\u4e2d\u56fd\u79d1\u5b66\u9662\u3001\u56fd\u5bb6\u6d4b\u7ed8\u5c40\u5171\u5efa\u7684\u4e2d\u56fd\u5730\u58f3\u8fd0\u52a8\u89c2\u6d4b\u7f51\uff0c\u8fd8\u6709\u5176\u4ed6\u5730\u58f3\u5f62\u53d8GPS\u76d1\u6d4b\u7f51\u7b49\u3002\u6240\u6709\u53c2\u52a0\u4e09\u7f51\u5e73\u5dee\u7684\u4e0a\u8ff0GPS\u7f51\u70b9\uff0c\u7ecf\u8fc7\u7b5b\u9009\u548c\u76f8\u90bb\u70b9\u5408\u5e76\uff0c\u6700\u8fd1\u9009\u53d6\u4e86\u56fd\u51852542\u4e2aGPS\u70b9\uff08\u5176\u4e2dCORS\u7ad925\u4e2a\u2014\uff09\u53c2\u52a0\u4e862000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u7684\u6570\u636e\u5904\u7406\uff0c\u901a\u8fc7\u8054\u5408\u6570\u636e\u5904\u7406\u5c06\u6846\u67b6\u70b9\u5750\u6807\u7edf\u4e00\u5f52\u7b97\u5230\u4e00\u4e2a\u5750\u6807\u53c2\u8003\u6846\u67b6\uff08\u53c2\u8003\u6846\u67b6\u4e3aITRF97\uff0c\u53c2\u8003\u5386\u5143\u4e3a2000.0\uff09\u4e0b\uff0c\u5904\u7406\u540e\u7f51\u70b9\u76f8\u5bf9\u7cbe\u5ea6\u4f18\u4e8e10^-7\u4ee5\u4e0a\uff0c2000\u56fd\u5bb6GPS\u5927\u5730\u63a7\u5236\u7f51\u63d0\u4f9b\u7684\u5730\u5fc3\u5750\u6807\u7684\u7cbe\u5ea6\u5e73\u5747\u4f18\u4e8e+-3cm\u3002\u53ef\u6ee1\u8db3\u73b0\u4ee3\u6d4b\u91cf\u6280\u672f\u5bf9\u5730\u5fc3\u5750\u6807\u7684\u9700\u6c42\uff0c\u540c\u65f6\u4e3a\u5efa\u7acb\u6211\u56fd\u65b0\u4e00\u4ee3\u7684\u5730\u5fc3\u5750\u6807\u7cfb\u7edf\u5960\u5b9a\u4e86\u575a\u5b9e\u7684\u57fa\u7840\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#17arcgis","title":"17.\u6709\u201c\u7ecf\u7eac\u5ea6\u6295\u5f71\u201d\u8fd9\u4e2a\u8bf4\u6cd5\u4e48\uff1f\u5982\u679c\u6ca1\u6709\uff0c\u90a3ArcGIS\u91cc\u9762\u770b\u5730\u7406\u5750\u6807\u7684\u6570\u636e\u7684\u65f6\u5019\u662f \u600e\u6837\u5904\u7406\u7684\uff1f","text":"<p>\u7ecf\u7eac\u5ea6\u8868\u793a\u7684\u662f\u5730\u7406\u5750\u6807\u7cfb\uff08\u5355\u4f4d\u662f\u5ea6\uff09\uff0c\u4e0d\u662f\u6295\u5f71\u5750\u6807\u7cfb\uff08\u5355\u4f4d\u662f\u7c73\uff09\uff0c\u4e24\u8005\u653e\u4e00\u8d77\u660e\u663e\u4e0d\u59a5\u3002 \u4f46\u4e8b\u5b9e\u4e0a\u6709\u201c\u7ecf\u7eac\u5ea6\u76f4\u6295\u201d\u8fd9\u4e2a\u8bf4\u6cd5\uff0cArcGIS\u5728\u4e0d\u6307\u5b9a\u6295\u5f71\u5750\u6807\u7cfb\u7684\u65f6\u5019\u4f1a\u9ed8\u8ba4\u4f7f\u7528\u7ecf\u7eac\u5ea6\u76f4\u6295\uff0c\u73b0\u5728\u7684\u5929\u5730\u56fe\u4e5f\u53ef\u4ee5\u5207\u6362\u4e3a\u7ecf\u7eac\u5ea6\u76f4\u6295\u7684\u65b9\u5f0f\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#183857900913","title":"18.\u6709\u54ea\u4e9b\u5750\u6807\u7cfb\u6807\u51c6\uff1f\u6bd4\u59823857\u3001900913\u5b9e\u9645\u662f\u540c\u4e00\u4e2a\u4e1c\u897f\u5728\u4e0d\u540c\u6807\u51c6\u7cfb\u7edf\u91cc\u9762\u7684\u4e0d\u540c\u540d\u5b57","text":"<p>\u5e38\u89c1\u7684\u6709EPSG\u3001ESRI\u3001OSGeo\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#19","title":"19.\u5927\u5730\u5750\u6807\u7cfb\u4e0e\u5730\u7406\u5750\u6807\u7cfb\u6709\u4f55\u4e0d\u540c\uff1f","text":"<p>\u5927\u5730\u5750\u6807\u7cfb\u548c\u5730\u7406\u5750\u6807\u7cfb\u90fd\u662f\u7ecf\u7eac\u5ea6\u8868\u793a\u7684\u5750\u6807\u7cfb\uff0c\u672c\u8eab\u5e76\u4e0d\u5305\u542b\u6295\u5f71\u4fe1\u606f\uff0c\u5f88\u591a\u65f6\u5019\uff0c\u8fd9\u4e24\u79cd\u8bf4\u6cd5\u90fd\u662f\u76f8\u540c\u7684\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#20","title":"20.\u4e3a\u4ec0\u4e48\u4f1a\u5f62\u6210\u57ce\u5e02\u5750\u6807\u7cfb\u7edf\uff1f","text":"<p>\u57ce\u5e02\u5750\u6807\u7cfb\u7edf\u662f\u6307\u67d0\u4e9b\u4e0d\u9002\u5b9c\u91c7\u7528\u56fd\u5bb6\u5750\u6807\u7cfb\u7edf\u7684\u57ce\u5e02\uff08\u5982\u679c\u91c7\u7528\u56fd\u5bb6\u6807\u51c6\u5206\u5e26\uff0c\u5c06\u4f1a\u5bfc\u81f4\u5730\u9762\u70b9\u7684\u9ad8\u65af\u6295\u5f71\u53d8\u5f62\u8d85\u8fc7\u56fd\u5bb6\u76f8\u5173\u6d4b\u91cf\u89c4\u8303\u89c4\u5b9a\u7684\u6781\u9650\u503c\uff09\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u91c7\u7528\u5e76\u62a5\u56fd\u5bb6\u6d4b\u7ed8\u7ba1\u7406\u90e8\u95e8\u6279\u51c6\u7684\u4efb\u610f\u5e26\u9ad8\u65af\u6295\u5f71\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u3002</p> <p>\u8b6c\u5982\uff0c\u67d0\u57ce\u5e02\u91c7\u7528\u7684\u662f\u4e2d\u592e\u5b50\u5348\u7ebf117\u00b0\u9ad8\u65af\u6295\u5f71\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\uff0c\u5b83\u5c31\u5c5e\u4e8e\u56fd\u5bb6\u5750\u6807\u7cfb\u7edf\uff1b\u800c\u53e6\u4e00\u4e2a\u57ce\u5e02\u91c7\u7528\u7684\u662f\u4e2d\u592e\u5b50\u5348\u7ebf116\u00b020\u2032\u9ad8\u65af\u6295\u5f71\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\uff0c\u5b83\u5c31\u5c5e\u4e8e\u57ce\u5e02\u5750\u6807\u7cfb\u7edf</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#21","title":"21.\u4ec0\u4e48\u662f\u672c\u521d\u5b50\u5348\u7ebf\uff1f\u4ec0\u4e48\u662f\u7ecf\u7ebf\uff1f","text":"<p>\u4f4d\u4e8e\u4e24\u6781\u70b9\u4e2d\u95f4\u7684\u7eac\u7ebf\u79f0\u4e3a\u8d64\u9053\u3002\u5b83\u5b9a\u4e49\u7684\u662f\u96f6\u7eac\u5ea6\u7ebf\u3002\u96f6\u7ecf\u5ea6\u7ebf\u79f0\u4e3a\u672c\u521d\u5b50\u5348\u7ebf\u3002\u5bf9\u4e8e\u7edd\u5927\u591a\u6570\u5730\u7406\u5750\u6807\u7cfb\uff0c\u672c\u521d\u5b50\u5348\u7ebf\u662f\u6307\u901a\u8fc7\u82f1\u56fd\u683c\u6797\u5c3c\u6cbb\u7684\u7ecf\u7ebf\u3002\u5176\u4ed6\u56fd\u5bb6/\u5730\u533a\u4f7f\u7528\u901a\u8fc7\u4f2f\u5c14\u5c3c\u3001\u6ce2\u54e5\u5927\u548c\u5df4\u9ece\u7684\u7ecf\u7ebf\u4f5c\u4e3a\u672c\u521d\u5b50\u5348\u7ebf\u3002\u7ecf\u7eac\u7f51\u7684\u539f\u70b9 (0,0) \u5b9a\u4e49\u5728\u8d64\u9053\u548c\u672c\u521d\u5b50\u5348\u7ebf\u7684\u4ea4\u70b9\u5904\u3002\u8fd9\u6837\uff0c\u5730\u7403\u5c31\u88ab\u5206\u4e3a\u4e86\u56db\u4e2a\u5730\u7406\u8c61\u9650\uff0c\u5b83\u4eec\u5747\u57fa\u4e8e\u4e0e\u539f\u70b9\u6240\u6210\u7684\u7f57\u76d8\u65b9\u4f4d\u89d2\u3002\u5357\u548c\u5317\u5206\u522b\u4f4d\u4e8e\u8d64\u9053\u7684\u4e0b\u65b9\u548c\u4e0a\u65b9\uff0c\u800c\u897f\u548c\u4e1c\u5206\u522b\u4f4d\u4e8e\u672c\u521d\u5b50\u5348\u7ebf\u7684\u5de6\u4fa7\u548c\u53f3\u4fa7\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#22wkidwell-known-id","title":"22.\u5e38\u8bf4\u7684WKID\u5373Well Known ID\u90fd\u662f\u4ec0\u4e48\uff1f","text":"<p>WKID\u5373Well Known ID\uff0c\u4f17\u6240\u5468\u77e5\u7684ID\u53f7\u7684\u610f\u601d\u3002 WKT\u5373Well-Known Text\uff0c\u90fd\u51fa\u81eaOGC\u3002 EPSG\u662f\u7ba1\u7406\u8fd9\u4e9bID\u53f7\u7684\u4e00\u4e2a\u7ec4\u7ec7\uff0c\u7f51\u7ad9\u662f epsg.io</p> <p>\u6295\u5f71\u9762\u662f\uff08\u692d\uff09\u5706\u67f1\u9762\u7684\u6295\u5f71\u5747\u53eb\u201c\u58a8\u5361\u6258\u6295\u5f71\u201d</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#23kmlkmzgmlgpx","title":"23.\u5e38\u8bf4\u7684kml(kmz)/gml/gpx\u90fd\u662f\u4e9b\u4ec0\u4e48\uff1f","text":"<p>\u4e09\u79cd\u90fd\u662fXML\u7684\u4e00\u79cd\u6269\u5c55\uff0ckmz\u662fkml\u7684\u538b\u7f29\u6587\u4ef6\uff0ckml\u662f\u65e9\u671fGoogle Earth\u7684\u6570\u636e\u683c\u5f0f\uff0c\u73b0\u5728\u662fOGC\u7684\u4e00\u79cd\u6570\u636e\u6807\u51c6\u89c4\u8303\uff0cgml\u4e5f\u662fOGC\u7684\u4e00\u79cd\u6807\u51c6\u6570\u636e\u89c4\u8303\u3002gpx\u662fgps\u536b\u661f\u4fe1\u606f\u7684\u8bb0\u5f55\u6587\u4ef6\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#24arcgis-servermapserverimageserver","title":"24.ArcGIS Server\u53d1\u5e03\u7684MapServer\u4e3a\u4ec0\u4e48\u4f1a\u6709\u5b50\u56fe\u5c42\uff0cImageServer\uff08\u5f71\u50cf\u670d\u52a1\uff09\u6ca1\u6709?","text":"<p>![[assets/Pasted image 20250530003315.png]]</p> <p>\u51e0\u79cd\u5e38\u7528\u5750\u6807\u7cfb\u7684\u692d\u7403\u4f53\u5bf9\u6bd4</p> \u5750\u6807\u7cfb\u540d \u5317\u4eac54 \u897f\u5b8980 WGS84 CGCS2000 \u53c2\u8003\u692d\u7403 Krasovsky_1940 IAG75(ArcGIS\u4e2d\u6807\u6ce8\u662fXian_1980\u692d\u7403) WGS_1984 CGCS2000 \u692d\u7403\u6781\u534a\u5f84b 6356863.0187730473 6356755.288158 6356752.314245 6356752.314140 \u692d\u7403\u8d64\u9053\u534a\u5f84a 6378245.000000 6378140.000000 6378137.000000 6378137.000000 \u6241\u7387 1/298.3 1/298.25722101 1/298.257223563 1/298.257222101 \u53c2\u8003\u6c34\u51c6\u9762 56\u9ec4\u6d77 85\u9ec4\u6d77 - 85\u9ec4\u6d77 ArcGIS\u4e2d\u7684\u540d\u79f0 GCS_Beijing_1954 GCS_Xian_1980 GCS_WGS_1984 GCS_China_Geodetic_Coordinate_System_2000 ArcGIS\u4e2dWKID 4214 4610 4326 4490"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#25","title":"25.\u6bd4\u4f8b\u5c3a\u600e\u4e48\u8ba1\u7b97\uff1f\u662f\u4e0d\u662f\u6295\u5f71\u540e\u7684\u5730\u56fe\u8ba1\u7b97\u6bd4\u4f8b\u5c3a\u90fd\u662f\u4e0d\u51c6\u786e\u7684\uff1f","text":"<p>\u6bd4\u4f8b\u5c3a\u662f\u6307\u56fe\u7247\u4e00\u5398\u7c73\u4ee3\u8868\u5b9e\u9645\u591a\u957f\u8ddd\u79bb\u3002\u7531\u4e8e\u6295\u5f71\u540e\u4e24\u6781\u5f62\u53d8\u6bd4\u8f83\u5927\uff0c\u6240\u4ee5\u6bd4\u4f8b\u5c3a\u539f\u5219\u4e0a\u662f\u4e0d\u51c6\u786e\u7684\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#26","title":"26.\u5404\u79cd\u5730\u7406\u5750\u6807\u7cfb\u8f6c\u6362\u4e3a\u6295\u5f71\u5750\u6807\u7cfb\u65f6\u7684\u51fd\u6570\u5e94\u8be5\u5404\u662f\u4ec0\u4e48\u6837\uff1f","text":"<p>\u4e0d\u540c\u7684\u6295\u5f71\u516c\u5f0f\u5404\u6709\u4e0d\u540c\uff0c\u5c24\u5176\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\u516c\u5f0f\u8d85\u7ea7\u590d\u6742\uff0c\u7531\u4e8e\u516c\u5f0f\u592a\u591a\u4e0d\u597d\u7f16\u8f91\uff0c\u6240\u4ee5\u76f4\u63a5\u53c2\u8003\u522b\u4eba\u5199\u597d\u7684\u5427\u3002 \u5e38\u7528\u5730\u56fe\u6295\u5f71\u8f6c\u6362\u516c\u5f0f</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#27cgcs2000web","title":"27.\u56fd\u5bb6\u73b0\u5728\u8981\u6c42\u6240\u6709\u7684\u5730\u7406\u6570\u636e\u5fc5\u987b\u4e3aCGCS2000\u90a3\u6211\u4eec\u8fd8\u80fd\u7528WEB\u58a8\u5361\u6258\u6295\u5f71\u4e48\uff1f","text":"<p>\u5b8c\u5168\u53ef\u4ee5\u3002CGCS2000\u662f\u5c5e\u4e8e\u5730\u7406\u5750\u6807\u7cfb\uff0c\u5e76\u4e0d\u6307\u6295\u5f71\u5750\u6807\u3002\u56fd\u5bb6\u4ece\u6765\u6ca1\u6709\u5f3a\u5236\u89c4\u5b9a\u8981\u7528\u4ec0\u4e48\u6837\u7684\u6295\u5f71\u65b9\u6cd5\uff0c\u867d\u7136\u6211\u4eec\u90fd\u77e5\u9053\u6211\u56fd\u591a\u6570\u636e\u60c5\u51b5\u4e0b\u662f\u4f7f\u7528\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\uff0c\u4f46\u5e76\u4e0d\u4ee3\u8868\u5fc5\u987b\u8981\u5728\u7f51\u9875\u5730\u56fe\u4e0a\u4f7f\u7528\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\u3002</p> <p>\u636e\u6211\u6240\u77e5\u73b0\u5728\u7f51\u9875\u5730\u56fe\u4e0a\u51e0\u4e4e\u6ca1\u6709\u770b\u5230\u8c01\u7528\u7684\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\uff0c\u90fd\u662f\u7528\u7684WEB\u58a8\u5361\u6258\u6295\u5f71\u6216\u8005\u7ecf\u7eac\u5ea6\u76f4\u6295\uff0c\u800c\u4e14\u5929\u5730\u56fe\u4e5f\u662f\u4f7f\u7528WEB\u58a8\u5361\u6258\u6295\u5f71\u65b9\u5f0f\u3002\u6240\u4ee5\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u53ea\u8981\u6e90\u6570\u636e\u662f\u5730\u7406\u5750\u6807\u7cfb\uff0c\u6295\u5f71\u5750\u6807\u4f7f\u7528WEB\u58a8\u5361\u6258\u5e94\u8be5\u4e5f\u65e0\u59a8\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#28","title":"28.\u5929\u6587\u5750\u6807\u548c\u5927\u5730\u5750\u6807\u662f\u4ec0\u4e48\u73a9\u610f\u513f\uff1f","text":"<p>\u5730\u9762\u70b9\u5728\u7403\u9762\u4e0a\u7684\u4f4d\u7f6e\u7528\u7ecf\u7eac\u5ea6\u8868\u793a\u65f6\uff0c\u79f0\u4e3a\u5730\u7406\u5750\u6807\u3002\u5730\u7406\u5750\u6807\u6309\u5750\u6807\u6240\u4f9d\u636e\u7684\u57fa\u51c6\u7ebf\u3001\u57fa\u51c6\u9762\u53ca\u6c42\u5750\u6807\u65b9\u6cd5\u7684\u4e0d\u540c\uff0c\u53ef\u5206\u4e3a\u5929\u6587\u5750\u6807\u548c\u5927\u5730\u5750\u6807\u4e24\u79cd\u3002</p> <p>\u5929\u6587\u5750\u6807\u53c8\u79f0\u5929\u6587\u5730\u7406\u5750\u6807\uff0c\u662f\u7528\u5929\u6587\u7ecf\u5ea6\u548c\u5929\u6587\u7eac\u5ea6\u8868\u793a\u5730\u9762\u70b9\u5728\u5927\u5730\u6c34\u51c6\u9762\u4e0a\u7684\u4f4d\u7f6e\u3002</p> <p>\u5927\u5730\u5750\u6807\u53c8\u79f0\u5927\u5730\u5730\u7406\u5750\u6807\uff0c\u7528\u5927\u5730\u7ecf\u5ea6\u548c\u5927\u5730\u7eac\u5ea6\u8868\u793a\u5730\u9762\u70b9\u5728\u65cb\u8f6c\u692d\u7403\u9762\u4e0a\u7684\u4f4d\u7f6e\u3002</p> <p>\u5929\u6587\u7ecf\u7eac\u5ea6\u662f\u7528\u5929\u6587\u6d4b\u91cf\u65b9\u6cd5\u6d4b\u5b9a\u7684\u3002\u5927\u5730\u7ecf\u7eac\u5ea6\u662f\u6839\u636e\u4e00\u4e2a\u8d77\u59cb\u7684\u5927\u5730\u70b9\uff08\u5927\u5730\u539f\u70b9\uff0c\u8fd9\u70b9\u7684\u5927\u5730\u7ecf\u3001\u7eac\u5ea6\u4e0e\u5929\u6587\u7ecf\u5ea6\u4e00\u81f4\uff09\u7684\u5927\u5730\u5750\u6807\uff0c\u6309\u5927\u5730\u6d4b\u91cf\u6240\u5f97\u7684\u6570\u636e\u63a8\u7b97\u800c\u5f97\u7684\u3002\u73b0\u5728\u6211\u56fd\u4ee5\u6c38\u4e50\u9547\u7684\u5927\u5730\u539f\u70b9\u4e3a\u8d77\u7b97\u70b9\uff0c\u7531\u6b64\u5efa\u7acb\u65b0\u7684\u7edf\u4e00\u5750\u6807\u7cfb\uff0c\u79f0\u4e3a1980\u5e74\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u3002\u5728\u56fd\u5bb6\u5404\u7b49\u7ea7\u5e73\u9762\u63a7\u5236\u6d4b\u91cf\u4e2d\uff0c\u5b9e\u9645\u6d4b\u5b9a\u548c\u5e94\u7528\u7684\u662f\u5927\u5730\u5750\u6807\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#_2","title":"\u5730\u7406\u5750\u6807\u7cfb","text":""},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#1cgcs20002000wkid4490","title":"1.CGCS2000\uff082000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\uff0cwkid=4490\uff09","text":"<p>2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u7684\u539f\u70b9\u4e3a\u5305\u62ec\u6d77\u6d0b\u548c\u5927\u6c14\u7684\u6574\u4e2a\u5730\u7403\u7684\u8d28\u91cf\u4e2d\u5fc3\u30022000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u7684Z\u8f74\u7531\u539f\u70b9\u6307\u5411\u5386\u51432000.0\u7684\u5730\u7403\u53c2\u8003\u6781\u7684\u65b9\u5411\uff0c\u8be5\u5386\u5143\u7684\u6307\u5411\u7531\u56fd\u9645\u65f6\u95f4\u5c40\u7ed9\u5b9a\u7684\u5386\u5143\u4e3a1984.0\u4f5c\u4e3a\u521d\u59cb\u6307\u5411\u6765\u63a8\u7b97\uff0c\u5b9a\u5411\u7684\u65f6\u95f4\u6f14\u5316\u4fdd\u8bc1\u76f8\u5bf9\u4e8e\u5730\u58f3\u4e0d\u4ea7\u751f\u6b8b\u4f59\u7684\u5168\u7403\u4e5f\u65cb\u8f6c\uff1bX\u8f74\u7531\u539f\u70b9\u6307\u5411\u683c\u6797\u5c3c\u6cbb\u53c2\u8003\u5b50\u5348\u7ebf\u4e0e\u5730\u7403\u8d64\u9053\u9762\uff08\u5386\u51432000.0\uff09\u7684\u4ea4\u70b9\uff1bY\u8f74\u4e0eZ\u8f74\u3001X\u8f74\u6784\u6210\u53f3\u624b\u6b63\u4ea4\u5750\u6807\u7cfb\u30022000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u7684\u5c3a\u5ea6\u4e3a\u5728\u5f15\u529b\u76f8\u5bf9\u8bba\u610f\u4e49\u4e0b\u7684\u5c40\u90e8\u5730\u7403\u6846\u67b6\u4e0b\u7684\u5c3a\u5ea6\u3002 2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u91c7\u7528\u7684\u5730\u7403\u692d\u7403\u53c2\u6570\u6570\u503c\u4e3a\uff1a</p> <p>\u957f\u534a\u8f74 \u03b1=6378137m</p> <p>\u6241\u7387 f=1/298.257222101</p> <p>\u5730\u5fc3\u5f15\u529b\u5e38\u6570 GM=3.986004418X10<sup>14m</sup>3s^-2</p> <p>\u81ea\u8f6c\u89d2\u901f\u5ea6 \u03c9= 7.292115x10^-5rad/s</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#2wgs841984wkid4326","title":"2.WGS84\uff081984\u5e74\u4e16\u754c\u5927\u5730\u5750\u6807\u7cfb\u7edf\uff0cwkid=4326\uff09","text":"<p>WGS-84\u5750\u6807\u7cfb\uff08World Geodetic System\u4e001984 Coordinate System\uff09 \u4e00\u79cd\u56fd\u9645\u4e0a\u91c7\u7528\u7684\u5730\u5fc3\u5750\u6807\u7cfb\uff0c\u79f0\u4e3a1984\u5e74\u4e16\u754c\u5927\u5730\u5750\u6807\u7cfb\u7edf\u3002WGS-84\u692d\u7403\u91c7\u7528\u56fd\u9645\u5927\u5730\u6d4b\u91cf\u4e0e\u5730\u7403\u7269\u7406\u8054\u5408\u4f1a\u7b2c17\u5c4a\u5927\u4f1a\u6d4b\u91cf\u5e38\u6570\u63a8\u8350\u503c\uff0c\u91c7\u7528\u7684\u4e24\u4e2a\u5e38\u7528\u57fa\u672c\u51e0\u4f55\u53c2\u6570\u3002</p> <p>WGS-84\u662f\u4fee\u6b63NSWC9Z-2\u53c2\u8003\u7cfb\u7684\u539f\u70b9\u548c\u5c3a\u5ea6\u53d8\u5316\uff0c\u5e76\u65cb\u8f6c\u5176\u53c2\u8003\u5b50\u5348\u9762\u4e0eBIH\u5b9a\u4e49\u7684\u96f6\u5ea6\u5b50\u5348\u9762\u4e00\u81f4\u800c\u5f97\u5230\u7684\u4e00\u4e2a\u65b0\u53c2\u8003\u7cfb\uff0cWGS-84\u5750\u6807\u7cfb\u7684\u539f\u70b9\u5728\u5730\u7403\u8d28\u5fc3\uff0cZ\u8f74\u6307\u5411BIH1984.0\u5b9a\u4e49\u7684\u534f\u5b9a\u5730\u7403\u6781\uff08CTP\uff09\u65b9\u5411\uff0cX\u8f74\u6307\u5411BIH1984.0\u7684\u96f6\u5ea6\u5b50\u5348\u9762\u548cCTP\u8d64\u9053\u7684\u4ea4\u70b9\uff0cY\u8f74\u548cZ\u3001X\u8f74\u6784\u6210\u53f3\u624b\u5750\u6807\u7cfb\u3002\u5b83\u662f\u4e00\u4e2a\u5730\u56fa\uff08\u5730\u5fc3\u56fa\u8fde\uff09\u5750\u6807\u7cfb\u3002</p> <p>\u957f\u534a\u5f84\uff1aa=6378137\u00b12\uff08m\uff09\uff1b</p> <p>\u5730\u7403\u5f15\u529b\u548c\u5730\u7403\u8d28\u91cf\u7684\u4e58\u79ef\uff1aGM=3986005\u00d7108m3s-2\u00b10.6\u00d7108m3s-2\uff1b</p> <p>\u6b63\u5e38\u5316\u4e8c\u9636\u5e26\u8c10\u7cfb\u6570\uff1aC20=-484.16685\u00d710-6\u00b11.3\u00d710-9\uff1b</p> <p>\u5730\u7403\u91cd\u529b\u573a\u4e8c\u9636\u5e26\u7403\u8c10\u7cfb\u6570\uff1aJ2=108263\u00d710-8\uff1b</p> <p>\u5730\u7403\u81ea\u8f6c\u89d2\u901f\u5ea6\uff1a\u03c9=7292115\u00d710-11rads-1\u00b10.150\u00d710-11rads-1\uff1b</p> <p>\u6241\u7387f=0.003352810664</p> <p>GPS\u5e7f\u64ad\u661f\u5386\u662f\u4ee5WGS-84\u5750\u6807\u7cfb\u4e3a\u6839\u636e\u7684</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#380wkid4610","title":"3.\u897f\u5b8980\uff08wkid=4610\uff09","text":"<p>\u897f\u5b8980\u5750\u6807\u7cfb\u662f\u63071980\u5e74\u897f\u5b89\u5750\u6807\u7cfb\uff0c\u53c8\u7b80\u79f0\u897f\u5b89\u5927\u5730\u539f\u70b9\u30021978\u5e744\u6708\u5728\u897f\u5b89\u53ec\u5f00\u5168\u56fd\u5929\u6587\u5927\u5730\u7f51\u5e73\u5dee\u4f1a\u8bae\u4e0a\u5efa\u7acb\u3002</p> <p>1980\u5e74\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u91c7\u7528\u5730\u7403\u692d\u7403\u57fa\u672c\u53c2\u6570\u4e3a1975\u5e74\u56fd\u9645\u5927\u5730\u6d4b\u91cf\u4e0e\u5730\u7403\u7269\u7406\u8054\u5408\u4f1a\u7b2c\u5341\u516d\u5c4a\u5927\u4f1a\u63a8\u8350\u7684\u6570\u636e\u3002\u8be5\u5750\u6807\u7cfb\u7684\u5927\u5730\u539f\u70b9\u8bbe\u5728\u6211\u56fd\u4e2d\u90e8\u7684\u9655\u897f\u7701\u6cfe\u9633\u53bf\u6c38\u4e50\u9547\uff0c\u4f4d\u4e8e\u897f\u5b89\u5e02\u897f\u5317\u65b9\u5411\u7ea660\u516c\u91cc\uff0c\u6545\u79f01980\u5e74\u897f\u5b89\u5750\u6807\u7cfb\uff0c\u53c8\u7b80\u79f0\u897f\u5b89\u5927\u5730\u539f\u70b9\u3002\u57fa\u51c6\u9762\u91c7\u7528\u9752\u5c9b\u5927\u6e2f\u9a8c\u6f6e\u7ad91952\uff0d1979\u5e74\u786e\u5b9a\u7684\u9ec4\u6d77\u5e73\u5747\u6d77\u6c34\u9762\uff08\u53731985\u56fd\u5bb6\u9ad8\u7a0b\u57fa\u51c6\uff09\u3002 \u6211\u56fd\u5728\u79ef\u7d2f\u4e8630\u5e74\u6d4b\u7ed8\u8d44\u6599\u7684\u57fa\u7840\u4e0a\uff0c\u91c7\u75281975\u5e74\u7b2c16\u5c4a\u56fd\u9645\u5927\u5730\u6d4b\u91cf\u53ca\u5730\u7403\u7269\u7406\u8054\u5408\u4f1aIUGG/IAG)\u63a8\u8350\u7684\u65b0\u7684\u692d\u7403\u4f53\u53c2\u6570(\u957f\u534a\u5f84\u3001\u5730\u5fc3\u5f15\u529b\u5e38\u6570\u3001\u81ea\u8f6c\u89d2\u901f\u5ea6\u7b49\u6570\u636e)\uff0c\u692d\u7403\u77ed\u8f74\u5e73\u884c\u4e8e\u7531\u5730\u7403\u8d28\u5fc3\u6307\u54111968\uff0e0\u5730\u6781\u539f\u70b9\u7684\u65b9\u5411\uff0c\u9996\u5b50\u5348\u9762\u5e73\u884c\u4e8e\u683c\u6797\u5c3c\u6cbb\u5e73\u5747\u5929\u6587\u53f0\u7684\u5b50\u5348\u9762\u3002\u4ee5\u9655\u897f\u7701\u897f\u5b89\u5e02\u4ee5\u5317\u6cfe\u9633\u53bf\u6c38\u4e50\u9547\u67d0\u70b9\u4e3a\u56fd\u5bb6\u5927\u5730\u5750\u6807\u539f\u70b9\uff0c\u901a\u8fc7\u5168\u56fd\u5929\u6587\u5927\u5730\u7f51\u6574\u4f53\u5e73\u5dee\u5efa\u7acb\u4e86\u5168\u56fd\u7edf\u4e00\u7684\u5927\u5730\u5750\u6807\u7cfb\uff0c\u53731980\u5e74\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\uff0c\u7b80\u79f01980\u5e74\u897f\u5b89\u539f\u70b9\u6216\u897f\u5b8980\u5750\u6807\u7cfb\u3002</p> <p>\u897f\u5b8980\u662f\u4e3a\u4e86\u8fdb\u884c\u5168\u56fd\u5929\u6587\u5927\u5730\u7f51\u6574\u4f53\u5e73\u5dee\u800c\u5efa\u7acb\u7684\u3002\u6839\u636e\u692d\u7403\u5b9a\u4f4d\u7684\u57fa\u672c\u539f\u7406\uff0c\u5728\u5efa\u7acb\u897f\u5b8980\u5750\u6807\u7cfb\u65f6\u6709\u4ee5\u4e0b\u5148\u51b3\u6761\u4ef6\uff1a</p> <p>\uff081\uff09\u5927\u5730\u539f\u70b9\u5728\u6211\u56fd\u4e2d\u90e8\uff0c\u5177\u4f53\u5730\u70b9\u662f\u9655\u897f\u7701\u6cfe\u9633\u53bf\u6c38\u4e50\u9547\uff1b</p> <p>\uff082\uff09\u897f\u5b8980\u5750\u6807\u7cfb\u662f\u53c2\u5fc3\u5750\u6807\u7cfb\uff0c\u692d\u7403\u77ed\u8f74Z\u8f74\u5e73\u884c\u4e8e\u5730\u7403\u8d28\u5fc3\u6307\u5411\u5730\u6781\u539f\u70b9\u65b9\u5411\uff0c\u5927\u5730\u8d77\u59cb\u5b50\u5348\u9762\u5e73\u884c\u4e8e\u683c\u6797\u5c3c\u6cbb\u5e73\u5747\u5929\u6587\u53f0\u5b50\u5348\u9762\uff1bX\u8f74\u5728\u5927\u5730\u8d77\u59cb\u5b50\u5348\u9762\u5185\u4e0e Z\u8f74\u5782\u76f4\u6307\u5411\u7ecf\u5ea6 0\u65b9\u5411\uff1bY\u8f74\u4e0e Z\u3001X\u8f74\u6210\u53f3\u624b\u5750\u6807\u7cfb\uff1b</p> <p>\uff083\uff09\u692d\u7403\u53c2\u6570\u91c7\u7528IUG 1975\u5e74\u5927\u4f1a\u63a8\u8350\u7684\u53c2\u6570\uff0c\u56e0\u800c\u53ef\u5f97\u897f\u5b8980\u692d\u7403\u4e24\u4e2a\u6700\u5e38\u7528\u7684\u51e0\u4f55\u53c2\u6570\u4e3a\uff1a</p> <p>\u957f\u534a\u8f74a=6378140\u00b15\uff08m\uff09</p> <p>\u77ed\u534a\u8f74b=6356755.2882\uff08m\uff09</p> <p>\u6241 \u7387\u03b1=1/298.257</p> <p>\u7b2c\u4e00\u504f\u5fc3\u7387\u5e73\u65b9 =0.00669438499959 \u7b2c\u4e8c\u504f\u5fc3\u7387\u5e73\u65b9=0.00673950181947</p> <p>\u692d\u7403\u5b9a\u4f4d\u65f6\u6309\u6211\u56fd\u8303\u56f4\u5185\u9ad8\u7a0b\u5f02\u5e38\u503c\u5e73\u65b9\u548c\u6700\u5c0f\u4e3a\u539f\u5219\u6c42\u89e3\u53c2\u6570\u3002</p> <p>\uff084\uff09\u591a\u70b9\u5b9a\u4f4d\uff1b</p> <p>\uff085\uff09\u57fa\u51c6\u9762\u91c7\u7528\u9752\u5c9b\u5927\u6e2f\u9a8c\u6f6e\u7ad91952\uff0d1979\u5e74\u786e\u5b9a\u7684\u9ec4\u6d77\u5e73\u5747\u6d77\u6c34\u9762\uff08\u53731985\u56fd\u5bb6\u9ad8\u7a0b\u57fa\u51c6\uff09\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#454wkid4214","title":"4.\u5317\u4eac54\uff08wkid=4214\uff09","text":"<p>\u5317\u4eac54\u5750\u6807\u7cfb(BJZ54)\u662f\u6307\u5317\u4eac54\u5750\u6807\u7cfb\u4e3a\u53c2\u5fc3\u5927\u5730\u5750\u6807\u7cfb\uff0c\u5927\u5730\u4e0a\u7684\u4e00\u70b9\u53ef\u7528\u7ecf\u5ea6L54\u3001\u7eac\u5ea6M54\u548c\u5927\u5730\u9ad8H54\u5b9a\u4f4d\uff0c\u5b83\u662f\u4ee5\u514b\u62c9\u7d22\u592b\u65af\u57fa\u692d\u7403\u4e3a\u57fa\u7840\uff0c\u7ecf\u5c40\u90e8\u5e73\u5dee\u540e\u4ea7\u751f\u7684\u5750\u6807\u7cfb\u30021954\u5e74\u5317\u4eac\u5750\u6807\u7cfb\u53ef\u4ee5\u8ba4\u4e3a\u662f\u524d\u82cf\u80541942\u5e74\u5750\u6807\u7cfb\u7684\u5ef6\u4f38\u3002\u5b83\u7684\u539f\u70b9\u4e0d\u5728\u5317\u4eac\u800c\u662f\u5728\u524d\u82cf\u8054\u7684\u666e\u5c14\u79d1\u6c83\u3002</p> <p>\u5317\u4eac54\u5750\u6807\u7cfb\u7279\u70b9\u53ef\u5f52\u7ed3\u4e3a\uff1a a\uff0e\u5c5e\u53c2\u5fc3\u5927\u5730\u5750\u6807\u7cfb\uff1b b\uff0e\u91c7\u7528\u514b\u62c9\u7d22\u592b\u65af\u57fa\u692d\u7403\u7684\u4e24\u4e2a\u51e0\u4f55\u53c2\u6570\uff1b c.\u5927\u5730\u539f\u70b9\u5728\u539f\u82cf\u8054\u7684\u666e\u5c14\u79d1\u6c83\uff1b d\uff0e\u91c7\u7528\u591a\u70b9\u5b9a\u4f4d\u6cd5\u8fdb\u884c\u692d\u7403\u5b9a\u4f4d\uff1b e\uff0e\u9ad8\u7a0b\u57fa\u51c6\u4e3a 1954\u5e74\u9752\u5c9b\u9a8c\u6f6e\u7ad9\u6c42\u51fa\u7684\u9ec4\u6d77\u5e73\u5747\u6d77\u6c34\u9762\uff1b f\uff0e\u9ad8\u7a0b\u5f02\u5e38\u4ee5\u539f\u82cf\u8054 1955\u5e74\u5927\u5730\u6c34\u51c6\u9762\u91cd\u65b0\u5e73\u5dee\u7ed3\u679c\u4e3a\u8d77\u7b97\u6570\u636e\u3002\u6309\u6211\u56fd\u5929\u6587\u6c34\u51c6\u8def\u7ebf\u63a8\u7b97\u800c\u5f97\u3002</p> <p>\u692d\u7403\u5750\u6807\u53c2\u6570\u5982\u4e0b\uff1a \u957f\u534a\u8f74a=6378245m\uff1b \u77ed\u534a\u8f74=6356863.0188m\uff1b \u6241\u7387\u03b1=1/298.3\uff1b \u7b2c\u4e00\u504f\u5fc3\u7387\u5e73\u65b9 =0.006693421622\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#5gcj02","title":"5.GCJ02","text":"<p>GCJ-02\u662f\u7531\u4e2d\u56fd\u56fd\u5bb6\u6d4b\u7ed8\u5c40\uff08G\u8868\u793aGuojia\u56fd\u5bb6\uff0cC\u8868\u793aCehui\u6d4b\u7ed8\uff0cJ\u8868\u793aJu\u5c40\uff09\u5236\u8ba2\u7684\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\u7684\u5750\u6807\u7cfb\u7edf\u3002</p> <p>\u5b83\u662f\u4e00\u79cd\u5bf9\u7ecf\u7eac\u5ea6\u6570\u636e\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5373\u52a0\u5165\u968f\u673a\u7684\u504f\u5dee\u3002</p> <p>\u56fd\u5185\u51fa\u7248\u7684\u5404\u79cd\u5730\u56fe\u7cfb\u7edf\uff08\u5305\u62ec\u7535\u5b50\u5f62\u5f0f\uff09\uff0c\u5fc5\u987b\u81f3\u5c11\u91c7\u7528GCJ-02\u5bf9\u5730\u7406\u4f4d\u7f6e\u8fdb\u884c\u9996\u6b21\u52a0\u5bc6\u3002</p> <p>\u9ad8\u5fb7\u5730\u56fe\u3001\u817e\u8baf\u5730\u56fe\u4f7f\u7528\u6b64\u5750\u6807\u7cfb\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#6bd09","title":"6.BD09","text":"<p>\u7531\u767e\u5ea6\u5b9a\u4e49\u7684\u5750\u6807\u7cfb\uff0c\u53ea\u6709\u767e\u5ea6\u5730\u56fe\u4f7f\u7528\u6b64\u5750\u6807\u7cfb\u3002</p> <p>\u5728GCJ02\u5750\u6807\u7cfb\u57fa\u7840\u4e0a\u518d\u6b21\u52a0\u5bc6\u3002\u5176\u4e2dBD09LL\u8868\u793a\u767e\u5ea6\u7ecf\u7eac\u5ea6\u5750\u6807\uff0cBD09MC\u8868\u793a\u767e\u5ea6\u58a8\u5361\u6258\u7c73\u5236\u5750\u6807\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#_3","title":"\u6295\u5f71\u65b9\u6cd5","text":"<p>\u6295\u5f71\u662f\u5c06\u7403\u9762\u6570\u636e\u653e\u5230\u5e73\u9762\u4e0a\u6765\u770b\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u8f6c\u6362\u51fd\u6570\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#1web","title":"1.Web\u9ed8\u5361\u6258\u6295\u5f71","text":"<p>web\u58a8\u5361\u6258\u662f\u5c06\u5730\u7403\u770b\u6210\u4e00\u4e2a\u6807\u51c6\u7684\u5706\u7403\uff0c\u5728leaflet.js\u7684\u6295\u5f71\u5b9a\u4e49\u91cc\u8fd8\u6709\u4e00\u4e2a\u692d\u7403\u7684\u58a8\u5361\u6258\u6295\u5f71\u3002</p> <p>Web\u58a8\u5361\u6258\u662f2005\u5e74\u8c37\u6b4c\u5728\u8c37\u6b4c\u5730\u56fe\u4e2d\u9996\u6b21\u4f7f\u7528\u7684\uff0c\u5f53\u65f6\u6216\u66f4\u65e9\u7684Web\u58a8\u5361\u6258\u4f7f\u7528\u8005\u8fd8\u662f\u79f0\u5176\u4e3a\u4e16\u754c\u58a8\u5361\u6258 World Mercator - Spherical Mercator (unofficial deprecated ESRI)\uff0c\u4ee3\u53f7 WKID 54004 \uff08\u5728 EPSG:54004 \u6216 ESRI:54004 \u4e2d\uff0c\u975e\u5b98\u65b9\uff09\u3002</p> <p>\u57282006\u5e74\uff0cOSGeo\u5728\u63d0\u51fa\u7684 Tile Map Service (TMS) \u6807\u51c6\u4e2d\u4f7f\u7528\u4ee3\u53f7 OSGEO:41001\uff0cWGS84 / Simple Mercator - Spherical Mercator (unofficial deprecated OSGEO / Tile Map Service)\u3002</p> <p>2007\u5e748\u67086\u65e5 Christopher Schmidt \uff08OpenLayers\u7684\u91cd\u8981\u8d21\u732e\u8005\u4e4b\u4e00\uff09\u5728\u901a\u8fc7\u4e00\u6b21GIS\u8ba8\u8bba\u4e2d\u4e3a\u4e86\u5728OpenLayers\u4e2d\u4f7f\u7528\u8c37\u6b4c\u6295\u5f71\uff0c\u63d0\u51fa\u7ed9\u8c37\u6b4c\u6295\u5f71\uff08Web\u58a8\u5361\u6258\uff09\u4f7f\u7528\u4e00\u4e2a\u7edf\u4e00\u7684\u4ee3\u53f7\uff08\u5df2\u6709\u598254004\u300141001\u4e4b\u7c7b\u7684\u4ee3\u53f7\uff09900913\uff08\u4e5f\u5f62\u4f3c Google\uff09\uff0c\u5e76\u4e0e\u540c\u5e749\u670811\u65e5\u5728OpenLayers\u7684OpenLayers/Layer/SphericalMercator.js\u4e2d\u6b63\u5f0f\u4f7f\u7528\u4ee3\u53f7 900913\u3002</p> <p>\u57282008\u5e745\u6708EPSG\u57286.15\u7248\u672c\u4e2d\u6b63\u5f0f\uff08\u53ef\u80fd\u662f\u8c37\u6b4c\u5730\u56fe\u53d6\u5f97\u4e86\u5de8\u5927\u6210\u529f\uff09\u7ed9\u8c37\u6b4c\u5730\u56fe\u6295\u5f71\u8d4b\u4e88 CRS \u4ee3\u53f7 EPSG:3785\uff08Popular Visualisation CRS / Mercator\uff09\uff0c\u8fd9\u4e5f\u662fWeb\u58a8\u5361\u6258\u6b63\u5f0f\u88abEPSG\u7ec4\u7ec7\u627f\u8ba4\uff08\u7531\u4e8eWeb\u58a8\u5361\u6258\u4e0d\u662f\u6807\u51c6\u7684\u5730\u56fe\u6295\u5f71\uff0c\u4e4b\u524d\u4e00\u76f4\u6ca1\u6709\u88abEPSG\u6ca1\u6709\u6536\u5f55\uff09\u3002</p> <p>\u5f88\u5febEPSG\u4e8e2009\u5e742\u67089\u53f7\u4f7f\u7528\u65b0\u4ee3\u53f7 EPSG:3857 \u4ee3\u66ff\u4e4b\u524d\u7684 EPSG:3785\uff0c\u7ed9\u8c37\u6b4c\u5730\u56fe\u6295\u5f71\u65b9\u6cd5\u547d\u540d\u4e3a\u201c\u516c\u5171\u53ef\u89c6\u5316\u4f2a\u58a8\u5361\u6258\u6295\u5f71\u201d\uff08PVPM\uff09\uff0c\u6295\u5f71\u8fd0\u7b97\u65b9\u6cd5\u4ee3\u53f7 1024\u3002</p> <p>\u81f3\u4eca\uff0cEPSG:3857\uff08WGS 84 / Pseudo-Mercator\uff09 \u4ee3\u53f7\u662fweb\u58a8\u5361\u6258\u7684\u6b63\u5f0f\u4ee3\u53f7\u3002</p> <p>\u5728GIS\u754c\uff0c\u79bb\u4e0d\u5f00 ESRI\uff0cWeb\u58a8\u5361\u6258\u7684\u4ee3\u53f7\u5728 ESRI \u4e2d\u4e5f\u6709\u51e0\u4e2a\u3002\u6700\u65e9\u5728 ESRI \u7684\u8f6f\u4ef6\u4e2d\u7ed9Web\u58a8\u5361\u6258\u6295\u5f71\u7684\u79f0\u53f7\u4e3a 102113\uff08WGS 1984 Web Mercator\uff09\uff0c\u4e0e EPSG:3785 \u5bf9\u5e94\uff1b\u540e\u6765\u4f7f\u7528 102100\uff08WGS 1984 Web Mercator Auxiliary Sphere\uff09\uff0c\u4e0e EPSG:3857 \u5bf9\u5e94\u3002</p> <p>\u5728 ArcGIS 10.0 \u7248\u672c\u4e2d\uff0cESRI \u6b63\u5f0f\u4f7f\u7528 EPSG:3857 \u66ff\u6362\u4e4b\u524d\u7684 EPSG:102100\u3002</p> <p>\u603b\u4e4b\uff0cWeb\u58a8\u5361\u6258\u73b0\u5728\u7684\u6b63\u5f0f\u5b98\u65b9\u4ee3\u53f7 EPSG:3857\uff0c\u540c\u65f6 900913\u30013587\u300154004\u300141001\u3001102113\u3001102100 \u548c 3785 \u7b49\u4e5f\u662f\u6307Web\u58a8\u5361\u6258\uff0c\u867d\u7136\u4ed6\u4eec\u7684\u5177\u4f53\u5b9a\u4e49\u4f1a\u6709\u4e00\u4e9b\u5dee\u522b\uff0c\u4f46\u4ed6\u4eec\u5728\u6570\u5b66\u4e0a\u662f\u76f8\u7b49\u7684\u3002</p> <p>Web\u58a8\u5361\u6258\u53d6\u5f97\u4e86\u5de8\u5927\u6210\u529f\uff0c\u5982\u4eca\u4e3b\u6d41\u7684Web\u5730\u56fe\u51e0\u4e4e\u90fd\u662f\u4f7f\u7528\u7684Web\u58a8\u5361\u6258\uff0c\u5982\u56fd\u5916\u7684 Google Maps\uff0cOpenStreetMap\uff0cBing Map\uff0cArcGIS \u548c Heremaps \u7b49\uff0c\u56fd\u5185\u7684\u767e\u5ea6\u5730\u56fe\u3001\u9ad8\u5fb7\u5730\u56fe\u3001\u817e\u8baf\u5730\u56fe\u548c\u5929\u5730\u56fe\u7b49\u4e5f\u662f\u57fa\u4e8eWeb\u58a8\u5361\u6258\uff08\u7531\u4e8e\u56fd\u5185\u653f\u7b56\u7684\u539f\u56e0\uff0c\u56fd\u5185\u5730\u56fe\u4f1a\u6709\u52a0\u5bc6\u8981\u6c42\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd\u662f\u5728 Web\u58a8\u5361\u6258\u7684\u57fa\u7840\u4e0a\u7ecf\u8fc7\u56fd\u5bb6\u6807\u51c6\u52a0\u5bc6\u7684\u56fd\u680702\u5750\u6807\u7cfb\uff0c\u719f\u79f0\u201c\u706b\u661f\u5750\u6807\u7cfb\u201d\uff1b\u53e6\u4e00\u79cd\u662f\u5728\u56fd\u6807\u768402\u5750\u6807\u7cfb\u4e0b\u8fdb\u4e00\u6b65\u8fdb\u884c\u52a0\u5bc6\uff0c\u5982\u767e\u5ea6\u5730\u56fe\u7684BD09\u5750\u6807\u7cfb\uff09\u3002</p> <p>\u9ed8\u5361\u6258\u6295\u5f71\u5728\u5730\u56fe\u4e0a\u76f4\u89c2\u770b\u8d77\u6765\u5c31\u662f\u4e00\u5f20\u6b63\u65b9\u5f62\u7684\u5730\u56fe</p> <p>\u5728\u5730\u56fe\u4e0a\u4fdd\u6301\u65b9\u5411\u548c\u89d2\u5ea6\u7684\u6b63\u786e\u662f\u58a8\u5361\u6258\u6295\u5f71\u7684\u4f18\u70b9\uff0c\u58a8\u5361\u6258\u6295\u5f71\u5730\u56fe\u5e38\u7528\u4f5c\u822a\u6d77\u56fe\u548c\u822a\u7a7a\u56fe\uff0c\u5982\u679c\u5faa\u7740\u58a8\u5361\u6258\u6295\u5f71\u56fe\u4e0a\u4e24\u70b9\u95f4\u7684\u76f4\u7ebf\u822a\u884c\uff0c\u65b9\u5411\u4e0d\u53d8\u53ef\u4ee5\u4e00\u76f4\u5230\u8fbe\u76ee\u7684\u5730\uff0c\u56e0\u6b64\u5b83\u5bf9\u8239\u8230\u5728\u822a\u884c\u4e2d\u5b9a\u4f4d\u3001\u786e\u5b9a\u822a\u5411\u90fd\u5177\u6709\u6709\u5229\u6761\u4ef6\uff0c\u7ed9\u822a\u6d77\u8005\u5e26\u6765\u5f88\u5927\u65b9\u4fbf\u3002</p> <p>Web\u58a8\u5361\u6258\u8f83\u63a5\u8fd1\u4e0e\u6700\u539f\u59cb\u7684\u58a8\u5361\u6258\uff0c\u5373\u6b63\u8f74\u58a8\u5361\u6258\uff08\u6295\u5f71\u5706\u67f1\u7684\u8f74\u5fc3\u4e0e\u5730\u7403\u81ea\u8f6c\u8f74\u91cd\u5408\uff09\u3002\uff08\u800c\u6a2a\u8f74\u58a8\u5361\u6258\u7684\u6295\u5f71\u5706\u67f1\u8f74\u5fc3\u5782\u76f4\u4e8e\u5730\u7403\u81ea\u8f6c\u8f74\uff09</p> <p> ![[assets/Pasted image 20250530003603.png]]</p> <p>\u58a8\u5361\u6258\u6295\u5f71</p> <p> </p> <p>\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71\uff08\u5982\u9ad8\u65af\u7b49\uff09</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#2utm","title":"2.UTM\u6295\u5f71\uff08\u901a\u7528\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71\uff09","text":"<p>UTM\u6295\u5f71\u5168\u79f0\u4e3a\u201c\u901a\u7528\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71\u201d\uff0c\u82f1\u6587\u540d\u79f0\u4e3aUniversal Transverse Mercator\uff0c\u8be5\u5750\u6807\u7cfb\u662f\u7531\u7f8e\u56fd\u519b\u65b9\u57281947\u63d0\u51fa\u7684\u3002\u867d\u7136\u6211\u4eec\u4ecd\u7136\u5c06\u5176\u770b\u4f5c\u4e0e\u201c\u9ad8\u65af\uff0d\u514b\u5415\u683c\u201d\u76f8\u4f3c\u7684\u5750\u6807\u7cfb\u7edf\uff0c\u4f46\u5b9e\u9645\u4e0aUTM\u91c7\u7528\u4e86\u7f51\u683c\u7684\u5206\u5e26\uff08\u6216\u5206\u5757\uff09\u3002\u9664\u5728\u7f8e\u56fd\u672c\u571f\u91c7\u7528Clarke 1866\u692d\u7403\u4f53\u4ee5\u5916\uff0cUTM\u5728\u4e16\u754c\u5176\u4ed6\u5730\u65b9\u90fd\u91c7\u7528WGS84\u3002</p> <p>UTM\u662f\u7531\u7f8e\u56fd\u5236\u5b9a\uff0c\u56e0\u6b64\u8d77\u59cb\u5206\u5e26\u5e76\u4e0d\u5728\u672c\u521d\u5b50\u5348\u7ebf\uff0c\u800c\u662f\u5728180\u5ea6\uff0c\u56e0\u800c\u6240\u6709\u7f8e\u56fd\u672c\u571f\u90fd\u5904\u4e8e0\uff0d30\u5e26\u5185\u3002UTM\u6295\u5f71\u91c7\u75286\u5ea6\u5206\u5e26\uff0c\u4ece\u4e1c\u7ecf180\u5ea6\uff08\u6216\u897f\u7ecf180\u5ea6\uff09\u5f00\u59cb\uff0c\u81ea\u897f\u5411\u4e1c\u7b97\u8d77\uff0c\u56e0\u6b641\u5e26\u7684\u4e2d\u592e\u7ecf\u7ebf\u4e3a-177\uff08-180 -(-6)\uff09\uff0c\u800c0\u5ea6\u7ecf\u7ebf\u4e3a30\u5e26\u548c31\u5e26\u7684\u5206\u754c\uff0c\u8fd9\u4e24\u5e26\u7684\u5206\u754c\u5206\u522b\u662f-3\u548c3\u5ea6\u3002\u7eac\u5ea6\u91c7\u75288\u5ea6\u5206\u5e26\uff0c\u4ece80S\u523084N\u517120\u4e2a\u7eac\u5ea6\u5e26\uff08X\u5e26\u591a4\u5ea6\uff09\uff0c\u5206\u522b\u7528C\u5230X\u7684\u5b57\u6bcd\u6765\u8868\u793a\u3002\u4e3a\u4e86\u907f\u514d\u548c\u6570\u5b57\u6df7\u6dc6\uff0cI\u548cO\u6ca1\u6709\u91c7\u7528\u3002UTM\u7684\u201cfalse easting\u201d\u503c\u4e3a500\u516c\u91cc\uff0c\u800c\u5357\u534a\u7403UTM\u5e26\u7684\u201cfalse northing\u201d\u4e3a10000\u516c\u91cc\u3002</p> <p>UTM\u662f\u4e00\u79cd\u7b49\u89d2\u6a2a\u8f74\u5272\u5706\u67f1\u6295\u5f71\uff0c\u5706\u67f1\u5272\u5730\u7403\u4e8e\u5357\u7eac80\u5ea6\u3001\u5317\u7eac84\u5ea6\u4e24\u6761\u7b49\u9ad8\u5708\uff0c\u88ab\u8bb8\u591a\u56fd\u5bb6\u7528\u4f5c\u5730\u5f62\u56fe\u7684\u6570\u5b66\u57fa\u7840\uff0c\u5982\u4e2d\u56fd\u91c7\u7528\u7684\u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71\u5c31\u662fUTM\u6295\u5f71\u7684\u4e00\u79cd\u53d8\u5f62\uff0c\u5f88\u591a\u9065\u611f\u6570\u636e\uff0c\u5982Landsat\u548cAster\u6570\u636e\u90fd\u5e94\u7528UTM\u6295\u5f71\u53d1\u5e03\u7684\u3002</p> <p>UTM\u6295\u5f71\u5c06\u5317\u7eac84\u5ea6\u548c\u5357\u7eac80\u5ea6\u4e4b\u95f4\u7684\u5730\u7403\u8868\u9762\u79ef\u6309\u7ecf\u5ea66\u5ea6\u5212\u5206\u4e3a\u5357\u5317\u7eb5\u5e26(\u6295\u5f71\u5e26)\u3002\u4ece180\u5ea6\u7ecf\u7ebf\u5f00\u59cb\u5411\u4e1c\u5c06\u8fd9\u4e9b\u6295\u5f71\u5e26\u7f16\u53f7\uff0c\u4ece1\u7f16\u81f360(\u5317\u4eac\u5904\u4e8e\u7b2c50\u5e26)\u3002\u6bcf\u4e2a\u5e26\u518d\u5212\u5206\u4e3a\u7eac\u5dee8\u5ea6\u7684\u56db\u8fb9\u5f62\u3002\u4e24\u6761\u6807\u51c6\u7eac\u7ebf\u8ddd\u4e2d\u592e\u7ecf\u7ebf\u4e3a180KM\u5de6\u53f3,\u4e2d\u592e\u7ecf\u7ebf\u6bd4\u4f8b\u7cfb\u6570\u4e3a0.9996\uff0cUTM\u5317\u534a\u7403\u6295\u5f71\u5317\u4f2a\u504f\u79fb\u4e3a\u96f6\uff0c\u5357\u534a\u7403\u5219\u4e3a10000\u516c\u91cc\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#3-","title":"3.\u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71","text":"<p>\u4e0eUTM\u7c7b\u4f3c\uff0c\u652f\u63013\u5ea6\u5e26\u548c6\u5ea6\u5e26\u4e24\u79cd\u6295\u5f71\u65b9\u5f0f\uff0c\u901a\u5e38\u53ea\u7528\u4e8e\u5e02\u7ea7\u7b49\u9762\u79ef\u8f83\u5c0f\u7684\u884c\u653f\u533a\u57df\uff0c3\u5ea6\u5e26\u5171\u5206\u4e3a120\u5e26\uff0c6\u5ea6\u5e26\u5206\u4e3a60\u5e26\uff0c\u6bcf\u4e00\u5e26\u90fd\u4ee5\u4e2d\u592e\u7ecf\u7ebf\u4e3a\u4e2d\u5fc3\u72ec\u7acb\u6295\u5f71\uff0c</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#4","title":"4.\u7ecf\u7eac\u5ea6\u76f4\u6295","text":"<p>![[assets/Pasted image 20250530003543.png]]</p> <p>\u5728\u5927\u8303\u56f4\uff0c\u76ee\u524d\u597d\u50cf\u5f88\u591a\u9879\u76ee\u90fd\u91c7\u7528\u201c\u7ecf\u7eac\u5ea6\u76f4\u6295\u201d\uff0c------\u5929\u5730\u56fe\u4e5f\u91c7\u7528\u4e86\u3002 \u73b0\u5728\u5929\u5730\u56fe\u9ed8\u8ba4\u4f7f\u7528web\u9ed8\u5361\u6258\u6295\u5f71\uff0c\u53ef\u5207\u6362\u4e3a\u7ecf\u7eac\u5ea6\u76f4\u6295\u6a21\u5f0f\u3002 </p> <p>\u201c\u7ecf\u7eac\u5ea6\u7b49\u95f4\u9694\u76f4\u6295\u201d\u7684\u7279\u70b9\u662f\u76f8\u540c\u7684\u7ecf\u7eac\u5ea6\u95f4\u9694\u5728\u5c4f\u5e55\u4e0a\u7684\u95f4\u8ddd\u76f8\u7b49\uff0c\u7a0b\u5e8f\u5458\u5e94\u8be5\u6bd4\u8f83\u559c\u6b22\uff0c\u6ca1\u6709\u590d\u6742\u7684\u5750\u6807\u53d8\u6362\u3002\u4f46\u662f\u53ea\u662f\u5728\u4f4e\u7eac\u5ea6\u5730\u533a\u957f\u5ea6\u3001\u89d2\u5ea6\u3001\u9762\u79ef\u3001\u5f62\u72b6\u53d8\u5316\u6bd4\u8f83\u5c0f\uff0c\u8d8a\u5411\u9ad8\u7eac\u5ea6\uff0c\u6c34\u5e73\u8ddd\u79bb\u53d8\u957f\u8d8a\u5927\uff0c\u5f88\u5c0f\u7684\u7eac\u5708\u90fd\u53d8\u5f97\u548c\u8d64\u9053\u4e00\u6837\u957f\u3002\u540c\u65f6\u8981\u7d20\u81ea\u8eab\u4f1a\u53d8\u5f62\uff0c\u957f\u65b9\u5f62\u4f1a\u53d8\u6210\u4e0a\u5bbd\u4e0b\u7a84\u7684\u5012\u68af\u5f62\u3002</p> <p>\u4ece\u6280\u672f\u4e0a\u8bb2\u7ecf\u7eac\u5ea6\u76f4\u6295\u5b9e\u73b0\u5f88\u7b80\u5355\uff0c\u5373\uff1a\u6211\u4eec\u5df2\u77e5\u5730\u7403\u8d64\u9053\u7684\u5468\u957f\uff0c\u4e5f\u77e5\u9053\u4efb\u610f\u70b9\u5728\u5730\u7403\u67d0\u4e00\u7eac\u5ea6\u4e0a\u65f6\u8be5\u7eac\u7ebf\u7684\u5468\u957f\uff0c\u628a\u8d64\u9053\u5468\u957f\u548c\u7eac\u7ebf\u5468\u957f\u90fd\u4ece\u672c\u521d\u5b50\u5348\u7ebf\u5bf9\u5207\u6210\u4e24\u534a\uff0c\u6839\u636e\uff08\u7eac\u5ea6\u5468\u957f/\u8d64\u9053\u5468\u957f=\u7eac\u7ebf\u4e0a\u67d0\u4e00\u70b9\u7ebf\u957f\u5ea6/\u8d64\u9053\u4e0a\u540c\u4e00\u89d2\u5ea6\u4e0a\u7ebf\u957f\u5ea6\uff09\u7684\u539f\u7406\uff0c\u53ef\u4ee5\u63a8\u7b97\u51fa\u201c\u8d64\u9053\u4e0a\u540c\u4e00\u89d2\u5ea6\u4e0a\u7ebf\u957f\u5ea6\u201d\u3002\u7b80\u5355\u8bb2\u5c31\u662f\u7eac\u7ebf\u4e0a\u7684\u70b9\u5e94\u8be5\u5728\u8d64\u9053\u4e0a\u54ea\u4e2a\u4f4d\u7f6e\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#5gcj02_1","title":"5.GCJ02\u7ecf\u7eac\u5ea6\u6295\u5f71","text":"<p>GCJ-02\u662f\u7531\u4e2d\u56fd\u56fd\u5bb6\u6d4b\u7ed8\u5c40\uff08G\u8868\u793aGuojia\u56fd\u5bb6\uff0cC\u8868\u793aCehui\u6d4b\u7ed8\uff0cJ\u8868\u793aJu\u5c40\uff09\u5236\u8ba2\u7684\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\u7684\u5750\u6807\u7cfb\u7edf\u3002</p> <p>\u5b83\u5176\u5b9e\u5c31\u662f\u5bf9\u771f\u5b9e\u5750\u6807\u7cfb\u7edf\u8fdb\u884c\u4eba\u4e3a\u7684\u52a0\u504f\u5904\u7406\uff0c\u6309\u7167\u7279\u6b8a\u7684\u7b97\u6cd5\uff0c\u5c06\u771f\u5b9e\u7684\u5750\u6807\u52a0\u5bc6\u6210\u865a\u5047\u7684\u5750\u6807\uff0c\u800c\u8fd9\u4e2a\u52a0\u504f\u5e76\u4e0d\u662f\u7ebf\u6027\u7684\u52a0\u504f\uff0c\u6240\u4ee5\u5404\u5730\u7684\u504f\u79fb\u60c5\u51b5\u90fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u800c\u52a0\u5bc6\u540e\u7684\u5750\u6807\u4e5f\u5e38\u88ab\u5927\u5bb6\u79f0\u4e3a\u201c\u706b\u661f\u5750\u6807\u7cfb\u7edf\u201d\u3002</p> <p>\u8be5\u5750\u6807\u7cfb\u7684\u5750\u6807\u503c\u4e3a\u7ecf\u7eac\u5ea6\u683c\u5f0f\uff0c\u5355\u4f4d\u4e3a\u5ea6\u3002</p> <p>\u8fd9\u91cc\u7684GCJ02\u7ecf\u7eac\u5ea6\u6295\u5f71\uff0c\u4e5f\u5c31\u662f\u5728WGS84\u7ecf\u7eac\u5ea6\u7684\u57fa\u7840\u4e4b\u4e0a\uff0c\u8fdb\u884cGCJ-02\u52a0\u504f\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#6gcj02-web","title":"6.GCJ02 Web \u58a8\u5361\u6258\u6295\u5f71","text":"<p>GCJ-02\u662f\u7531\u4e2d\u56fd\u56fd\u5bb6\u6d4b\u7ed8\u5c40\uff08G\u8868\u793aGuojia\u56fd\u5bb6\uff0cC\u8868\u793aCehui\u6d4b\u7ed8\uff0cJ\u8868\u793aJu\u5c40\uff09\u5236\u8ba2\u7684\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\u7684\u5750\u6807\u7cfb\u7edf\u3002</p> <p>\u5b83\u5176\u5b9e\u5c31\u662f\u5bf9\u771f\u5b9e\u5750\u6807\u7cfb\u7edf\u8fdb\u884c\u4eba\u4e3a\u7684\u52a0\u504f\u5904\u7406\uff0c\u6309\u7167\u7279\u6b8a\u7684\u7b97\u6cd5\uff0c\u5c06\u771f\u5b9e\u7684\u5750\u6807\u52a0\u5bc6\u6210\u865a\u5047\u7684\u5750\u6807\uff0c\u800c\u8fd9\u4e2a\u52a0\u504f\u5e76\u4e0d\u662f\u7ebf\u6027\u7684\u52a0\u504f\uff0c\u6240\u4ee5\u5404\u5730\u7684\u504f\u79fb\u60c5\u51b5\u90fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u800c\u52a0\u5bc6\u540e\u7684\u5750\u6807\u4e5f\u5e38\u88ab\u5927\u5bb6\u79f0\u4e3a\u201c\u706b\u661f\u5750\u6807\u7cfb\u7edf\u201d\u3002</p> <p>\u8be5\u5750\u6807\u7cfb\u7684\u5750\u6807\u503c\u4e3aWeb\u58a8\u5361\u6258\u683c\u5f0f\uff0c\u5355\u4f4d\u4e3a\u7c73\u3002</p> <p>\u8fd9\u91cc\u7684GCJ02 Web \u58a8\u5361\u6258\uff0c\u4e5f\u5c31\u662f\u5728\u6807\u51c6Web\u9ed8\u5361\u6258\u7684\u57fa\u7840\u4e4b\u4e0a\uff0c\u8fdb\u884cGCJ-02\u52a0\u504f\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#7lambertalbers","title":"7.\u5170\u4f2f\u7279\uff08Lambert\uff09\u6295\u5f71\u4e0e\u963f\u5c14\u4f2f\u65af\uff08Albers\uff09\u6295\u5f71","text":"<p> \u6b64\u65f6\u7684\u5170\u4f2f\u7279\u6295\u5f71\u662f\u5207\u5706\u9525\u6295\u5f71\uff0c\u5f53\u7136\u5170\u4f2f\u7279\u4e5f\u53ef\u4ee5\u662f\u5272\u5706\u9525\u6295\u5f71\uff08\u56feb\uff09\u3002 \u5b83\u7c7b\u4f3c\u4e8e\u963f\u5c14\u4f2f\u65af\u6295\u5f71\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5176\u63cf\u7ed8\u5f62\u72b6\u6bd4\u63cf\u7ed8\u9762\u79ef\u66f4\u51c6\u786e\u3002 \u4e2d\u56fd\u56fd\u5bb6\u5168\u5e45\u5730\u56fe\u3001\u7f8e\u56fd\u56fd\u5bb6\u5e73\u9762\u5750\u6807\u7cfb\u5bf9\u6240\u6709\u5177\u6709\u8f83\u5927\u4e1c\u897f\u8303\u56f4\u7684\u533a\u57df\u5747\u4f7f\u7528\u6b64\u6295\u5f71\u3002\u56fd\u9645\u4e0a\u7528\u6b64\u6295\u5f71\u7f16\u52361\u2236100\u4e07\u5730\u5f62\u56fe\u548c\u822a\u7a7a\u56fe\u3002 \u800c\u963f\u5c14\u4f2f\u65af\u6295\u5f71\u5e38\u89c1\u4e8e\u6211\u56fd\u7684\u7701\u533a\u6295\u5f71\uff0c\u56e0\u4e3a\u9762\u79ef\u66f4\u51c6\u786e\u3002 \u963f\u5c14\u4f2f\u65af\u6295\u5f71\u662f\u4e00\u79cd\u5706\u9525\u7b49\u9762\u79ef\u6295\u5f71\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#_4","title":"\u5207\u7247\u89c4\u5219","text":"<p>\u5207\u7247\u5b9e\u9645\u662f\u91c7\u7528\u91d1\u5b57\u5854\u7ed3\u6784\u5c06\u5927\u91cf\u7684\u7a7a\u95f4\u6570\u636e\u5206\u7247\u540e\u4f20\u8f93\u56de\u5ba2\u6237\u7aef\u5e76\u5728\u5ba2\u6237\u7aef\u8fdb\u884c\u91cd\u7ec4\uff0c\u5f62\u6210\u89c6\u89c9\u4e0a\u5b8c\u6574\u7684\u5730\u56fe\u7684\u6280\u672f\u65b9\u6848\u3002\u91c7\u7528\u672c\u6280\u672f\u65b9\u6848\u901a\u5e38\u4f1a\u9884\u5207\u56fe\u52a0\u5feb\u670d\u52a1\u8bbf\u95ee\u6548\u7387\uff0c\u5e76\u4e14\u901a\u8fc7\u7f13\u5b58\u51cf\u5c11\u670d\u52a1\u5668\u91cd\u590d\u6027\u7684\u8ba1\u7b97\u5f00\u9500\u3002</p> <p>\u8981\u5207\u7247\u9996\u5148\u8981\u5efa\u7acb\u4e00\u4e2a\u7f51\u683c\uff0c\u5207\u7247\u7684\u65f6\u5019\u6309\u7f51\u683c\u6765\u5207\u3002\u4e0d\u540c\u7f29\u653e\u7ea7\u522b\u4e0b\u7f51\u683c\u6570\u91cf\u4e0d\u4e00\u81f4\uff0c\u4f46\u57fa\u672c\u4fdd\u63012\u7684n\u6b21\u65b9\u7684\u89c4\u5219\u3002</p> <p>\u5207\u7247\u89c4\u5219\u51e0\u4e4e\u662f\u4e00\u6a21\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u5207\u7247\u89c4\u5219\u4e0e\u670d\u52a1\u7c7b\u578b\u662f\u65e0\u5173\u7684\uff0c\u4e0d\u7ba1\u5b83\u662fWFS\u8fd8\u662fMVT\u3002</p> <p>\u5207\u7247\u89c4\u5219\u4e0e\u6295\u5f71\u5750\u6807\u7cfb\u4e5f\u6ca1\u4efb\u4f55\u5173\u7cfb\uff0c\u867d\u7136\u5207\u7247\u524d\u5fc5\u5b9a\u4f1a\u5148\u6295\u5f71\u3002</p> <p>\u53ea\u8981\u5b83\u7684\u6295\u5f71\u5750\u6807\u7cfb\u4e00\u81f4\u4e14\u5207\u7247\u89c4\u5219\u4e00\u81f4\uff0c\u90a3\u4e48\u5b83\u7684\u5207\u51fa\u6765\u7684\u74e6\u7247\u5c31\u662f\u4e00\u81f4\u7684\uff0c\u70b9\u7ebf\u9762\u7684\u4f4d\u7f6e\u90fd\u80fd\u5bf9\u5e94\u4e0a\u3002</p> <p>\u5728\u7f51\u9875\u7aef\u7684\u6295\u5f71\u4e3b\u8981\u6709web\u58a8\u5361\u6258\u548c\u7ecf\u7eac\u5ea6\u76f4\u6295\u4e24\u79cd\u6a21\u5f0f\uff0c\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\u548c\u901a\u7528\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71\u51e0\u4e4e\u6ca1\u89c1\u5230\u8fc7\u3002 \u5207\u7247\u7f16\u53f7\u89c4\u5219\u901a\u5e38\u6709\u8c37\u6b4cXYZ\u7684\u89c4\u5219\u3001TMS\u89c4\u5219\u3001QuadTree\u89c4\u5219\uff08\u5fae\u8f6fBing\u5730\u56fe\uff09\u3001\u767e\u5ea6XYZ\u89c4\u5219\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#1xyz","title":"1.\u8c37\u6b4cXYZ\u7684\u89c4\u5219","text":"<p>Z\u8868\u793a\u7f29\u653e\u5c42\u7ea7, Z=zoom; XY\u539f\u70b9\u5728\u5de6\u4e0a\u89d2\uff0cX\u4ece\u5de6\u5411\u53f3\uff0cY\u4ece\u4e0a\u5411\u4e0b\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#2tms","title":"2.TMS\u89c4\u5219","text":"<p>OSGeo\u5236\u5b9a\u7684\u5f00\u6e90\u6807\u51c6\uff0cZ\u7684\u5b9a\u4e49\u4e0e\u8c37\u6b4c\u76f8\u540c\uff1bXY\u7684\u539f\u70b9\u5728\u5de6\u4e0b\u89d2\uff0cX\u4ece\u5de6\u5411\u53f3\uff0cY\u4ece\u4e0b\u5411\u4e0a\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#3quadtreebing","title":"3.QuadTree\u89c4\u5219\uff08\u5fae\u8f6fBing\u5730\u56fe\uff09","text":"<p>\u5fae\u8f6fBing\u5730\u56fe\u4f7f\u7528\u7684\u7f16\u7801\u89c4\u8303\uff0cZ\u7684\u5b9a\u4e49\u4e0e\u8c37\u6b4c\u76f8\u540c\uff0c\u540c\u4e00\u5c42\u7ea7\u7684\u74e6\u7247\u4e0d\u7528XY\u4e24\u4e2a\u7ef4\u5ea6\u8868\u793a\uff0c\u800c\u53ea\u7528\u4e00\u4e2a\u6574\u6570\u8868\u793a\uff0c\u8be5\u6574\u6570\u670d\u4ece\u56db\u53c9\u6811\u7f16\u7801\u89c4\u5219\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#4xyz","title":"4.\u767e\u5ea6XYZ\u89c4\u5219","text":"<p>Z\u4ece1\u5f00\u59cb\uff0c\u5728\u6700\u9ad8\u7ea7\u5c31\u628a\u5730\u56fe\u5206\u4e3a\u56db\u5757\u74e6\u7247\uff1bXY\u7684\u539f\u70b9\u5728\u7ecf\u5ea6\u4e3a0\u7eac\u5ea6\u4e3a0\u7684\u4f4d\u7f6e\uff0cX\u4ece\u5de6\u5411\u53f3\uff0cY\u4ece\u4e0b\u5411\u4e0a\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#_5","title":"\u53c2\u8003\u8d44\u6599","text":"<p>https://www.cnblogs.com/telwanggs/p/10325632.html</p> <p>https://www.jianshu.com/p/6f3f00546f20</p> <p>https://www.bilibili.com/read/cv4210996/</p> <p>\u300a2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u5b9e\u7528\u5b9d\u5178\u300b</p> <p>\u4e24\u79cd\u5e38\u7528\u5207\u7247\u65b9\u5f0f\u8bf4\u660e</p> <p>\u74e6\u7247\u5730\u56fe\u539f\u7406</p> <p>https://wenku.baidu.com/view/3970b90b6429647d27284b73f242336c1eb930ad.html http://www.gissky.net/Article/81.htm</p> <p>\u628a\u8fd9\u7bc7\u6587\u7ae0\u5199\u5b8c\u4e4b\u540e\u518d\u505a\u4e00\u4e2a\u5de5\u7a0b\u300a\u5f00\u6e90GIS\u89e3\u51b3\u65b9\u6848\u5408\u96c6\u300b\uff0c\u5206\u6790\u5f53\u524d\u6d41\u884c\u7684\u5f00\u6e90GIS\u5de5\u5177</p> <p>\u76ee\u524d\u5f00\u6e90\u65b9\u6848\u6709Mapbox\u3001Geoserver\u3001Mapserver\u7b49\u591a\u79cd\u5f00\u6e90\u65b9\u6cd5\u3002</p> <p>proj proj\u5de5\u5177\u7528\u6765\u8f6c\u6362\u5730\u7406\u5750\u6807\u5230\u6295\u5f71\u5750\u6807\u4ee5\u53ca\u6295\u5f71\u5750\u6807\u5230\u5730\u7406\u5750\u6807\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u524d\u63d0\u6761\u4ef6\u662f\u8fd9\u4e24\u4e2a\u5750\u6807\u7cfb\u7edf\u5728\u540c\u4e00\u4e2a\u57fa\u51c6\u9762\u4e4b\u4e0b\u3002</p> <p>cs2cs cs2cs\u5de5\u5177\u53ef\u4ee5\u5b9e\u73b0\u4e24\u4e2a\u5750\u6807\u7cfb\u7edf\u4e4b\u95f4\u7684\u4e92\u76f8\u8f6c\u6362\uff0c\u8fd9\u4e24\u4e2a\u5750\u6807\u7cfb\u7edf\u53ef\u4ee5\u662f\u6295\u5f71\u5750\u6807\u4e0e\u5730\u7406\u5750\u6807\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u4e5f\u53ef\u4ee5\u662f\u57fa\u51c6\u9762\u4e4b\u95f4\u7684\u8f6c\u6362\u3002</p> <p>geod \u63d0\u4f9b\u5bf9\u5927\u5706\u7684\u5e38\u7528\u6d4b\u5730\u8ba1\u7b97\u3002</p> <p>\u767e\u5ea6\u3001\u706b\u661f\u5750\u6807\u3001wgs84\u76f8\u4e92\u8f6c\u6362</p> <p>\u5730\u56fe\u74e6\u7247\u884c\u5217\u53f7\u4e0e\u7ecf\u7eac\u5ea6\u8ba1\u7b97\u89c4\u5219\uff08JS\u7248&amp;GO\u7248\uff09</p> <p>\u4f20\u7edf\u6d41\u7a0b\uff1a \u4e3b\u6d41 Web \u5730\u56fe\uff08\u5982\u8c37\u6b4c\u5730\u56fe\uff09\u91c7\u7528\u00a0\u6295\u5f71\u5750\u6807\u7cfb\u5207\u7247\uff0c\u6d41\u7a0b\u4e3a\uff1a \u7ecf\u7eac\u5ea6\u5750\u6807\uff08\u5730\u7406\u5750\u6807\u7cfb\uff09\u2192\u00a0\u5730\u56fe\u6295\u5f71\uff08\u5982 Web \u58a8\u5361\u6258\uff0cEPSG:3857\uff09\u2192 \u5e73\u9762\u5750\u6807\uff08\u7c73\uff09\u2192 \u5207\u7247\u3002</p> <p>\u7ecf\u7eac\u5ea6\u76f4\u6295\u5207\u7247\u6d41\u7a0b\uff1a \u7ecf\u7eac\u5ea6\u5750\u6807\uff08\u5730\u7406\u5750\u6807\u7cfb\uff09\u2192\u00a0\u76f4\u63a5\u5207\u7247\uff08\u4e0d\u6295\u5f71\uff09\uff0c\u5207\u7247\u8303\u56f4\u7528\u7ecf\u7eac\u5ea6\u533a\u95f4\u8868\u793a\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E3%80%81%E6%8A%95%E5%BD%B1%E4%B8%8E%E7%93%A6%E7%89%87/#_6","title":"\u7f3a\u70b9","text":"<ol> <li>\u5207\u7247\u5c3a\u5bf8\u4e0d\u5747\u5300\uff1a<ul> <li>\u8d64\u9053\u9644\u8fd1\uff1a1\u00b0 \u7ecf\u5ea6\u5bf9\u5e94\u7684\u5b9e\u9645\u8ddd\u79bb\u7ea6 111 \u516c\u91cc\uff0c\u5207\u7247\u8986\u76d6\u7684\u5730\u9762\u8303\u56f4\u5927\u3002</li> <li>\u9ad8\u7eac\u5ea6\u5730\u533a\uff1a1\u00b0 \u7ecf\u5ea6\u5bf9\u5e94\u7684\u5b9e\u9645\u8ddd\u79bb\u7f29\u5c0f\uff08\u5982 60\u00b0 \u7eac\u5ea6\u5904\u7ea6 55 \u516c\u91cc\uff09\uff0c\u5207\u7247\u8986\u76d6\u8303\u56f4\u5c0f\u3002</li> <li>\u5bfc\u81f4\u4e0d\u540c\u7eac\u5ea6\u7684\u5207\u7247 \u201c\u50cf\u7d20 - \u5b9e\u9645\u8ddd\u79bb\u201d \u6bd4\u4f8b\u4e0d\u4e00\u81f4\uff0c\u524d\u7aef\u6e32\u67d3\u65f6\u9700\u52a8\u6001\u8c03\u6574\u7f29\u653e\u903b\u8f91\u3002</li> </ul> </li> <li>\u4e0d\u9002\u5408\u4f20\u7edf\u5730\u56fe\u4ea4\u4e92\uff1a<ul> <li>\u4e3b\u6d41\u5730\u56fe\u5f15\u64ce\uff08\u5982 Leaflet\u3001Mapbox\uff09\u9ed8\u8ba4\u652f\u6301\u6295\u5f71\u5750\u6807\u7cfb\u5207\u7247\uff08\u5982 Web \u58a8\u5361\u6258\uff09\uff0c\u7ecf\u7eac\u5ea6\u76f4\u6295\u5207\u7247\u9700\u5b9a\u5236\u5316\u5f00\u53d1\u9002\u914d\u3002</li> <li>\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528 \u201c\u7c73\u5355\u4f4d\u201d \u8fdb\u884c\u8ddd\u79bb\u6d4b\u91cf\u3001\u9762\u79ef\u8ba1\u7b97\u7b49\u64cd\u4f5c\u3002</li> </ul> </li> </ol> <pre><code>def latlon_to_tile(lat, lon, zoom):\n    # \u0394\u03bb \u548c \u0394\u03c6\n    delta_lon = 360 / (2 ** zoom)\n    delta_lat = 180 / (2 ** (zoom - 1))\n\n    # \u8ba1\u7b97\u74e6\u7247\u7f16\u53f7 x, y\n    x = int((lon + 180) / delta_lon)\n    y = int((90 - lat) / delta_lat)\n    return x, y\n\ndef tile_to_bounds(x, y, zoom):\n    # \u0394\u03bb \u548c \u0394\u03c6\n    delta_lon = 360 / (2 ** zoom)\n    delta_lat = 180 / (2 ** (zoom - 1))\n\n    # \u74e6\u7247\u5de6\u4e0a\u89d2\u548c\u53f3\u4e0b\u89d2\u7ecf\u7eac\u5ea6\n    lon_min = x * delta_lon - 180\n    lon_max = (x + 1) * delta_lon - 180\n    lat_max = 90 - y * delta_lat\n    lat_min = 90 - (y + 1) * delta_lat\n    return lon_min, lat_min, lon_max, lat_max\n</code></pre>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/","title":"\u5750\u6807\u7cfb\u4e0e\u5750\u6807\u8f6c\u6362","text":""},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_1","title":"\u7a7a\u95f4\u53c2\u8003","text":"<p>\u4e3a\u4e86\u4fbf\u4e8e\u5bf9\u4e8b\u7269\u7684\u7406\u89e3\uff0c\u9700\u8981\u5bf9\u4e8b\u7269\u8fdb\u884c\u62bd\u8c61\u5904\u7406\uff0c\u5730\u56fe\u5236\u56fe\u8fc7\u7a0b\u5982\u6b64\uff0c\u8ba1\u7b97\u673a\u5904\u7406\u8fc7\u7a0b\u4ea6\u5982\u6b64\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#1","title":"1. \u5927\u5730\u6c34\u51c6\u9762","text":"<p>\u5730\u7403\u662f\u4e00\u4e2a\u8fd1\u4f3c\u7403\u4f53\uff0c\u5176\u81ea\u7136\u8868\u9762\u662f\u4e00\u4e2a\u6781\u5176\u590d\u6742\u65e5\u4e0d\u89c4\u5219\u7684\u66f2\u9762\u3002\u4ece\u4e00\u4e2a\u533a\u57df\u5230\u53e6\u4e00\u4e2a\u533a\u57df\u4f1a\u6709\u4e0d\u540c\u7684\u539a\u5ea6\uff0c\u4e0d\u540c\u533a\u57df\u4f1a\u6709\u4e0d\u540c\u7684\u91cd\u529b\uff0c\u800c\u91cd\u529b\u5f71\u54cd\u4e86\u5730\u7403\u7684\u5f62\u72b6\u3002</p> <p>\u5927\u5730\u6d4b\u91cf\u4e2d\u7528\u6c34\u51c6\u6d4b\u91cf\u65b9\u6cd5\u5f97\u5230\u7684\u5730\u9762\u4e0a\u5404\u70b9\u7684\u9ad8\u7a0b\u662f\u4f9d\u636e\u4e00\u4e2a\u7406\u60f3\u7684\u6c34\u51c6\u9762\u6765\u786e\u5b9a\u7684\uff0c\u901a\u5e38\u79f0\u4e3a\"\u5927\u5730\u6c34\u51c6\u9762\u3002</p> <p>\u5927\u5730\u6c34\u51c6\u9762\u5047\u5b9a\u6d77\u6c34\u5904\u4e8e\"\u5b8c\u5168\"\u9759\u6b62\u72b6\u6001\uff0c\u5c06\u6d77\u6c34\u4e3d\u5ef6\u4f38\u5230\u5927\u9646\u4e4b\u4e0b\u5f62\u6210\u5305\u56f4\u6574\u4e2a\u5730\u7403\u7684\u8fde\u7eed\u8868\u9762;\u5927\u5730\u6c34\u51c6\u9762\u6240</p> <p>\u5305\u56f4\u7684\u7403\u4f53\u79f0\u4e3a\u592a\u5730\u7403\u4f53\u3002\u5927\u5730\u6c34\u51c6\u9762\u4e0a\u4efb\u4f55\u4e00\u70b9\u7684\u94c5\u5782\u7ebf\u90fd\u4e0e\u5927\u5730\u6c34\u51c6\u9762\u6b63\u4ea4\uff0c \u800c\u94c5\u5782\u7ebf\u7684\u65b9\u5411\uff08\u5782\u76f4\u65b9\u5411\uff09\u53c8\u53d7\u5730\u7403\u5185\u90e8\u8d28\u91cf\u5206\u5e03\u4e0d\u5747\u5300\u7684\u5f71\u54cd\u800c\u6709\u5fae\u5c0f\u53d8\u5316\uff0c\u5bfc\u81f4\u5927\u5730\u6c34\u51c6\u9762\u4ea7\u751f\u5fae\u5c0f\u7684\u8d77\u4f0f\u3002</p> <p>\u56e0\u6b64\uff0c\u5927\u5730\u7403\u4f53\u4ecd\u7136\u662f\u4e00\u4e2a\u8868\u9762\u8d77\u4f0f\u4e0d\u89c4\u5219\u7684\u7403\u4f53\uff0c\u8fd8\u4e0d\u80fd\u76f4\u63a5\u4f5c\u4e3a\u6295\u5f71\u7684\u4f9d\u636e\u3002</p> <p>\u5927\u5730\u6c34\u51c6\u9762\u662f\u5bf9\u5730\u7403\u5f62\u72b6\u7684\u4e00\u4e2a\u62bd\u8c61\u3001\u7b80\u5316\u7684\u8868\u8fbe\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#2","title":"2. \u5730\u7403\uff08\u53c2\u8003\uff09\u692d\u7403\u9762","text":"<p>\u5730\u7403\u662f\u4e00\u4e2a\u8868\u9762\u5f88\u590d\u6742\u7684\u7403\u4f11\uff0c\u4eba\u4eec\u79f0\u5047\u60f3\u7684\u5e73\u5747\u9759\u6b62\u7684\u6d77\u6c34\u9762(\u5927\u5730\u6c34\u51c6 \u9762)\u6240\u5305\u56f4\u7684\u5f62\u4f53\u4e3a\"\u5927\u5730\u7403\u4f53\u98de\u8fd9\u4e2a\u5047\u60f3\u7684\u5927\u5730\u7403\u4f53\u5f62\u72b6\u4e5f\u5341\u5206\u590d\u6742\uff0c\u4f46\u4ece\u6574 \u4f53\u6765\u770b\uff0c\u5b83\u7684\u8d77\u4f0f\u662f\u5fbd\u5c0f\u7684\uff0c\u5b83\u662f\u4e00\u4e2a\u5f88\u63a5\u8fd1\u4e8e\u7ed5\u81ea\u8f6c\u8f74(\u77ed\u8f74\u3009\u65cb\u8f6c\u7684\u692d\u7403\u4f53\u3002</p> <p>\u4e3a\u4e86\u63cf\u8ff0\u548c\u8868\u8fbe\u5730\u7403\u8868\u9762\uff0c\u5fc5\u987b\u9009\u62e9\u4e00\u4e2a\u4e0e\u5730\u7403\u5f62\u72b6\u3001\u5927\u5c0f\u76f8\u63a5\u8fd1\u7684\u692d\u7403\u4f53\u6765\u8fd1\u4f3c \u4ee3\u66ff\u5b83\u3002\u6240\u4ee5\u5728\u6d4b\u91cf\u548c\u5236\u56fe\u4e2d\u5c31\u7528\u65cb\u8f6c\u692d\u7403\u4f53\u6765\u4ee3\u66ff\u5927\u5730\u7403\u4f53\uff0c\u8fd9\u4e2a\u65cb\u8f6c\u7403\u4f53\u901a\u5e38\u79f0\u5730\u7403\u692d\u7403\u4f53\uff0c\u7b80\u79f0\u692d\u7403\u4f53\u3002</p> <p>\u5730\u7403\u692d\u7403\u4f53\u662f\u4e3a\u4e86\u65b9\u4fbf\u6570\u5b66\u8ba1\u7b97\u3001\u8ba1\u7b97\u673a\u5904\u7406\u800c\u5bf9\u5927\u5730\u6c34\u51c6\u9762\u7684\u8fdb\u4e00\u6b65\u7b80\u5316\uff0c \u53ef\u4ee5\u7528\u4e00\u4e2a\u6570\u5b66\u8868\u8fbe\u5f0f\u6765\u63cf\u8ff0.\u6b63\u662f\u6709\u4e86\u5730\u7403\u692d\u7403\u4f53\uff0c\u624d\u4f7f\u5f97\u76ee\u524d\u8ba1\u7b97\u673a\u5904\u7406\u5730\u7406\u7a7a\u95f4\u6570\u636e\u6709\u4e86\u53ef\u80fd\uff0c\u5728\u540e\u9762\u63a2\u8ba8\u4e2d\u6240\u6d89\u53ca\u7684\u53ea\u6709\u5730\u7403\u692d\u7403\u4f53\u8fd9\u4e2a\u6982\u5ff5.</p> <p>\u5730\u7403\u692d\u7403\u7684\u4e24\u4e2a\u4e3b\u8981\u53c2\u6570\u4e3a\u957f\u8f74\u534a\u5f84 \u3001\u77ed\u8f74\u534a\u5f84\uff0c\u4ee5\u53ca\u4e09\u4e2a\u6d3e\u751f\u53c2\u6570\uff1a\u5706\u7684\u6241\u7387\u3001\u7b2c\u4e00\u504f\u5fc3\u7387\u3001\u7b2c\u4e8c\u504f\u5fc3\u7387\u3002</p> <p>\u4e0d\u540c\u7684\u9650\u5236\u6761\u4ef6\uff0c\u4e0d\u540c\u7684\u7814\u7a76\u65b9\u6cd5\uff0c\u5f97\u5230\u7684\u5730\u7403\u692d\u7403\u4e0d\u5c3d\u76f8\u540c\u3002\u56e0\u6b64\uff0c\u5730\u7403\u692d\u7403\u6709\u5f88\u591a\uff0c\u5982WGS-84\u30011975\u5e74\u56fd\u9645\u692d\u7403\u3001\u6d77\u798f\u7279\u3001\u514b\u62c9\u7d22\u592b\u65af\u57fa\u7b49\u7b49\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#3","title":"3. \u57fa\u51c6\u9762","text":"<p>\u5730\u56fe\u5b66\u5bf9\u5730\u7403\u7684\u62bd\u8c61\uff0c\u7b2c\u4e00\u6b21\u62bd\u8c61\u4e3a\u6c34\u51c6\u9762(\u7b49\u91cd\u529b\u9762);\u7b2c\u4e8c\u6b21\u62bd\u8c61\u4e3a\u692d\u7403\u4f53\uff1b\u7b2c\u4e09\u6b21\u62bd\u8c61\u662f\u5c06\u692d\u7403\u4f53\u8fdb\u884c\u5b9a\u4f4d\u4e4b\u540e\uff0c\u6240\u786e\u5b9a\u7684\u5177\u6709\u660e\u786e\u65b9\u5411\u7684\u692d\u7403\u4f53\uff0c\u4e5f\u5c31\u662f\u57fa\u51c6\u9762\uff0c\u57fa\u51c6\u9762\u7684\u5b9a\u4e49\u9700\u8981\u6ee1\u8db3\u5730\u533a\u5730\u56fe\u5236\u4f5c\u7684\u8981\u6c42\u3002\u692d\u7403\u4f53\u6a21\u578b\u6709</p> <p>\u4e00\u4e2a\u9002\u7528\u8303\u56f4\uff0c\u5b9a\u4f4d\u4e4b\u540e\u80fd\u591f\u7ed9\u5730\u7403\u4e0a\u4e0d\u540c\u533a\u57df\u7684\u6295\u5f71\u4ee5\u6700\u4f18\u7684\u7ed3\u679c\u56de\u603b\u4e4b\uff0c\u80fd\u591f\u5f97\u5230\u4e00\u4e2a\u7528\u4e8e\u5c40\u90e8\u5b9a\u4f4d\u7684\u3001\u8db3\u591f\u51c6\u786e\u7684\u57fa\u51c6\u3002</p> <p>\u6709\u4e86\u53c2\u8003\u692d\u7403\uff0c\u5728\u5b9e\u9645\u5efa\u7acb\u5730\u7406\u7a7a\u95f4\u5750\u6807\u7cfb\u7edf\u7684\u65f6\u5019\uff0c\u8fd8\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u5927\u5730\u57fa\u51c6\u9762\u5c06\u8fd9\u4e2a\u692d\u7403\u4f53\u4e0e\u5927\u5730\u4f53\u8054\u7cfb\u8d77\u6765\u3002</p> <p>\u8bb2\u767d\u4e86\uff0c\u5c31\u662f\u5730\u7403\u692d\u7403\u4f53\u53ea\u662f\u8fd1\u4f3c\u7684\u4ee3\u8868\u5730\u7403\uff0c\u4e3a\u4e86\u5c3d\u91cf\u51cf\u5c11\u9488\u5bf9\u5404\u4e2a\u5730\u533a\u7684\u8fd1\u4f3c\u8bef\u5dee\uff0c\u5373\u901a\u8fc7\u5927\u5730\u57fa\u51c6\u9762\u4f7f\u5f97\u5730\u7403\u692d\u7403\u4f53\u4e0e\u5730\u7403\u4f53\u5728\u67d0\u4e00\u533a\u57df\u5c3d\u91cf\u91cd\u5408\u3002\u56e0\u6b64\uff0c\u5404\u4e2a\u5730\u533a\u4e3a\u4e86\u4f7f\u5f97\u5730\u7403\u692d\u7403\u4f53\u4e0e\u5730\u7403\u4f53\u5c3d\u91cf\u91cd\u5408\uff0c\u5bfc\u81f4\u6709\u5f88\u591a\u4e0d\u540c\u7684\u5927\u5730\u57fa\u51c6\u9762\uff0c\u5982\u5317\u4eac54\u5750\u6807\u7cfb\u3001\u897f\u5b8980\u5750\u6807\u7cfb\u5b9e\u9645\u4e0a\u6307\u7684\u662f\u6211\u56fd\u7684\u4e24\u4e2a\u5927\u5730\u57fa\u51c6\u9762\u3002\u4e0b\u56fe\u53ef\u89e3\u91ca\u5927\u5730\u57fa\u51c6\u9762\u7684\u4f5c\u7528\u3002</p> <p>![[GIS/assets/Pasted image 20250602095354.png]] \u4e09\u53c2\u6570\u548c\u4e03\u53c2\u6570\u6cd5\u3002</p> <p>\u90a3\u4e48\u4e3a\u4e86\u4f7f\u5f97\u5730\u7403\u692d\u7403\u4f53\u901a\u8fc7\u5e73\u79fb\u3001\u65cb\u8f6c\u3001\u7f29\u653e\u4e0e\u5730\u7403\u4f53\u66f4\u52a0\u8d34\u5408\uff0c\u5927\u5730\u57fa\u51c6\u9762\u5c31\u9700\u89817\u53c2\u6570\u5206\u522b\u4e3a\uff1a</p> <p>\u4e09\u4e2a\u5e73\u79fb\u53c2\u6570\u0394X\u3001\u0394Y\u3001\u0394Z\uff1b</p> <p>\u4e09\u4e2a\u65cb\u8f6c\u53c2\u6570\u03b5x\u3001\u03b5y\u3001\u03b5z\uff1b</p> <p>\u6700\u540e\u662f\u6bd4\u4f8b\u6821\u6b63\u56e0\u5b50\uff0c\u7528\u4e8e\u8c03\u6574\u692d\u7403\u5927\u5c0f\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#coordinate-systemcs","title":"\u5750\u6807\u7cfb\uff08coordinate system\u3001CS\uff09","text":"<p>\u5750\u6807\u7cfb\u7531\u4e24\u4e2a\u3001\u4e09\u4e2a\u751a\u81f3\u66f4\u591a\u4e2a\u5750\u6807\u8f74\uff0c\u5355\u4f4d\u6807\u5ea6\u7b49\u7ec4\u6210\uff0c\u4f7f\u5f97\u53ef\u5229\u7528\u6570\u5b66\u6cd5\u5219\u8ba1\u7b97\u8ddd\u79bb\u3001\u89d2\u5ea6\u6216\u5176\u4ed6\u51e0\u4f55\u5143\u7d20\u3002</p> <ol> <li> <p>\u5750\u6807\u8f74\u76f8\u4e92\u5782\u76f4\u7684\u7b1b\u5361\u5c14\uff08Cartesian\uff09\u5750\u6807\u7cfb\uff1b</p> </li> <li> <p>\u5750\u6807\u8f74\u4e0d\u5fc5\u76f8\u4e92\u5782\u76f4\u7684\u4eff\u5c04\uff08affine\uff09\u5750\u6807\u7cfb\uff1b</p> </li> <li> <p>\u7528\u7ecf\u7eac\u5ea6\u3001\u9ad8\u7a0b\u6765\u786e\u5b9a\u70b9\u4f4d\u7f6e\u7684\u692d\u7403\u9762\uff08ellipsoidal\uff09\u5750\u6807\u7cfb\u7b49\u3002</p> </li> </ol>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#coordinate-reference-systemcrs","title":"\u5750\u6807\u53c2\u7167\u7cfb\uff08coordinate reference system\u3001CRS\uff09","text":"<p>\u901a\u8fc7\u57fa\u51c6\u9762\uff08datum\uff09\u4e0e\u771f\u5b9e\u4e16\u754c\u6216\u8005\u8bf4\u5730\u7403\u76f8\u5173\u8054\u7684\u5750\u6807\u7cfb\u5373\u5750\u6807\u53c2\u7167\u7cfb\u3002\u57fa\u51c6\u9762\u662f\u692d\u7403\u4f53\u7528\u6765\u903c\u8fd1\u67d0\u5730\u533a\u7528\u7684\uff0c\u56e0\u6b64\u5404\u4e2a\u56fd\u5bb6\u90fd\u6709\u5404\u81ea\u7684\u57fa\u51c6\u9762\u3002\u6211\u4eec\u5e38\u7528\u7684\u57fa\u51c6\u9762\u6709\uff1aBEIJING1954\uff0cXIAN1980\uff0cWGS1984\u7b49\u3002 ![[GIS/assets/Pasted image 20250602095557.png]]</p> <p>\u4e0a\u56fe\u4e2d\u7684\u4e09\u4e2a\u5750\u6807\u7cfb\u5206\u522b\u662f\uff1a\u5730\u5fc3\u5750\u6807\u7cfb\uff08Geographic\uff09\u3001\u5730\u7406\uff08\u7403\uff09\u5750\u6807\u7cfb\uff08Spherical\uff09\u3001\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\uff08Cartesian\uff09</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_2","title":"\u5730\u5fc3\u5750\u6807\u7cfb","text":"<p>\u4ee5\u5730\u7403\u4e2d\u5fc3\u4e3a\u539f\u70b9\uff0c\u76f4\u63a5\u7528X\u3001Y\u3001Z\u6765\u8fdb\u884c\u4f4d\u7f6e\u7684\u63cf\u8ff0\uff0c\u65e0\u9700\u6a21\u62df\u5730\u7403\u7403\u9762\uff0c\u5e38\u7528\u5728GPS\u4e2d\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_3","title":"\u5730\u7406\uff08\u7403\uff09\u5750\u6807\u7cfb","text":"<p>\u5b83\u7531\u5f84\u5411\u8ddd\u79bb\u3001\u6781\u89d2\u548c\u65b9\u4f4d\u89d2\u4e09\u4e2a\u53c2\u6570\u6765\u786e\u5b9a\u4e00\u4e2a\u70b9\u5728\u7a7a\u95f4\u4e2d\u7684\u4f4d\u7f6e\u3002</p> <p>\u5e26Datum\u7684\u692d\u7403\u9762\u5750\u6807\u7cfb\uff0c\u5355\u4f4d\u7ecf\u5ea6\u3001\u7eac\u5ea6\uff0c\u9ad8\u7a0b\u7528\u4f5c\u7b2c\u4e09\u7ef4\u3002\u53c2\u6570\uff1a\u692d\u7403\u4f53\u3001\u57fa\u51c6\u9762\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_4","title":"\u6295\u5f71\uff08\u7b1b\u5361\u5c14\uff09\u5750\u6807\u7cfb","text":"<p>\u5e73\u9762\u5750\u6807\u7cfb\uff0c\u5355\u4f4d\u7c73\u3001\u82f1\u5c3a\u7b49\uff0c\u5b83\u7528X(Easting)\u3001Y(Northing)\u6765\u63cf\u8ff0\u5730\u7403\u4e0a\u67d0\u4e2a\u70b9\u7684\u4f4d\u7f6e\u3002\u5b83\u5bf9\u5e94\u4e8e\u67d0\u4e2a\u5730\u7406\u5750\u6807\u7cfb\uff0c\u5728UML\u4e2d\u8868\u793a\u5c5e\u4e8e1\u5bf9\u591a\u7684\u5173\u7cfb\uff0c1\u4e2a\u5730\u7406\u5750\u6807\u7cfb\u7ecf\u8fc7\u4e0d\u540c\u7684\u6295\u5f71\u65b9\u5f0f\u53ef\u4ea7\u751f\u591a\u4e2a\u6295\u5f71\u5750\u6807\u7cfb\u3002\u53c2\u6570\uff1a\u5730\u7406\u5750\u6807\u7cfb\u3001\u6295\u5f71\u65b9\u5f0f\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_5","title":"\u5730\u7406\u53d8\u6362\u4e0e\u6295\u5f71\u53d8\u6362","text":"<p>\u5750\u6807\u64cd\u4f5c\uff08coordinate operation\uff09\uff1a\u4ece\u4e00\u4e2a\u5750\u6807\u53c2\u7167\u7cfb\u5230\u53e6\u4e00\u4e2a\u4e00\u5bf9\u4e00\u7684\u5750\u6807\u6539\u53d8(change)\u3002\u5305\u542b\u5750\u6807\u8f6c\u6362\uff08coordinate conversion\uff09\u548c\u5750\u6807\u53d8\u6362\uff08coordinate transformation\uff09\uff0c\u5750\u6807\u8f6c\u6362\u4e24\u4e2a\u5750\u6807\u53c2\u7167\u7cfb\u662f\u57fa\u4e8e\u540c\u4e00\u4e2aDatum\u7684\uff0c\u800c\u5750\u6807\u53d8\u6362\u524d\u540e\u7684\u57fa\u51c6\u9762\u4e0d\u76f8\u540c\u3002\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff08\uff1f\uff09\uff0c\u540d\u5b57\u548c\u5b9e\u9645\u542b\u4e49\u6df7\u6dc6\u7740\u7528\u4e86\uff0c\u5728\u8fdb\u884c\u5750\u6807\u64cd\u4f5c\u7684\u65f6\u5019\u9700\u8981\u6ce8\u610f\u3002 \u4e0a\u8ff0\u5750\u6807\u64cd\u4f5c\u7684\u4ecb\u7ecd\u6765\u6e90\u4e8eOGC\u6587\u4ef6\uff0c</p> <p>\u5b9e\u9645\u4e0a\u66f4\u6613\u4e8e\u7406\u89e3\u7684\u662f\u53e6\u5916\u4e00\u79cd\u5206\u7c7b\u65b9\u6cd5\uff1a\u5730\u7406\u53d8\u6362\u548c\u6295\u5f71\u53d8\u6362\u3002</p> <p>\u5730\u7406\u53d8\u6362\u662f\u5728\u5730\u7406\u5750\u6807\u7cfb\uff08\u692d\u7403\uff09\u4e4b\u95f4\u7684\u8fdb\u884c\u6570\u636e\u8f6c\u6362\u7684\u65b9\u6cd5\uff0c\u57fa\u51c6\u53ef\u80fd\u4e0d\u540c\uff0c\u6709\u4e09\u53c2\u6570\u548c\u4e03\u53c2\u6570\u6cd5\u3002</p> <p>\u5f53\u7cfb\u7edf\u6240\u4f7f\u7528\u7684\u6570\u636e\u6765\u81ea\u4e0d\u540c\u7684\u5730\u56fe\u6295\u5f71\uff0c\u5219\u9700\u8981\u5c06\u4e00\u79cd\u6295\u5f71\u7684\u6570\u636e\u8f6c\u6362\u6210\u53e6\u4e00\u79cd\u6295\u5f71\uff0c\u8fd9\u5c31\u9700\u8981\u8fdb\u884c\u6295\u5f71\u53d8\u6362\u3002</p> <p>\u5728\u5730\u7406\u5750\u6807\u7cfb\u4e4b\u95f4\u7684\u8fdb\u884c\u6570\u636e\u8f6c\u6362\u7684\u65b9\u6cd5\uff0c\u57fa\u51c6\u53ef\u80fd\u4e0d\u540c\uff0c\u6709\u4e09\u53c2\u6570\u548c\u4e03\u53c2\u6570\u6cd5\u3002</p> <p>\u7a7a\u95f4\u5750\u6807\u7cfb\u7684\u533a\u522b\u5728\u4e8e\u9009\u53d6\u7684\u692d\u7403\u4f53\u548c\u57fa\u51c6\u9762\u4e0d\u540c</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_6","title":"\u6295\u5f71\u53d8\u6362","text":"<p>\u5f53\u7cfb\u7edf\u6240\u4f7f\u7528\u7684\u6570\u636e\u6765\u81ea\u4e0d\u540c\u7684\u5730\u56fe\u6295\u5f71\uff0c\u5219\u9700\u8981\u5c06\u4e00\u79cd\u6295\u5f71\u7684\u6570\u636e\u8f6c\u6362\u6210\u53e6\u4e00\u79cd\u6295\u5f71\u3002</p> <p>1\uff09\u786e\u5b9a\u5730\u7403\u692d\u7403\u4f53\uff08Spheroid/Ellipsoid\uff09\uff0c\u9700\u8981\u957f\u534a\u8f74\u3001\u77ed\u534a\u8f74\u3001\u66f2\u7387\u4e09\u4e2a\u53c2\u6570\u3002\uff08\u6a21\u62df\u5730\u7403\u7684\u5f62\u72b6\uff09</p> <p>2\uff09\u82e5\u8981\u903c\u8fd1\u67d0\u7279\u5b9a\u5730\u533a\uff0c\u5219\u9700\u8981\u5927\u5730\u57fa\u51c6\uff08Geodetic Datum\uff09\u3002\uff08\u692d\u7403\u4f53\u7684\u539f\u70b9the position of the origin\u3001\u65b9\u5411 the orientation\u3001\u7f29\u653e\u6bd4\u4f8b the scale\u7b49\uff09\u6211\u56fd\u73b0\u5728\u91c7\u53d6\u897f\u5b891980\u5750\u6807\u7cfb\u57fa\u51c6\u70b9\uff0c\u540c\u65f6\u4e5f\u6709\u56fd\u5bb61985\u9ad8\u7a0b\u57fa\u51c6\u3002</p> <p>3\uff09\u5982\u4f55\u6295\u5f71\uff0c\u8fd9\u5c31\u6d89\u53ca\u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71\u7b49\u8bf8\u591a\u6295\u5f71\u65b9\u5f0f\u7684\u5b58\u5728\uff0c\u7b49\u89d2\u7b49\u79ef\u7b49\u8ddd\u79bb\uff0c\u65b9\u4f4d\u5706\u67f1\u5706\u9525\u7b49\u5206\u7c7b\u3002</p> <p>\u56e0\u6b64\uff0c\u5c31\u5730\u56fe\u6295\u5f71\u7684\u76f8\u5173\u53c2\u6570\u6765\u770b\uff0c\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1aEllipsoid \u3001 Datum \uff1bProjection\u3002Ellipsoid\u4e0eDatum\u662f\u76f8\u5173\u8054\u7684\uff0c\u4e00\u822c\u63d0\u5230\u67d0\u4e2aDatum\uff0c\u5219\u5176Ellipsoid\u4e5f\u5305\u542b\u5728\u5185\uff1b\u4e24\u8005\u7684\u5bf9\u5e94\u5173\u7cfb\u662f\u4e00\u5bf9\u591a\uff0c\u5373\u4e00\u4e2aEllipsoid\u53ef\u4ee5\u4e3a\u591a\u4e2aDatum\u6240\u7528\uff0c\u4e0d\u540c\u7684Datum\u7684Ellipsoid\u53ef\u4ee5\u662f\u76f8\u540c\u7684\u3002</p> <p>\u7531\u4e8e\u4e16\u754c\u5404\u5730\u533a\u6295\u5f71\u7c7b\u578b\u7684\u4e0d\u540c\uff0c\u56e0\u6b64\u5728\u53e0\u52a0\u3001\u590d\u5408\u4e0d\u540c\u6765\u6e90\u7a7a\u95f4\u6570\u636e\u65f6\uff0c\u5fc5\u9700\u9996\u5148\u8fdb\u884c\u6295\u5f71\u8f6c\u6362\u3001\u914d\u51c6\u7b49\u8bbe\u7f6e\u3002GIS\u5546\u4e1a\u8f6f\u4ef6\u5927\u591a\u90fd\u63d0\u4f9b\u8fd9\u4e2a\u529f\u80fd\uff0c\u5f00\u6e90GIS\u4e2dProj.4\u5219\u662f\u4e2a\u4f18\u79c0\u7684\u6295\u5f71\u7b97\u6cd5\u5e93\u3002</p> <p>\u8bdd\u8bf4\u6211\u56fd\u7684\u5730\u56fe\u6295\u5f71\u4e2d1\uff1a100\u4e07\u5730\u5f62\u56fe\u91c7\u7528\u4e86Lambert(\u5170\u52c3\u7279)\u6295\u5f71\uff08\u6b63\u8f74\u7b49\u89d2\u5272\u5706\u9525\u6295\u5f71\uff09\uff0c\u5927\u4e8e1\uff1a100\u4e07\u7684\u57fa\u672c\u6bd4\u4f8b\u5c3a\u5730\u5f62\u56fe\u91c7\u7528\u9ad8\u65af\u2014\u514b\u5415\u683c\u6295\u5f71\uff08\u6a2a\u8f74\u7b49\u89d2\u5207\u5706\u67f1\u6295\u5f71\uff09\u3002\u5177\u4f53\u7684\u6295\u5f71\u5206\u7c7b\u3001\u6295\u5f71\u4ecb\u7ecd\u5c5e\u4e8e\u57fa\u672c\u77e5\u8bc6\uff0c\u7f51\u7edc\u4fef\u62fe\u7686\u662f\u3002</p> <p>\u7a7a\u95f4\u5750\u6807\u4f9d\u636e\u5750\u6807\u7cfb\u7684\u4e0d\u540c\u5206\u4e3a\u5730\u7406\u5750\u6807\u548c\u6295\u5f71\u5750\u6807\u3002</p> <p>\u5730\u7406\u5750\u6807\u662f\u5c06\u5730\u7403\u6bd4\u4f5c\u4e00\u4e2a\u7c7b\u692d\u7403\u4f53\uff0c\u63cf\u8ff0\u4e00\u4e2a\u70b9\u5728\u7403\u9762\u4e0a\u7684\u4f4d\u7f6e\u3002\u4f46\u662f\u5728\u5730\u56fe\u5236\u56fe\u8fc7\u7a0b\u4e2d\uff0c\u5f80\u5f80\u9700\u8981\u5728\u4e00\u4e2a\u5e73\u9762\uff08\u65e0\u8bba\u662f\u7eb8\u8d28\u5730\u56fe\u8fd8\u662f\u7535\u5b50\u5730\u56fe\uff09\u4e0a\u5c55\u793a\u5730\u7269\uff0c\u8fd9\u65f6\u9700\u8981\u89e3\u51b3\u5730\u7403\u7403\u9762\u4e0e\u5730\u56fe\u5e73\u9762\u4e4b\u95f4\u7684\u77db\u76fe\uff0c\u56e0\u6b64\u9700\u8981\u5bf9\u5730\u7403\u8fdb\u884c\u6295\u5f71\uff0c\u7ecf\u8fc7\u6295\u5f71\u540e\u7684\u5750\u6807\u79f0\u4e3a\u6295\u5f71\u5750\u6807\uff0c\u56e0\u6b64\u6295\u5f71\u5750\u6807\u662f\u5efa\u7acb\u5728\u5730\u7406\u5750\u6807\u4e4b\u4e0a\u7684\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_7","title":"\u5730\u7406\u5750\u6807\u7cfb","text":"<p>\u5730\u7406\u5750\u6807\u7cfb (Geographic Coordinate System, GCS) \u5305\u62ec\u89d2\u5ea6\u6d4b\u91cf\u5355\u4f4d\u3001\u672c\u521d\u5b50\u5348\u7ebf\u3001\u57fa\u51c6\u9762\uff08\u692d\u5706\u4f53\u7403\u9762\uff09\u3002</p> <p>\u5750\u6807\u7cfb\u4ee5\u8d64\u9053\u548c\u672c\u521d\u5b50\u5348\u7ebf\u7684\u4ea4\u70b9\u4e3a\u539f\u70b9\uff0c\u4ee5\u6307\u5411\u5317\u6781\u70b9\u7684\u6781\u8f74\u4e3aZ\u8f74\uff0c\u4ee5\u6307\u5411\u8d64\u9053\u548c\u672c\u521d\u5b50\u5348\u7ebf\u7684\u4ea4\u70b9\u4e3aX\u8f74\uff0c\u4ee5\u6307\u5411\u8d64\u9053\u548c\u4e1c\u7ecf90\u5ea6\u7ecf\u7ebf\u7684\u4ea4\u70b9\u4e3aY\u8f74\u3002\u7eac\u5ea6\u7684\u8303\u56f4\u662f-90<sub>90\u5ea6\uff0c\u7ecf\u5ea6\u7684\u8303\u56f4\u662f-180</sub>180\u5ea6\u3002</p> <p>\u70b9\u8981\u7d20\u901a\u8fc7\u5176\u7ecf\u5ea6\u548c\u7eac\u5ea6\u503c\u8fdb\u884c\u63cf\u8ff0\uff0c\u7ecf\u5ea6\u548c\u7eac\u5ea6\u662f\u4ece\u5730\u5fc3\u5230\u5730\u7403\u8868\u9762\u4e0a\u67d0\u70b9\u7684\u6d4b\u91cf\u89d2\uff0c\u901a\u5e38\u4ee5\u5ea6\u6216\u767e\u5206\u5ea6\u4e3a\u5355\u4f4d\u6765\u6d4b\u91cf\u8be5\u89d2\u5ea6\u7684\u503c\u3002</p> <p>![[GIS/assets/Pasted image 20250602095630.png]]\u4e3a\u4e86\u6784\u5efa\u5730\u7406\u5750\u6807\uff0c\u9996\u5148\u8981\u7406\u89e3\u4ee5\u4e0b\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5\uff1a</p> <ol> <li> <p>\u5730\u7403\u81ea\u7136\u8868\u9762\u3002\u5730\u7403\u81ea\u7136\u8868\u9762\u662f\u6307\u7531\u5730\u7403\u4e0a\u7684\u9646\u5730\u548c\u6d77\u6d0b\u8868\u9762\u6240\u6784\u6210\u7684\u81ea\u7136\u8868\u9762\uff0c\u5176\u5f62\u72b6\u9ad8\u4f4e\u4e0d\u5e73\uff0c\u96be\u4ee5\u6784\u5efa\u5750\u6807\u7cfb\u3002</p> </li> <li> <p>\u5927\u5730\u6c34\u51c6\u9762\u3002\u5728\u5047\u5b9a\u6d77\u6c34\u9759\u6b62\u7684\u72b6\u6001\u4e0b\uff0c\u7531\u6d77\u6c34\u6c34\u9762\u5411\u9646\u5730\u8fdb\u884c\u5ef6\u4f38\u6240\u6784\u6210\u7684\u8fde\u7eed\u6c34\u5e73\u9762\uff0c\u79f0\u4e3a\u5927\u5730\u6c34\u51c6\u9762\u3002\u4f46\u662f\uff0c\u5730\u7403\u8d28\u91cf\u5206\u5e03\u7684\u4e0d\u5747\u5300\u6027\u4f7f\u5927\u5730\u6c34\u51c6\u9762\u5b58\u5728\u8f7b\u5fae\u7684\u9ad8\u4f4e\u4e0d\u5e73\u73b0\u8c61\uff0c\u56e0\u6b64\u5176\u4ecd\u7136\u4e0d\u9002\u5408\u6784\u5efa\u5750\u6807\u7cfb\u3002</p> </li> <li> <p>\u5730\u7403\u692d\u7403\u9762\uff08\u57fa\u51c6\u9762\uff09\u3002\u6839\u636e\u5b9e\u9645\u9700\u8981\uff0c\u6784\u5efa\u4e00\u4e2a\u5b8c\u7f8e\u7684\u692d\u7403\u4f53\u62df\u5408\u5927\u5730\u6c34\u51c6\u9762\u6240\u6784\u6210\u7684\u7403\u9762\uff0c\u79f0\u4e3a\u5730\u7403\u692d\u7403\u9762\u3002</p> <ol> <li> <p>\u5730\u5fc3\u57fa\u51c6\u9762\uff0c\u4ee5\u5730\u7403\u7684\u8d28\u5fc3\u4e3a\u7403\u5fc3\u3002\u4f8b\u5982\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684 WGS 1984\uff0c\u662f\u5728\u4e16\u754c\u8303\u56f4\u5185\u8fdb\u884c\u5b9a\u4f4d\u6d4b\u91cf\u7684\u6846\u67b6\u3002</p> </li> <li> <p>\u533a\u57df\u57fa\u51c6\u9762\uff0c\u4e3a\u4e86\u7528\u692d\u7403\u4f53\u62df\u5408\u6d4b\u7ed8\u7684\u7279\u5b9a\u533a\u57df\uff0c\u533a\u57df\u57fa\u51c6\u9762\u5e94\u8fd0\u800c\u751f\uff0c\u4f8b\u5982 NAD 1927 \u65e8\u5728\u5c3d\u53ef\u80fd\u4e0e\u5317\u7f8e\u6d32\u543b\u5408\uff0c\u800c ED 1950 \u662f\u4e3a\u6b27\u6d32\u800c\u6784\u5efa\u3002\u533a\u57df\u57fa\u51c6\u9762\u7684\u65cb\u8f6c\u692d\u7403\u4f53\u7684\u7403\u5fc3\u4e00\u822c\u4e0e\u5730\u5fc3\u5b58\u5728\u4e00\u5b9a\u504f\u79fb\u3002</p> </li> </ol> </li> </ol> <p>\u4f4d\u4e8e\u4e24\u6781\u70b9\u4e2d\u95f4\u4f4d\u7f6e\u7684\u7eac\u7ebf\u79f0\u4e3a\u8d64\u9053\u3002\u5b83\u5b9a\u4e49\u7684\u662f\u96f6\u7eac\u5ea6\u7ebf\u3002\u96f6\u7ecf\u5ea6\u7ebf\u79f0\u4e3a\u672c\u521d\u5b50\u5348\u7ebf\u3002\u5bf9\u4e8e\u7edd\u5927\u591a\u6570\u5730\u7406\u5750\u6807\u7cfb\uff0c\u672c\u521d\u5b50\u5348\u7ebf\u662f\u6307\u901a\u8fc7\u82f1\u56fd\u683c\u6797\u5c3c\u6cbb\u7684\u7ecf\u7ebf\u3002\u5176\u4ed6\u56fd\u5bb6/\u5730\u533a\u4f7f\u7528\u901a\u8fc7\u4f2f\u5c14\u5c3c\u3001\u6ce2\u54e5\u5927\u548c\u5df4\u9ece\u7684\u7ecf\u7ebf\u4f5c\u4e3a\u672c\u521d\u5b50\u5348\u7ebf\u3002\u7ecf\u7eac\u7f51\u7684\u539f\u70b9 (0,0) \u5b9a\u4e49\u5728\u8d64\u9053\u548c\u672c\u521d\u5b50\u5348\u7ebf\u7684\u4ea4\u70b9\u5904\u3002\u8fd9\u6837\uff0c\u5730\u7403\u5c31\u88ab\u5206\u6210\u56db\u4e2a\u5730\u7406\u8c61\u9650\uff0c\u5b83\u4eec\u5747\u57fa\u4e8e\u4e0e\u539f\u70b9\u6240\u6210\u7684\u7f57\u76d8\u65b9\u4f4d\u89d2\u3002\u5357\u548c\u5317\u5206\u522b\u4f4d\u4e8e\u8d64\u9053\u7684\u4e0b\u65b9\u548c\u4e0a\u65b9\uff0c\u800c\u897f\u548c\u4e1c\u5206\u522b\u4f4d\u4e8e\u672c\u521d\u5b50\u5348\u7ebf\u7684\u5de6\u4fa7\u548c\u53f3\u4fa7\u3002</p> <p>\u901a\u5e38\uff0c\u7ecf\u5ea6\u548c\u7eac\u5ea6\u503c\u4ee5\u5341\u8fdb\u5236\u5ea6\u4e3a\u5355\u4f4d\u6216\u4ee5\u5ea6\u3001\u5206\u548c\u79d2 (DMS) \u4e3a\u5355\u4f4d\u8fdb\u884c\u6d4b\u91cf\u3002\u7eac\u5ea6\u503c\u76f8\u5bf9\u4e8e\u8d64\u9053\u8fdb\u884c\u6d4b\u91cf\uff0c\u5176\u8303\u56f4\u662f -90\u00b0\uff08\u5357\u6781\u70b9\uff09\u5230 +90\u00b0\uff08\u5317\u6781\u70b9\uff09\u3002\u7ecf\u5ea6\u503c\u76f8\u5bf9\u4e8e\u672c\u521d\u5b50\u5348\u7ebf\u8fdb\u884c\u6d4b\u91cf\u3002\u5176\u8303\u56f4\u662f -180\u00b0\uff08\u5411\u897f\u884c\u8fdb\u65f6\uff09\u5230 180\u00b0\uff08\u5411\u4e1c\u884c\u8fdb\u65f6\uff09\u3002\u5982\u679c\u672c\u521d\u5b50\u5348\u7ebf\u662f\u683c\u6797\u5c3c\u6cbb\u5b50\u5348\u7ebf\uff0c\u5219\u5bf9\u4e8e\u4f4d\u4e8e\u8d64\u9053\u5357\u90e8\u548c\u683c\u6797\u5c3c\u6cbb\u4e1c\u90e8\u7684\u6fb3\u5927\u5229\u4e9a\uff0c\u5176\u7ecf\u5ea6\u4e3a\u6b63\u503c\uff0c\u7eac\u5ea6\u4e3a\u8d1f\u503c\u3002</p> <p>\u7528 X \u8868\u793a\u7ecf\u5ea6\u503c\u5e76\u7528 Y \u8868\u793a\u7eac\u5ea6\u503c\u53ef\u80fd\u4f1a\u6709\u5e2e\u52a9\u3002\u8fd9\u6837\uff0c\u5728\u5730\u7406\u5750\u6807\u7cfb\u4e0b\u5b9a\u4e49\u7684\u6570\u636e\u5c31\u5982\u540c\u201c\u5ea6\u201d\u662f\u7ebf\u6027\u6d4b\u91cf\u5355\u4f4d\u4e00\u6837\u663e\u793a\u3002\u6b64\u65b9\u6cd5\u4e0e\u666e\u901a\u5706\u67f1\u6295\u5f71\u57fa\u672c\u76f8\u540c\u3002</p> <p>\u5730\u7403\u692d\u7403\u9762\u662f\u7406\u60f3\u7684\u3001\u5b8c\u7f8e\u7684\uff0c\u5730\u7406\u5750\u6807\u7cfb\u4e5f\u662f\u5efa\u7acb\u5728\u5730\u7403\u692d\u7403\u9762\u4e4b\u4e0a\u7684\u3002\u4f46\u662f\uff0c\u5730\u7403\u692d\u7403\u9762\u4e0d\u53ef\u80fd\u5b8c\u7f8e\u5730\u62df\u5408\u5927\u5730\u6c34\u51c6\u9762\uff0c\u56e0\u6b64\u5404\u4e2a\u56fd\u5bb6\u6216\u5730\u533a\u5efa\u7acb\u4e86\u80fd\u591f\u57fa\u672c\u7b26\u5408\u81ea\u5df1\u56fd\u5bb6\u6216\u5730\u533a\u7684\u5730\u7403\u692d\u7403\u9762\uff0c\u6216\u8005\u6839\u636e\u7cbe\u5ea6\u9700\u8981\u53ca\u7279\u5b9a\u5e94\u7528\u573a\u666f\u6784\u5efa\u4e86\u4e0d\u540c\u7684\u5730\u7403\u692d\u7403\u9762\u3002\u6839\u636e\u6784\u5efa\u7684\u5730\u7403\u692d\u7403\u9762\u7684\u53c2\u6570\u4e0d\u540c\uff0c\u5730\u7406\u5750\u6807\u7cfb\u4e5f\u5c42\u51fa\u4e0d\u7a77\u3002\u6211\u56fd\u7684\u5730\u7406\u5750\u6807\u7cfb\u7ecf\u5386\u4e86\u4ece\u5317\u4eac1954\u5750\u6807\u7cfb\uff08BJZ54\uff09\u5230\u897f\u5b891980\u5750\u6807\u7cfb\uff08XI'AN-80\uff09\uff0c\u518d\u52302000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\uff08CGCS2000\uff09\u7684\u53d1\u5c55\u8fc7\u7a0b\u3002</p> <p>\u5730\u7406\u5750\u6807\u7cfb\u53ef\u4ee5\u901a\u8fc7WKT\u8bed\u53e5\u63cf\u8ff0\u3002\u4f8b\u5982\uff0c\u5229\u7528WKT\u8bed\u53e5\u63cf\u8ff0WGS 1984\u5750\u6807\u7cfb\uff1a ![[GIS/assets/Pasted image 20250602095644.png]] \u201cGEOGCS\u201d\u58f0\u660e\u4e00\u4e2a\u5730\u7406\u5750\u6807\u7cfb\uff0c\u7b2c1\u9879\u4e3a\u5730\u7406\u5750\u6807\u7cfb\u7684\u540d\u79f0\uff1b\u7b2c2\u9879\u201cDATUM\u201d\u63cf\u8ff0\u4e00\u4e2a\u5750\u6807\u57fa\u51c6\uff0c\u5e76\u901a\u8fc7\u201cSPHEROID\u201d\u63cf\u8ff0\u5176\u540d\u79f0\u53ca\u5730\u7403\u692d\u7403\u4f53\u7684\u57fa\u672c\u53c2\u6570\uff1b\u7b2c3\u9879\u201cPRIMEM\u201d\u6807\u8bc6\u4e00\u4e2a\u8d77\u59cb\u7ecf\u7ebf\uff0c\u6b64\u5904\u4ee5\u683c\u6797\u5c3c\u6cbb0\u00b0\u7ebf\u4e3a\u8d77\u59cb\u7ecf\u7ebf\uff1b\u7b2c4\u9879\u201cUNIT\u201d\u5b9a\u4e49\u4e86\u5730\u7406\u5750\u6807\u7cfb\u7684\u5355\u4f4d\uff1b\u7b2c5\u9879\u201cAUTHORITY\u201d\u6807\u8bc6\u5730\u7406\u5750\u6807\u7cfb\u7f16\u7801\uff0c\u8fd9\u4e2a\u5730\u7406\u5750\u6807\u7cfb\u53ef\u4ee5\u7528\u201cEPSG:4326\u201d\u7f16\u7801\u8868\u793a\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_8","title":"\u6295\u5f71\u5750\u6807\u7cfb","text":"<p>\u4e3a\u4e86\u89e3\u51b3\u5730\u7403\u692d\u7403\u9762\u548c\u5730\u56fe\u5e73\u9762\u4e4b\u95f4\u7684\u77db\u76fe\uff0c\u9700\u8981\u5c06\u5730\u7403\u692d\u7403\u9762\u8fdb\u884c\u6295\u5f71\uff0c\u7ecf\u8fc7\u6295\u5f71\u4ee5\u540e\u7684\u5750\u6807\u7cfb\u79f0\u4e3a\u6295\u5f71\u5750\u6807\u7cfb(Projected Coordinate System, PCS)\u3002\u6295\u5f71\u540e\u7684\u5e73\u9762\u5750\u6807\u7cfb\u4e00\u5b9a\u4f1a\u51fa\u73b0\u53d8\u5f62\uff0c\u6211\u4eec\u53ea\u80fd\u5728\u7b49\u8ddd\u3001\u7b49\u79ef\u548c\u7b49\u89d2\u4e4b\u95f4\u8fdb\u884c\u53d6\u820d\u3002\u56e0\u6b64\uff0c\u5728\u4e0d\u540c\u5e94\u7528\u573a\u666f\u4e0b\uff0c\u5927\u91cf\u7684\u6295\u5f71\u5750\u6807\u7cfb\u5e94\u8fd0\u800c\u751f\u3002</p> <p>\u5e38\u7528\u7684\u6295\u5f71\u66f2\u9762\u5305\u62ec\u5706\u9525\u3001\u5706\u67f1\u6216\u4e00\u4e2a\u5355\u7eaf\u7684\u5e73\u9762\u3002\u6295\u5f71\u65f6\uff0c\u53ef\u5047\u8bbe\u6709\u4e00\u4e2a\u5149\u6e90\uff08\u4f8b\u5982\u653e\u7f6e\u5728\u5730\u5fc3\uff09\uff0c\u5149\u7ebf\u7a7f\u8fc7\u5730\u7403\u8868\u9762\u67d0\u4e00\u70b9A\uff0c\u843d\u5728\u6295\u5f71\u66f2\u9762\u4e0a\u7684\u4f4d\u7f6e\u5373\u4e3a\u70b9A\u7684\u5750\u6807\u3002</p> <p>\u6839\u636e\u6295\u5f71\u66f2\u9762\u548c\u201c\u5149\u6e90\u201d\u4f4d\u7f6e\u7684\u4e0d\u540c\uff0c\u6211\u4eec\u5c06\u5730\u56fe\u6295\u5f71\u4e3b\u8981\u5206\u4e3a\u5706\u9525\u6295\u5f71\u3001\u5706\u67f1\u6295\u5f71\u3001\u5e73\u9762\u6295\u5f71\u3002\u4e0d\u540c\u7684\u6295\u5f71\u65b9\u5f0f\u5b9a\u4e49\u4e86\u4e0d\u540c\u7684\u6295\u5f71\u5750\u6807\u7cfb\u3002</p> <p>WKT\u8bed\u53e5\u4e5f\u53ef\u4ee5\u7528\u4e8e\u63cf\u8ff0\u6295\u5f71\u5750\u6807\u7cfb\uff0c\u4f8b\u5982\uff0c\u5229\u7528WKT\u8bed\u53e5\u63cf\u8ff0WGS 1984 Web\u58a8\u5361\u6258\u6295\u5f71\u5750\u6807\u7cfb\uff08\u8f85\u52a9\u7403\u9762\uff09\uff1a![[GIS/assets/Pasted image 20250602095658.png]]\u201cPROJCS\u201d\u58f0\u660e\u4e00\u4e2a\u6295\u5f71\u5750\u6807\u7cfb\uff0c\u7b2c1\u9879\u4e3a\u6295\u5f71\u5750\u6807\u7cfb\u7684\u540d\u79f0\uff1b\u7b2c2\u9879\u201cGEOGCS\u201d\u6307\u660e\u8be5\u6295\u5f71\u5750\u6807\u7cfb\u4f7f\u7528\u7684\u5730\u7406\u5750\u6807\u7cfb\uff1b\u7b2c3\u9879\u201cPROJECTION\u201d\u63cf\u8ff0\u6295\u5f71\u65b9\u6cd5\uff1b\u7b2c4\uff5e8\u9879\u201cPARAMETER\u201d\u58f0\u660e\u5404\u79cd\u6295\u5f71\u53c2\u6570\uff1b\u7b2c9\u9879\u201cUNIT\u201d\u5b9a\u4e49\u5750\u6807\u5355\u4f4d\uff1b\u7b2c10\u9879\u201cAUTHORITY\u201d\u6807\u8bc6\u6295\u5f71\u5750\u6807\u7cfb\u7f16\u7801\uff0c\u8fd9\u4e2a\u6295\u5f71\u5750\u6807\u7cfb\u53ef\u4ee5\u7528\u201cEPSG:3857\u201d\u8868\u793a\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_9","title":"\u5706\u9525\u6295\u5f71","text":"<p>![[GIS/assets/Pasted image 20250602095715.png]] \u5207\u7ebf\u5706\u9525\u6295\u5f71 ![[GIS/assets/Pasted image 20250602095720.png]] \u5272\u7ebf\u5706\u9525\u6295\u5f71</p> <p>\u987e\u540d\u601d\u4e49\uff0c\u5706\u9525\u6295\u5f71\u5c31\u662f\u6295\u5f71\u66f2\u9762\u4e3a\u5706\u9525\u7684\u6295\u5f71\u3002\u5e38\u89c1\u5730\uff0c\u5982\u679c\u5706\u9525\u7684\u8f74\u4e0e\u6781\u8f74\u91cd\u5408\uff0c\u5706\u9525\u66f2\u9762\u6070\u597d\u4e0e\u5730\u7403\u8868\u9762\u76f8\u5207\u4e8e\u4e00\u6761\u7eac\u7ebf\uff0c\u5219\u8fd9\u6761\u7eac\u7ebf\u79f0\u4e3a\u6807\u51c6\u7eac\u7ebf\uff0c\u56e0\u4e3a\u5b83\u7684\u957f\u5ea6\u5728\u6295\u5f71\u540e\u672a\u7ecf\u8fc7\u4efb\u4f55\u62c9\u4f38\u6216\u53d8\u5f62\u3002\u968f\u7740\u8ddd\u79bb\u6807\u51c6\u7eac\u7ebf\u8d8a\u8fdc\uff0c\u53d8\u5f62\u5c31\u8d8a\u660e\u663e\u3002\u5982\u679c\u5706\u9525\u66f2\u9762\u4e0e\u5730\u7403\u8868\u9762\u76f8\u5272\uff0c\u5219\u4e24\u6761\u5272\u7ebf\u90fd\u662f\u6807\u51c6\u7eac\u7ebf\u3002\u901a\u5e38\uff0c\u5272\u7ebf\u6295\u5f71\u7684\u6574\u4f53\u53d8\u5f62\u7a0b\u5ea6\u5c0f\u4e8e\u5207\u7ebf\u6295\u5f71\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_10","title":"\u5706\u67f1\u6295\u5f71","text":"<p>\u5706\u67f1\u6295\u5f71\u4f7f\u7528\u5706\u67f1\u4f5c\u4e3a\u6295\u5f71\u5e73\u9762\u3002\u548c\u5706\u9525\u6295\u5f71\u7c7b\u4f3c\uff0c\u5706\u67f1\u6295\u5f71\u5206\u4e3a\u76f8\u5207\u548c\u76f8\u5272\u4e24\u79cd\u60c5\u51b5\u3002\u58a8\u5361\u6258\u6295\u5f71\u662f\u6700\u5e38\u7528\u7684\u5706\u67f1\u6295\u5f71\u4e4b\u4e00\uff0c\u5e76\u4e14\u901a\u5e38\u4ee5\u8d64\u9053\u4e3a\u5207\u7ebf\u3002\u8fd9\u79cd\u6295\u5f71\u65b9\u5f0f\u4ea7\u751f\u621090\u5ea6\u7684\u7ecf\u7eac\u7f51\u683c\u3002\u7ecf\u7ebf\u7b49\u95f4\u8ddd\u6392\u5217\uff0c\u800c\u7eac\u7ebf\u95f4\u7684\u95f4\u8ddd\u8d8a\u9760\u8fd1\u6781\u70b9\u8d8a\u5927\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u662f\u901a\u7528\u6a2a\u8f74\u58a8\u5361\u6258\u6295\u5f71\uff08UTM\uff09\u7684\u793a\u610f\u56fe\uff1a</p> <p>![[GIS/assets/Pasted image 20250602095823.png]]</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_11","title":"\u5e73\u9762\u6295\u5f71","text":"<p>![[GIS/assets/Pasted image 20250602095916.png]] ![[GIS/assets/Pasted image 20250602095922.png]] \u5e73\u9762\u6295\u5f71\u4e5f\u79f0\u4e3a\u65b9\u4f4d\u6295\u5f71\u6216\u5929\u9876\u6295\u5f71\u3002\u5b83\u5c06\u5730\u56fe\u6570\u636e\u6295\u5f71\u5230\u4e0e\u5730\u7403\u76f8\u5207\uff08\u4ea6\u6709\u53ef\u80fd\u76f8\u5272\uff09\u7684\u5e73\u9762\u4e0a\u3002\u5207\u70b9\u53ef\u80fd\u4f4d\u4e8e\u6781\u70b9\u3001\u8d64\u9053\u4e0a\u6216\u4efb\u610f\u4e00\u70b9\u3002\u5176\u4e2d\u6700\u5e38\u89c1\u5730\uff0c\u5f53\u5207\u70b9\u4f4d\u4e8e\u6781\u70b9\u65f6\uff0c\u5c31\u662f\u6781\u65b9\u4f4d\u6295\u5f71\uff0c\u6700\u5e38\u7528\u4e8e\u7ed8\u5236\u4e24\u6781\u5730\u533a\u7684\u5730\u56fe\u3002\u6839\u636e\u900f\u89c6\u70b9\uff08\u5373\u201c\u5149\u6e90\u201d\uff09\u7684\u4f4d\u7f6e\u6765\u5206\u7c7b\uff0c\u5206\u4e3a\u7403\u5fc3\u6295\u5f71\uff08\u900f\u89c6\u70b9\u5728\u5730\u5fc3\uff09\u3001\u7acb\u4f53\u6295\u5f71\uff08\u900f\u89c6\u70b9\u5728\u4e24\u6781\u4e4b\u95f4\uff09\u3001\u6b63\u5c04\u6295\u5f71\uff08\u5149\u6e90\u5728\u65e0\u7a77\u8fdc\u5904\uff09\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_12","title":"\u58a8\u5361\u6258\u6295\u5f71","text":"<p>\u58a8\u5361\u6258\u6295\u5f71\u662f\u5706\u67f1\u6295\u5f71\uff0c\u5206\u4e3a\u58a8\u5361\u6258\u6295\u5f71\u548c\u4f2a\u58a8\u5361\u6258\u6295\u5f71\u3002</p> <p>WGS 1984 Web\u58a8\u5361\u6258\u6295\u5f71\u5750\u6807\u7cfb\uff08EPSG:3785\uff09\u4e0eWGS 1984 Web\u58a8\u5361\u6258\u6295\u5f71\u5750\u6807\u7cfb\uff08\u8f85\u52a9\u7403\u9762\uff09\uff08EPSG:3857\uff09\u975e\u5e38\u7c7b\u4f3c\uff0c\u540e\u8005\u91c7\u7528\u8f85\u52a9\u7403\u9762\u5c06\u692d\u7403\u4f53\u8fd1\u4f3c\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6b63\u7403\u4f53\u540e\u8fdb\u884c\u6295\u5f71\u53d8\u6362\u3002\u524d\u8005\u8986\u76d6\u6574\u4e2a\u5730\u7403\u8303\u56f4\uff0c\u540e\u8005\u53ea\u8986\u76d6\u5317\u7eac85\u00b0\u4e0e\u5357\u7eac85\u00b0\u4e4b\u95f4\u7684\u8303\u56f4\u3002</p> <p>\u53e6\u5916\uff0cWeb\u58a8\u5361\u6258\u6295\u5f71\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u58a8\u5361\u6258\u6295\u5f71\uff0c\u800c\u662f\u4f2a\u58a8\u5361\u6258\u6295\u5f71\uff08Popular Visualization Pseudo Mercator\uff09\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_13","title":"\u5782\u76f4\u5750\u6807\u7cfb","text":"<p>\u4e0a\u9762\u8bb2\u5230\u7684\u5730\u7406\u5750\u6807\u7cfb\u548c\u6295\u5f71\u5750\u6807\u7cfb\u53ea\u5b9a\u4e49\u4e86\u76ee\u6807\u70b9\u5728\u4e8c\u7ef4\u8868\u9762\u7684\u4f4d\u7f6e\uff0c\u7f3a\u5c11\u4e86\u9ad8\u5ea6\u7684\u6d4b\u91cf\u3002\u5782\u76f4\u5750\u6807\u7cfb\u901a\u8fc7\u5b9a\u4e49\u9ad8\u7a0b\u57fa\u51c6\u63d0\u4f9b\u5bf9\u7a7a\u95f4\u4e2d\u4efb\u610f\u4e00\u70b9\u7684\u9ad8\u5ea6\u6d4b\u91cf\u3002\u5e38\u7528\u7684\u9ad8\u7a0b\u57fa\u51c6\u6709\u4e24\u79cd\u3002</p> <p>\u4e00\u79cd\u662f\u6570\u5b66\u57fa\u51c6\uff0c\u4f7f\u7528\u5730\u7406\u5750\u6807\u7cfb\u4e2d\u7684\u692d\u7403\u4f53\u57fa\u51c6\u9762\u4f5c\u4e3a\u9ad8\u5ea6\u4e3a0\u7684\u66f2\u9762\u3002\u56e0\u4e3a\u5b83\u662f\u4e00\u79cd\u7406\u60f3\u7684\u6570\u5b66\u5b9a\u4e49\uff0c\u8be5\u57fa\u51c6\u6240\u6d4b\u91cf\u7684\u9ad8\u5ea6\u5e76\u4e0d\u80fd\u53cd\u6620\u5730\u7403\u8868\u9762\u9ad8\u4f4e\u8d77\u4f0f\u7684\u5730\u7406\u7ed3\u6784\uff0c\u751a\u81f3\u9020\u6210\u201c\u6c34\u5f80\u9ad8\u5904\u6d41\u201d\u7684\u60c5\u5f62\u3002</p> <p>\u53e6\u4e00\u79cd\u662f\u5206\u6790\u57fa\u51c6\uff0c\u4f7f\u7528\u5927\u5730\u6c34\u51c6\u9762\u4f5c\u4e3a\u9ad8\u7a0b\u57fa\u51c6\uff08\u59821985\u5e74\u56fd\u5bb6\u9ad8\u7a0b\u57fa\u51c6\uff09\u3002\u5927\u5730\u6c34\u51c6\u9762\u662f\u5047\u8bbe\u6d77\u6d0b\u53d7\u91cd\u529b\u5f71\u54cd\u5728\u5730\u7403\u8868\u9762\u751f\u6210\u7684\u9759\u6001\u66f2\u9762\u3002\u7531\u4e8e\u5730\u7403\u4e0a\u5404\u4e2a\u5730\u65b9\u7684\u91cd\u529b\u7684\u4e0d\u540c\uff0c\u8be5\u66f2\u9762\u7684\u5f62\u72b6\u6781\u4e0d\u89c4\u5219\uff0c\u4f46\u5176\u9ad8\u5ea6\u8d1f\u65b9\u5411\u4e0e\u91cd\u529b\u65b9\u5411\u4e00\u81f4\uff0c\u4e0d\u4f1a\u51fa\u73b0\u201c\u6c34\u5f80\u9ad8\u5904\u6d41\u201d\u7684\u60c5\u5f62\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5982\u679cA\u70b9\u7684\u6c34\u80fd\u5f80B\u5904\u6d41\uff0c\u90a3A\u6bd4B\u9ad8\u3002\u793a\u610f\u56fe\u5982\u4e0b\u6240\u793a\u3002</p> <p>\u5404\u79cd\u5782\u76f4\u5750\u6807\u7cfb\u8be6\u89c1link ![[GIS/assets/Pasted image 20250602095944.png]]</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_14","title":"\u7b1b\u5361\u5c14\u5750\u6807\u7cfb","text":"<p>\u4e09\u7ef4\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u662f\u7528\u4e09\u7ef4\u7b1b\u5361\u5c14\u5750\u6807\u63cf\u8ff0\u67d0\u70b9\u7684\u5750\u6807\u7cfb\u3002\u5e38\u7528\u7684\u5305\u62ec\u5730\u5fc3\u5730\u56fa\u5750\u6807\u7cfb\uff08ECEF\uff09\u548c\u7ad9\u5fc3\u5730\u5e73\u76f4\u89d2\u5750\u6807\u7cfb\uff08ENU\uff09\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#ecef","title":"\u5730\u5fc3\u5730\u56fa\u5750\u6807\u7cfb (ECEF)","text":"<p>\u5730\u5fc3\u5730\u56fa\u5750\u6807\u7cfb\uff08Earth Center Earth Fixed, ECEF\uff09\u548c\u5730\u7406\u5750\u6807\u7cfb\u5171\u7528\u76f8\u540c\u7684\u5750\u6807\u539f\u70b9\u548c\u5750\u6807\u8f74\uff0c\u4f46\u662f\u4f7f\u7528\u7b1b\u5361\u5c14\u5750\u6807\u800c\u975e\u89d2\u5ea6\u6765\u63cf\u8ff0\u70b9\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#enu","title":"\u7ad9\u5fc3\u5730\u5e73\u76f4\u89d2\u5750\u6807\u7cfb (ENU)","text":"<p>\u7ad9\u5fc3\u5730\u5e73\u76f4\u89d2\u5750\u6807\u7cfb\uff08East North Up, ENU\uff09\u662f\u5b9a\u4e49\u5728\u5730\u8868\u6b63\u5207\u5e73\u9762\u7684\u5c40\u90e8\u5750\u6807\u7cfb\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5b83\u4ee5\u7ad9\u5fc3\u70b9\u7684\u7eac\u7ebf\u65b9\u5411\uff08\u6307\u4e1c\uff09\u4e3aX\u8f74\uff0c\u4ee5\u7ad9\u5fc3\u70b9\u7684\u7ecf\u7ebf\u65b9\u5411\uff08\u6307\u5317\uff09\u4e3aY\u8f74\uff0c\u4ee5\u7ad9\u5fc3\u70b9\u7684\u6cd5\u7ebf\uff08\u6307\u4e0a\uff09\u4e3aZ\u8f74\u3002 ![[GIS/assets/Pasted image 20250602095956.png]]</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#gcj-02","title":"GCJ-02\u5750\u6807\u7cfb","text":"<p>GCJ-02\u5750\u6807\u7cfb\u662f\u7531\u4e2d\u56fd\u56fd\u5bb6\u6d4b\u7ed8\u5c40\u5236\u5b9a\u7684\u4e2d\u56fd\u8303\u56f4\u5185\u6c11\u7528\u5730\u56fe\uff08\u5305\u62ec\u7535\u5b50\u5730\u56fe\uff09\u52a0\u5bc6\u540e\u7684\u5730\u7406\u5750\u6807\u7cfb\uff0c\u5b57\u6bcd\u201cGCJ\u201d\u5206\u522b\u4e3a\u201c\u56fd\u5bb6\u201d\u3001\u201c\u6d4b\u7ed8\u201d\u548c\u201c\u5c40\u201d\u7684\u9996\u5b57\u6bcd\u7b80\u5199\u3002GCJ-02\u7684\u52a0\u5bc6\u7b97\u6cd5\u662f\u975e\u7ebf\u6027\u7684\uff0c\u5f88\u96be\u901a\u8fc7\u52a0\u5bc6\u5750\u6807\u53cd\u63a8\u539f\u59cb\u7684\u5750\u6807\u3002\u76ee\u524d\uff0c\u8c37\u6b4c\u3001\u767e\u5ea6\u7b49\u516c\u53f8\u53d1\u5e03\u7684\u7535\u5b50\u5730\u56fe\u57fa\u672c\u91c7\u7528GCJ-02\u5750\u6807\u7cfb\u5bf9\u539f\u59cb\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u3002\u56e0\u6b64\uff0c\u901a\u8fc7GPS\u83b7\u53d6\u7684WGS 1984\u5750\u6807\u7cfb\u7684\u4f4d\u7f6e\u4fe1\u606f\u7ecf\u8fc7\u6295\u5f71\u540e\u65e0\u6cd5\u76f4\u63a5\u51c6\u786e\u5730\u53e0\u52a0\u5728\u7535\u5b50\u5730\u56fe\u4e0a\uff0c\u9700\u8981\u7ecf\u8fc7GCJ-02\u52a0\u5bc6\u5904\u7406\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#epsg","title":"EPSG","text":"<p>\u7531\u4e8e\u5730\u7406\u5750\u6807\u7cfb\u548c\u6295\u5f71\u5750\u6807\u7cfb\u4f17\u591a\uff0c\u5982\u679c\u4ec5\u901a\u8fc7\u53c2\u6570\u5bf9\u8fd9\u4e9b\u5750\u6807\u7cfb\u8fdb\u884c\u6574\u7406\u4e0e\u5e94\u7528\u5219\u8fc7\u4e8e\u9ebb\u70e6\uff0c\u56e0\u6b64\u9700\u8981\u901a\u8fc7\u6807\u51c6\u5316\u7ec4\u7ec7\u5c06\u8fd9\u4e9b\u5750\u6807\u7cfb\u5f52\u6863\u6574\u7406\u3002\u5bf9\u4e8e\u77f3\u6cb9\u7684\u63a2\u67e5\u548c\u5f00\u91c7\u6765\u8bb2\uff0c\u5750\u6807\u7cfb\u7684\u4e0d\u540c\u4f1a\u663e\u8457\u5f71\u54cd\u5f00\u91c7\u7cbe\u5ea6\uff0c\u56e0\u6b64\u6b27\u6d32\u77f3\u6cb9\u8c03\u67e5\u7ec4\u7ec7\uff08European Petroleum Survey Group\uff0cEPSG\uff09\u6574\u5408\u4e86\u7edd\u5927\u591a\u6570\u5e38\u7528\u7684\u5750\u6807\u7cfb\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u5750\u6807\u7cfb\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u7f16\u7801\uff0c\u4f8b\u5982\uff0c\u201cEPSG:4326\u201d\u548c\u201cEPSG:3785\u201d\u5206\u522b\u8868\u793aWGS 1984\u5750\u6807\u7cfb\u548cWGS 1984 Web\u58a8\u5361\u6258\u6295\u5f71\u5750\u6807\u7cfb\u3002\u5e38\u7528\u7684\u5750\u6807\u7cfb\u53ca\u5176EPSG\u7f16\u7801\u5982\u88681-1\u6240\u793a\u3002![[GIS/assets/Pasted image 20250602100015.png]]</p> <p>\u5404\u5750\u6807\u7cfb\u7684EPSG\u7f16\u7801\u53ef\u5728\u8fd9\u4e00\u7f51\u7ad9\u67e5\u627e\uff1ahttp://spatialreference.org/ref/epsg/\u3002 ![[GIS/assets/Pasted image 20250602100037.png]]</p> \u5730\u56fe \u5927\u9646/\u6e2f/\u6fb3 \u53f0\u6e7e\u7701 \u6d77\u5916 \u9ad8\u5fb7 GCJ-02 WGS84 WGS84 Google GCJ-02 WGS84 WGS84 \u767e\u5ea6 BD-09 / GCJ-02 BD-09 / GCJ-02 WGS84 \u817e\u8baf GCJ-02 WGS84 WGS84 <p>google\uff1aWGS84\u5750\u6807\u7cfb + \u58a8\u5361\u6258\u6295\u5f71</p> <p>\u9ad8\u5fb7\uff1aGCJ-02\u5750\u6807\u7cfb + \u58a8\u5361\u6258\u6295\u5f71</p> <p>\u767e\u5ea6\uff1aBD-09\u5750\u6807\u7cfb + \u58a8\u5361\u6258\u6295\u5f71</p> <p>\u901a\u5e38\uff0c\u6211\u4eec\u4f5c\u4e3a\u901a\u7528\u6570\u636e\u5b58\u50a8\uff0c\u4e00\u822c\u4fdd\u5b58\u7684\u662f\u5730\u7406\u5750\u6807\u7cfb\u7684\u6570\u636e\u3002\u5728\u505a\u5730\u7406\u5206\u6790\u7684\u65f6\u5019\uff0c\u6bd4\u5982\u8ddd\u79bb\u3001\u9762\u79ef\u8ba1\u7b97\uff0c\u7f13\u51b2\u533a\u5206\u6790\u7b49\u7528\u7684\u662f\u6295\u5f71\u5750\u6807\u7cfb\u7684\u6570\u636e\uff0c\u5728\u5730\u56fe\u53ef\u89c6\u5316\u4e2d\uff0c\u4e00\u822c\u7528\u7684\u4e5f\u90fd\u662f\u6295\u5f71\u5750\u6807\u7cfb\u3002</p> EPGS:4326 WGS 1984 GPS\u91c7\u7528\u7684\u5750\u6807\u7cfb EPGS:3857 WGS 1984/Pseudo-Mercator WGS 1984 Web\u58a8\u5361\u6258\u6295\u5f71\u5750\u6807\u7cfb(\u66fe\u7ecf\u4ee3\u7801 EPSG:3785\u3001EPSG:900913) EPGS:4214 Beijing 1954 \u5317\u4eac1954\u5750\u6807\u7cfb EPGS:4610 Xian 1980 \u897f\u5b891980\u5750\u6807\u7cfb EPGS:4490 CGCS2000/Gauss-Kruger \u56fd\u5bb62000 EPGS:4510 CGCS2000/Gauss-Kruger CM 123E CGCS2000\u5730\u7406\u5750\u6807\u7cfb\u4e0b\u4e2d\u592e\u7ecf\u7ebf\u5728123\u5ea6E\u7684\u9ad8\u65af\u514b\u5415\u683c\u6295\u5f71\u5750\u6807\u7cfb(between 120\u00b0E and 126\u00b0E) EPGS:4528 CGCS2000/Gauss-Kruger (between 118\u00b030\u2019E and 121\u00b030\u2019E) EPGS:102025 Asia_North_Albers_Equal_Area_Conic \u4e9a\u6d32\u5317\u90e8\u963f\u5c14\u4f2f\u65af\u7b49\u79ef\u5706\u9525\u6295\u5f71\u5750\u6807\u7cfb EPGS:3785 EPGS:32650 WGS 84/\u7b1b\u5361\u5c14\u4e8c\u7ef4\u5750\u6807\u7cfb Between 114\u00b0E and 120\u00b0E EPGS:4548 CGCS2000 6\u5ea6\u5e26\uff0c\u9002\u7528\u4e8e\u4e2d\u56fd\u5927\u9646\u5730\u56fe\u3002 <p>WGS84\u3001BD-09\u3001GCJ-02\u3001GCS2000 EPSG\u7f16\u7801\u5206\u522b\u662f\u4ec0\u4e48\uff1f</p> <p>WGS84\uff08World Geodetic System 1984\uff09\u7684EPSG\u7f16\u7801\u662f4326\u3002</p> <p>BD-09\uff08Baidu Coordinate System\uff09\u662f\u767e\u5ea6\u5730\u56fe\u4f7f\u7528\u7684\u5750\u6807\u7cfb\u7edf\uff0c\u5b83\u5728WGS84\u57fa\u7840\u4e0a\u8fdb\u884c\u4e86\u4e00\u5b9a\u7684\u504f\u79fb\u548c\u8f6c\u6362\u3002BD-09\u6ca1\u6709\u72ec\u7acb\u7684EPSG\u7f16\u7801\uff0c\u5b83\u662f\u4e00\u79cd\u767e\u5ea6\u5730\u56fe\u7279\u6709\u7684\u5750\u6807\u7cfb\u7edf\u3002</p> <p>GCJ-02\uff08\u56fd\u6d4b\u5c40\u5750\u6807\u7cfb\uff0c\u4e5f\u79f0\u4e3a\u706b\u661f\u5750\u6807\u7cfb\uff09\u662f\u4e2d\u56fd\u56fd\u5bb6\u6d4b\u7ed8\u5c40\u91c7\u7528\u7684\u5750\u6807\u7cfb\u7edf\uff0c\u7528\u4e8e\u5728\u4e2d\u56fd\u5883\u5185\u5b9e\u73b0\u5730\u7406\u4f4d\u7f6e\u7684\u7cbe\u786e\u5339\u914d\u548c\u4fdd\u5bc6\u9700\u6c42\u3002GCJ-02\u540c\u6837\u6ca1\u6709\u72ec\u7acb\u7684EPSG\u7f16\u7801\uff0c\u5b83\u662f\u4e2d\u56fd\u7279\u6709\u7684\u5750\u6807\u7cfb\u7edf\u3002</p> <p>GCS2000\uff082000\u5e74\u5927\u5730\u5750\u6807\u7cfb\u7edf\uff09\u7684EPSG\u7f16\u7801\u662f4490\uff0c\u5b83\u662f\u4e2d\u56fd\u81ea\u884c\u5236\u5b9a\u7684\u5730\u7406\u53c2\u8003\u5750\u6807\u7cfb\u7edf\uff0c\u7528\u4e8e\u63cf\u8ff0\u4e2d\u56fd\u8303\u56f4\u5185\u7684\u5730\u7406\u4f4d\u7f6e\u548c\u6d4b\u91cf\u6570\u636e\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cBD-09\u548cGCJ-02\u90fd\u662f\u57fa\u4e8eWGS84\u8fdb\u884c\u4e86\u8f6c\u6362\u548c\u504f\u79fb\u5f97\u5230\u7684\u5750\u6807\u7cfb\u7edf\uff0c\u5e76\u4e14\u8fd9\u4e9b\u7cfb\u7edf\u4e4b\u95f4\u7684\u8f6c\u6362\u5e76\u4e0d\u662f\u7b80\u5355\u7684\u7ebf\u6027\u53d8\u6362\uff0c\u800c\u662f\u7ecf\u8fc7\u4e86\u590d\u6742\u7684\u975e\u7ebf\u6027\u5904\u7406\u3002\u56e0\u6b64\uff0c\u5728\u8fdb\u884c\u5750\u6807\u8f6c\u6362\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u76f8\u5e94\u7684\u7b97\u6cd5\u6765\u5b9e\u73b0\u6b63\u786e\u7684\u8f6c\u6362\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#_15","title":"\u6211\u56fd\u5750\u6807\u7cfb","text":"<p>\u6211\u56fd\u5927\u4e2d\u6bd4\u4f8b\u5c3a\u5730\u56fe\u5747\u91c7\u7528\u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71\uff0c\u5176\u901a\u5e38\u662f\u63096\u5ea6\u548c3\u5ea6\u5206\u5e26\u6295\u5f71\uff0c1:2.5\u4e07\uff0d1:50\u4e07\u6bd4\u4f8b\u5c3a\u5730\u5f62\u56fe\u91c7\u7528\u7ecf\u5dee6\u5ea6\u5206\u5e26\uff0c1:1\u4e07\u6bd4\u4f8b\u5c3a\u7684\u5730\u5f62\u56fe\u91c7\u7528\u7ecf\u5dee3\u5ea6\u5206\u5e26\u3002\u5177\u4f53\u5206\u5e26\u6cd5\u662f\uff1a6\u5ea6\u5206\u5e26\u4ece\u672c\u521d\u5b50\u5348\u7ebf\u5f00\u59cb\uff0c\u6309\u7ecf\u5dee6\u5ea6\u4e3a\u4e00\u4e2a\u6295\u5f71\u5e26\u81ea\u897f\u5411\u4e1c\u5212\u5206\uff0c\u5168\u7403\u5171\u520660\u4e2a\u6295\u5f71\u5e26\uff0c\u5e26\u53f7\u5206\u522b\u4e3a1\uff0d60\uff1b3\u5ea6\u6295\u5f71\u5e26\u662f\u4ece\u4e1c\u7ecf1\u5ea630\u79d2\u7ecf\u7ebf\u5f00\u59cb\uff0c\u6309\u7ecf\u5dee3\u5ea6\u4e3a\u4e00\u4e2a\u6295\u5f71\u5e26\u81ea\u897f\u5411\u4e1c\u5212\u5206\uff0c\u5168\u7403\u5171\u5206120\u4e2a\u6295\u5f71\u5e26\u3002</p> <p>\u4e3a\u4e86\u4fbf\u4e8e\u5730\u5f62\u56fe\u7684\u6d4b\u91cf\u4f5c\u4e1a\uff0c\u5728\u9ad8\u65af-\u514b\u5415\u683c\u6295\u5f71\u5e26\u5185\u5e03\u7f6e\u4e86\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u7edf\uff0c\u5177\u4f53\u65b9\u6cd5\u662f\uff0c\u89c4\u5b9a\u4e2d\u592e\u7ecf\u7ebf\u4e3aX\u8f74\uff0c\u8d64\u9053\u4e3aY\u8f74\uff0c\u4e2d\u592e\u7ecf\u7ebf\u4e0e\u8d64\u9053\u4ea4\u70b9\u4e3a\u5750\u6807\u539f\u70b9\uff0cx\u503c\u5728\u5317\u534a\u7403\u4e3a\u6b63\uff0c\u5357\u534a\u7403\u4e3a\u8d1f\uff0cy\u503c\u5728\u4e2d\u592e\u7ecf\u7ebf\u4ee5\u4e1c\u4e3a\u6b63\uff0c\u4e2d\u592e\u7ecf\u7ebf\u4ee5\u897f\u4e3a\u8d1f\u3002\u7531\u4e8e\u6211\u56fd\u7586\u57df\u5747\u5728\u5317\u534a\u7403\uff0cx\u503c\u5747\u4e3a\u6b63\u503c\uff0c\u4e3a\u4e86\u907f\u514dy\u503c\u51fa\u73b0\u8d1f\u503c\uff0c\u89c4\u5b9a\u5404\u6295\u5f71\u5e26\u7684\u5750\u6807\u7eb5\u8f74\u5747\u897f\u79fb500km\uff0c\u4e2d\u592e\u7ecf\u7ebf\u4e0a\u539f\u6a2a\u5750\u6807\u503c\u75310\u53d8\u4e3a500km\u3002\u4e3a\u4e86\u65b9\u4fbf\u5e26\u95f4\u70b9\u4f4d\u7684\u533a\u5206\uff0c\u53ef\u4ee5\u5728\u6bcf\u4e2a\u70b9\u4f4d\u6a2a\u5750\u6807y\u503c\u7684\u767e\u5343\u7c73\u4f4d\u6570\u524d\u52a0\u4e0a\u6240\u5728\u5e26\u53f7\uff0c\u598220\u5e26\u5185A\u70b9\u7684\u5750\u6807\u53ef\u4ee5\u8868\u793a\u4e3aYA=20745921.8m\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#54bjz54","title":"\u5317\u4eac54\u5750\u6807\u7cfb(BJZ54)","text":"<p>\u5317\u4eac54\u5750\u6807\u7cfb\u4e3a\u53c2\u5fc3\u5750\u6807\u7cfb\uff0c\u5927\u5730\u4e0a\u7684\u4e00\u70b9\u53ef\u7528\u7ecf\u5ea6L54\u3001\u7eac\u5ea6M54\u548c\u5927\u5730\u9ad8H54\u5b9a\u4f4d\uff0c\u5b83\u662f\u4ee5\u514b\u62c9\u7d22\u592b\u65af\u57fa\u692d\u7403\u4e3a\u57fa\u7840\uff0c\u7ecf\u5c40\u90e8\u5e73\u5dee\u540e\u4ea7\u751f\u7684\u5750\u6807\u7cfb\u3002\u5317\u4eac54\u5750\u6807\u7cfb\u91c7\u7528\u4e86\u524d\u82cf\u8054\u7684\u514b\u62c9\u7d22\u592b\u65af\u57fa\u692d\u7403\u53c2\u6570\uff0c\u5e76\u4e0e\u524d\u82cf\u80541942\u5e74\u5750\u6807\u7cfb\u8fdb\u884c\u8054\u6d4b\uff0c\u901a\u8fc7\u8ba1\u7b97\u5efa\u7acb\u4e86\u6211\u56fd\u5927\u5730\u5750\u6807\u7cfb\uff0c 1954\u5e74\u5317\u4eac\u5750\u6807\u7cfb\u53ef\u4ee5\u8ba4\u4e3a\u662f\u524d\u82cf\u80541942\u5e74\u5750\u6807\u7cfb\u7684\u5ef6\u4f38\u3002\u5b83\u7684\u539f\u70b9\u4e0d\u5728\u5317\u4eac\u800c\u662f\u5728\u524d\u82cf\u8054\u7684\u666e\u5c14\u79d1\u6c83\u3002</p> <p>\u5317\u4eac54\u5750\u6807\u7cfb\uff0c\u5c5e\u53c2\u5fc3\u5750\u6807\u7cfb\uff0c\u957f\u8f746378245m\uff0c\u77ed\u8f746356863\uff0c\u6241\u73871/298.3\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#80","title":"\u897f\u5b8980\u5750\u6807\u7cfb","text":"<p>1978\u5e744\u6708\u5728\u897f\u5b89\u53ec\u5f00\u5168\u56fd\u5929\u6587\u5927\u5730\u7f51\u5e73\u5dee\u4f1a\u8bae\uff0c\u786e\u5b9a\u91cd\u65b0\u5b9a\u4f4d\uff0c\u5efa\u7acb\u6211\u56fd\u65b0\u7684\u5750\u6807\u7cfb\u3002\u4e3a\u6b64\u6709\u4e861980\u5e74\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u30021980\u5e74\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u91c7\u7528\u5730\u7403\u692d\u7403\u57fa\u672c\u53c2\u6570\u4e3a1975\u5e74\u56fd\u9645\u5927\u5730\u6d4b\u91cf\u4e0e\u5730\u7403\u7269\u7406\u8054\u5408\u4f1a\u7b2c\u5341\u516d\u5c4a\u5927\u4f1a\u63a8\u8350\u7684\u6570\u636e\uff0c\u5373IAG75\u5730\u7403\u692d\u7403\u4f53\u3002\u8be5\u5750\u6807\u7cfb\u7684\u5927\u5730\u539f\u70b9\u8bbe\u5728\u6211\u56fd\u4e2d\u90e8\u7684\u9655\u897f\u7701\u6cfe\u9633\u53bf\u6c38\u4e50\u9547\uff0c\u4f4d\u4e8e\u897f\u5b89\u5e02\u897f\u5317\u65b9\u5411\u7ea660\u516c\u91cc\uff0c\u6545\u79f01980\u5e74\u897f\u5b89\u5750\u6807\u7cfb\uff0c\u53c8\u7b80\u79f0\u897f\u5b89\u5927\u5730\u539f\u70b9\u3002\u57fa\u51c6\u9762\u91c7\u7528\u9752\u5c9b\u5927\u6e2f\u9a8c\u6f6e\u7ad91952\uff0d1979\u5e74\u786e\u5b9a\u7684\u9ec4\u6d77\u5e73\u5747\u6d77\u6c34\u9762\uff08\u53731985\u56fd\u5bb6\u9ad8\u7a0b\u57fa\u51c6\uff09\u3002</p> <p>\u897f\u5b8980\u5750\u6807\u7cfb\uff0c\u5c5e\u53c2\u5fc3\u5750\u6807\u7cfb\uff0c\u957f\u8f746378140m\uff0c\u77ed\u8f746356755\uff0c\u6241\u73871/298.25722101\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#2000","title":"2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb","text":"<p>\u82f1\u6587\u7f29\u5199\u4e3aCGCS2000\u30022000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u662f\u5168\u7403\u5730\u5fc3\u5750\u6807\u7cfb`1\u5728\u6211\u56fd\u7684\u5177\u4f53\u4f53\u73b0\uff0c\u5176\u539f\u70b9\u4e3a\u5305\u62ec\u6d77\u6d0b\u548c\u5927\u6c14\u7684\u6574\u4e2a\u5730\u7403\u7684\u8d28\u91cf\u4e2d\u5fc3\u3002</p> <p>2000\u56fd\u5bb6\u5927\u5730\u5750\u6807\u7cfb\u91c7\u7528\u7684\u5730\u7403\u692d\u7403\u53c2\u6570\u5982\u4e0b\uff1a\u957f\u534a\u8f74a=6378137m\uff0c\u6241\u7387f=1/298.257222101\u3002</p>"},{"location":"GIS/%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#wgs-84","title":"WGS\uff0d84\u5750\u6807\u7cfb","text":"<p>WGS\uff0d84\u5750\u6807\u7cfb\uff08World Geodetic System\uff09\u662f\u4e00\u79cd\u56fd\u9645\u4e0a\u91c7\u7528\u7684\u5730\u5fc3\u5750\u6807\u7cfb1\u3002\u5750\u6807\u539f\u70b9\u4e3a\u5730\u7403\u8d28\u5fc3\uff0c\u5176\u5730\u5fc3\u7a7a\u95f4\u76f4\u89d2\u5750\u6807\u7cfb\u7684Z\u8f74\u6307\u5411\u56fd\u9645\u65f6\u95f4\u5c40\uff08BIH\uff091984.0\u5b9a\u4e49\u7684\u534f\u8bae\u5730\u6781\uff08CTP\uff09\u65b9\u5411\uff0cX\u8f74\u6307\u5411BIH1984.0\u7684\u534f\u8bae\u5b50\u5348\u9762\u548cCTP\u8d64\u9053\u7684\u4ea4\u70b9\uff0cY\u8f74\u4e0eZ\u8f74\u3001X\u8f74\u5782\u76f4\u6784\u6210\u53f3\u624b\u5750\u6807\u7cfb\uff0c\u79f0\u4e3a1984\u5e74\u4e16\u754c\u5927\u5730\u5750\u6807\u7cfb\u3002\u8fd9\u662f\u4e00\u4e2a\u56fd\u9645\u534f\u8bae\u5730\u7403\u53c2\u8003\u7cfb\u7edf\uff08ITRS\uff09\uff0c\u662f\u76ee\u524d\u56fd\u9645\u4e0a\u7edf\u4e00\u91c7\u7528\u7684\u5927\u5730\u5750\u6807\u7cfb\u3002GPS\u5e7f\u64ad\u661f\u5386\u662f\u4ee5WGS-84\u5750\u6807\u7cfb\u4e3a\u6839\u636e\u7684\u3002</p> <p>WGS84\u5750\u6807\u7cfb\uff0c\u957f\u8f746378137.000m\uff0c\u77ed\u8f746356752.314\uff0c\u6241\u73871/298.257223563\u3002 \u7531\u4e8e\u91c7\u7528\u7684\u692d\u7403\u57fa\u51c6\u4e0d\u4e00\u6837\uff0c\u5e76\u4e14\u7531\u4e8e\u6295\u5f71\u7684\u5c40\u9650\u6027\uff0c\u4f7f\u7684\u5168\u56fd\u5404\u5730\u5e76\u4e0d\u5b58\u5728\u4e00\u81f3\u7684\u8f6c\u6362\u53c2\u6570\u3002\u5bf9\u4e8e\u8fd9\u79cd\u8f6c\u6362\u7531\u4e8e\u91cf\u8f83\u5927\uff0c\u6709\u6761\u4ef6\u7684\u8bdd\uff0c\u4e00\u822c\u90fd\u91c7\u7528GPS\u8054\u6d4b\u5df2\u77e5\u70b9\uff0c\u5e94\u7528GPS\u8f6f\u4ef6\u81ea\u52a8\u5b8c\u6210\u5750\u6807\u7684\u8f6c\u6362\u3002</p> <p>\u53c2\u8003\u8d44\u6599\uff1a</p> <p>https://www.britannica.com/science/latitude</p> <p>https://zhuanlan.zhihu.com/p/98839097</p> <p>https://desktop.arcgis.com/zh-cn/arcmap/latest/map/projections/about-geographic-coordinate-systems.htm</p> <p>https://blog.csdn.net/qq_42679415/article/details/132401878</p> <p>https://www.whu-cveo.com/2018/07/31/coordinate-china/</p>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/","title":"mkdocs-material\u4f7f\u7528\u8bb0\u5f55","text":""},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#markdown","title":"\u4e00\u3001markdown\u4f7f\u7528","text":""},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#0","title":"0. \u7248\u672c\u4e0e\u5347\u7ea7","text":"<p>Tip</p> <p>\u7248\u672c\u5347\u7ea7\u987b\u77e5\uff1ahttps://squidfunk.github.io/mkdocs-material/upgrade/#upgrading-from-7x-to-8x</p> <pre><code># \u67e5\u770b\u5f53\u524d\u5b89\u88c5\u7684\u7248\u672c\u53f7\npip show mkdocs-material\n# \u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\npip install --upgrade mkdocs-material\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#1","title":"1. \u663e\u793a\u672f\u8bed\u63d0\u793a","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - abbr\n  - pymdownx.snippets\n</code></pre> ShowCode <p>The HTML specification is maintained by the W3C.</p> <p>[HTML]: Hyper Text Markup Language [W3C]: World Wide Web Consortium</p> <pre><code>The HTML specification is maintained by the W3C.\n\n*[HTML]: Hyper Text Markup Language\n*[W3C]: World Wide Web Consortium\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#2","title":"2. \u5f15\u5165\u72ec\u7acb\u7684\u672f\u8bed\u8868\uff08\u5ffd\u7565\uff09","text":"<p>Note</p> <p>\u663e\u793a\u6548\u679c\u8ddf\u4e0a\u9762\u793a\u4f8b1\u662f\u4e00\u6837\u7684\uff0c\u533a\u522b\u662f\u4f7f\u7528<code>--8&lt;--</code>\u53ef\u4ee5\u628a\u672f\u8bed\u7684\u8bf4\u660e \u72ec\u7acb\u5728\u53e6\u5916\u7684\u6587\u4ef6\uff0c\u4e0d\u5fc5\u8ddf\u672f\u8bed\u5728\u540c\u4e00\u6587\u4ef6\u4e2d\u3002</p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - abbr\n  - pymdownx.snippets\n</code></pre> CodeCode <p>\u672f\u8bed\u6587\u4ef6\u4e2d\u5f15\u5165\u672f\u8bed\u8868\uff1a <code>--8&lt;-- \"includes/abbreviations.md\"</code> <pre><code>The HTML specification is maintained by the W3C.\n</code></pre></p> <p>\u672f\u8bed\u8868:<code>includes/abbreviations.md</code> <pre><code>*[HTML]: Hyper Text Markup Language\n*[W3C]: World Wide Web Consortium\n</code></pre></p>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#3","title":"3. \u63d0\u793a\u3001\u8b66\u544a\u680f","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - admonition\n  - pymdownx.details\n  - pymdownx.superfences\n</code></pre> noteabstractinfotipsuccessquestionwarningfailuredangerbugexamplequote <p>Note</p> <p>\u9ed8\u8ba4note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <p>Phasellus posuere in sem ut cursus</p> <p>\u81ea\u5b9a\u4e49\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <p>\u6728\u6709\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! note\n\n    \u9ed8\u8ba4note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\n    nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\n    massa, nec semper lorem quam in massa.\n\n!!! note \"Phasellus posuere in sem ut cursus\"\n\n    \u81ea\u5b9a\u4e49\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\n    nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\n    massa, nec semper lorem quam in massa.\n\n!!! note \"\"\n\n    \u6728\u6709\u6807\u9898\u7684note\u6807\u7b7e\u3002Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\n    nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\n    massa, nec semper lorem quam in massa.\n</code></pre> <p>Abstract</p> <p>abstract, summary, tldr.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! abstract\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Info</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! info\n\n    info, todo.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Tip</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! tip\n\n    tip, hint, important.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Success</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! success\n\n    success, check, done.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Question</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! question\n\n    question, help, faq.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Warning</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! warning\n\n    warning, caution, attention.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Failure</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! failure\n\n    failure, fail, missing.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Danger</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! danger\n\n    danger, error.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Bug</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! bug\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Example</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! example\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre> <p>Quote</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! quote\n\n    quote, cite.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#4","title":"4. \u6309\u94ae","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - attr_list\n</code></pre> \u666e\u901a\u6309\u94aeprimary \u6309\u94ae <p>Subscribe to our newsletter</p> <pre><code>[Subscribe to our newsletter](#){ .md-button }\n</code></pre> <p>Subscribe to our newsletter</p> <pre><code>[Subscribe to our newsletter](#){ .md-button .md-button--primary }\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#5","title":"5. \u4ee3\u7801\u5757","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.highlight:\n      anchor_linenums: true\n  - pymdownx.inlinehilite\n  - pymdownx.snippets\n  - pymdownx.superfences\ntheme:\n  features:\n    - content.code.copy\n    - content.code.annotate  \n</code></pre> \u6307\u5b9a\u6587\u4ef6\u540d\u663e\u793a\u884c\u6570\u6307\u5b9a\u67d0\u4e24\u884c\u9ad8\u4eae\u6307\u5b9a\u8fde\u7eed\u884c\u9ad8\u4eae\u53bb\u6389\u4ee3\u7801\u590d\u5236\u6309\u94ae\u70b9\u51fb\u663e\u793a\u4ee3\u7801\u6ce8\u89e3 bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py title=\"bubble_sort.py\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py linenums=\"1\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py linenums=\"1\" hl_lines=\"2 4\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` py linenums=\"1\" hl_lines=\"2-5\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>    ``` { .python .no-copy }\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n    ```\n</code></pre> <p>\u6ce8\u610f\u8981\u4f7f\u7528\u5bf9\u5e94\u8bed\u8a00\u7684\u6ce8\u89e3\u7b26\u53f7\u5bf9 <code>(num)</code>\u8fdb\u884c\u6ce8\u89e3\uff0c\u6bd4\u5982java\u7684//\u3001python\u7684#</p> <pre><code>Optional&lt;String&gt; message = Optional.ofNullable(record.value()); // (1)\nif (message.isPresent()) {\n    System.out.println(message.get());\n}\n</code></pre> <ol> <li> optional\u5224\u7a7a\u5904\u7406.</li> </ol> <pre><code>    ``` { .java .no-copy }\n    Optional&lt;String&gt; message = Optional.ofNullable(record.value()); // (1)\n    if (message.isPresent()) {\n        System.out.println(message.get());\n    }\n    ```\n\n    1.  :man_raising_hand: optional\u5224\u7a7a\u5904\u7406.\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#6","title":"6. \u5185\u5bb9\u6807\u7b7e\u680f","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.superfences\n  - pymdownx.tabbed:\n      alternate_style: true \n</code></pre> ShowCode CC++ <pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\nprintf(\"Hello world!\\n\");\nreturn 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nint main(void) {\nstd::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\nreturn 0;\n}\n</code></pre> <pre><code>=== \"C\"\n\n    ``` c\n    #include &lt;stdio.h&gt;\n\n    int main(void) {\n    printf(\"Hello world!\\n\");\n    return 0;\n    }\n    ```\n\n=== \"C++\"\n\n    ``` c++\n    #include &lt;iostream&gt;\n\n    int main(void) {\n    std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n    return 0;\n    }\n    ```\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#7","title":"7. \u8868\u683c","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - tables\n</code></pre> ShowCode Method Description <code>GET</code> Fetch resource <code>PUT</code> Update resource <code>DELETE</code> Delete resource <pre><code>| Method      | Description                          |\n| :-----------: | :------------------------------------: |\n| `GET`       |      Fetch resource  |\n| `PUT`       |     Update resource |\n| `DELETE`    |     Delete resource |\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#8","title":"8. \u6ce8\u811a","text":"<p>\u5728\u672c\u9875\u7684\u5e95\u90e8\u663e\u793a\u6ce8\u811a\u5185\u5bb9</p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - footnotes\n</code></pre> ShowCode <p>Lorem ipsum<sup>1</sup> dolor sit amet, consectetur adipiscing elit.<sup>2</sup></p> <pre><code>Lorem ipsum[^1] dolor sit amet, consectetur adipiscing elit.[^2]\n\n[^1]: Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n[^2]: Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#9","title":"9. \u683c\u5f0f\u5316\u5904\u7406","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.critic\n  - pymdownx.caret\n  - pymdownx.keys\n  - pymdownx.mark\n  - pymdownx.tilde\n</code></pre> \u5220\u9664\u7ebf\u3001\u4e0b\u5212\u7ebf\u3001\u6ce8\u91ca\u3001\u9ad8\u4eaeCode <p>Text can be deleted and replacement text added. This can also be combined into onea single operation. Highlighting is also possible and comments can be added inline.</p> <p>Formatting can also be applied to blocks by putting the opening and closing tags on separate lines and adding new lines between the tags and the content.</p> <ul> <li>H<sub>2</sub>0</li> <li>A<sup>T</sup>A</li> </ul> <p> <pre><code>- H~2~0\n- A^T^A\n</code></pre></p>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#10","title":"10. \u56fe\u6807","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - pymdownx.emoji:\n      emoji_index: !!python/name:materialx.emoji.twemoji\n      emoji_generator: !!python/name:materialx.emoji.to_svg\n</code></pre> ShowCode <pre><code>:smile:  :dart:\n</code></pre> <p>\u652f\u6301\u4ee5\u4e0b\u56fe\u6807\uff1a</p> <ul> <li> \u2013 Material Design</li> <li> \u2013 FontAwesome</li> <li> \u2013 Octicons</li> <li>github markdown\uff1ahttps://github.com/zhangjw-THU/Emoji</li> <li>github commit\uff1ahttps://github.com/shafishcn/git-commit-emoji-cn</li> </ul>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#11","title":"11. \u56fe\u7247","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - attr_list\n  - md_in_html\n</code></pre> markdown\u683c\u5f0f\u5c55\u793a\u56fe\u7247\u6dfb\u52a0\u56fe\u7247\u8bf4\u660e\u61d2\u52a0\u8f7d\u56fe\u7247 <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>![Image title](https://dummyimage.com/300x200/eee/aaa){ align=left }\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\nnulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\nmassa, nec semper lorem quam in massa.\n</code></pre> <p> Image \u8bf4\u660e </p> <pre><code>&lt;figure markdown&gt; \n    ![Image title](https://dummyimage.com/600x400/){ width=\"300\" }\n    &lt;figcaption&gt;Image \u8bf4\u660e&lt;/figcaption&gt;\n&lt;/figure&gt;\n</code></pre> <p></p> <pre><code>![Image title](https://dummyimage.com/600x400/){ loading=lazy }\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#12","title":"12. \u5217\u8868","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nmarkdown_extensions:\n  - def_list\n  - pymdownx.tasklist:\n      custom_checkbox: true\n</code></pre> \u65e0\u5e8f\u5217\u8868\u6709\u5e8f\u5217\u8868\u4f7f\u7528\u5b9a\u4e49\u5217\u8868\u4efb\u52a1\u5217\u8868 <ul> <li> <p>Nulla et rhoncus turpis. Mauris ultricies elementum leo. Duis efficitur accumsan nibh eu mattis. Vivamus tempus velit eros, porttitor placerat nibh lacinia sed. Aenean in finibus diam.</p> <ul> <li>Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis.</li> <li>Nam vulputate tincidunt fringilla.</li> <li>Nullam dignissim ultrices urna non auctor.</li> </ul> </li> </ul> <pre><code>- Nulla et rhoncus turpis. Mauris ultricies elementum leo. Duis efficitur\naccumsan nibh eu mattis. Vivamus tempus velit eros, porttitor placerat nibh\nlacinia sed. Aenean in finibus diam.\n\n    * Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis.\n    * Nam vulputate tincidunt fringilla.\n    * Nullam dignissim ultrices urna non auctor.\n</code></pre> <ol> <li> <p>Vivamus id mi enim. Integer id turpis sapien. Ut condimentum lobortis     sagittis. Aliquam purus tellus, faucibus eget urna at, iaculis venenatis     nulla. Vivamus a pharetra leo.</p> <ol> <li> <p>Vivamus venenatis porttitor tortor sit amet rutrum. Pellentesque aliquet     quam enim, eu volutpat urna rutrum a. Nam vehicula nunc mauris, a     ultricies libero efficitur sed.</p> </li> <li> <p>Morbi eget dapibus felis. Vivamus venenatis porttitor tortor sit amet     rutrum. Pellentesque aliquet quam enim, eu volutpat urna rutrum a.</p> <ol> <li>Mauris dictum mi lacus</li> <li>Ut sit amet placerat ante</li> <li>Suspendisse ac eros arcu</li> </ol> </li> </ol> </li> </ol> <pre><code>1.  Vivamus id mi enim. Integer id turpis sapien. Ut condimentum lobortis\n    sagittis. Aliquam purus tellus, faucibus eget urna at, iaculis venenatis\n    nulla. Vivamus a pharetra leo.\n\n    1.  Vivamus venenatis porttitor tortor sit amet rutrum. Pellentesque aliquet\n        quam enim, eu volutpat urna rutrum a. Nam vehicula nunc mauris, a\n        ultricies libero efficitur sed.\n\n    2.  Morbi eget dapibus felis. Vivamus venenatis porttitor tortor sit amet\n        rutrum. Pellentesque aliquet quam enim, eu volutpat urna rutrum a.\n\n        1.  Mauris dictum mi lacus\n        2.  Ut sit amet placerat ante\n        3.  Suspendisse ac eros arcu \n</code></pre> <code>Lorem ipsum dolor sit amet</code> <p>Sed sagittis eleifend rutrum. Donec vitae suscipit est. Nullam tempus tellus non sem sollicitudin, quis rutrum leo facilisis.</p> <code>Cras arcu libero</code> <p>Aliquam metus eros, pretium sed nulla venenatis, faucibus auctor ex. Proin ut eros sed sapien ullamcorper consequat. Nunc ligula ante.</p> <p>Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis. Nam vulputate tincidunt fringilla. Nullam dignissim ultrices urna non auctor.</p> <pre><code>`Lorem ipsum dolor sit amet`\n\n:   Sed sagittis eleifend rutrum. Donec vitae suscipit est. Nullam tempus\n    tellus non sem sollicitudin, quis rutrum leo facilisis.\n\n`Cras arcu libero`\n\n:   Aliquam metus eros, pretium sed nulla venenatis, faucibus auctor ex. Proin\n    ut eros sed sapien ullamcorper consequat. Nunc ligula ante.\n\n    Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis.\n    Nam vulputate tincidunt fringilla.\n    Nullam dignissim ultrices urna non auctor.\n</code></pre> <ul> <li> Lorem ipsum dolor sit amet, consectetur adipiscing elit</li> <li> Vestibulum convallis sit amet nisi a tincidunt<ul> <li> In hac habitasse platea dictumst</li> <li> In scelerisque nibh non dolor mollis congue sed et metus</li> <li> Praesent sed risus massa</li> </ul> </li> <li> Aenean pretium efficitur erat, donec pharetra, ligula non scelerisque</li> </ul> <pre><code>- [x] Lorem ipsum dolor sit amet, consectetur adipiscing elit\n- [ ] Vestibulum convallis sit amet nisi a tincidunt\n    * [x] In hac habitasse platea dictumst\n    * [x] In scelerisque nibh non dolor mollis congue sed et metus\n    * [ ] Praesent sed risus massa\n- [ ] Aenean pretium efficitur erat, donec pharetra, ligula non scelerisque\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#13-mathjax","title":"13. MathJax","text":"<p>\u7565</p>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#14-blog","title":"14. blog","text":"<p>\u535a\u5ba2\u63d2\u4ef6\uff0c\u4f7f\u7ad9\u70b9blog\u5316\uff08\u6587\u7ae0\u6458\u8981\u3001\u5b58\u6863\u3001\u5206\u7c7b\u3001\u5206\u9875\u7b49\u529f\u80fd\uff09</p> \u4e00\u3001blog\u63d2\u4ef6\u5f15\u5165\uff1amkdocs.yml <p>\u5728 <code>mkdocs.yml</code> \u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u5165 <code>blog</code> \u63d2\u4ef6\uff0c\u8be5\u63d2\u4ef6\u5df2\u5185\u7f6e\u4e8e <code>Material for MkDocs 9.2.0 +</code>\uff0c\u76f4\u63a5\u7528\u5c31\u884c\u3002 </p> <pre><code>plugins:\n    ...\n    - blog\n</code></pre> \u4e8c\u3001blog\u76ee\u5f55\u8bf4\u660e <p>\u5f15\u5165\u4e86blog\u63d2\u4ef6\u540e\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\uff0cmk\u4f1a\u81ea\u52a8\u521b\u5efa\u76ee\u5f55\uff1a <pre><code>\u251c\u2500 docs/\n\u2502  \u2514\u2500 blog/\n\u2502     \u251c\u2500 posts/\n\u2502     \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre> \u4f46\u662f\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\uff0c\u6bd4\u5982\uff1anewBlog\uff0c\u8be5\u76ee\u5f55\u4e0b\u5fc5\u987b\u5305\u542b <code>posts</code> \u76ee\u5f55\u4e0e <code>index.md</code>\u3002mk\u4f1a\u81ea\u52a8\u626b\u63cfposts\u76ee\u5f55\u4e0b\u7684.md\u6587\u4ef6\u4f5c\u4e3a\u535a\u5ba2\u89c6\u56fe\u5185\u5bb9\uff1bindex.md\u6587\u4ef6\u5219\u4f5c\u4e3a\u535a\u5ba2\u7684\u5165\u53e3\uff0c\u5217\u51fa\u6240\u6709\u7684\u535a\u6587\u3002</p> <p>\u6240\u4ee5\uff0c\u5982\u679c\u6307\u5b9a\u7279\u5b9a\u76ee\u5f55\u4f5c\u4e3a\u535a\u5ba2\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u53ef\u5982\u4e0b\uff1a\uff08\u5982\u679c\u4f60\u4e5f\u8ddf\u6211\u4e00\u6837\uff0cdocs\u76ee\u5f55\u4e0b\u5df2\u7ecf\u5360\u7528\u4e86blog\u76ee\u5f55\uff0c\u8981\u5f04\u5b8c\u7b2c\u56db\u70b9\u7684 <code>blog_dir</code> \u914d\u7f6e\u624d\u80fd\u751f\u6548yo\uff09 <pre><code>\u251c\u2500 docs/\n\u2502  \u2514\u2500 ababababa/\n\u2502     \u2514\u2500 newBlog/\n\u2502         \u251c\u2500 posts/\n\u2502         \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre></p> \u4e09\u3001blog\u5165\u53e3\u914d\u7f6e\uff1amkdocs.yml <p>\u914d\u7f6e\u8bbf\u95ee\u5165\u53e3\uff0c\u4e5f\u5c31\u662f\u5bfc\u822a\u680f <code>nav</code>\u3002 <pre><code>nav:\n    - Blog:\n        - ababababa/newBlog/index.md\n</code></pre> Blog\u53ef\u4ee5\u968f\u610f\u540d\u79f0\uff0c\u53e6\u5916\u6ce8\u610f <code>ababababa/newBlog/index.md</code> \u662f\u4ee5docs\u76f8\u5bf9\u5b9a\u4f4dder</p> \u56db\u3001blog\u914d\u7f6e\u5217\u8868\uff1amkdocs.yml <p>\u8fd9\u91cc\u6307\u5b9a <code>blog</code> \u63d2\u4ef6\u7684\u5404\u9879\u914d\u7f6e\uff0c\u6bd4\u5982\u8bf4\u535a\u6587\u7684 \u663e\u793a\u65f6\u95f4\u683c\u5f0f\u3001\u5206\u9875\u6570\u91cf\u3001\u5b58\u6863\u8def\u5f84\u7b49\u7b49\u3002</p> \u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\u535a\u6587\u7684\u65e5\u671f\u683c\u5f0f\u8bbe\u7f6e\u535a\u6587\u7684\u8bbf\u95ee\u8def\u5f84\u8bbe\u7f6e\u662f\u5426\u5fc5\u987b\u8bbe\u7f6e\u6458\u8981\u6587\u7ae0\u6458\u8981\uff1a\u9ed8\u8ba4\u663e\u793a\u5173\u8054\u7684\u6807\u7b7e\u6570\u91cf\uff1a\u9ed8\u8ba45\u4e2a\u663e\u793a\u5173\u8054\u7684\u4f5c\u8005\u6570\u91cf\uff1a\u9ed8\u8ba41\u4e2a\u6587\u7ae0\u5f52\u6863\u540d\u79f0\u6587\u7ae0\u5f52\u6863\u65e5\u671f\u683c\u5f0f\uff1a\u9ed8\u8ba4yyyy\u8bbe\u7f6e\u5f52\u6863\u7684\u8bbf\u95ee\u8def\u5f84\u6587\u7ae0\u6807\u7b7e\u540d\u79f0\u8bbe\u7f6e\u6807\u7b7e\u7ba1\u7406\u9875\u7684\u8bbf\u95ee\u8def\u5f84\u89c4\u5b9a\u535a\u5ba2\u4f7f\u7528\u7684\u6807\u7b7e\u6587\u7ae0\u4f5c\u8005\u5217\u8868\u8bbe\u7f6e\u535a\u6587\u6bcf\u9875\u663e\u793a\u7684\u6587\u7ae0\u6570\uff1a\u9ed8\u8ba410\u6761\u9875\u7801\u663e\u793a\u683c\u5f0f\u662f\u5426\u5f00\u542f\u8349\u7a3f\u662f\u5426\u663e\u793a\u8349\u7a3f\uff1a\u9ed8\u8ba4\u663e\u793a\u5c06\u8349\u7a3f\u8f6c\u4e3a\u6b63\u5f0f\u6587\u7ae0 <p><pre><code>plugins:\n    - blog:\n        blog_dir: ababababa/newBlog\n</code></pre> \u4e0a\u9762\u662f\u6307\u5b9a\u535a\u5ba2\u76ee\u5f55\u7684\uff0c\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u7684\u76ee\u5f55\uff08\u4e5f\u5c31\u662fdocs/blog\uff09\uff0c\u5c31\u662f\u4e0b\u9762\u8fd9\u6837\uff1a</p> <p><pre><code>plugins:\n    - blog:\n        blog_dir: blog\n</code></pre> \u5982\u679c\u53ea\u6253\u7b97\u7528blog\uff0c\u6ca1\u6709\u535a\u5ba2\u76ee\u5f55\u4e4b\u5916\u7684\u6587\u4ef6\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\uff1a\uff08\u5efa\u65b0\u7684mkdocs\u5c31\u53ef\u4ee5\u7528\u8fd9\u4e2a\uff0c\u53ef\u60dcblog\u63d2\u4ef6\u51fa\u73b0\u665a\u4e86\uff09</p> <p><pre><code>plugins:\n    - blog:\n        blog_dir: .\n</code></pre> \u4e0d\u51fa\u610f\u5916\uff0c\u5f53\u4f60\u914d\u7f6e\u5b8c <code>blog_dir</code>\uff0c\u7b49serve\u81ea\u52a8\u5237\u65b0\u540e\uff0c\u518d\u8bbf\u95ee <code>http://127.0.0.1:8000/Blog/</code> \u5c31\u80fd\u770b\u5230\u535a\u5ba2\u5185\u5bb9\u4e86\u3002\uff08/Blog\u8def\u5f84\u6309\u7167 <code>mkdocs.yml</code> \u914d\u7f6e\u7684nav \u81ea\u884c\u8def\u7531\uff0c\u770b\u770b\u4f60\u81ea\u5df1nav\u914d\u4e86\u5565\u5c31\u7528\u5565\uff09</p> <p>\u8fd9\u65f6\u7684 <code>http://127.0.0.1:8000/Blog/</code> \u662f\u6ca1\u5565\u5185\u5bb9\u7684\uff0c\u56e0\u4e3a\u4f60\u8fd8\u6ca1\u5728 <code>ababababa/newBlog/posts</code> \u76ee\u5f55\u4e0b\u5199 <code>.md</code> \u535a\u6587\u5462\u3002\u4f60\u53ef\u4ee5\u770b\u4e0b\u4e0b\u9762\u7b2c\u4e94\u70b9\uff0c\u6216\u8005\u76f4\u63a5\u590d\u5236\u4e0b\u9762\u5185\u5bb9\u4f5c\u4e3a <code>ababababa/newBlog/posts/hello-world.md</code> \u5c1d\u5c1d\u9c9c\uff1a</p> ababababa/newBlog/posts/hello-world.md<pre><code>---\ndraft: true \ndate: 2024-01-31 \nhide:\n- navigation\n- toc\ncategories:\n- Hello\n- World\n---\n\n# Hello world!\n...    \n</code></pre> <p><pre><code># 2024\u5e741\u670831\u65e5\u661f\u671f\u4e09\nplugins:\n    - blog:\n        post_date_format: full\n</code></pre> <pre><code># 2024\u5e741\u670831\u65e5\nplugins:\n    - blog:\n        post_date_format: long\n</code></pre> <pre><code># 2024\u5e741\u670831\u65e5\nplugins:\n    - blog:\n        post_date_format: medium\n</code></pre> <pre><code># 2024/1/31\nplugins:\n    - blog:\n        post_date_format: short\n</code></pre> \u5982\u679c\u6ca1\u6709\u663e\u793a\u4e3a\u4e2d\u6587\u7684\u8bdd\uff0c\u770b\u770b\u4f60\u914d\u7f6e <code>language: zh</code> \u4e86\u6ca1\u3002</p> <p>slug \u662f\u6807\u9898\uff1bdate\u662f\u65e5\u671f\uff1bcategories\u662f\u6807\u7b7e\uff1bfile\u76f4\u63a5\u662f\u6587\u4ef6\u540d\u3002\u5982\u679c\u52a0\u4e0a\u65e5\u671f\u7684\u8bdd\uff0c\u6587\u7ae0\u7684\u8bbf\u95ee\u8def\u5f84\u5c31\u4f1a\u662f\u8fd9\u6837\uff1a<code>http://127.0.0.1:8000/xxxx/2024/01/31/\u6587\u7ae0\u6807\u9898/</code>\u3002\u5efa\u8bae\u76f4\u63a5 <code>slug</code> \u5c31\u884c\u3002</p> <pre><code>plugins:\n    - blog:\n        # post_url_format: \"{date}/{slug}\" # http://127.0.0.1:8000/xxxx/2024/01/31/hello-world/\n        # post_url_format: \"{categories}/{slug}\" # http://127.0.0.1:8000/xxxx/Hello/world/hello-world/\n        post_url_format: \"{slug}\"\n</code></pre> <p>slug\u4e5f\u5c31\u662f\u6587\u7ae0\u7684\u6807\u9898\uff0c\u9ed8\u8ba4\u662f\u4f7f\u7528 <code>-</code> \u62fc\u63a5\u591a\u4e2a\u8bcd\u7684\u3002\u6bd4\u5982\uff1a\u535a\u6587\u7684\u6807\u9898\u662f <code># hello world</code>\uff0c\u90a3\u4e48\u5b83\u7684{slug}\u5c31\u662f <code>hello-world</code>\uff0c\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u9ed8\u8ba4\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a <code>post_slugify_separator: xxx</code> \u4fee\u6539\u3002</p> <p>categories\u4e5f\u5c31\u662f\u6587\u7ae0\u7684\u6807\u7b7e\uff0c\u9ed8\u8ba4\u662f\u4f7f\u7528\u7b2c\u4e00\u4e2a\u6807\u7b7e\u4f5c\u4e3a\u8def\u5f84\u7684\u3002\u6bd4\u5982\uff1a\u535a\u6587\u7684\u6807\u7b7e\u662f <code>Hello</code> \u548c <code>world</code> \u4e24\u4e2a\u6807\u7b7e\uff0c\u5982\u679c\u6b64\u65f6\u7684url\u683c\u5f0f\u662f\uff1a<code>post_url_format: \"{categories}/{slug}\"</code>\uff0c\u90a3\u4e48\u6b64\u65f6\u7684{categories}\u5c31\u662fHello\uff0c\u5982\u679c\u8981\u663e\u793a\u591a\u4e2a\u6807\u7b7e\u7684\u8bdd\uff0c\u53ef\u4ee5\u6307\u5b9a <code>post_url_max_categories: num</code>\u3002</p> <p>date\u4e5f\u5c31\u662f\u6587\u7ae0\u7684\u521b\u5efa\u65e5\u671f\uff0c\u9ed8\u8ba4\u662f <code>yyyy/MM/dd</code> \u7684\u683c\u5f0f\uff0c\u53ef\u4ee5\u6307\u5b9a <code>post_url_date_format: yyyy/MM</code> \u6216\u8005 <code>post_url_date_format: yyyy</code></p> <p>\u4e0d\u8bbe\u7f6e\u7684\u8bdd\uff0c\u4f1a\u9ed8\u8ba4\u5728\u535a\u5ba2\u9996\u9875\u663e\u793a\u6587\u7ae0\u6240\u6709\u5185\u5bb9\u54df</p> <pre><code>plugins:\n    - blog:\n        post_excerpt: required\n</code></pre> <p>\u622a\u53d6\u6587\u7ae0\u524d\u90e8\u5206\u5185\u5bb9\u4f5c\u4e3a\u663e\u793a\u6458\u8981\uff0c\u5728\u9002\u5408\u7684\u5730\u65b9\u6807\u4e0a\u6458\u8981\u7b26\u53f7\uff1a <code>&lt;!-- more --&gt;</code> \u5c31\u80fd\u628a\u4ece\u5f00\u5934\u5230\u6458\u8981\u7b26\u53f7\u7684\u8fd9\u90e8\u5206\u5185\u5bb9\u4f5c\u4e3a\u672c\u7bc7\u535a\u6587\u7684\u6458\u8981\u5185\u5bb9\u3002</p> <pre><code>plugins:\n    - blog:\n        post_excerpt_separator: &lt;!-- more --&gt;\n</code></pre> <p>\u8bbe\u7f6e\u6700\u591a\u53ea\u663e\u793a\u4e24\u4e2a\u6807\u7b7e</p> <pre><code>plugins:\n    - blog:\n        post_excerpt_max_categories: 2\n</code></pre> <p>\u8bbe\u7f6e\u6700\u591a\u53ea\u663e\u793a\u4e24\u4e2a\u4f5c\u8005</p> <pre><code>plugins:\n    - blog:\n        post_excerpt_max_authors: 2\n</code></pre> <pre><code>plugins:\n    - blog:\n        archive_name: shafish \u7684\u5f52\u6863\n</code></pre> <p>\u6309\u6708\u5f52\u6863\uff0c\u8fd8\u662f\u6309\u5e74\u5f52\u6863</p> <pre><code>plugins:\n    - blog:\n        archive_date_format: MMMM yyyy\n</code></pre> <p><pre><code>plugins:\n    - blog:\n        # archive_url_format: \"{date}\"\n        archive_url_format: \"archive/{date}\"\n</code></pre> \u5176\u4e2d\u7684 {date} \u53ef\u4ee5\u6307\u5b9a\u5e74\u6216\u8005\u6708 <code>archive_url_date_format: yyyy/MM</code></p> <pre><code>plugins:\n    - blog:\n        categories_name: shafish \u7684\u6807\u7b7e\n</code></pre> <p><pre><code>plugins:\n    - blog:\n        categories_url_format: \"category/{slug}\"\n</code></pre> \u5176\u4e2d\u7684 {slug} \u5c31\u662f\u6587\u7ae0\u7684\u6807\u7b7e\uff0c\u8ddf\u6587\u7ae0\u6807\u9898\u4e00\u6837\uff0c\u9ed8\u8ba4\u4f7f\u7528 <code>-</code> \u5206\u8bcd\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>categories_slugify_separator: xxx</code> \u7279\u522b\u6307\u5b9a\u3002</p> <p>\u4e0d\u5339\u914d\u5c31\u4e0d\u4f1a\u663e\u793a\u751f\u6548\uff0c\u6bd4\u5982\u89c4\u5b9a\u4e86\u53ea\u6709\u4e24\u4e2a <code>hello</code> <code>world</code> \u8fd9\u4e24\u4e2a\u6807\u7b7e\uff0c\u6240\u6709\u6587\u7ae0\u5c31\u53ea\u80fd\u7528\u8fd9\u4e24\u4e2a\u6807\u7b7e\u3002</p> <pre><code>plugins:\n    - blog:\n        categories_allowed:\n            - hello\n            - world\n</code></pre> <p>\u53ef\u4ee5\u9009\u62e9\u8be5\u5217\u8868\u4e2d\u914d\u7f6e\u597d\u7684\u4f5c\u8005\uff08\u4f5c\u8005\u540d\u79f0\u3001\u5934\u50cf\u3001url\u7b49\u7b49\u90fd\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u914d\u7f6e\uff09</p> <p><pre><code>plugins:\n    - blog:\n        authors_file: \"{blog}/.authors.yml\"\n</code></pre> \u8fd9\u91cc\u7684 <code>{blog}</code> \u6307\u7684\u662f\u4e4b\u524d\u914d\u7f6e\u7684\u535a\u5ba2\u76ee\u5f55\u3002\uff08\u4e5f\u5c31\u662f\u8ddf <code>posts</code> \u76ee\u5f55\u540c\u7ea7\uff0c\u5728\u8be5\u540c\u7ea7\u76ee\u5f55\u4e2d\u521b\u5efa <code>.authors.yml</code> \u6587\u4ef6\u5c31\u884c\uff09 <pre><code>\u251c\u2500 docs/\n\u2502  \u2514\u2500 ababababa/\n\u2502     \u2514\u2500 newBlog/\n\u2502         \u251c\u2500 posts/\n\u2502         \u251c\u2500 .authors.yml   \n\u2502         \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre> .authors.yml<pre><code>authors:\n    shafish:\n        name: shafish        # Author name\n        description: a man # Author description\n        avatar: http://xxx         # Author avatar\n        # slug: url           # Author profile slug\n        url: https://github.com/shafishcn   # Author website URL\n</code></pre></p> <pre><code>plugins:\n    - blog:\n        pagination_per_page: 15\n</code></pre> <p>\u4e0b\u9762\u7684\u914d\u7f6e\u4f1a\u663e\u793a\u6210\u8fd9\u6837\uff1a<code>1 2 3 .. n &gt; &gt;&gt;</code> \u80fd\u70b9\u51fb\u5230\u6700\u540e\u4e00\u9875\uff0cemmmm</p> <pre><code>plugins:\n    - blog:\n        pagination_format: \"$link_first $link_previous ~2~ $link_next $link_last\"\n</code></pre> <p>\u8349\u7a3f\uff0c\u4e5f\u5c31\u662f\u975e\u6b63\u5f0f\u7684\u535a\u6587</p> <pre><code>plugins:\n    - blog:\n        draft: true\n</code></pre> <pre><code>plugins:\n    - blog:\n        draft: flase\n</code></pre> <p>\u6807\u8bb0\u6587\u7ae0\u4e3a\u8349\u7a3f\uff0c\u5e76\u8bbe\u7f6e\u6587\u7ae0\u7684\u65e5\u671f\u4e3a\u660e\u5929\uff0c\u5f53\u4eca\u5929\u90e8\u7f72\u66f4\u65b0\u597d\u535a\u5ba2\u540e\uff0c\u8fd9\u7bc7\u6587\u7ae0\u5c31\u4e0d\u4f1a\u663e\u793a\uff0c\u5f53\u7b26\u5408\u8bbe\u7f6e\u7684\u65e5\u671f\u624d\u663e\u793a\u3002\uff08\u8fd9\u4e2a\u53ef\u4ee5\uff09</p> <pre><code>plugins:\n    - blog:\n        draft_if_future_date: true\n</code></pre> \u4e94\u3001blog\u7f16\u5199\u683c\u5f0f\uff1aposts\u76ee\u5f55 <p>\u4e5f\u5c31\u662f<code>posts</code> \u76ee\u5f55\u4e0b\u7684md\u6587\u4ef6\u7684\u7f16\u5199\u89c4\u8303\u3002</p> \u8bbe\u7f6e\u535a\u6587\u4f5c\u8005\u8bbe\u7f6e\u535a\u6587\u6807\u7b7e\u8bbe\u7f6e\u535a\u6587\u65e5\u671f\uff1a\u5fc5\u586b\u8bbe\u7f6e\u535a\u6587\u4e3a\u8349\u7a3f\u5176\u4ed6 <p><pre><code>---\nauthors:\n    - shafish\n---\n\n# Post title\n...\n</code></pre> \u4f5c\u8005\u5217\u8868\u5f97\u8bb0\u5f97\u5148\u5728 <code>.authors.yml</code> \u5b9a\u4e49\u597d</p> <pre><code>---\ncategories:\n    - Search\n    - Performance\n---\n\n# Post title\n...\n</code></pre> <pre><code>---\ndate:\n    created: 2024-01-31\n    updated: 2024-02-01\n---\n\n# Post title\n...\n</code></pre> <pre><code>---\ndraft: true\n---\n\n# Post title\n...\n</code></pre> <p>\u7565\u8fc7</p>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#mkdocsyml","title":"\u4e8c\u3001mkdocs.yml\u8bb0\u5f55","text":""},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#1_1","title":"1. \u8c03\u6574\u989c\u8272","text":"\u8c03\u6574\u4e3b\u9898\u989c\u8272\u8c03\u6574\u4e3b\u8272\u8c03\u8c03\u6574hovered\u3001buttons\u3001scrollbars\u989c\u8272\u81ea\u5b9a\u4e49\u4e3b\u9898\u989c\u8272 <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        scheme: default\n</code></pre> <p>\u9ed8\u8ba4\u53ea\u6709\u4e24\u4e2a\u9009\u9879\u53ef\u9009\uff1adefault\uff08\u4eae\u4e3b\u9898\uff09\u3001slate\uff08\u6697\u4e3b\u9898\uff09</p> <p> <code>default</code> <code>slate</code> </p> <p></p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        primary: indigo\n</code></pre> <p> <code>red</code> <code>pink</code> <code>purple</code> <code>deep purple</code> <code>indigo</code> <code>blue</code> <code>light blue</code> <code>cyan</code> <code>teal</code> <code>green</code> <code>light green</code> <code>lime</code> <code>yellow</code> <code>amber</code> <code>orange</code> <code>deep orange</code> <code>brown</code> <code>grey</code> <code>blue grey</code> <code>black</code> <code>white</code> </p> <p></p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        accent: indigo\n</code></pre> <p> <code>red</code> <code>pink</code> <code>purple</code> <code>deep purple</code> <code>indigo</code> <code>blue</code> <code>light blue</code> <code>cyan</code> <code>teal</code> <code>green</code> <code>light green</code> <code>lime</code> <code>yellow</code> <code>amber</code> <code>orange</code> <code>deep orange</code> </p> <p></p> <p>\u5b9a\u4e49\u4e00\u4e2a\u53ebshafish\u7684\u4e3b\u9898\u8272\u8c03 <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    palette:\n        scheme: shafish\n    extra_css:\n        - stylesheets/extra.css # docs/stylesheets/extra.css\n</code></pre></p> <pre><code>[data-md-color-scheme=\"shafish\"] {\n    --md-primary-fg-color:        #252632;\n    --md-primary-fg-color--light: #ECB7B7;\n    --md-primary-fg-color--dark:  #90030C;\n}\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#2_1","title":"2. \u8c03\u6574\u5b57\u4f53","text":"<p>\u652f\u6301\uff1aGoogle Font </p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    font:\n        text: Roboto  # \u5e38\u89c4\u5b57\u4f53\n        code: Roboto Mono  #\u4ee3\u7801\u5757\u5b57\u4f53\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#3-logofavicon","title":"3. logo\u3001favicon","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n    logo: assets/logo.png # logo\n    favicon: images/favicon.png  # favicon\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#4_1","title":"4. \u5bfc\u822a\u680f","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n  features:\n    #- navigation.instant # \u70b9\u51fb\u5185\u90e8\u94fe\u63a5\u65f6\uff0c\u4e0d\u7528\u5168\u90e8\u5237\u65b0\u9875\u9762\n    - navigation.tracking # \u5728url\u4e2d\u4f7f\u7528\u6807\u9898\u5b9a\u4f4d\u951a\u70b9\n    - navigation.tabs # \u9876\u90e8\u663e\u793a\u5bfc\u822a\u9876\u5c42nav\uff08\u4e5f\u5c31\u662f\u7b2c\u4e00\u4e2a\u8282\u70b9\uff09\n    - navigation.tabs.sticky # \u6eda\u52a8\u662f\u9690\u85cf\u9876\u90e8nav\uff0c\u9700\u8981\u914d\u5408navigation.tabs\u4f7f\u7528\n    - navigation.sections # nav\u8282\u70b9\u7f29\u8fdb\n    - navigation.expand # \u4e0d\u6298\u53e0\u5de6\u4fa7nav\u8282\u70b9\n    - navigation.indexes # \u6307\u5b9a\u8282\u70b9index pages \uff0c\u8ddfinstant\u4e0d\u517c\u5bb9\n    - toc.integrate # \u53f3\u4fa7\u751f\u4ea7\u76ee\u5f55\n    - navigation.top # \u4e00\u952e\u56de\u9876\u90e8\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#5_1","title":"5. \u641c\u7d22","text":"<p>ref\uff1ahttps://squidfunk.github.io/mkdocs-material/setup/setting-up-site-search/</p>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#6_1","title":"6. \u7f51\u7ad9\u8bbf\u95ee\u7edf\u8ba1","text":"<p>\u8c37\u6b4c\u793a\u4f8b</p> <ul> <li>Google Analytics</li> </ul> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nextra:\n  analytics:\n    provider: google\n    property: G-XXXXXXXXXX\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#7-metadata","title":"7. metadata\u8bbe\u7f6e","text":"<p>\u53ef\u4ee5\u8bbe\u7f6e\u7279\u5b9a\u7684key-value\u5230markdown\u6587\u6863\u4e2d\uff0cmkdocs\u518d\u8fdb\u884c\u5bf9\u5e94\u89e3\u6790 <pre><code>markdown_extensions:\n  - meta\n</code></pre></p> \u9875\u9762\u6807\u9898\u9875\u9762\u63cf\u8ff0\u9690\u85cfnav\u3001toc\u9690\u85cf\u8bc4\u8bba <pre><code>---\ntitle: Lorem ipsum dolor sit amet \n\n---\n\n# Document title\n...\n</code></pre> <pre><code>---\ndescription: Nullam urna elit, malesuada eget finibus ut, ac tortor. \n\n---\n\n# Document title\n...\n</code></pre> <pre><code>---\nhide:\n    - navigation\n    - toc\n---\n\n# Document title\n</code></pre> <p>\u8bf7\u5148\u770b\u7b2c10\u70b9\u8be6\u7ec6\u8bf4\u660e\u3002 <pre><code>---\nvssue: \"\"\n---\n\n# Document title\n...\n</code></pre></p>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#8_1","title":"8. \u9876\u90e8\u9690\u85cf\u3001\u53d1\u5e03\u901a\u77e5","text":"<pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ntheme:\n  features:\n    - header.autohide\n  custom_dir: overrides  # \u81ea\u5b9a\u4e49\u4e3b\u9898\u8bbe\u7f6e\u3002overrides\u76ee\u5f55\u4e0edocs\u76ee\u5f55\u540c\u7ea7\n</code></pre> <pre><code>&lt;!-- overrides/main.html\u6587\u4ef6\u5185\u5bb9 --&gt;\n{% extends \"base.html\" %}\n\n{% block announce %}\n  &lt;!-- Add announcement here, including arbitrary HTML --&gt;\n  \u901a\u77e5\uff1a\u5566\u5566\u5566\uff0cshafish\u7528\u65b0\u535a\u5ba2\u5566\uff01\uff01\n{% endblock %}\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#9_1","title":"9. \u7f51\u7ad9\u5e95\u90e8\u8bbe\u7f6e","text":"\u58f0\u660e\u4fdd\u7559\u7248\u6743\u53f3\u4e0b\u89d2\u52a0\u4e2a\u8054\u7cfb\u65b9\u5f0f <p><pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\ncopyright: Copyright &amp;copy; 2017 - 2020 shafish.cn\n</code></pre> \u6216\u8005 \u5728main.html\u4e2d\u81ea\u5b9a\u4e49\uff1a <pre><code>{% extends \"base.html\" %}\n\n{% block copyright %}\n&lt;!-- Add copyright here, including arbitrary HTML --&gt;\n{% endblock %}\n</code></pre></p> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nextra:\n    social:\n        -   icon: fontawesome/solid/paper-plane\n            link: mailto:&lt;shafish_cn@163.com&gt;\n            name: \u90ae\u7bb1\u5730\u5740\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#10-vssue","title":"10. \u8bc4\u8bba\u7cfb\u7edf-Vssue","text":"<p>ref:Vssue</p> <p>mkdocs-material 8.x\u5c06\u8bc4\u8bba\u6539\u4e3a\u4e86\u81ea\u5b9a\u4e49\uff0c\u9700\u8981\u5728 <code>mkdocs.yml</code> \u4e2d\u8bbe\u7f6ecustom_dir\u76ee\u5f55\uff0c\u91cd\u5199partials/content.html\u4e2d\u7684\u5185\u5bb9\u3002</p> overrides/partials/content.htmlmkdocs.yml <pre><code>&lt;!--\nCopyright (c) 2016-2021 Martin Donath &lt;martin.donath@squidfunk.com&gt;\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to\ndeal in the Software without restriction, including without limitation the\nrights to use, copy, modify, merge, publish, distribute, sublicense, and/or\nsell copies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\nIN THE SOFTWARE.\n--&gt;\n\n&lt;!-- Edit button --&gt;\n{% if page.edit_url %}\n&lt;a\nhref=\"{{ page.edit_url }}\"\ntitle=\"{{ lang.t('edit.link.title') }}\"\nclass=\"md-content__button md-icon\"\n&gt;\n{% include \".icons/material/pencil.svg\" %}\n&lt;/a&gt;\n{% endif %}\n\n&lt;!--\nHack: check whether the content contains a h1 headline. If it\ndoesn't, the page title (or respectively site name) is used\nas the main headline.\n--&gt;\n{% if not \"\\x3ch1\" in page.content %}\n&lt;h1&gt;{{ page.title | d(config.site_name, true)}}&lt;/h1&gt;\n{% endif %}\n\n&lt;!-- Markdown content --&gt;\n{{ page.content }}\n\n&lt;!-- Source file information --&gt;\n{% if page and page.meta and (\npage.meta.git_revision_date_localized or\npage.meta.revision_date\n) %}\n{% include \"partials/source-file.html\" %}\n{% endif %}\n\n&lt;!-- Get setting from mkdocs.yml, but allow page-level overrides --&gt;\n&lt;!-- \u5728\u4e0d\u9700\u8981\u8bc4\u8bba\u7684\u9875\u9762\u8bbe\u7f6e `vssue: \"\" ` \u8fd9\u4e2ameta\u4fe1\u606f\uff08\u9700\u5728mkdocs.yml\u4e2d\u6dfb\u52a0meta \u8fd9\u4e2apythonmarkdown \u63d2\u4ef6\uff09\u5373\u53ef\u5173\u95ed\u8be5\u9875\u9762\u7684\u8bc4\u8bba\u529f\u80fd\uff0c\u6bd4\u5982\u5728about\u9875\u9762\u5173\u95ed\u8bc4\u8bba:\n\n---\nvssue: \"\"\n---\n\n# about\n\n--&gt;\n{% set vssue = config.extra.vssue %}\n{% if page and page.meta and page.meta.vssue is string %}\n{% set vssue = page.meta.vssue %}\n{% endif %}\n\n&lt;!-- Inject Disqus into current page --&gt;\n{% if not page.is_homepage and vssue %}\n    &lt;div id=\"vssue\"&gt;&lt;/div&gt;\n\n    &lt;!--&lt;link rel=\"stylesheet\" href=\"https://unpkg.com/vssue/dist/vssue.min.css\"&gt;\nOR: vue full build (runtime + compiler)  --&gt;\n&lt;script src=\"https://unpkg.com/vue/dist/vue.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Vssue Github build --&gt;\n&lt;script src=\"https://unpkg.com/vssue/dist/vssue.github.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    new Vue({\n    el: '#vssue',\n\n    data: {\n        title: options =&gt; `${options.prefix}${document.title}`,\n\n        options: {\n        owner: 'shafishcn',\n        repo: 'shafish_blog',\n        clientId: 'xxx',\n        clientSecret: 'xxx', // only required for some of the platforms\n        prefix: '[BlogComment]',\n        labels: [':sunny:'],\n        issueContent: ({ url }) =&gt;`\u8fd9\u4e2a Issue \u7531 Vssue \u81ea\u52a8\u521b\u5efa\uff0c\u7528\u6765\u5b58\u50a8\u8be5\u9875\u9762\u7684\u8bc4\u8bba\uff1a${url}`\n        },\n    },\n\n    template: `&lt;vssue :title=\"title\" :options=\"options\"&gt;&lt;/vssue&gt;`,\n    })\n&lt;/script&gt;\n{% endif %}\n</code></pre> <pre><code>theme:\n    custom_dir: overrides\nextra:\n    vssue: shafish  # \u968f\u4fbf\u586b\u503c\uff0c\u4e3b\u8981\u662f\u8bbe\u7f6e{% set vssue = config.extra.vssue %}\u65f6\uff0cvssue\u521d\u59cb\u503c\u53ef\u7528\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#11-giscus","title":"11. \u8bc4\u8bba\u7cfb\u7edf-Giscus","text":""},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#12-blocks","title":"12. blocks","text":"<p>ref: https://squidfunk.github.io/mkdocs-material/customization/</p> \u4f7f\u7528\u65b9\u6cd5mkdocs.yml\u8bbe\u7f6e\u6807\u9898-htmltitle\u901a\u77e5\u680f-announce <pre><code>&lt;!-- overrides/main.html \uff0c \u5f04\u4e4b\u524d\u5148\u914d\u7f6e\u597dmkdocs.yml\u7684custom_dir--&gt;\n{% extends \"base.html\" %}\n\n{% block blockName %}\n    xxx\n{% endblock %}\n</code></pre> <pre><code>theme:\n    custom_dir: overrides\n</code></pre> <pre><code>{% extends \"base.html\" %}\n\n{% block htmltitle %}\n    xxx\n{% endblock %}\n</code></pre> <pre><code>{% extends \"base.html\" %}\n\n{% block announce %}\n    xxx\n{% endblock %}\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#_1","title":"\u4e09\u3001\u63d2\u4ef6","text":"<p>https://facelessuser.github.io/pymdown-extensions/extensions</p>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#1_2","title":"1. \u663e\u793a\u6587\u4ef6\u6700\u540e\u4fee\u6539\u65f6\u95f4","text":"<p>ref: https://timvink.github.io/mkdocs-git-revision-date-localized-plugin/options/</p> \u5b89\u88c5\u65f6\u95f4\u63d2\u4ef6mkdocs.yml\u8bbe\u7f6e\u6ce8\u610f\u4e8b\u9879 <pre><code>$ pip install mkdocs-git-revision-date-localized-plugin\n</code></pre> <pre><code># mkdocs.yml \u76f8\u5173\u914d\u7f6e\nplugins:\n- git-revision-date-localized:\n    type: datetime\n    #fallback_to_build_date: true\n    enable_creation_date: true\n</code></pre> <pre><code># github action ci\u65f6\u9700\u8981\u6ce8\u610f\u4e8b\u9879\n# \u6307\u5b9a\u5bb9\u5668\u5f53\u524d\u65f6\u533a\nenv:\nTZ: Asia/Shanghai\n\n# checkout\u65f6\u9700\u8981\u6307\u5b9afetch\u5168\u90e8commit\u4fe1\u606f\n- name: Checkout master\nuses: actions/checkout@v2\nwith:\n    fetch-depth: 0 # \u9ed8\u8ba4\u4e3a1,\u8868\u793a\u53ea\u62c9\u53bb\u6700\u65b0commit\u4fe1\u606f\uff0c\u4f1a\u5bfc\u81f4\u5f53\u524d\u6587\u4ef6\u663e\u793a\u7684\u521b\u5efa\u65f6\u95f4\u3001\u66f4\u65b0\u65f6\u95f4\u90fd\u4e3acommit\u7684\u65f6\u95f4\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#2_2","title":"2. \u56fe\u7247\u70b9\u51fb\u653e\u5927","text":"mkdocs.yml\u8bbe\u7f6estylesheets/extra.cssjavascripts/extra.js\u4f7f\u7528 <pre><code>extra_css:\n    - stylesheets/extra.css\nextra_javascript:\n    - javascripts/extra.js\n</code></pre> <pre><code>/* \u56fe\u7247\u653e\u5927start */\n.shadow {\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.zoom {\n    transition: transform ease-in-out 0.5s;\n    cursor: zoom-in;\n}\n\n.image-zoom-large {\n    transform: scale(1.9);\n    cursor: zoom-out;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    z-index: 100;\n    position: relative;\n}\n/* \u56fe\u7247\u653e\u5927end*/\n</code></pre> <pre><code>document.querySelectorAll('.zoom').forEach(item =&gt; {\n    item.addEventListener('click', function () {\n        this.classList.toggle('image-zoom-large');\n    })\n});\n</code></pre> <pre><code>![](png src){: .zoom}\n</code></pre>"},{"location":"blog/2025/06/02/mkdocs-material%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/#_2","title":"\u56db\u3001\u90e8\u7f72","text":"<p>Github action\u90e8\u7f72\u5230github page</p> <p>Jenkins\u90e8\u7f72\u5230\u670d\u52a1\u5668</p> <ol> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u00a0\u21a9</p> </li> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u00a0\u21a9</p> </li> </ol>"},{"location":"blog/2025/06/02/python%E8%AF%AD%E6%B3%95/","title":"python\u8bed\u6cd5","text":""},{"location":"blog/2025/06/02/python%E8%AF%AD%E6%B3%95/#_1","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>1.\u56db\u4e2a\u7a7a\u683c\u7f29\u8fdb</li> <li>2.\u6ce8\u91ca\uff1a#</li> <li>3.\u903b\u8f91\u64cd\u4f5c\uff1aand\u3001or\u3001not</li> <li>4.\u51fd\u6570\u53ef\u9009\u53c2\u6570\uff1af(x=1)</li> <li>5.\u51fd\u6570\u6ce8\u91ca\uff1a\"\"\" \\n \"\"\"</li> </ul>"},{"location":"blog/2025/06/02/python%E8%AF%AD%E6%B3%95/#_2","title":"\u5b57\u7b26\u4e32","text":"<ul> <li>\u4e58\u6cd5\uff1a\"shafish\" * 3</li> <li>\u683c\u5f0f\u5316\uff1a\"hello {}\".format(\"shafish\")</li> </ul>"},{"location":"blog/2025/06/02/python%E8%AF%AD%E6%B3%95/#_3","title":"\u5bb9\u5668","text":"<ul> <li>\u5217\u8868\uff08\u6570\u7ec4\uff09\uff1a<ul> <li>\u5b9a\u4e49<ul> <li>data = list()</li> <li>data = []</li> </ul> </li> <li>\u6ce8\u610f<ul> <li>\u8d1f\u7d22\u5f15</li> </ul> </li> </ul> </li> <li>\u5143\u7ec4\uff08\u4fdd\u5b58\u4e0d\u53ef\u4fee\u6539\u7684\u6570\u636e\uff09\uff1a<ul> <li>\u5b9a\u4e49<ul> <li>data = tuple()</li> <li>data = ()</li> </ul> </li> </ul> </li> <li> <p>\u5b57\u5178\uff08map\uff09\uff1a</p> <ul> <li>\u5b9a\u4e49<ul> <li>data = dict()</li> <li>data = {}</li> </ul> </li> </ul> </li> <li> <p>\u5d4c\u5957\uff1a</p> <ul> <li>\u5217\u8868\u4e2d\u4fdd\u5b58\u5217\u8868\uff1a<ul> <li>data = []</li> <li>data1 = [\"shafish\",\"fisha\"]</li> <li>data.apend(data1)</li> </ul> </li> <li>\u5217\u8868\u4e2d\u6dfb\u52a0\u5143\u7ec4\uff1a<ul> <li>data = []</li> <li>data2 = (22.1, 188.3)</li> <li>data.append(data2)</li> </ul> </li> <li>\u5217\u8868\u4e2d\u5b58\u50a8\u5b57\u5178\uff1a<ul> <li>data3 = {\"name\":\"shafish\"}</li> <li>data = [data3]</li> </ul> </li> <li>\u5143\u7ec4\u4e2d\u6dfb\u52a0\u5217\u8868\uff1a<ul> <li>data3 = [\"graham\"]</li> <li>data = (data3)</li> </ul> </li> <li>\u5143\u7ec4\u4e2d\u6dfb\u52a0\u5b57\u5178\uff1a<ul> <li>data4 = {\"name\":\"graham\"}</li> <li>data = (data4,)</li> </ul> </li> <li>\u5217\u8868\u3001\u5b57\u5178\u3001\u5143\u7ec4\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u5b57\u5178\u7684value\u503c</li> </ul> </li> </ul>"},{"location":"blog/2025/06/02/python%E8%AF%AD%E6%B3%95/#_4","title":"\u6a21\u5757","text":"<ul> <li>\u5bfc\u5165\uff1aimport \u6a21\u5757\u540d</li> <li>\u6a21\u5757\u4e2d\u4e0d\u5e0c\u671b\u88ab\u522b\u7684\u6a21\u5757\u5bfc\u5165\u65f6\u7acb\u523b\u6267\u884c\u7684\u4ee3\u7801\uff0c\u653e\u5728<code>if __name__ == \"__main__\"</code>\u4e2d <pre><code>import math\n\n\nmath.pow(2, 3)\n</code></pre></li> <li>hello.py <pre><code>def print_hello():\n    print(\"hello, shafish\")\n</code></pre></li> <li>project.py <pre><code>import hello\n\n\nhello.print_hello()\n</code></pre></li> </ul>"},{"location":"blog/2025/06/02/python%E8%AF%AD%E6%B3%95/#_5","title":"\u6587\u4ef6","text":"<pre><code>with open(\"xxx.txt\", \"w\") as f:\n    f.write(\"hello, shafish\")\n</code></pre>"},{"location":"blog/2025/06/02/python%E8%AF%AD%E6%B3%95/#_6","title":"\u7c7b","text":"<ul> <li>\u5fc5\u987b\u63a5\u53d7\u81f3\u5c11\u4e00\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u603b\u662f\u88ab\u547d\u540d\u4e3aself\uff0c\u56e0\u4e3a\u8c03\u7528\u65f6\u4f1a\u81ea\u52a8\u5c06\u65b9\u6cd5\u7684\u5bf9\u8c61\u4f5c\u4e3a\u5165\u53c2</li> <li>__init__\u9b54\u6cd5\u65b9\u6cd5\uff1a\u521b\u5efa\u5bf9\u8c61\u65f6\u6267\u884c</li> <li>\u5b9e\u4f8b\u53d8\u91cf\uff1a\u5c5e\u4e8e\u5bf9\u8c61\u7684\u53d8\u91cf\uff0c\u5728\u9b54\u6cd5\u65b9\u6cd5\u4e2d\u901a\u8fc7<code>self.\u53d8\u91cf\u540d=\u53d8\u91cf\u503c</code>\u5b9a\u4e49</li> <li>\u79c1\u6709\u53d8\u91cf\u3001\u79c1\u6709\u65b9\u6cd5\uff1a\u5728\u53d8\u91cf\u83b7\u53d6\u540d\u79f0\u524d\u52a0\u4e0b\u5212\u7ebf_</li> <li>\u7c7b\u53d8\u91cf\u53ef\u4ee5\u5728\u4e0d\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u7c7b\u7684<code>\u6240\u6709\u5b9e\u4f8b\u4e4b\u95f4</code>\u5171\u4eab\u6570\u636e</li> </ul> <p><pre><code>class Organe():\n    def __init__(self, w, c):\n        self.weight = w\n        self.color = c\n        self.mold = 0\n\n\n    def rot(self, days, temp):\n        self.mold = days * temp\n\n\norange = Orange(6, \"\u6a58\u8272\")\nprint(organe.mold)\norange.rot(10, 98)\nprint(organe.mold)\n</code></pre> <pre><code>class Rectangle():\n    recs = []\n\n\n    def __init__(self, w, l):\n        self.width = w\n        self.len = l\n        self.recs.append((self.width, self.len))\n\n\n    def print_size(self):\n        print(\"{} by {}\".format(self.width, self.len))\n\n\nr1 = Rectangle(10, 24)\nr2 = Rectangle(20, 24)\nr3 = Rectangle(30, 24)\n\n\nprint(Rectangle.recs)\n</code></pre></p>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/","title":"\u5173\u952e\u5b57","text":""},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#static","title":"static\u5173\u952e\u5b57","text":"<p>\u4fee\u9970\u53d8\u91cf\uff0c\u9650\u5236\u4f5c\u7528\u57df\u548c\u5b58\u50a8\u751f\u547d\u5468\u671f\uff1b\u4fee\u9970\u51fd\u6570\uff0c\u9650\u5236\u8c03\u7528\u4f5c\u7528\u57df\uff1b</p> <ol> <li>\u666e\u901a\u53d8\u91cf -&gt; \u5168\u5c40\u9759\u6001\u53d8\u91cf</li> </ol> <p>\u4e24\u8005\u90fd\u4e3a\u9759\u6001\u5b58\u50a8\u65b9\u5f0f\uff0c\u5b58\u653e\u5728\u6570\u636e\u6bb5\uff0c\u666e\u901a\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u6574\u4e2a\u6e90\u7a0b\u5e8f\uff0c\u9759\u6001\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u4e3a\u5f53\u524d\u6587\u4ef6\u3002</p> <ol> <li>\u5c40\u90e8\u53d8\u91cf -&gt; \u9759\u6001\u5c40\u90e8\u53d8\u91cf</li> </ol> <p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u4ec5\u9650\u4e8e\u51fd\u6570\u5185\u90e8\uff0c\u4e0e\u51fd\u6570\u5185\u90e8\u7684\u5c40\u90e8\u53d8\u91cf\u76f8\u540c\uff0c\u7b2c\u4e00\u6b21\u8fd0\u884c\u65f6\u521d\u59cb\u5316\uff0c\u968f\u540e\u751f\u547d\u5468\u671f\u8d2f\u7a7f\u4e8e\u6574\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u3002</p> <ol> <li>\u666e\u901a\u51fd\u6570 -&gt; \u9759\u6001\u51fd\u6570</li> </ol> <p>\u9759\u6001\u51fd\u6570\u9650\u5236\u51fd\u6570\u7684\u4f5c\u7528\u57df\uff0c\u4ec5\u53ef\u5728\u5b9a\u4e49\u8be5\u51fd\u6570\u7684\u6587\u4ef6\u5185\u90e8\u8c03\u7528\u3002</p> <ol> <li> <p>\u6210\u5458\u53d8\u91cf -&gt; \u9759\u6001\u6210\u5458\u53d8\u91cf</p> </li> <li> <p>\u9759\u6001\u6210\u5458\u53d8\u91cf\u662f\u5728\u7c7b\u5185\u8fdb\u884c\u58f0\u660e\uff0c\u5728\u7c7b\u5916\u8fdb\u884c\u5b9a\u4e49\u548c\u521d\u59cb\u5316\uff0c\u5728\u7c7b\u5916\u8fdb\u884c\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u7684\u65f6\u5019\u4e0d\u8981\u51fa\u73b0 static \u5173\u952e\u5b57\u548c private\u3001public\u3001protected \u8bbf\u95ee\u89c4\u5219\u3002</p> </li> <li> <p>\u9759\u6001\u6210\u5458\u53d8\u91cf\u76f8\u5f53\u4e8e\u7c7b\u57df\u4e2d\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u88ab\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u6240\u5171\u4eab\uff0c\u5305\u62ec\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\uff0c\u4e14\u53ea\u80fd\u8be5\u53d8\u91cf\u53ea\u80fd\u88ab\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u4e0d\u80fd\u5728\u7c7b\u7684\u6784\u9020\u51fd\u6570\u4e2d\u5bf9\u9759\u6001\u6210\u5458\u53d8\u91cf\u8fdb\u884c\u521d\u59cb\u5316\u3002</p> </li> <li> <p>\u9759\u6001\u6210\u5458\u53d8\u91cf\u53ef\u4ee5\u4f5c\u4e3a\u6210\u5458\u51fd\u6570\u7684\u53c2\u6570\uff0c\u800c\u666e\u901a\u6210\u5458\u53d8\u91cf\u4e0d\u53ef\u4ee5\u3002</p> </li> <li> <p>\u9759\u6001\u6570\u636e\u6210\u5458\u7684\u7c7b\u578b\u53ef\u4ee5\u662f\u6240\u5c5e\u7c7b\u7684\u7c7b\u578b\uff0c\u800c\u666e\u901a\u6570\u636e\u6210\u5458\u7684\u7c7b\u578b\u53ea\u80fd\u662f\u8be5\u7c7b\u7c7b\u578b\u7684\u6307\u9488\u6216\u5f15\u7528\u3002</p> </li> <li> <p>\u6210\u5458\u51fd\u6570 -&gt; \u9759\u6001\u6210\u5458\u51fd\u6570</p> </li> <li> <p>\u9759\u6001\u6210\u5458\u51fd\u6570\u4e0d\u80fd\u8c03\u7528\u975e\u9759\u6001\u6210\u5458\u53d8\u91cf\u6216\u8005\u975e\u9759\u6001\u6210\u5458\u51fd\u6570\uff0c\u56e0\u4e3a\u9759\u6001\u6210\u5458\u51fd\u6570\u6ca1\u6709 this \u6307\u9488\u3002</p> </li> <li> <p>\u9759\u6001\u6210\u5458\u51fd\u6570\u505a\u4e3a\u7c7b\u4f5c\u7528\u57df\u7684\u5168\u5c40\u51fd\u6570\u3002</p> </li> <li> <p>\u9759\u6001\u6210\u5458\u51fd\u6570\u4e0d\u80fd\u58f0\u660e\u6210\u865a\u51fd\u6570\uff08virtual\uff09\u3001const \u51fd\u6570\u548c volatile \u51fd\u6570\u3002</p> </li> </ol>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#const","title":"const\u5173\u952e\u5b57","text":"<ol> <li>\u666e\u901a\u53d8\u91cf -&gt; const\u5e38\u91cf</li> </ol> <p>const\u4fee\u9970\u666e\u901a\u53d8\u91cf\uff0c\u4f5c\u7528\u57df\u548c\u751f\u547d\u5468\u671f\u4e0e\u666e\u901a\u53d8\u91cf\u4e00\u81f4\uff0c\u5fc5\u987b\u5728\u5b9a\u4e49\u65f6\u521d\u59cb\u5316\u3002</p> <p>\u76f8\u8f83\u4e8e\u5b8f\u5e38\u91cf\uff0c\u53ef\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u8282\u7701\u5185\u5b58\u7a7a\u95f4\uff0c\u63d0\u9ad8\u4e86\u6548\u7387\u3002</p> <ol> <li>\u5c40\u90e8\u53d8\u91cf -&gt; \u9759\u6001\u5c40\u90e8\u53d8\u91cf</li> </ol> <p>const\u4fee\u9970\u5c40\u90e8\u53d8\u91cf\uff0c\u4f5c\u7528\u57df\u548c\u751f\u547d\u5468\u671f\u4e0e\u5c40\u90e8\u53d8\u91cf\u4fdd\u6301\u4e00\u81f4\uff0c\u4fdd\u5b58\u5728\u6808\u4e0a\uff0c\u51fd\u6570\u7ed3\u675f\u65f6\u91ca\u653e\u3002</p> <p>const\u4fee\u9970\u5c40\u90e8\u53d8\u91cf\uff0c\u53ef\u4ee5\u5728\u5b9a\u4e49\u65f6\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u4e5f\u53ef\u4ee5\u7a0d\u540e\u5728\u5176\u4f5c\u7528\u57df\u5185\u7684\u4efb\u4f55\u4f4d\u7f6e\u8fdb\u884c\u521d\u59cb\u5316\u3002</p> <ol> <li>const\u4fee\u9970\u6307\u9488</li> </ol> <p>\u9876\u5c42const\uff1a\u4fee\u9970\u6307\u9488\uff0c\u53d8\u4e3a\u6307\u9488\u5e38\u91cf\uff0c\u6307\u9488\u4e0d\u53ef\u53d8\uff0c\u6307\u5411\u7684\u5185\u5bb9\u53ef\u53d8\u3002</p> <p>\u5e95\u5c42const\uff1a\u4fee\u9970\u6307\u9488\u6307\u5411\u7684\u5185\u5bb9\uff0c\u6307\u9488\u53ef\u53d8\uff0c\u6307\u9488\u6307\u5411\u7684\u5185\u5bb9\u4e0d\u53ef\u53d8\u3002</p> <p>\u540c\u65f6\u4fee\u9970\u6307\u9488\u548c\u6307\u9488\u6307\u5411\u7684\u5185\u5bb9\uff0c\u5219\u4e24\u8005\u90fd\u4e0d\u53ef\u53d8\u3002</p> <p>\u4ee5 <code>*</code> \u8fd0\u7b97\u7b26\u4e3a\u5206\u754c\uff0c\u5de6\u4fa7\u8868\u793a\u6307\u9488\u6307\u5411\u7684\u7c7b\u578b\uff0c\u53f3\u4fa7\u8868\u793a\u6307\u9488\u7684\u7c7b\u578b\u3002</p> <ol> <li>const\u4fee\u9970\u5f15\u7528</li> </ol> <p>const \u5f15\u7528\u662f\u6307\u5411 const \u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u53ef\u4ee5\u8bfb\u53d6\u53d8\u91cf\uff0c\u4f46\u4e0d\u80fd\u901a\u8fc7\u5f15\u7528\u4fee\u6539\u6307\u5411\u7684\u5bf9\u8c61\u3002</p> <p>const \u5f15\u7528\u6307\u5411\u975e const \u53d8\u91cf\uff0c\u4f46\u4e0d\u80fd\u4f7f\u7528\u975e const \u5f15\u7528\u6307\u5411 const \u53d8\u91cf\u3002</p> <p>const \u5f15\u7528\u53ef\u4ee5\u521d\u59cb\u5316\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\uff08\u5305\u542b\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff09\u6216\u8005\u53f3\u503c\uff08\u5982\u5b57\u9762\u503c\u5e38\u91cf\uff09\uff0c\u4f46\u975e const \u5f15\u7528\u4e0d\u53ef\u4ee5\u3002</p> <ol> <li>const\u4fee\u9970\u51fd\u6570\u53c2\u6570</li> </ol> <p>\u4f7f\u5f97\u4f20\u9012\u8fc7\u6765\u7684\u51fd\u6570\u53c2\u6570\u7684\u503c\u4e0d\u80fd\u6539\u53d8\u3002</p> <ol> <li>const\u4fee\u9970\u51fd\u6570\u8fd4\u56de\u503c</li> </ol> <p>\u51fd\u6570\u8fd4\u56de\u503c\u5982\u679c\u4e3a\u6307\u9488\u6216\u8005\u5f15\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>const</code> \u6307\u9488\u6216\u8005\u5f15\u7528\u63a5\u53d7\u8fd4\u56de\u503c\uff0c\u6b64\u65f6\u6307\u5411\u7684\u5185\u5bb9\u5219\u4e0d\u53ef\u4ee5\u4fee\u6539\u3002</p> <ol> <li>const\u4fee\u9970\u6210\u5458\u53d8\u91cf</li> </ol> <p>const\u4fee\u9970\u6210\u5458\u53d8\u91cf\u53ea\u80fd\u5728\u7c7b\u5185\u58f0\u660e\u3001\u5b9a\u4e49\uff0c\u5728\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u5217\u8868\u4e2d\u521d\u59cb\u5316\u3002</p> <p>const\u4fee\u9970\u6210\u5458\u53d8\u91cf\u53ea\u5728\u67d0\u4e2a\u5bf9\u8c61\u7684\u751f\u5b58\u5468\u671f\u5185\u662f\u5e38\u91cf\uff0c\u5bf9\u4e8e\u6574\u4e2a\u7c7b\u800c\u8a00\u5374\u662f\u53ef\u53d8\u7684\uff0c\u56e0\u4e3a\u7c7b\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u540c\u7c7b\u7684 const \u6210\u5458\u53d8\u91cf\u7684\u503c\u662f\u4e0d\u540c\u7684\u3002\u56e0\u6b64\u4e0d\u80fd\u5728\u7c7b\u7684\u58f0\u660e\u4e2d\u521d\u59cb\u5316 const \u6210\u5458\u53d8\u91cf\u3002</p> <p>\uff08\u6ce8\u610f\u4e0estatic\u7684\u533a\u522b\uff09</p> <ol> <li>const\u4fee\u9970\u6210\u5458\u51fd\u6570</li> </ol> <p>\u4f7f\u5f97\u6210\u5458\u51fd\u6570\u4e0d\u80fd\u4fee\u6539\u4efb\u4f55\u7c7b\u578b\u7684\u6210\u5458\u53d8\u91cf\uff08<code>mutable</code> \u4fee\u9970\u7684\u53d8\u91cf\u9664\u5916\uff09\uff0c\u4e5f\u4e0d\u80fd\u8c03\u7528\u975e <code>const</code> \u6210\u5458\u51fd\u6570\uff0c\u56e0\u4e3a\u975e <code>const</code> \u6210\u5458\u51fd\u6570\u53ef\u80fd\u4f1a\u4fee\u6539\u6210\u5458\u53d8\u91cf\u3002</p>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#volatile","title":"volatile\u5173\u952e\u5b57","text":"<p>https://leetcode.cn/leetbook/read/cmian-shi-tu-po/vwudo7/</p> <p>volatile\u4e0econst\u4e3a\u76f8\u5bf9\u5e94\u7684\u6982\u5ff5\uff0cvolatile\u8868\u793a\u201c\u6613\u53d8\u7684\u201d\uff0cconst\u8868\u793a\u201c\u56fa\u5b9a\u4e0d\u53d8\u7684\u201d\u3002</p> <p>volatile \u5173\u952e\u5b57\u4fee\u9970\u53d8\u91cf\u540e\uff0c\u56e0\u6b64\u7f16\u8bd1\u540e\u7684\u7a0b\u5e8f\u6bcf\u6b21\u9700\u8981\u5b58\u50a8\u6216\u8bfb\u53d6\u8fd9\u4e2a\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u76f4\u63a5\u4ece\u53d8\u91cf\u5730\u5740\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\u5982\u679c\u6ca1\u6709 volatile \u5173\u952e\u5b57\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u80fd\u4f18\u5316\u8bfb\u53d6\u548c\u5b58\u50a8\uff0c\u53ef\u80fd\u6682\u65f6\u4f7f\u7528\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\uff0c\u5982\u679c\u8fd9\u4e2a\u53d8\u91cf\u7531\u522b\u7684\u7a0b\u5e8f\u66f4\u65b0\u4e86\u7684\u8bdd\uff0c\u5c06\u51fa\u73b0\u4e0d\u4e00\u81f4\u7684\u73b0\u8c61\u3002</p> <p>\u88abvolatile\u4fee\u9970\u7684\u53d8\u91cf\uff0c\u6bcf\u6b21\u8bfb\u53d6\u90fd\u4ece\u5185\u5b58\u5730\u5740\u8bfb\u53d6\u6570\u636e\uff0c\u6ca1\u6709\u88abvolatile\u4fee\u9970\u7684\u53d8\u91cf\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u7684\u4f18\u5316\uff0c\u53ef\u80fd\u4f1a\u64cd\u4f5c\u5185\u5b58\u3002</p>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#define","title":"define\u5173\u952e\u5b57","text":"<p>\u5728\u7f16\u8bd1\u9884\u5904\u7406\u9636\u6bb5\u8fdb\u884c\u5b57\u7b26\u4e32\u66ff\u6362\u3002</p>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#typedef","title":"typedef\u5173\u952e\u5b57","text":"<p>typedef \u7528\u6765\u5b9a\u4e49\u7c7b\u578b\u7684\u522b\u540d\uff0c\u65b9\u4fbf\u4f7f\u7528\u3002</p> <p>\u4e0edefine\u7684\u533a\u522b\uff1adefine\u662f\u9884\u5904\u7406\u6307\u4ee4\uff0c\u5728\u7f16\u8bd1\u9884\u5904\u7406\u65f6\u8fdb\u884c\u66ff\u6362\u64cd\u4f5c\uff0c\u4e0d\u4f5c\u6b63\u786e\u6027\u68c0\u67e5\uff0c\u53ea\u6709\u5728\u7f16\u8bd1\u5df2\u88ab\u5c55\u5f00\u7684\u6e90\u7a0b\u5e8f\u65f6\u624d\u4f1a\u53d1\u73b0\u53ef\u80fd\u7684\u9519\u8bef\u5e76\u62a5\u9519\u3002</p> <p><code>typedef</code> \u662f\u5173\u952e\u5b57\uff0c\u5728\u7f16\u8bd1\u65f6\u5904\u7406\uff0c\u6709\u7c7b\u578b\u68c0\u67e5\u529f\u80fd\uff0c\u7528\u6765\u7ed9\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7c7b\u578b\u4e00\u4e2a\u522b\u540d\uff0c\u4f46\u4e0d\u80fd\u5728\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u91cc\u9762\u4f7f\u7528 <code>typedef</code> \u3002</p> <p>\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u68c0\u67e5\u8d4b\u503c\u662f\u5426\u5408\u6cd5\u3002</p> <p>https://zhuanlan.zhihu.com/p/413574268</p>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#inline","title":"inline\u5173\u952e\u5b57","text":"<p>\u5b9a\u4e49\u5185\u8054\u51fd\u6570\uff0c\u50cf\u666e\u901a\u51fd\u6570\u4e00\u6837\u88ab\u8c03\u7528\uff0c\u4f46\u662f\u5728\u8c03\u7528\u65f6\u5e76\u4e0d\u901a\u8fc7\u51fd\u6570\u8c03\u7528\u7684\u673a\u5236\u800c\u662f\u76f4\u63a5\u5728\u8c03\u7528\u70b9\u5904\u5c55\u5f00\uff0c\u8fd9\u6837\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u7531\u51fd\u6570\u8c03\u7528\u5e26\u6765\u7684\u5f00\u9500\uff0c\u4ece\u800c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u8fd0\u884c\u6548\u7387\u3002</p> <p>\u5728\u5185\u8054\u51fd\u6570\u51fa\u73b0\u4e4b\u524d\uff0c\u5728 C/C++ \u7684\u5927\u578b\u5de5\u7a0b\u4e2d\u5e38\u89c1\u7528 #define \u5b9a\u4e49\u4e00\u4e9b\u201c\u51fd\u6570\u201d\u6765\u6d88\u9664\u8c03\u7528\u8fd9\u4e9b\u51fd\u6570\u7684\u5f00\u9500\u3002\u5185\u8054\u51fd\u6570\u8bbe\u8ba1\u7684\u76ee\u7684\u4e4b\u4e00\uff0c\u5c31\u662f\u53d6\u4ee3 #define \u7684\u8fd9\u9879\u529f\u80fd\u3002\u7531\u4e8e\u4f7f\u7528 #define \u5b9a\u4e49\u7684\u201c\u51fd\u6570\u201d\uff0c\u7f16\u8bd1\u5668\u4e0d\u4f1a\u68c0\u67e5\u5176\u53c2\u6570\u7684\u6b63\u786e\u6027\u7b49\uff0c\u800c\u4f7f\u7528 inline \u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u6307\u5b9a\u53c2\u6570\u7c7b\u578b\uff0c\u5219\u4f1a\u88ab\u7f16\u8bd1\u5668\u6821\u9a8c\uff09\u3002\u5185\u8054\u51fd\u6570\u53ef\u4ee5\u5728\u5934\u6587\u4ef6\u4e2d\u88ab\u5b9a\u4e49\uff0c\u5e76\u88ab\u591a\u4e2a .cpp \u6587\u4ef6 include\uff0c\u800c\u4e0d\u4f1a\u6709\u91cd\u5b9a\u4e49\u9519\u8bef\u3002\u8fd9\u4e5f\u662f\u8bbe\u8ba1\u5185\u8054\u51fd\u6570\u7684\u4e3b\u8981\u76ee\u7684\u4e4b\u4e00\u3002</p> <ul> <li>\u7c7b\u5185\u5b9a\u4e49\u6210\u5458\u51fd\u6570</li> </ul> <p>\u7c7b\u5185\u5b9a\u4e49\uff08\u6ce8\u610f\u662f\u5b9a\u4e49\u4e0d\u662f\u58f0\u660e\uff09\u6210\u5458\u51fd\u6570\u9ed8\u8ba4\u662f\u5185\u8054\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u5c06\u7c7b\u5185\u5b9a\u4e49\u7684\u51fd\u6570\uff08\u6784\u9020\u51fd\u6570\u3001\u6790\u6784\u51fd\u6570\u3001\u666e\u901a\u6210\u5458\u51fd\u6570\u7b49\uff09\u58f0\u660e\u4e3a\u5185\u8054\u51fd\u6570\uff0c\u9664\u4e86\u865a\u51fd\u6570\u4ee5\u5916\uff0c\u56e0\u4e3a\u865a\u51fd\u6570\u662f\u5728\u8fd0\u884c\u65f6\u51b3\u5b9a\u7684\uff0c\u5728\u7f16\u8bd1\u65f6\u8fd8\u65e0\u6cd5\u786e\u5b9a\u865a\u51fd\u6570\u7684\u5b9e\u9645\u8c03\u7528\u3002</p> <ul> <li>\u7c7b\u5916\u5b9a\u4e49\u6210\u5458\u51fd\u6570</li> </ul> <p>\u5f53\u5728\u7c7b\u5185\u58f0\u660e\u51fd\u6570\uff0c\u5728\u7c7b\u5916\u5b9a\u4e49\u51fd\u6570\u65f6\uff0c\u5982\u679c\u60f3\u5c06\u8be5\u51fd\u6570\u5b9a\u4e49\u4e3a\u5185\u8054\u51fd\u6570\uff0c\u5219\u53ef\u4ee5\u5728\u7c7b\u5185\u58f0\u660e\u65f6\u4e0d\u52a0 inline \u5173\u952e\u5b57\uff0c\u800c\u5728\u7c7b\u5916\u5b9a\u4e49\u51fd\u6570\u65f6\u52a0\u4e0a inline \u5173\u952e\u5b57\u3002\u5173\u952e\u5b57 inline \u5fc5\u987b\u4e0e\u51fd\u6570\u5b9a\u4e49\u4f53\u653e\u5728\u4e00\u8d77\u624d\u80fd\u4f7f\u51fd\u6570\u6210\u4e3a\u5185\u8054\uff0c\u5982\u679c\u53ea\u662f inline \u653e\u5728\u51fd\u6570\u58f0\u660e\u524d\u9762\u4e0d\u8d77\u4efb\u4f55\u4f5c\u7528\u3002</p>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#auto","title":"auto\u5173\u952e\u5b57","text":"<p>auto\u5173\u952e\u5b57\u7528\u4e8e\u4e24\u79cd\u60c5\u51b5\uff1a</p> <ul> <li> <p>\u58f0\u660e\u53d8\u91cf\u65f6\u6839\u636e\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\u7684\u503c\u81ea\u52a8\u63a8\u65ad\u8be5\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u53d8\u91cf\u5fc5\u987b\u521d\u59cb\u5316\u3002</p> </li> <li> <p>\u58f0\u660e\u51fd\u6570\u65f6\u51fd\u6570\u8fd4\u56de\u503c\u7684\u5360\u4f4d\u7b26\uff1b</p> </li> </ul> <p>https://leetcode.cn/leetbook/read/cmian-shi-tu-po/vw6ybe/</p> <p>\u4f7f\u7528 auto \u5173\u952e\u5b57\u505a\u7c7b\u578b\u81ea\u52a8\u63a8\u5bfc\u65f6\uff0c\u4f9d\u6b21\u65bd\u52a0\u4ee5\u4e0b\u89c4\u5219\uff1a</p> <p>\u9996\u5148\uff0c\u5982\u679c\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\u662f\u5f15\u7528\uff0c\u9996\u5148\u53bb\u9664\u5f15\u7528\uff0c\u5982\u679c auto \u7c7b\u578b\u5173\u952e\u5b57\u5e26\u4e0a &amp; \u5219\u4e0d\u8fdb\u884c\u53bb\u9664\uff1b</p> <p>\u4ee5\u4e0b\u7a0b\u5e8f\u7a0b\u5e8f\u793a\u4f8b\u4e2d\u53ef\u4ee5\u770b\u5230 myAuto \u662f\u4e00\u4e2a int\uff0c\u800c\u4e0d\u662f\u5f15\u7528 int\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main( )\n{\n    int count = 10;\n    int&amp; countRef = count;\n    auto myAuto = countRef;\n\n    countRef = 11;\n    cout &lt;&lt; count &lt;&lt; \" \";\n\n    myAuto = 12;\n    cout &lt;&lt; count &lt;&lt; endl;\n}\n</code></pre> <p>\u5176\u6b21\uff0c\u53bb\u6389\u5269\u4e0b\u7684\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\u9876\u5c42\u7684 const \u6216 volatile \u9650\u5b9a\u7b26\u3002</p> <p>C++ 14 \u4ee5\u540e\u5982\u679c\u7528 {} \u6765\u8fdb\u884c\u8d4b\u503c\uff0c\u6b64\u65f6 auto \u7c7b\u578b\u63a8\u5bfc\u51fa\u7684\u7c7b\u578b\u4e3a std::initializer_list\uff1b\u800c\u6a21\u677f\u51fd\u6570\u7684\u5f62\u53c2\u63a8\u5bfc\u65f6\u4e0d\u8ba4\u4e3a\u8fd9\u79cd\u503c\u5217\u8868\u662f\u4e00\u4e2a\u7c7b\u578b\uff0c\u6b64\u65f6\u5219\u4e0d\u80fd\u63a8\u5bfc\u51fa std::initializer_list \u7c7b\u578b\u3002</p> <pre><code>#include &lt;initializer_list&gt;\nint main()\n{\n    // A \u7684\u7c7b\u578b: std::initializer_list&lt;int&gt;\n    auto A = { 1, 2 };\n    // B \u7684\u7c7b\u578b: std::initializer_list&lt;int&gt;\n    auto B = { 3 };\n    // C \u7684\u7c7b\u578b: int\n    auto C{ 4 };\n    return 0;\n}\n</code></pre> <p>auto \u5173\u952e\u5b57\u7684\u7c7b\u578b\u5b8c\u7f8e\u8f6c\u53d1\uff1a</p> <p>C++11 \u4f7f\u7528 auto \u58f0\u660e\u53d8\u91cf\u65f6\uff0c\u5982\uff1a<code>auto&amp;&amp; var=initValue;</code>\uff0c\u5219\u6b64\u65f6 <code>auto&amp;&amp;</code> \u5e76\u4e0d\u610f\u5473\u7740\u8fd9\u4e00\u5b9a\u662f\u53f3\u503c\u5f15\u7528\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u800c\u662f\u7c7b\u4f3c\u4e8e\u6a21\u677f\u51fd\u6570\u53c2\u6570\u7684\u7c7b\u578b\u63a8\u5bfc\uff0c\u65e2\u53ef\u80fd\u662f\u5de6\u503c\u5f15\u7528\uff0c\u4e5f\u53ef\u80fd\u662f\u53f3\u503c\u5f15\u7528\u3002\u5176\u76ee\u7684\u662f\u628a\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\u7684\u503c\u5206\u7c7b\u60c5\u51b5\uff0c\u5b8c\u7f8e\u8f6c\u53d1\u7ed9\u7531 auto \u58f0\u660e\u7684\u53d8\u91cf\u3002\u4e5f\u5373\uff1a</p> <p>\u5982\u679c\u521d\u59cb\u5316\u503c\u662f\u7c7b\u578b A \u7684\u5de6\u503c\uff0c\u5219\u58f0\u660e\u7684\u53d8\u91cf\u7c7b\u578b\u4e3a\u5de6\u503c\u5f15\u7528 A&amp;\uff1b</p> <p>\u5982\u679c\u521d\u59cb\u5316\u503c\u662f\u7c7b\u578b A \u7684\u53f3\u503c\uff0c\u5219\u58f0\u660e\u7684\u53d8\u91cf\u7c7b\u578b\u4e3a\u53f3\u503c\u5f15\u7528 A&amp;&amp;\u3002</p> <pre><code>#include&lt;iostream&gt;  \n#include &lt;vector&gt;\n#include &lt;typeinfo&gt;\nusing namespace std;\n\nstruct Widget{};\nWidget makeWidget(){ return Widget(); } // \u7c7b\u5de5\u5382\u51fd\u6570\n\nint main()\n{\n        Widget&amp;&amp; var1 = Widget(); // var1\u7684\u7c7b\u578b\u662f\u53f3\u503c\u5f15\u7528\uff0c\u4f46\u662f\u4f5c\u4e3a\u5de6\u503c\n        auto&amp;&amp; var2 = var1;       //var2\u7684\u7c7b\u578b\u662f\u5de6\u503c\u5f15\u7528\n        std::vector&lt;int&gt; v = { 1, 2, 3 };\n        auto&amp;&amp; val = v[0]; // std::vector::operator[]\u7684\u8fd4\u56de\u503c\u662f\u5143\u7d20\u5de6\u503c\uff0c\u6240\u4ee5val\u7684\u7c7b\u578b\u662f\u5de6\u503c\u5f15\u7528\n        Widget&amp;&amp; var3 = makeWidget(); // var3\u662f\u5de6\u503c\uff0c\u4f46\u5b83\u7684\u7c7b\u578b\u662f\u53f3\u503c\u5f15\u7528\n        Widget var4 = static_cast&lt;Widget&amp;&amp;&gt;(var1); // var4\u662f\u5de6\u503c\uff0c\u4f46\u5b83\u7684\u7c7b\u578b\u662f\u53f3\u503c\u5f15\u7528\n\n        std::cout &lt;&lt; typeid(var1).name() &lt;&lt; std::endl;\n        std::cout &lt;&lt; typeid(var2).name() &lt;&lt; std::endl;\n        std::cout &lt;&lt; typeid(val).name() &lt;&lt; std::endl;\n        std::cout &lt;&lt; typeid(var3).name()  &lt;&lt; std::endl;\n        std::cout &lt;&lt; typeid(var4).name() &lt;&lt; std::endl;\n}\n</code></pre>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#decltype","title":"decltype\u5173\u952e\u5b57","text":"<p>decltype \u662f \u201cdeclare type\u201d \u7684\u7f29\u5199\uff0c\u8bd1\u4e3a\u201c\u58f0\u660e\u7c7b\u578b\u201d\u3002\u548c auto \u7684\u529f\u80fd\u4e00\u6837\uff0c\u90fd\u7528\u6765\u5728\u7f16\u8bd1\u65f6\u671f\u8fdb\u884c\u81ea\u52a8\u7c7b\u578b\u63a8\u5bfc\u3002</p> <p>\u5982\u679c\u5e0c\u671b\u4ece\u8868\u8fbe\u5f0f\u4e2d\u63a8\u65ad\u51fa\u8981\u5b9a\u4e49\u7684\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u4f46\u662f\u4e0d\u60f3\u7528\u8be5\u8868\u8fbe\u5f0f\u7684\u503c\u521d\u59cb\u5316\u53d8\u91cf\uff0c\u8fd9\u65f6\u5c31\u4e0d\u80fd\u518d\u7528 auto\u3002decltype \u4f5c\u7528\u662f\u9009\u62e9\u5e76\u8fd4\u56de\u64cd\u4f5c\u6570\u7684\u6570\u636e\u7c7b\u578b\u3002</p> <pre><code>auto var = val1 + val2; \ndecltype(val1 + val2) var1 = 0; \n</code></pre> <p>auto \u6839\u636e = \u53f3\u8fb9\u7684\u521d\u59cb\u503c val1 + val2 \u63a8\u5bfc\u51fa\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u5e76\u5c06\u8be5\u521d\u59cb\u503c\u8d4b\u503c\u7ed9\u53d8\u91cf var\uff1bdecltype \u6839\u636e val1 + val2 \u8868\u8fbe\u5f0f\u63a8\u5bfc\u51fa\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u53d8\u91cf\u7684\u521d\u59cb\u503c\u548c\u4e0e\u8868\u8fbe\u5f0f\u7684\u503c\u65e0\u5173\u3002auto \u8981\u6c42\u53d8\u91cf\u5fc5\u987b\u521d\u59cb\u5316\uff0c\u56e0\u4e3a\u5b83\u662f\u6839\u636e\u521d\u59cb\u5316\u7684\u503c\u63a8\u5bfc\u51fa\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u800c decltype \u4e0d\u8981\u6c42\uff0c\u5b9a\u4e49\u53d8\u91cf\u7684\u65f6\u5019\u53ef\u521d\u59cb\u5316\u4e5f\u53ef\u4ee5\u4e0d\u521d\u59cb\u5316\u3002</p> <p>\u7c7b\u4f3c\u4e8e sizeof \u64cd\u4f5c\u7b26\uff0cdecltype \u4e0d\u5bf9\u5176\u64cd\u4f5c\u6570\u6c42\u503c\u3002decltype(e) \u8fd4\u56de\u7c7b\u578b\u524d\uff0c\u8fdb\u884c\u4e86\u5982\u4e0b\u63a8\u5bfc:</p> <p>\u82e5\u8868\u8fbe\u5f0f e \u4e3a\u4e00\u4e2a\u65e0\u62ec\u53f7\u7684\u53d8\u91cf\u3001\u51fd\u6570\u53c2\u6570\u3001\u7c7b\u6210\u5458\u8bbf\u95ee\uff0c\u90a3\u4e48\u8fd4\u56de\u7c7b\u578b\u5373\u4e3a\u8be5\u53d8\u91cf\u6216\u53c2\u6570\u6216\u7c7b\u6210\u5458\u5728\u6e90\u7a0b\u5e8f\u4e2d\u7684\u201c\u58f0\u660e\u7c7b\u578b\u201d\uff1b</p> <p>\u5426\u5219\u7684\u8bdd\uff0c\u6839\u636e\u8868\u8fbe\u5f0f\u7684\u503c\u5206\u7c7b\uff08value categories\uff09\uff0c\u8bbe T \u4e3a e \u7684\u7c7b\u578b\uff1a</p> <p>\u82e5 e \u662f\u4e00\u4e2a\u5de6\u503c\uff08lvalue\uff0c\u5373\u201c\u53ef\u5bfb\u5740\u503c\u201d\uff09\uff0c\u5219 decltype(e) \u5c06\u8fd4\u56deT&amp;\uff1b</p> <p>\u82e5 e \u662f\u4e00\u4e2a\u4e34\u7ec8\u503c\uff08xvalue\uff09\uff0c\u5219\u8fd4\u56de\u503c\u4e3a T&amp;&amp; \uff1b</p> <p>\u82e5 e \u662f\u4e00\u4e2a\u7eaf\u53f3\u503c\uff08prvalue\uff09\uff0c\u5219\u8fd4\u56de\u503c\u4e3a T\u3002</p> <pre><code>const int&amp;&amp; foo();\nconst int bar();\nint i;\nstruct A { double x; };\nconst A* a = new A();\ndecltype(foo()) x1; // \u7c7b\u578b\u4e3aconst int&amp;&amp;\ndecltype(bar()) x2; // \u7c7b\u578b\u4e3aint\ndecltype(i) x3; // \u7c7b\u578b\u4e3aint\ndecltype(a-&gt;x) x4; // \u7c7b\u578b\u4e3adouble\ndecltype((a-&gt;x)) x5; // \u7c7b\u578b\u4e3aconst double&amp;\n</code></pre>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#explicit","title":"explicit\u5173\u952e\u5b57","text":"<p>\u7528\u6765\u58f0\u660e\u7c7b\u6784\u9020\u51fd\u6570\u662f\u663e\u5f0f\u8c03\u7528\u7684\uff0c\u800c\u975e\u9690\u5f0f\u8c03\u7528\uff0c\u53ef\u4ee5\u963b\u6b62\u8c03\u7528\u6784\u9020\u51fd\u6570\u65f6\u8fdb\u884c\u9690\u5f0f\u8f6c\u6362\u548c\u8d4b\u503c\u521d\u59cb\u5316\u3002</p> <p>\u53ea\u53ef\u7528\u4e8e\u4fee\u9970\u5355\u53c2\u6784\u9020\u51fd\u6570\uff0c\u56e0\u4e3a\u65e0\u53c2\u6784\u9020\u51fd\u6570\u548c\u591a\u53c2\u6784\u9020\u51fd\u6570\u672c\u8eab\u5c31\u662f\u663e\u5f0f\u8c03\u7528\u7684\uff0c\u518d\u52a0\u4e0a explicit \u5173\u952e\u5b57\u4e5f\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u3002</p> <p>\u9690\u5f0f\u8f6c\u6362\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\nusing namespace std;\n\nclass A\n{\npublic:\n    int var;\n    A(int tmp)\n    {\n        var = tmp;\n    }\n};\nint main()\n{\n    A ex = 10; // \u53d1\u751f\u4e86\u9690\u5f0f\u8f6c\u6362\n    return 0;\n}\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c<code>A ex = 10</code>; \u5728\u7f16\u8bd1\u65f6\uff0c\u8fdb\u884c\u4e86\u9690\u5f0f\u8f6c\u6362\uff0c\u5c06 <code>10</code> \u8f6c\u6362\u6210 <code>A</code> \u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u8be5\u5bf9\u8c61\u8d4b\u503c\u7ed9 <code>ex</code>\uff0c\u7b49\u540c\u4e8e\u5982\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>A ex1(10);\nA ex = ex1;\n</code></pre> <p>\u4e3a\u4e86\u907f\u514d\u9690\u5f0f\u8f6c\u6362\uff0c\u53ef\u7528 <code>explicit</code> \u5173\u952e\u5b57\u8fdb\u884c\u58f0\u660e\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\nusing namespace std;\n\nclass A\n{\npublic:\n    int var;\n    explicit A(int tmp)\n    {\n        var = tmp;\n        cout &lt;&lt; var &lt;&lt; endl;\n    }\n};\nint main()\n{\n    A ex(100);\n    A ex1 = 10; // error: conversion from 'int' to non-scalar type 'A' requested\n    return 0;\n}\n</code></pre>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#constexpr","title":"constexpr\u5173\u952e\u5b57","text":"<p>\u5e38\u91cf\u8868\u793a\u5f0f\u5bf9\u7f16\u8bd1\u5668\u6765\u8bf4\u662f\u4f18\u5316\u7684\u673a\u4f1a\uff0c\u7f16\u8bd1\u5668\u65f6\u5e38\u5728\u7f16\u8bd1\u671f\u6267\u884c\u5b83\u4eec\u5e76\u4e14\u5c06\u503c\u5b58\u5165\u7a0b\u5e8f\u4e2d\u3002\u540c\u6837\u5730\uff0c\u5728\u8bb8\u591a\u573a\u5408\u4e0b\uff0cC++ \u6807\u51c6\u8981\u6c42\u4f7f\u7528\u5e38\u91cf\u8868\u793a\u5f0f\u3002\u4f8b\u5982\u5728\u6570\u7ec4\u5927\u5c0f\u7684\u5b9a\u4e49\u4e0a\uff0c\u4ee5\u53ca\u679a\u4e3e\u503c\uff08enumerator values\uff09\u90fd\u8981\u6c42\u5fc5\u987b\u662f\u5e38\u91cf\u8868\u793a\u5f0f\u3002\u5e38\u91cf\u8868\u793a\u5f0f\u4e0d\u80fd\u542b\u6709\u51fd\u6570\u8c03\u7528\u6216\u662f\u5bf9\u8c61\u6784\u9020\u51fd\u6570\u3002\u6240\u4ee5\u50cf\u662f\u4ee5\u4e0b\u7684\u4f8b\u5b50\u662f\u4e0d\u5408\u6cd5\u7684\uff1a</p> <pre><code>int g() {return 5;}\nint f[g() + 10]; // \u4e0d\u5408\u6cd5\u7684C++ \u5199\u6cd5\n</code></pre> <p>\u7531\u4e8e\u7f16\u8bd1\u5668\u65e0\u4ece\u5f97\u77e5\u51fd\u6570 g() \u7684\u8fd4\u56de\u503c\u4e3a\u5e38\u91cf\uff0c\u56e0\u6b64\u8868\u8fbe\u5f0f g() + 10 \u5c31\u4e0d\u80fd\u786e\u5b9a\u662f\u5e38\u91cf\u3002C++ 11 \u5f15\u8fdb\u5173\u952e\u5b57 constexpr \u5141\u8bb8\u7528\u6237\u4fdd\u8bc1\u51fd\u6570\u6216\u662f\u5bf9\u8c61\u6784\u9020\u51fd\u6570\u662f\u7f16\u8bd1\u671f\u5e38\u91cf\uff0c\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u65f6\u5c06\u53bb\u9a8c\u8bc1\u51fd\u6570\u8fd4\u56de\u5e38\u91cf\u3002</p> <pre><code>constexpr int g() {return 5;}\nint f[g() + 10]; // \u5408\u6cd5\n</code></pre> <p>\u7528 constexpr \u4fee\u9970\u51fd\u6570\u5c06\u9650\u5236\u51fd\u6570\u7684\u884c\u4e3a\u3002</p> <p>\u51fd\u6570\u7684\u56de\u8fd4\u503c\u7c7b\u578b\u4e0d\u80fd\u4e3avoid\uff1b</p> <p>\u51fd\u6570\u4f53\u4e0d\u80fd\u58f0\u660e\u53d8\u91cf\u6216\u5b9a\u4e49\u65b0\u7684\u7c7b\u578b\uff1b</p> <p>\u51fd\u6570\u4f53\u53ea\u80fd\u5305\u542b\u58f0\u660e\u3001null\u8bed\u53e5\u6216\u8005\u4e00\u6bb5return\u8bed\u53e5\uff1b</p> <p>\u51fd\u6570\u7684\u5185\u5bb9\u5fc5\u987b\u4f9d\u7167 \"return expr\" \u7684\u5f62\u5f0f\uff0c\u5728\u53c2\u6570\u66ff\u6362\u540e\uff0cexpr \u5fc5\u987b\u662f\u4e2a\u5e38\u91cf\u8868\u8fbe\u5f0f\uff1b</p> <p>\u8fd9\u4e9b\u5e38\u91cf\u8868\u8fbe\u5f0f\u53ea\u80fd\u591f\u8c03\u7528\u5176\u4ed6\u88ab\u5b9a\u4e49\u4e3a constexpr \u7684\u51fd\u6570\uff0c\u6216\u662f\u5176\u4ed6\u5e38\u91cf\u5f62\u5f0f\u7684\u53c2\u6570\u3002</p> <p>constexpr \u4fee\u9970\u7b26\u7684\u51fd\u6570\u76f4\u5230\u5728\u8be5\u7f16\u8bd1\u5355\u5143\u5185\u88ab\u5b9a\u4e49\u4e4b\u524d\u662f\u4e0d\u80fd\u591f\u88ab\u8c03\u7528\u7684\u3002\u58f0\u660e\u4e3a constexpr \u7684\u51fd\u6570\u4e5f\u53ef\u4ee5\u50cf\u5176\u4ed6\u51fd\u6570\u4e00\u6837\u7528\u4e8e\u5e38\u91cf\u8868\u8fbe\u5f0f\u4ee5\u5916\u7684\u8c03\u7528\u3002</p> <p>C++ 11 \u4e2d\u7684\u5e38\u91cf\u8868\u8fbe\u5f0f\u4e2d\u7684\u53d8\u91cf\u90fd\u5fc5\u987b\u662f\u5e38\u91cf\uff0c\u53ef\u4ee5\u4f7f\u7528 constexpr \u5173\u952e\u5b57\u6765\u5b9a\u4e49\u8868\u8fbe\u5f0f\u4e2d\u7684\u53d8\u91cf\uff1a</p> <pre><code>constexpr double PI = 3.14;\nconstexpr double Degree = PI * 2.0;\n</code></pre> <p>\u5982\u679c\u521b\u5efa\u7528\u6237\u5b9a\u4e49\u7c7b\u578b\u7684\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u5219\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570\u5fc5\u987b\u7528 constexpr \u58f0\u660e\uff0c\u51fd\u6570\u4f53\u4ec5\u5305\u542b\u58f0\u660e\u6216 null \u8bed\u53e5\uff0c\u4e0d\u80fd\u58f0\u660e\u53d8\u91cf\u6216\u5b9a\u4e49\u7c7b\u578b\u3002\u6784\u9020\u51fd\u6570\u7684\u5b9e\u53c2\u503c\u5e94\u8be5\u662f\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u76f4\u63a5\u521d\u59cb\u5316\u7c7b\u7684\u6570\u636e\u6210\u5458\u3002\u540c\u65f6\u8be5\u7c7b\u578b\u5bf9\u8c61\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u5e94\u8be5\u4e5f\u5b9a\u4e49\u4e3a constexpr\uff0c\u4ee5\u5141\u8bb8 constexpr \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684\u5bf9\u8c61\u3002C++ 14 \u4ee5\u540e\u7684\u89c4\u5219\u6709\u6240\u6539\u52a8\u3002</p>"},{"location":"cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#noexcept","title":"noexcept\u5173\u952e\u5b57","text":""},{"location":"cpp/%E5%87%BD%E6%95%B0/","title":"\u51fd\u6570","text":""},{"location":"cpp/%E5%87%BD%E6%95%B0/#_1","title":"\u58f0\u660e &amp; \u5b9a\u4e49 &amp; \u521d\u59cb\u5316","text":"<p>\u58f0\u660e\uff1a\u544a\u8bc9\u7f16\u8bd1\u5668\u51fd\u6570\u7684\u7c7b\u578b\u3001\u8fd4\u56de\u503c\u3001\u53c2\u6570\u7c7b\u578b\u7b49\u4fe1\u606f\uff0c\u4f46\u4e0d\u5206\u914d\u5185\u5b58\u3002</p> <p>\u5b9a\u4e49\uff1a\u4e0d\u4ec5\u5305\u542b\u58f0\u660e\u7684\u4fe1\u606f\uff0c\u8fd8\u4f1a\u5206\u914d\u5185\u5b58\u5e76\u751f\u6210\u673a\u5668\u4ee3\u7801\u3002</p> <p>\u521d\u59cb\u5316\uff1a\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u8d4b\u4e88\u521d\u59cb\u503c\u3002</p> <pre><code>// \u51fd\u6570\u58f0\u660e\nint add(int a, int b);\n\n// \u51fd\u6570\u5b9a\u4e49\nint add(int a, int b) {\n  return a + b;\n}\n\n// \u51fd\u6570\u5728\u58f0\u660e\u65f6\u5019\u521d\u59cb\u5316\nint add(int a = 1, int b = 2);\n</code></pre> <p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\uff1a\u51fd\u6570\u5185\u90e8\u88ab<code>static</code>\u4fee\u9970\u7684\u5c40\u90e8\u53d8\u91cf\u3002</p> <ul> <li> <p>\u5b58\u653e\u5728\u5185\u5b58\u7684\u5168\u5c40\u6570\u636e\u533a\u3002\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u4e0d\u4f1a\u6d88\u5931\uff0c\u6bcf\u6b21\u8be5\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u4e5f\u4e0d\u4f1a\u4e3a\u5176\u91cd\u65b0\u5206\u914d\u7a7a\u95f4\u3002\u5b83\u59cb\u7ec8\u9a7b\u7559\u5728\u5168\u5c40\u6570\u636e\u533a\uff0c\u76f4\u5230\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u675f\u3002</p> </li> <li> <p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u4e0e\u5168\u5c40\u53d8\u91cf\u5171\u4eab\u5168\u5c40\u6570\u636e\u533a\uff0c\u4f46\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u53ea\u5728\u5b9a\u4e49\u5b83\u7684\u51fd\u6570\u4e2d\u53ef\u89c1\u3002</p> </li> <li> <p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u7684\u521d\u59cb\u5316\u4e0e\u5168\u5c40\u53d8\u91cf\u7c7b\u4f3c\uff0e\u5982\u679c\u4e0d\u4e3a\u5176\u663e\u5f0f\u521d\u59cb\u5316\uff0c\u5219C++\u81ea\u52a8\u4e3a\u5176\u521d\u59cb\u5316\u4e3a0\u3002</p> </li> </ul> <pre><code>int count_add(int n)       // n\u662f\u5f62\u53c2\n{\n    static int ctr = 0;    // ctr \u662f\u5c40\u90e8\u9759\u6001\u53d8\u91cf\n    ctr += n;\n    return ctr;\n}        \nint main()\n{\n    for (int i = 0; i != 10; ++i)  // i \u662f\u5c40\u90e8\u53d8\u91cf\n      cout &lt;&lt; count_add(i) &lt;&lt; endl;\n    return 0;\n}\n// \u5f53\u5b83\u7b2c\u4e00\u6b21\u88ab\u8c03\u7528\u65f6\u8fd4\u56de0\uff0c\u4ee5\u540e\u6bcf\u6b21\u88ab\u8c03\u7528\u8fd4\u56de\u503c\u52a01\nint generate()\n{\n    static int ctr = 0;\n    return ctr++;\n}\n</code></pre>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_2","title":"\u5b9e\u53c2\u4e0e\u5f62\u53c2","text":"<p>\u5b9e\u53c2\uff1a\u5728\u8c03\u7528\u51fd\u6570\u65f6\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u3002</p> <p>\u5f62\u53c2\uff1a\u51fd\u6570\u5b9a\u4e49\u4e2d\u7528\u4e8e\u63a5\u6536\u5b9e\u53c2\u7684\u53d8\u91cf\u3002</p> <ul> <li>\u5f62\u53c2\u521d\u59cb\u5316\u548c\u53d8\u91cf\u521d\u59cb\u5316\u7684\u89c4\u5219\u4e00\u6837\u3002</li> </ul>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_3","title":"\u53c2\u6570\u4f20\u9012","text":""},{"location":"cpp/%E5%87%BD%E6%95%B0/#_4","title":"\u503c\u4f20\u9012","text":"<p>\u5c06\u53c2\u6570\u7684\u526f\u672c\u4f20\u9012\u7ed9\u51fd\u6570\u3002\u5728\u51fd\u6570\u5185\u90e8\u5bf9\u53c2\u6570\u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u7684\u503c\u3002</p>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_5","title":"\u5f15\u7528\u4f20\u9012","text":"<p>\u901a\u8fc7\u5f15\u7528\u4f20\u9012\u53c2\u6570\uff0c\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5e76\u4fee\u6539\u539f\u59cb\u7684\u503c\u3002</p>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_6","title":"\u5e38\u91cf\u5f15\u7528\u4f20\u9012","text":"<p>\u901a\u8fc7\u5e38\u91cf\u5f15\u7528\u5c06\u5b9e\u53c2\u7684\u5730\u5740\u4f20\u9012\u7ed9\u5f62\u53c2\uff0c\u51fd\u6570\u5185\u90e8\u5bf9\u5f62\u53c2\u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u5b9e\u53c2\u7684\u503c\u3002</p>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_7","title":"\u6307\u9488\u4f20\u9012","text":"<p>\u901a\u8fc7\u6307\u9488\u5c06\u5b9e\u53c2\u7684\u5730\u5740\u4f20\u9012\u7ed9\u5f62\u53c2\uff0c\u51fd\u6570\u5185\u90e8\u901a\u8fc7\u6307\u9488\u95f4\u63a5\u4fee\u6539\u5b9e\u53c2\u7684\u503c\uff08\u5e38\u7528\u5728C\u4e2d\uff0c<code>C++</code>\u5efa\u8bae\u4f7f\u7528\u5f15\u7528\u7c7b\u578b\u7684\u5f62\u53c2\u4ee3\u66ff\u6307\u9488\uff09\u3002</p>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_8","title":"\u6570\u7ec4\u4f20\u9012","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u6307\u9488\u3001\u5f15\u7528\u6216\u8005\u5e38\u91cf\u5f15\u7528\u4f20\u9012\u6570\u7ec4\uff0c\u4e0e\u6307\u9488\u4f20\u9012\u7c7b\u4f3c\u3002</p> <p>\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u5230\u51fd\u6570\u4e2d\u540e\uff0c\u6570\u7ec4\u4f1a\u9000\u5316\u6210\u4e00\u4e2a\u6307\u9488\uff0c\u6570\u7ec4\u5f15\u7528\u53ef\u4ee5\u907f\u514d\u6570\u7ec4\u9000\u5316\u6210\u6307\u9488\u3002</p> <pre><code>// \u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u6574\u578b\u6570\u7ec4\u7684\u5f15\u7528\nvoid modifyArray(int (&amp;arr)[5]) {\n    for (int i = 0; i &lt; 5; i++) {\n        arr[i] *= 2; // \u5c06\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u4e58\u4ee52\n    }\n}\n\n// \u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u5e38\u91cf\u6574\u578b\u6570\u7ec4\u7684\u5f15\u7528\nvoid printArray(const int (&amp;arr)[5]) {\n    for (int i = 0; i &lt; 5; i++) {\n        std::cout &lt;&lt; arr[i] &lt;&lt; \" \"; // \u8f93\u51fa\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\n    }\n    std::cout &lt;&lt; std::endl;\n}\n</code></pre>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_9","title":"\u51fd\u6570\u4f20\u9012","text":"<p>\u53ef\u4ee5\u5c06\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u53e6\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u79cd\u65b9\u5f0f\u901a\u5e38\u7528\u4e8e\u56de\u8c03\u51fd\u6570\u548c\u51fd\u6570\u6307\u9488\u7684\u5e94\u7528\u3002</p>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_10","title":"\u53ef\u53d8\u5f62\u53c2","text":"<p><code>initializer_list</code>\u63d0\u4f9b\u7684\u64cd\u4f5c\uff08<code>C++11</code>\uff09\uff1a</p> \u64cd\u4f5c \u89e3\u91ca initializer_list lst; \u9ed8\u8ba4\u521d\u59cb\u5316\uff1bT\u7c7b\u578b\u5143\u7d20\u7684\u7a7a\u5217\u8868 initializer_list lst{a,b,c...}; lst\u7684\u5143\u7d20\u6570\u91cf\u548c\u521d\u59cb\u503c\u4e00\u6837\u591a\uff1blst\u7684\u5143\u7d20\u662f\u5bf9\u5e94\u521d\u59cb\u503c\u7684\u526f\u672c\uff1b\u5217\u8868\u4e2d\u7684\u5143\u7d20\u662fconst\u3002 lst2(lst) \u62f7\u8d1d\u6216\u8d4b\u503c\u4e00\u4e2ainitializer_list\u5bf9\u8c61\u4e0d\u4f1a\u62f7\u8d1d\u5217\u8868\u4e2d\u7684\u5143\u7d20\uff1b\u62f7\u8d1d\u540e\uff0c\u539f\u59cb\u5217\u8868\u548c\u526f\u672c\u5171\u4eab\u5143\u7d20\u3002 lst2 = lst \u540c\u4e0a lst.size() \u5217\u8868\u4e2d\u7684\u5143\u7d20\u6570\u91cf lst.begin() \u8fd4\u56de\u6307\u5411lst\u4e2d\u9996\u5143\u7d20\u7684\u6307\u9488 lst.end() \u8fd4\u56de\u6307\u5411lst\u4e2d\u5fae\u5143\u7d20\u4e0b\u4e00\u4f4d\u7f6e\u7684\u6307\u9488 <p><code>initializer_list</code>\u4f7f\u7528demo\uff1a</p> <pre><code>void err_msg(ErrCode e, initializer_list&lt;string&gt; il){\n    cout &lt;&lt; e.msg &lt;&lt; endl;\n    for (auto bed = il.begin(); beg != il.end(); ++ beg)\n        cout &lt;&lt; *beg &lt;&lt; \" \";\n    cout &lt;&lt; endl;\n}\nerr_msg(ErrCode(0), {\"functionX\", \"okay});\n</code></pre> <ul> <li> <p>\u6240\u6709\u5b9e\u53c2\u7c7b\u578b\u76f8\u540c\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>initializer_list</code>\u7684\u6807\u51c6\u5e93\u7c7b\u578b\u3002</p> </li> <li> <p>\u5b9e\u53c2\u7c7b\u578b\u4e0d\u540c\uff0c\u53ef\u4ee5\u4f7f\u7528<code>\u53ef\u53d8\u53c2\u6570\u6a21\u677f</code>\u3002</p> </li> <li> <p>\u7701\u7565\u5f62\u53c2\u7b26\uff1a <code>...</code>\uff0c\u4fbf\u4e8e<code>C++</code>\u8bbf\u95ee\u67d0\u4e9bC\u4ee3\u7801\uff0c\u8fd9\u4e9bC\u4ee3\u7801\u4f7f\u7528\u4e86 <code>varargs</code>\u7684C\u6807\u51c6\u529f\u80fd\u3002</p> </li> </ul>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_11","title":"\u8fd4\u56de\u7c7b\u578b","text":"<ul> <li> <p><code>return</code>\u8bed\u53e5\u7684\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u548c\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u76f8\u540c\uff0c\u6216\u8005\u80fd\u591f\u9690\u5f0f\u5730\u8f6c\u6362\u6210\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u3002</p> </li> <li> <p>\u503c\u7684\u8fd4\u56de\uff1a\u8fd4\u56de\u7684\u503c\u7528\u4e8e\u521d\u59cb\u5316\u8c03\u7528\u70b9\u7684\u4e00\u4e2a\u4e34\u65f6\u91cf\uff0c\u8be5\u4e34\u65f6\u91cf\u5c31\u662f\u51fd\u6570\u8c03\u7528\u7684\u7ed3\u679c\u3002</p> </li> <li> <p>\u4e0d\u8981\u8fd4\u56de\u5c40\u90e8\u5bf9\u8c61\u7684\u5f15\u7528\u6216\u6307\u9488\u3002</p> </li> <li> <p>\u5f15\u7528\u8fd4\u56de\u5de6\u503c\uff1a\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u51b3\u5b9a\u51fd\u6570\u8c03\u7528\u662f\u5426\u662f\u5de6\u503c\u3002\u8c03\u7528\u4e00\u4e2a\u8fd4\u56de\u5f15\u7528\u7684\u51fd\u6570\u5f97\u5230\u5de6\u503c\uff1b\u5176\u4ed6\u8fd4\u56de\u7c7b\u578b\u5f97\u5230\u53f3\u503c\u3002</p> </li> <li> <p>\u5217\u8868\u521d\u59cb\u5316\u8fd4\u56de\u503c\uff1a\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u82b1\u62ec\u53f7\u5305\u56f4\u7684\u503c\u7684\u5217\u8868\u3002\uff08<code>C++11</code>\uff09</p> </li> <li> <p>\u4e3b\u51fd\u6570main\u7684\u8fd4\u56de\u503c\uff1a\u5982\u679c\u7ed3\u5c3e\u6ca1\u6709<code>return</code>\uff0c\u7f16\u8bd1\u5668\u5c06\u9690\u5f0f\u5730\u63d2\u5165\u4e00\u6761\u8fd4\u56de0\u7684<code>return</code>\u8bed\u53e5\u3002\u8fd4\u56de0\u4ee3\u8868\u6267\u884c\u6210\u529f\u3002</p> </li> </ul>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_12","title":"\u8fd4\u56de\u6570\u7ec4\u6307\u9488","text":"<ul> <li> <p><code>Type (*function (parameter_list))[dimension]</code></p> </li> <li> <p>\u4f7f\u7528\u7c7b\u578b\u522b\u540d\uff1a <code>typedef int arrT[10];</code> \u6216\u8005 <code>using arrT = int[10;]</code>\uff0c\u7136\u540e <code>arrT* func() {...}</code></p> </li> <li> <p>\u4f7f\u7528 <code>decltype</code>\uff1a <code>decltype(odd) *arrPtr(int i) {...}</code></p> </li> <li> <p>\u5c3e\u7f6e\u8fd4\u56de\u7c7b\u578b\uff1a \u5728\u5f62\u53c2\u5217\u8868\u540e\u9762\u4ee5\u4e00\u4e2a<code>-&gt;</code>\u5f00\u59cb\uff1a<code>auto func(int i) -&gt; int(*)[10]</code>\uff08<code>C++11</code>\uff09</p> </li> </ul>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_13","title":"\u51fd\u6570\u91cd\u8f7d","text":"<ul> <li> <p>\u91cd\u8f7d\uff1a\u5982\u679c\u540c\u4e00\u4f5c\u7528\u57df\u5185\u51e0\u4e2a\u51fd\u6570\u540d\u5b57\u76f8\u540c\u4f46\u5f62\u53c2\u5217\u8868\u4e0d\u540c\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u91cd\u8f7d\uff08overload\uff09\u51fd\u6570\u3002</p> </li> <li> <p><code>main</code>\u51fd\u6570\u4e0d\u80fd\u91cd\u8f7d\u3002</p> </li> <li> <p>\u91cd\u8f7d\u548cconst\u5f62\u53c2\uff1a</p> <ul> <li> <p>\u4e00\u4e2a\u6709\u9876\u5c42const\u7684\u5f62\u53c2\u548c\u6ca1\u6709\u5b83\u7684\u51fd\u6570\u65e0\u6cd5\u533a\u5206\u3002 <code>Record lookup(Phone* const)</code>\u548c <code>Record lookup(Phone*)</code>\u65e0\u6cd5\u533a\u5206\u3002</p> </li> <li> <p>\u76f8\u53cd\uff0c\u662f\u5426\u6709\u67d0\u4e2a\u5e95\u5c42const\u5f62\u53c2\u53ef\u4ee5\u533a\u5206\u3002 <code>Record lookup(Account*)</code>\u548c <code>Record lookup(const Account*)</code>\u53ef\u4ee5\u533a\u5206\u3002</p> </li> </ul> </li> <li> <p>\u91cd\u8f7d\u548c\u4f5c\u7528\u57df\uff1a\u82e5\u5728\u5185\u5c42\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u540d\u5b57\uff0c\u5b83\u5c06\u9690\u85cf\u5916\u5c42\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u540c\u540d\u5b9e\u4f53\uff0c\u5728\u4e0d\u540c\u7684\u4f5c\u7528\u57df\u4e2d\u65e0\u6cd5\u91cd\u8f7d\u51fd\u6570\u540d\u3002</p> </li> </ul>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_14","title":"\u7279\u6b8a\u7528\u9014\u8bed\u8a00\u7279\u6027","text":""},{"location":"cpp/%E5%87%BD%E6%95%B0/#_15","title":"\u9ed8\u8ba4\u5b9e\u53c2","text":"<ul> <li> <p><code>string screen(sz ht = 24, sz wid = 80, char backgrnd = ' ');</code></p> </li> <li> <p>\u4e00\u65e6\u67d0\u4e2a\u5f62\u53c2\u88ab\u8d4b\u4e88\u4e86\u9ed8\u8ba4\u503c\uff0c\u90a3\u4e48\u5b83\u4e4b\u540e\u7684\u5f62\u53c2\u90fd\u5fc5\u987b\u8981\u6709\u9ed8\u8ba4\u503c\u3002</p> </li> </ul>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_16","title":"\u8c03\u8bd5\u5e2e\u52a9","text":"<ul> <li><code>assert</code>\u9884\u5904\u7406\u5b8f\uff08preprocessor macro\uff09\uff1a<code>assert(expr);</code></li> </ul> <p>\u5f00\u5173\u8c03\u8bd5\u72b6\u6001\uff1a</p> <p><code>CC -D NDEBUG main.c</code>\u53ef\u4ee5\u5b9a\u4e49\u8fd9\u4e2a\u53d8\u91cf<code>NDEBUG</code>\u3002</p> <pre><code>void print(){\n    #ifndef NDEBUG\n        cerr &lt;&lt; \nfunc\n &lt;&lt; \"...\" &lt;&lt; endl;\n    #endif\n}\n</code></pre>"},{"location":"cpp/%E5%87%BD%E6%95%B0/#_17","title":"\u51fd\u6570\u6307\u9488","text":"<ul> <li> <p>\u51fd\u6570\u6307\u9488\uff1a\u662f\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\u3002</p> </li> <li> <p><code>bool (*pf)(const string &amp;, const string &amp;);</code> \u6ce8\uff1a\u4e24\u7aef\u7684\u62ec\u53f7\u4e0d\u53ef\u5c11\u3002</p> </li> <li> <p>\u51fd\u6570\u6307\u9488\u5f62\u53c2\uff1a</p> <ul> <li> <p>\u5f62\u53c2\u4e2d\u4f7f\u7528\u51fd\u6570\u5b9a\u4e49\u6216\u8005\u51fd\u6570\u6307\u9488\u5b9a\u4e49\u6548\u679c\u4e00\u6837\u3002</p> </li> <li> <p>\u4f7f\u7528\u7c7b\u578b\u522b\u540d\u6216\u8005<code>decltype</code>\u3002</p> </li> </ul> </li> <li> <p>\u8fd4\u56de\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\uff1a1.\u7c7b\u578b\u522b\u540d\uff1b2.\u5c3e\u7f6e\u8fd4\u56de\u7c7b\u578b\u3002</p> </li> </ul> <p>\u7f16\u5199\u4e00\u4e2a\u540d\u4e3aChapter6.h \u7684\u5934\u6587\u4ef6\uff0c\u4ee4\u5176\u5305\u542b6.1\u8282\u7ec3\u4e60\u4e2d\u7684\u51fd\u6570\u58f0\u660e\u3002</p> <pre><code>int fact(int val);\nint func();\ntemplate &lt;typename T&gt; //\u53c2\u8003\uff1ahttps://blog.csdn.net/fightingforcv/article/details/51472586\nT abs(T i)\n{\n    return i &gt;= 0 ? i : -i;\n}\n</code></pre> <p>\u4f7f\u7528\u6307\u9488\u548c\u5f15\u7528\u4ea4\u6362\u6570\u503c</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nvoid swap_point(int* lhs, int* rhs)\n{\n        int tmp;\n        tmp = *lhs;\n        *lhs = *rhs;\n        *rhs = tmp;\n}\nvoid swap_ref(int&amp; lhs, int&amp; rhs)\n{\n    int temp = lhs;\n    lhs = rhs;\n    rhs = temp;\n}\nint main()\n{\n    for (int left, right; std::cout &lt;&lt; \"Please Enter:\\n\", std::cin &gt;&gt; left &gt;&gt; right; )\n    {\n        swap_point(&amp;lft, &amp;rht);\n        swap_ref(left, right);\n        std::cout &lt;&lt; left &lt;&lt; \" \" &lt;&lt; right &lt;&lt; std::endl;\n    }\n    return 0;\n}\n</code></pre> <p>\u8bf4\u660efind_char\u51fd\u6570\u4e2d\u7684\u4e09\u4e2a\u5f62\u53c2\u4e3a\u4ec0\u4e48\u662f\u73b0\u5728\u7684\u7c7b\u578b\uff0c\u7279\u522b\u8bf4\u660e\u4e3a\u4ec0\u4e48s\u662f\u5e38\u91cf\u5f15\u7528\u800coccurs\u662f\u666e\u901a\u5f15\u7528\uff1f \u4e3a\u4ec0\u4e48s\u548coccurs\u662f\u5f15\u7528\u7c7b\u578b\u800cc\u4e0d\u662f\uff1f \u5982\u679c\u4ee4s\u662f\u666e\u901a\u5f15\u7528\u4f1a\u53d1\u751f\u4ec0\u4e48\u60c5\u51b5\uff1f \u5982\u679c\u4ee4occurs\u662f\u5e38\u91cf\u5f15\u7528\u4f1a\u53d1\u751f\u4ec0\u4e48\u60c5\u51b5\uff1f</p> <p>\u89e3\uff1a</p> <ul> <li> <p>\u56e0\u4e3a\u5b57\u7b26\u4e32\u53ef\u80fd\u5f88\u957f\uff0c\u56e0\u6b64\u4f7f\u7528\u5f15\u7528\u907f\u514d\u62f7\u8d1d\uff1b</p> </li> <li> <p>\u800c\u5728\u51fd\u6570\u4e2d\u6211\u4eec\u4e0d\u5e0c\u671b\u6539\u53d8s\u7684\u5185\u5bb9\uff0c\u6240\u4ee5\u4ee4s\u4e3a\u5e38\u91cf\u3002</p> </li> <li> <p>occurs\u662f\u8981\u4f20\u5230\u51fd\u6570\u5916\u90e8\u7684\u53d8\u91cf\uff0c\u6240\u4ee5\u4f7f\u7528\u5f15\u7528\uff0coccurs\u7684\u503c\u4f1a\u6539\u53d8\uff0c\u6240\u4ee5\u662f\u666e\u901a\u5f15\u7528\u3002</p> </li> <li> <p>\u56e0\u4e3a\u6211\u4eec\u53ea\u9700\u8981c\u7684\u503c\uff0c\u8fd9\u4e2a\u5b9e\u53c2\u53ef\u80fd\u662f\u53f3\u503c(\u53f3\u503c\u5b9e\u53c2\u65e0\u6cd5\u7528\u4e8e\u5f15\u7528\u5f62\u53c2)\uff0c\u6240\u4ee5c\u4e0d\u80fd\u7528\u5f15\u7528\u7c7b\u578b\u3002</p> </li> <li> <p>\u5982\u679cs\u662f\u666e\u901a\u5f15\u7528\uff0c\u4e5f\u53ef\u80fd\u4f1a\u610f\u5916\u6539\u53d8\u539f\u6765\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\u3002</p> </li> <li> <p>occurs\u5982\u679c\u662f\u5e38\u91cf\u5f15\u7528\uff0c\u90a3\u4e48\u610f\u5473\u7740\u4e0d\u80fd\u6539\u53d8\u5b83\u7684\u503c\uff0c\u90a3\u4e5f\u5c31\u5931\u53bb\u610f\u4e49\u4e86\u3002</p> </li> </ul>"},{"location":"cpp/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","title":"\u57fa\u7840\u77e5\u8bc6","text":"<p>\u6574\u578b</p> \u7c7b\u578b \u542b\u4e49 \u6700\u5c0f\u5c3a\u5bf8 short \u77ed\u6574\u578b 16bits\uff0c\u901a\u5e38\u4e3a\u534a\u4e2a int \u7684\u5927\u5c0f\u3002 int \u6574\u578b 16bits (\u572832\u4f4d\u673a\u5668\u4e2d\u662f32bits) long \u957f\u6574\u578b 32bits\uff0c\u901a\u5e38\u4e3a\u4e24\u4e2a int \u7684\u5927\u5c0f\u3002 long long \u957f\u6574\u578b 32bits\uff0c\u8868\u793a\u66f4\u957f\u7684\u6574\u6570\uff0c\u901a\u5e38\u4e3a\u4e24\u4e2a long \u7684\u5927\u5c0f\u3002\uff08\u662f\u5728C++11\u4e2d\u65b0\u5b9a\u4e49\u7684\uff09 <p>\u6d6e\u70b9\u578b</p> \u7c7b\u578b \u542b\u4e49 \u6700\u5c0f\u5c3a\u5bf8 float \u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570 \u901a\u5e38\u4e3a4\u5b57\u8282\uff0c7 \u4f4d\u6709\u6548\u6570\u5b57 double \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 \u901a\u5e38\u4e3a8\u5b57\u8282\uff0c10\u4f4d\u6709\u6548\u6570\u5b57 long double \u6269\u5c55\u7cbe\u5ea6\u6d6e\u70b9\u6570 16 \u5b57\u8282\u6216 32 \u5b57\u8282\uff0c 10\u4f4d\u6709\u6548\u6570\u5b57 <p>\u5b57\u7b26\u578b</p> \u7c7b\u578b \u542b\u4e49 \u6700\u5c0f\u5c3a\u5bf8 char \u5b57\u7b26 8bits\uff0c\u8868\u793a\u5355\u4e2a\u5b57\u7b26\uff0c\u5b58\u653e\u673a\u5668\u57fa\u672c\u5b57\u7b26\u96c6\u4e2d\u7684\u5b57\u7b26\u5bf9\u5e94\u7684\u6570\u5b57\u503c\uff0c\u4e00\u4e2a char \u7684\u5927\u5c0f\u548c\u4e00\u4e2a\u673a\u5668\u5b57\u8282\u4e00\u6837\u3002 wchar_t \u5bbd\u5b57\u7b26 16bits\uff0c\u8868\u793a\u5bbd\u5b57\u7b26\uff0c\u7528\u4e8e\u652f\u6301\u66f4\u591a\u7684\u5b57\u7b26\u7f16\u7801\u3002 char16_t Unicode\u5b57\u7b26 16bits\uff0c\u7528\u4e8e\u652f\u6301 Unicode \u5b57\u7b26\u3002 char32_t Unicode\u5b57\u7b26 32bits\uff0c\u7528\u4e8e\u652f\u6301 Unicode \u5b57\u7b26\u3002 <p>\u5e03\u5c14\u578b</p> \u7c7b\u578b \u542b\u4e49 \u6700\u5c0f\u5c3a\u5bf8 bool \u5e03\u5c14\u7c7b\u578b \u672a\u5b9a\u4e49\uff0c\u901a\u5e38\u5360\u75281\u4e2a\u5b57\u8282\uff0c\u53ef\u7528sizeof\u8ba1\u7b97\uff0c\u4ec5\u7528\u6700\u4f4e\u4f4d 00000001 \u8868\u793a\u3002 <p>\u65e0\u7b26\u53f7\u7c7b\u578b</p> <ul> <li>\u9664\u4e86 \u5e03\u5c14\u7c7b\u578b \u548c \u6269\u5c55\u5b57\u7b26\u578b\u5916\uff0c\u5176\u4ed6 \u6574\u6570\u7c7b\u578b \u53ef\u5206\u4e3a signed \u548cunsigned\u3002</li> <li>\u7c7b\u578b <code>int</code>\u3001<code>short</code>\u3001<code>long</code> \u548c <code>long long</code> \u9ed8\u8ba4\u90fd\u662f\u5e26\u7b26\u53f7\u7684\uff0c\u901a\u8fc7\u5728\u7c7b\u578b\u540d\u524d\u9762\u52a0\u4e0a <code>unsigned</code> \u53ef\u4ee5\u5f97\u5230\u65e0\u7b26\u53f7\u7684\u3002</li> <li>\u5b57\u7b26\u578b\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd <code>char</code>\u3001<code>signed char</code>\u548c <code>unsigned char</code>\uff0c\u7279\u522b\u8981\u6ce8\u610f <code>char</code> \u548c <code>signed char</code> \u5e76\u4e0d\u4e00\u6837\uff0c\u5c3d\u7ba1\u5b57\u7b26\u578b\u6709\u4e09\u79cd\uff0c\u4f46\u5b9e\u9645\u7684\u8868\u73b0\u5f62\u5f0f\u53ea\u6709\u4e24\u79cd\uff1a<code>signed char</code> \u548c <code>unsigned char</code>\uff0c\u7c7b\u578b <code>char</code>\u6839\u636e\u7f16\u8bd1\u5668\u4e0d\u540c\u4f1a\u8868\u73b0\u4e3a\u4e0a\u9762\u4e24\u79cd\u4e4b\u4e00\u3002</li> </ul> <p>\u5982\u4f55\u9009\u62e9\u6b63\u786e\u7684\u7c7b\u578b</p> <ul> <li> <p>\u5f53\u660e\u786e\u77e5\u6653\u6570\u503c\u4e0d\u53ef\u80fd\u662f\u8d1f\u6570\u65f6\uff0c\u9009\u7528\u65e0\u7b26\u53f7\u7c7b\u578b\u3002</p> </li> <li> <p>\u4f7f\u7528<code>int</code>\u6267\u884c\u6574\u6570\u8fd0\u7b97\u3002\u4e00\u822c<code>long</code>\u7684\u5927\u5c0f\u548c<code>int</code>\u4e00\u6837\uff0c\u800c<code>short</code>\u5e38\u5e38\u663e\u5f97\u592a\u5c0f\u3002\u5982\u679c\u8d85\u8fc7\u4e86<code>int</code>\u7684\u8303\u56f4\uff0c\u9009\u62e9<code>long long</code>\u3002</p> </li> <li> <p>\u7b97\u672f\u8868\u8fbe\u5f0f\u4e2d\u4e0d\u8981\u4f7f\u7528<code>char</code>\u6216<code>bool</code>\uff0c\u53ea\u6709\u5728\u5b58\u653e\u5b57\u7b26\u6216\u5e03\u5c14\u503c\u65f6\u624d\u4f7f\u7528\u5b83\u4eec\u3002\u56e0\u4e3a\u7c7b\u578b<code>char</code>\u5728\u4e00\u4e9b\u673a\u5668\u4e0a\u662f\u6709\u7b26\u53f7\u7684\uff0c\u800c\u5728\u53e6\u4e00\u4e9b\u673a\u5668\u4e0a\u53c8\u662f\u65e0\u7b26\u53f7\u7684\uff0c\u6240\u4ee5\u5982\u679c\u4f7f\u7528<code>char</code>\u8fdb\u884c\u8fd0\u7b97\u7279\u522b\u5bb9\u6613\u51fa\u95ee\u9898\u3002\u5982\u679c\u4f60\u9700\u8981\u4f7f\u7528\u4e00\u4e2a\u4e0d\u5927\u7684\u6574\u6570\uff0c\u90a3\u4e48\u660e\u786e\u6307\u5b9a\u5b83\u7684\u7c7b\u578b\u662f <code>signed char</code> \u6216\u8005 <code>unsigned char</code>\u3002</p> </li> <li> <p>\u6267\u884c\u6d6e\u70b9\u6570\u8fd0\u7b97\u9009\u7528 <code>double</code>\uff0c\u56e0\u4e3a <code>float</code> \u901a\u5e38\u7cbe\u5ea6\u4e0d\u591f\u800c\u4e14\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u548c\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u7684\u8ba1\u7b97\u4ee3\u4ef7\u76f8\u5dee\u65e0\u51e0\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5bf9\u4e8e\u67d0\u4e9b\u673a\u5668\u6765\u8bf4\uff0c\u53cc\u7cbe\u5ea6\u8fd0\u7b97\u751a\u81f3\u6bd4\u5355\u7cbe\u5ea6\u8fd8\u5feb\u3002<code>long double</code>\u63d0\u4f9b\u7684\u7cbe\u5ea6\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\u662f\u6ca1\u6709\u5fc5\u8981\u7684\uff0c\u51b5\u4e14\u5b83\u5e26\u6765\u7684\u8fd0\u884c\u65f6\u6d88\u8017\u4e5f\u4e0d\u5bb9\u5ffd\u89c6\u3002</p> </li> </ul> <p>\u7c7b\u578b\u8f6c\u6362</p> <p>\u7c7b\u578b\u6240\u80fd\u8868\u793a\u7684\u503c\u7684\u8303\u56f4\u51b3\u5b9a\u4e86\u8f6c\u6362\u7684\u8fc7\u7a0b\uff1a  </p> <ul> <li> <p>\u975e\u5e03\u5c14\u7c7b\u578b\u7684\u7b97\u672f\u503c\u8d4b\u7ed9\u5e03\u5c14\u7c7b\u578b\u65f6\uff0c\u521d\u59cb\u503c\u4e3a 0 \u5219\u7ed3\u679c\u4e3a false\uff0c\u5426\u5219\u7ed3\u679c\u4e3a true\uff1b</p> </li> <li> <p>\u5e03\u5c14\u503c\u8d4b\u7ed9\u975e\u5e03\u5c14\u7c7b\u578b\u65f6\uff0c\u521d\u59cb\u503c\u4e3a false \u5219\u7ed3\u679c\u4e3a 0\uff0c\u521d\u59cb\u503c\u4e3atrue\u5219\u7ed3\u679c\u4e3a1\u3002</p> </li> <li> <p>\u6d6e\u70b9\u6570\u8d4b\u7ed9\u6574\u6570\u7c7b\u578b\u65f6\uff0c\u8fdb\u884c\u4e86\u8fd1\u4f3c\u5904\u7406\u3002\u7ed3\u679c\u503c\u5c06\u4ec5\u4fdd\u7559\u6d6e\u70b9\u6570\u4e2d\u5c0f\u6570\u70b9\u4e4b\u524d\u7684\u90e8\u5206\uff1b</p> </li> <li> <p>\u6574\u6570\u503c\u8d4b\u7ed9\u6d6e\u70b9\u7c7b\u578b\u65f6\uff0c\u5c0f\u6570\u90e8\u5206\u8bb0\u4e3a0\u3002\u5982\u679c\u8be5\u6574\u6570\u6240\u5360\u7684\u7a7a\u95f4\u8d85\u8fc7\u4e86\u6d6e\u70b9\u7c7b\u578b\u7684\u5bb9\u91cf\uff0c\u7cbe\u5ea6\u53ef\u80fd\u6709\u635f\u5931\u3002</p> </li> <li> <p>\u5f53\u6211\u4eec\u8d4b\u7ed9\u65e0\u7b26\u53f7\u7c7b\u578b\u4e00\u4e2a\u8d85\u51fa\u5b83\u8868\u793a\u8303\u56f4\u7684\u503c\u65f6\uff0c\u7ed3\u679c\u662f\u521d\u59cb\u503c\u5bf9\u65e0\u7b26\u53f7\u7c7b\u578b\u8868\u793a\u6570\u503c\u603b\u6570\u53d6\u6a21\u540e\u7684\u4f59\u6570\u3002\u4f8b\u5982\uff0c8\u6bd4\u7279\u5927\u5c0f\u7684 unsigned char \u53ef\u4ee5\u8868\u793a 0 \u81f3 255 \u533a\u95f4\u5185\u7684\u503c\uff0c\u5982\u679c\u6211\u4eec\u8d4b\u4e86\u4e00\u4e2a\u533a\u95f4\u4ee5\u5916\u7684\u503c\uff0c\u5219\u5b9e\u9645\u7684\u7ed3\u679c\u662f\u8be5\u503c\u5bf9 256 \u53d6\u6a21\u540e\u6240\u5f97\u7684\u4f59\u6570\u3002\u56e0\u6b64\uff0c\u628a -1 \u8d4b\u7ed9 8 \u6bd4\u7279\u5927\u5c0f\u7684 unsigned char \u6240\u5f97\u7684\u7ed3\u679c\u662f255\u3002</p> </li> <li> <p>\u5f53\u6211\u4eec\u8d4b\u7ed9\u5e26\u7b26\u53f7\u7c7b\u578b\u4e00\u4e2a\u8d85\u51fa\u5b83\u8868\u793a\u8303\u56f4\u7684\u503c\u65f6\uff0c\u7ed3\u679c\u662f\u672a\u5b9a\u4e49\u7684\uff08undefined)\u3002\u6b64\u65f6\uff0c\u7a0b\u5e8f\u53ef\u80fd\u7ee7\u7eed\u5de5\u4f5c\uff0c\u53ef\u80fd\u5d29\u6e83\uff0c\u4e5f\u53ef\u80fd\u751f\u6210\u5783\u573e\u6570\u636e\u3002</p> </li> <li> <p>\u5f53\u4e00\u4e2a\u7b97\u672f\u8868\u8fbe\u5f0f\u4e2d\u65e2\u6709\u65e0\u7b26\u53f7\u6570\u53c8\u6709 int \u503c\u65f6\uff0c\u90a3\u4e2a int \u503c\u5c31\u4f1a\u8f6c\u6362\u6210\u65e0\u7b26\u53f7\u6570\u3002</p> </li> <li> <p>\u4e0d\u8981\u5c06\u5e26\u7b26\u53f7\u7c7b\u578b\u548c\u65e0\u7b26\u53f7\u7c7b\u578b\u6df7\u7528\u3002</p> </li> </ul> <p>\u503c\u7c7b\u578b\u4e0e\u5f15\u7528\u7c7b\u578b</p> <p>\u8fd9\u662f\u53e6\u5916\u4e00\u79cd\u7c7b\u578b\u7684\u5212\u5206\uff0c\u503c\u7c7b\u578b\u662f\u6307\u90a3\u4e9b\u5728\u8d4b\u503c\u6216\u4f20\u9012\u7ed9\u51fd\u6570\u65f6\uff0c\u5176\u503c\u4f1a\u88ab\u590d\u5236\u7684\u7c7b\u578b\u3002</p> <p>\u503c\u7c7b\u578b\u548c\u5f15\u7528\u7c7b\u578b\u7684\u533a\u522b\u4e3b\u8981\u5728\u4e8e\u8d4b\u503c\u548c\u4f20\u9012\u7ed9\u51fd\u6570\u65f6\u7684\u884c\u4e3a\uff1a</p> <ul> <li> <p>\u503c\u7c7b\u578b\u5728\u8d4b\u503c\u6216\u4f20\u9012\u7ed9\u51fd\u6570\u65f6\uff0c\u5176\u503c\u4f1a\u88ab\u590d\u5236\u3002</p> </li> <li> <p>\u5f15\u7528\u7c7b\u578b\u5728\u8d4b\u503c\u6216\u4f20\u9012\u7ed9\u51fd\u6570\u65f6\uff0c\u5176\u503c\u4e0d\u4f1a\u88ab\u590d\u5236\uff0c\u800c\u662f\u4f1a\u5c06\u5f15\u7528\u4f20\u9012\u7ed9\u76ee\u6807\u5bf9\u8c61\u3002</p> </li> </ul> <p>\u7b97\u672f\u8fd0\u7b97\u7b26</p> <p>\u52a0\u6cd5<code>+</code>  \u51cf\u6cd5<code>-</code>  \u4e58\u6cd5<code>*</code>  \u9664\u6cd5<code>/</code>  \u53d6\u4f59<code>**</code>  \u81ea\u589e<code>++</code>  \u81ea\u51cf<code>--</code></p> <p>\u903b\u8f91\u8fd0\u7b97\u7b26</p> <p>\u903b\u8f91\u4e0e<code>&amp;</code>  \u903b\u8f91\u6216<code>|</code>  \u903b\u8f91\u975e<code>!</code></p> <p>\u6bd4\u8f83\u8fd0\u7b97\u7b26</p> <p>\u7b49\u4e8e<code>==</code>  \u4e0d\u7b49\u4e8e<code>!=</code>  \u5c0f\u4e8e<code>&lt;</code>  \u5927\u4e8e<code>&gt;</code>  \u5c0f\u4e8e\u7b49\u4e8e<code>&lt;=</code>  \u5927\u4e8e\u7b49\u4e8e<code>&gt;=</code></p> <p>\u4f4d\u8fd0\u7b97\u7b26</p> <p>\u4e0e<code>&amp;</code>  \u6216<code>|</code>  \u5f02\u6216<code>^</code> \u975e<code>~</code>  \u5de6\u79fb<code>&lt;&lt;</code>  \u53f3\u79fb<code>&gt;&gt;</code></p> <p>\u6210\u5458\u8bbf\u95ee\u8fd0\u7b97\u7b26</p> <p>\u7bad\u5934<code>-&gt;</code>  \u70b9<code>.</code></p> <p>\u5176\u4ed6\u8fd0\u7b97\u7b26</p> <p>\u8d4b\u503c<code>=</code>  \u4e0b\u6807<code>[]</code>  \u51fd\u6570\u8c03\u7528<code>()</code> \u9017\u53f7<code>,</code>  \u65b0\u5efa<code>new</code>  \u5220\u9664<code>delete</code></p> <p>\u7c7b\u578b\u8f6c\u6362 <code>const_cast</code>, <code>dynamic_cast</code>, <code>reinterpret_cast</code>, <code>static_cast</code></p> <p>\u4e0d\u53ef\u91cd\u8f7d\u7684\u8fd0\u7b97\u7b26</p> <ul> <li> <p>\u957f\u5ea6\u8fd0\u7b97\u7b26<code>sizeof</code> \uff08\u5185\u90e8\u6709\u5f88\u591a\u6307\u9488\u4f9d\u8d56\uff09</p> </li> <li> <p>\u7c7b\u6210\u5458\u8bbf\u95ee\u8fd0\u7b97\u7b26<code>.</code></p> </li> <li> <p>\u7c7b\u6210\u5458\u6307\u9488\u8bbf\u95ee\u8fd0\u7b97\u7b26 <code>.*</code> <code>-&gt;*</code></p> </li> <li> <p>\u57df\u8fd0\u7b97\u7b26<code>::</code>\uff08\u8be5\u8fd0\u7b97\u7b26\u53ea\u662f\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u57df\u89e3\u6790\uff0c\u800c\u6ca1\u6709\u8fd0\u7b97\u7684\u53c2\u4e0e\u8fdb\u6765\uff09</p> </li> <li> <p>\u6761\u4ef6\u8fd0\u7b97\u7b26<code>?:</code></p> </li> </ul> <p>\u6807\u8bc6\u7b26</p> <p>\u6807\u8bc6\u7b26\u662f\u7528\u4e8e\u6807\u8bc6\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7c7b\u7b49\u7f16\u7a0b\u5143\u7d20\u7684\u540d\u79f0\u3002\u6807\u8bc6\u7b26\u5fc5\u987b\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u5f00\u5934\uff0c\u540e\u9762\u53ef\u4ee5\u8ddf\u4efb\u610f\u6570\u91cf\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u6216\u70b9\u53f7\u3002\u4f8b\u5982\uff1a</p> <ul> <li> <p><code>x</code>\uff1a\u4e00\u4e2a\u53d8\u91cf\u540d</p> </li> <li> <p><code>myFunction</code>\uff1a\u4e00\u4e2a\u51fd\u6570\u540d</p> </li> <li> <p><code>MyClass</code>\uff1a\u4e00\u4e2a\u7c7b\u540d</p> </li> </ul> <p>\u8fd0\u7b97\u7b26</p> <p>\u8fd0\u7b97\u7b26\u7528\u4e8e\u6267\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u4f8b\u5982\u52a0\u51cf\u4e58\u9664\u3001\u903b\u8f91\u8fd0\u7b97\u3001\u6bd4\u8f83\u8fd0\u7b97\u7b49\u3002</p> <p>\u64cd\u4f5c\u6570</p> <p>\u64cd\u4f5c\u6570\u662f\u8fd0\u7b97\u7b26\u4f5c\u7528\u7684\u5bf9\u8c61\u3002\u64cd\u4f5c\u6570\u53ef\u4ee5\u662f\u53d8\u91cf\u3001\u5e38\u91cf\u3001\u8868\u8fbe\u5f0f\u7b49\u3002\u4f8b\u5982\uff1a</p> <ul> <li> <p><code>x + y</code>\uff1a\u8868\u8fbe\u5f0f\u4e2d\uff0c<code>x</code> \u548c <code>y</code> \u662f\u64cd\u4f5c\u6570</p> </li> <li> <p><code>10 * 20</code>\uff1a\u8868\u8fbe\u5f0f\u4e2d\uff0c<code>10</code> \u548c <code>20</code> \u662f\u64cd\u4f5c\u6570</p> </li> </ul> <p>\u8868\u8fbe\u5f0f\uff08expression\uff09</p> <p>\u7528\u4e8e\u8ba1\u7b97\u503c, \u662f\u7531\u8fd0\u7b97\u7b26\u548c\u64cd\u4f5c\u6570\u7ec4\u6210\u7684\u4ee3\u7801\u7247\u6bb5. \u8868\u8fbe\u5f0f\u53ef\u4ee5\u5305\u542b\u53d8\u91cf\u3001\u5e38\u91cf\u3001\u51fd\u6570\u8c03\u7528\u548c\u5176\u4ed6\u8868\u8fbe\u5f0f\u3002\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7528\u4e8e\u8d4b\u503c\u3001\u6bd4\u8f83\u3001\u8ba1\u7b97\u7b49\u64cd\u4f5c\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f5c\u4e3a\u8bed\u53e5\u7684\u4e00\u90e8\u5206\u3002</p> <pre><code>1 + 2\n</code></pre> <p>\u8bed\u53e5\uff08statement\uff09</p> <p>\u7528\u4e8e\u6267\u884c\u64cd\u4f5c, \u8bed\u53e5\u662f\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\u7684\u5b8c\u6574\u6307\u4ee4,\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u8fbe\u5f0f\u3001\u63a7\u5236\u7ed3\u6784\u3001\u51fd\u6570\u8c03\u7528\u7b49\u3002\u8bed\u53e5\u4ee5\u5206\u53f7\uff08;\uff09\u7ed3\u5c3e\uff0c\u8868\u793a\u8bed\u53e5\u7684\u7ed3\u675f\u3002</p> <p>\u8bed\u53e5\u662f\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\u7684\u5b8c\u6574\u6307\u4ee4\u3002\u8bed\u53e5\u53ef\u4ee5\u5305\u542b\u8868\u8fbe\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5305\u542b\u8868\u8fbe\u5f0f\u3002\u4f8b\u5982\uff1a</p> <ul> <li> <p><code>x = 10;</code>\uff1a\u8d4b\u503c\u8bed\u53e5\uff0c\u5c06 10 \u8d4b\u7ed9\u53d8\u91cf <code>x</code></p> </li> <li> <p><code>std::cout &lt;&lt; \"Hello, world!\" &lt;&lt; std::endl;</code>\uff1a\u8f93\u51fa\u8bed\u53e5\uff0c\u5c06 \"Hello, world!\" \u8f93\u51fa\u5230\u63a7\u5236\u53f0</p> </li> </ul> <p>\u51fd\u6570</p> <p>\u51fd\u6570\u662f\u4e00\u7ec4\u7528\u4e8e\u6267\u884c\u7279\u5b9a\u4efb\u52a1\u7684\u4ee3\u7801\u5757\u3002\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002\u4f8b\u5982\uff1a</p> <p>C++</p> <pre><code>int sum(int a, int b) {return a + b;\n}\n\nint main() {int x = sum(1, 2);return 0;\n}\n</code></pre> <p>\u7c7b</p> <p>\u7c7b\u662f\u4e00\u79cd\u7528\u6237\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u53ef\u4ee5\u5305\u542b\u6570\u636e\u6210\u5458\u548c\u6210\u5458\u51fd\u6570\u3002\u7c7b\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\uff0c\u5bf9\u8c61\u662f\u7c7b\u7684\u5b9e\u4f8b\u3002</p> <p>\u58f0\u660e\uff08Declaration\uff09</p> <p>\u58f0\u660e\u662f\u6307\u544a\u8bc9\u7f16\u8bd1\u5668\u67d0\u4e2a\u7b26\u53f7\u7684\u7c7b\u578b\u548c\u540d\u79f0\uff0c\u4f46\u5e76 \u4e0d\u4f1a\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u58f0\u660e\u53ef\u4ee5\u51fa\u73b0\u5728\u5934\u6587\u4ef6\u4e2d\u6216\u8005\u51fd\u6570\u53c2\u6570\u5217\u8868\u4e2d\u3002\u4f8b\u5982\uff1a</p> <pre><code>extern int a; // \u58f0\u660e\u4e00\u4e2a\u540d\u4e3aa\u7684\u6574\u578b\u53d8\u91cf\nvoid func(int b); // \u58f0\u660e\u4e00\u4e2a\u540d\u4e3afunc\u7684\u51fd\u6570\uff0c\u53c2\u6570\u4e3a\u6574\u578b\u53d8\u91cfb\n</code></pre> <p>\u5b9a\u4e49\uff08Definition\uff09</p> <p>\u5b9a\u4e49\u662f\u6307\u544a\u8bc9\u7f16\u8bd1\u5668\u53d8\u91cf\u7684\u7c7b\u578b\u548c\u540d\u79f0\uff0c\u5e76\u4e3a\u5176\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u4e00\u4e2a\u53d8\u91cf\u6216\u5bf9\u8c61\u53ea\u80fd\u5728\u7a0b\u5e8f\u7684\u67d0\u4e2a\u5730\u65b9\u8fdb\u884c\u5b9a\u4e49\u4e00\u6b21\u3002</p> <pre><code>int a; // \u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3aa\u7684\u6574\u578b\u53d8\u91cf\nint b = 1; // \u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3ab\u7684\u6574\u578b\u53d8\u91cf\uff0c\u5e76\u521d\u59cb\u5316\u4e3a1\nvoid func(int b) { // \u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3afunc\u7684\u51fd\u6570\uff0c\u53c2\u6570\u4e3a\u6574\u578b\u53d8\u91cfb\n    // \u51fd\u6570\u4f53\n}\n</code></pre>"},{"location":"cpp/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#initialization","title":"\u521d\u59cb\u5316\uff08Initialization\uff09","text":"<p>\u521d\u59cb\u5316\u4e3a\u53d8\u91cf\u8d4b\u4e88\u521d\u59cb\u503c\u3002</p> <pre><code>int a = 1; // \u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3aa\u7684\u6574\u578b\u53d8\u91cf\uff0c\u5e76\u521d\u59cb\u5316\u4e3a1\nint arr[] = {1, 2, 3}; // \u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3aarr\u7684\u6570\u7ec4\uff0c\u5e76\u521d\u59cb\u5316\u4e3a{1, 2, 3}\n</code></pre> <p>\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u7684\u533a\u522b\u5728\u4e8e\uff1a</p> <ul> <li> <p>\u5b9a\u4e49\u662f\u5fc5\u987b\u7684\uff0c\u800c\u521d\u59cb\u5316\u662f\u53ef\u9009\u7684\u3002</p> </li> <li> <p>\u5b9a\u4e49\u4e3a\u53d8\u91cf\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff0c\u800c\u521d\u59cb\u5316\u4e3a\u53d8\u91cf\u8d4b\u4e88\u521d\u59cb\u503c\u3002</p> </li> </ul> <p>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u662f\u540c\u65f6\u8fdb\u884c\u7684\uff0c\u4f46\u662f\uff0c\u4e5f\u53ef\u4ee5\u5728\u5b9a\u4e49\u4e4b\u540e\u518d\u521d\u59cb\u5316\u53d8\u91cf\u3002</p> <pre><code>int x;\nx = 10;\n</code></pre> <p>\u95ee\u98981\uff1a<code>int a;</code> \u662f\u58f0\u660e\u8fd8\u662f\u5b9a\u4e49\uff1f</p> <p><code>int a;</code> \u65e2\u662f\u58f0\u660e\uff0c\u4e5f\u662f\u5b9a\u4e49\u3002\u56e0\u4e3a\u5b83\u544a\u8bc9\u4e86\u7f16\u8bd1\u5668 <code>a</code> \u662f\u4e00\u4e2a\u6574\u6570\u53d8\u91cf\uff0c\u5e76\u4e3a <code>a</code> \u5206\u914d\u4e86\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u5206\u914d\u4e86\u5185\u5b58\u7a7a\u95f4\u5c31\u662f\u5b9a\u4e49\uff0c\u6ca1\u6709\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u5c31\u662f\u58f0\u660e\u3002</p>"},{"location":"cpp/%E5%AD%97%E7%AC%A6%E4%B8%B2/","title":"\u5b57\u7b26\u4e32","text":"<pre><code>std::string str; // \u58f0\u660e\u4e00\u4e2a std::string \u5bf9\u8c61\nstd::string str = \"Hello, world!\"; // \u5b9a\u4e49\u4e00\u4e2a std::string \u5bf9\u8c61\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a \"Hello, world!\"\nstd::string str(\"Hello, world!\"); // \u521d\u59cb\u5316 std::string \u5bf9\u8c61\n</code></pre> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li> <p>C\u98ce\u683c\u5b57\u7b26\u4e32\u548c std::string \u7c7b\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u4e0d\u80fd\u76f8\u4e92\u8d4b\u503c\u3002</p> </li> <li> <p>\u5728\u4f7f\u7528 C\u98ce\u683c\u5b57\u7b26\u4e32\u65f6\uff0c\u9700\u8981\u786e\u4fdd\u5b57\u7b26\u4e32\u672b\u5c3e\u6709 null \u5b57\u7b26\u3002</p> </li> <li> <p>\u5728\u4f7f\u7528 std::string \u7c7b\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u6210\u5458\u51fd\u6570\u6765\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a</p> <ul> <li> <p><code>std::string::length()</code>\uff1a\u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6</p> </li> <li> <p><code>std::string::c_str()</code>\uff1a\u83b7\u53d6\u5b57\u7b26\u4e32\u7684 C\u98ce\u683c\u5b57\u7b26\u4e32</p> </li> <li> <p><code>std::string::find()</code>\uff1a\u67e5\u627e\u5b50\u5b57\u7b26\u4e32</p> </li> <li> <p><code>std::string::replace()</code>\uff1a\u66ff\u6362\u5b50\u5b57\u7b26\u4e32</p> </li> <li> <p><code>std::string::append()</code>\uff1a\u8ffd\u52a0\u5b57\u7b26\u4e32</p> </li> </ul> </li> </ul> <p><code>std::string str = \"\";</code> \u4e0e <code>std::string str(\"\");</code> \u4e24\u79cd\u65b9\u5f0f\u7684\u533a\u522b\uff1a</p> <p><code>std::string str = \"Hello, world!\";</code> \u4f7f\u7528\u4e86\u9690\u5f0f\u8f6c\u6362\uff0c\u5c06\u5b57\u9762\u91cf <code>\"Hello, world!\"</code> \u8f6c\u6362\u4e3a <code>std::string</code> \u7c7b\u578b\u3002</p> <p><code>std::string str(\"Hello, world!\");</code> \u4f7f\u7528\u4e86\u663e\u5f0f\u8f6c\u6362\uff0c\u4f7f\u7528 <code>std::string</code> \u7c7b\u7684\u6784\u9020\u51fd\u6570\u5c06\u5b57\u9762\u91cf <code>\"Hello, world!\"</code> \u8f6c\u6362\u4e3a <code>std::string</code> \u7c7b\u578b\u3002</p> <p>c++11\u4e4b\u540e\u7edf\u4e00\u5efa\u8bae\u4f7f\u7528\u5927\u62ec\u53f7\u663e\u5f0f\u521d\u59cb\u5316\uff0c\u5176\u4ed6\u7c7b\u578b\u521d\u59cb\u5316\u4e5f\u662f\u5982\u6b64\uff1a</p> <pre><code>std::string str{\"Hello, world!\"};\n</code></pre> <p>\u5b57\u7b26\u4e32\u4e0e\u6570\u503c\u578b\u4e92\u76f8\u8f6c\u6362\uff1a</p> <ol> <li> <p>\u4f7f\u7528\u6807\u51c6\u5e93\u51fd\u6570\u8fdb\u884c\u8f6c\u6362\uff1a</p> </li> <li> <p><code>std::stoi()</code>\uff1a\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6574\u6570</p> </li> <li> <p><code>std::stol()</code>\uff1a\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u957f\u6574\u6570</p> </li> <li> <p><code>std::stoull()</code>\uff1a\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u65e0\u7b26\u53f7\u957f\u6574\u6570</p> </li> <li> <p><code>std::stof()</code>\uff1a\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6d6e\u70b9\u6570</p> </li> <li> <p><code>std::stod()</code>\uff1a\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570</p> </li> <li> <p>\u4f7f\u7528<code>stringstream</code> \u7c7b\u8fdb\u884c\u8f6c\u6362\uff1a</p> </li> </ol> <pre><code>std::stringstream ss(\"123.45\");\ndouble num;\nss &gt;&gt; num;\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/","title":"\u5bb9\u5668","text":"<p>\u987a\u5e8f\u5bb9\u5668</p> <ul> <li> <p><code>vector</code>\uff1a\u52a8\u6001\u6570\u7ec4\uff0c\u652f\u6301\u5feb\u901f\u968f\u673a\u8bbf\u95ee\u3002</p> </li> <li> <p><code>deque</code>\uff1a\u53cc\u7aef\u961f\u5217\uff0c\u652f\u6301\u9ad8\u6548\u7684\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u3002</p> </li> <li> <p><code>list</code>\uff1a\u94fe\u8868\uff0c\u652f\u6301\u9ad8\u6548\u7684\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u3002</p> </li> </ul> <p>\u5173\u8054\u5bb9\u5668</p> <ul> <li> <p><code>set</code>\uff1a\u96c6\u5408\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\u5143\u7d20\uff0c\u652f\u6301\u5feb\u901f\u67e5\u627e\u548c\u63d2\u5165\u3002</p> </li> <li> <p><code>multiset</code>\uff1a\u591a\u91cd\u96c6\u5408\uff0c\u5141\u8bb8\u91cd\u590d\u5143\u7d20\uff0c\u652f\u6301\u5feb\u901f\u67e5\u627e\u548c\u63d2\u5165\u3002</p> </li> <li> <p><code>map</code>\uff1a\u6620\u5c04\uff0c\u5c06\u952e\u503c\u6620\u5c04\u5230\u503c\uff0c\u652f\u6301\u5feb\u901f\u67e5\u627e\u548c\u63d2\u5165\u3002</p> </li> <li> <p><code>multimap</code>\uff1a\u591a\u91cd\u6620\u5c04\uff0c\u5c06\u952e\u503c\u6620\u5c04\u5230\u503c\uff0c\u652f\u6301\u5feb\u901f\u67e5\u627e\u548c\u63d2\u5165\u3002</p> </li> </ul> <p>\u5176\u4ed6\u5bb9\u5668</p> <ul> <li> <p><code>string</code>\uff1a\u5b57\u7b26\u4e32\u7c7b\uff0c\u7528\u4e8e\u5b58\u50a8\u548c\u64cd\u4f5c\u5b57\u7b26\u4e32\u3002</p> </li> <li> <p><code>bitset</code>\uff1a\u4f4d\u96c6\u7c7b\uff0c\u7528\u4e8e\u5b58\u50a8\u548c\u64cd\u4f5c\u4f4d\u6570\u636e\u3002</p> </li> </ul> \u5bb9\u5668 \u5b58\u50a8\u65b9\u5f0f \u8bbf\u95ee\u6548\u7387 \u63d2\u5165\u548c\u5220\u9664\u6548\u7387 \u5143\u7d20\u552f\u4e00\u6027 \u9002\u7528\u573a\u666f vector \u8fde\u7eed\u5185\u5b58 \u6700\u9ad8 \u5c3e\u90e8\u6700\u9ad8\uff0c\u5176\u4ed6\u4f4d\u7f6e\u8f83\u4f4e \u53ef\u91cd\u590d \u9891\u7e41\u968f\u673a\u8bbf\u95ee deque \u52a8\u6001\u5206\u914d\u7684\u5185\u5b58 \u6b21\u4e4b \u4e24\u7aef\u6700\u9ad8 \u53ef\u91cd\u590d \u9891\u7e41\u5728\u4e24\u7aef\u63d2\u5165\u548c\u5220\u9664 list \u94fe\u8868 \u6700\u4f4e \u4efb\u610f\u4f4d\u7f6e\u6700\u9ad8 \u53ef\u91cd\u590d \u9891\u7e41\u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u548c\u5220\u9664 set \u7ea2\u9ed1\u6811 \u67e5\u627e\u6700\u9ad8\uff0c\u968f\u673a\u8bbf\u95ee\u8f83\u4f4e \u8f83\u4f4e \u4e0d\u53ef\u91cd\u590d \u5b58\u50a8\u4e0d\u91cd\u590d\u5143\u7d20\u5e76\u9700\u8981\u5feb\u901f\u67e5\u627e multiset \u7ea2\u9ed1\u6811 \u67e5\u627e\u6700\u9ad8\uff0c\u968f\u673a\u8bbf\u95ee\u8f83\u4f4e \u8f83\u4f4e \u53ef\u91cd\u590d \u5b58\u50a8\u53ef\u4ee5\u91cd\u590d\u5143\u7d20\u5e76\u9700\u8981\u5feb\u901f\u67e5\u627e map \u7ea2\u9ed1\u6811 \u67e5\u627e\u6700\u9ad8\uff0c\u968f\u673a\u8bbf\u95ee\u8f83\u4f4e \u8f83\u4f4e \u952e\u4e0d\u53ef\u91cd\u590d \u5b58\u50a8\u952e\u503c\u5bf9\u5e76\u9700\u8981\u5feb\u901f\u67e5\u627e multimap \u7ea2\u9ed1\u6811 \u67e5\u627e\u6700\u9ad8\uff0c\u968f\u673a\u8bbf\u95ee\u8f83\u4f4e \u8f83\u4f4e \u952e\u53ef\u91cd\u590d \u5b58\u50a8\u53ef\u4ee5\u91cd\u590d\u952e\u503c\u5bf9\u5e76\u9700\u8981\u5feb\u901f\u67e5\u627e <p>STL\u6709\u516d\u5927\u7ec4\u4ef6\uff0c\u4f46\u4e3b\u8981\u5305\u542b\u5bb9\u5668\u3001\u8fed\u4ee3\u5668\u548c\u7b97\u6cd5\u4e09\u4e2a\u90e8\u5206\u3002</p> <p>\u5bb9\u5668\uff08Containers\uff09\uff1a\u7528\u6765\u7ba1\u7406\u67d0\u7c7b\u5bf9\u8c61\u7684\u96c6\u5408\u3002\u6bcf\u4e00\u79cd\u5bb9\u5668\u90fd\u6709\u5176\u4f18\u70b9\u548c\u7f3a\u70b9\uff0c\u6240\u4ee5\u4e3a\u4e86\u5e94\u4ed8\u7a0b\u5e8f\u4e2d\u7684\u4e0d\u540c\u9700\u6c42\uff0cSTL \u51c6\u5907\u4e86\u4e03\u79cd\u57fa\u672c\u5bb9\u5668\u7c7b\u578b\u3002</p> <p>\u8fed\u4ee3\u5668\uff08Iterators\uff09\uff1a\u7528\u6765\u5728\u4e00\u4e2a\u5bf9\u8c61\u96c6\u5408\u7684\u5143\u7d20\u4e0a\u8fdb\u884c\u904d\u5386\u52a8\u4f5c\u3002\u8fd9\u4e2a\u5bf9\u8c61\u96c6\u5408\u6216\u8bb8\u662f\u4e2a\u5bb9\u5668\uff0c\u6216\u8bb8\u662f\u5bb9\u5668\u7684\u4e00\u90e8\u5206\u3002\u6bcf\u4e00\u79cd\u5bb9\u5668\u90fd\u63d0\u4f9b\u4e86\u81ea\u5df1\u7684\u8fed\u4ee3\u5668\uff0c\u800c\u8fd9\u4e9b\u8fed\u4ee3\u5668\u4e86\u89e3\u8be5\u79cd\u5bb9\u5668\u7684\u5185\u90e8\u7ed3\u6784\u3002</p> <p>\u7b97\u6cd5\uff08Algorithms\uff09\uff1a\u7528\u6765\u5904\u7406\u5bf9\u8c61\u96c6\u5408\u4e2d\u7684\u5143\u7d20\uff0c\u6bd4\u5982 Sort\uff0cSearch\uff0cCopy\uff0cErase \u90a3\u4e9b\u5143\u7d20\u3002\u901a\u8fc7\u8fed\u4ee3\u5668\u7684\u534f\u52a9\uff0c\u6211\u4eec\u53ea\u9700\u64b0\u5199\u4e00\u6b21\u7b97\u6cd5\uff0c\u5c31\u53ef\u4ee5\u5c06\u5b83\u5e94\u7528\u4e8e\u4efb\u610f\u5bb9\u5668\u4e4b\u4e0a\uff0c\u8fd9\u662f\u56e0\u4e3a\u6240\u6709\u5bb9\u5668\u7684\u8fed\u4ee3\u5668\u90fd\u63d0\u4f9b\u4e00\u81f4\u7684\u63a5\u53e3\u3002</p> <p>STL \u7684\u57fa\u672c\u89c2\u5ff5\u5c31\u662f\u5c06\u6570\u636e\u548c\u64cd\u4f5c\u5206\u79bb\u3002\u6570\u636e\u7531\u5bb9\u5668\u8fdb\u884c\u7ba1\u7406\uff0c\u64cd\u4f5c\u5219\u7531\u7b97\u6cd5\u8fdb\u884c\uff0c\u800c\u8fed\u4ee3\u5668\u5728\u4e24\u8005\u4e4b\u95f4\u5145\u5f53\u7c98\u5408\u5242\uff0c\u4f7f\u4efb\u4f55\u7b97\u6cd5\u90fd\u53ef\u4ee5\u548c\u4efb\u4f55\u5bb9\u5668\u4ea4\u4e92\u8fd0\u4f5c\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#containers","title":"\u5bb9\u5668\uff08Containers\uff09","text":"<p>STL \u51c6\u5907\u4e86\u4e24\u7c7b\u5171\u4e03\u79cd\u57fa\u672c\u5bb9\u5668\u7c7b\u578b\uff1a</p> <p>\u987a\u5e8f\u5bb9\u5668\uff08Sequence containers\uff09\uff1a\u6b64\u4e3a\u53ef\u5e8f\u7fa4\u96c6\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u5747\u6709\u56fa\u5b9a\u4f4d\u7f6e\u2014\u2014\u53d6\u51b3\u4e8e\u63d2\u5165\u65f6\u673a\u548c\u5730\u70b9\uff0c\u548c\u5143\u7d20\u503c\u65e0\u5173\u3002\u5982\u679c\u4f60\u4ee5\u8ffd\u52a0\u65b9\u5f0f\u5bf9\u4e00\u4e2a\u7fa4\u96c6\u63d2\u5165\u516d\u4e2a\u5143\u7d20\uff0c\u5b83\u4eec\u7684\u6392\u5217\u6b21\u5e8f\u5c06\u548c\u63d2\u5165\u6b21\u5e8f\u4e00\u81f4\u3002STL\u63d0\u4f9b\u4e86\u4e09\u4e2a\u5e8f\u5217\u5f0f\u5bb9\u5668\uff1a\u5411\u91cf\uff08vector\uff09\u3001\u53cc\u7aef\u961f\u5217\uff08deque\uff09\u3001\u5217\u8868\uff08list\uff09\uff0c\u6b64\u5916\u4f60\u4e5f\u53ef\u4ee5\u628a string \u548c array \u5f53\u505a\u4e00\u79cd\u5e8f\u5217\u5f0f\u5bb9\u5668\u3002</p> \u5bb9\u5668\u7c7b\u578b \u4ecb\u7ecd vector \u53ef\u53d8\u5927\u5c0f\u6570\u7ec4\u3002\u652f\u6301\u5feb\u901f\u968f\u673a\u8bbf\u95ee\u3002\u5728\u5c3e\u90e8\u4e4b\u5916\u7684\u4f4d\u7f6e\u63d2\u5165\u6216\u5220\u9664\u5143\u7d20\u53ef\u80fd\u5f88\u6162\u3002 deque \u53cc\u7aef\u961f\u5217\u3002\u652f\u6301\u5feb\u901f\u968f\u673a\u8bbf\u95ee\u3002\u5728\u5934\u5c3e\u4f4d\u7f6e\u63d2\u5165/\u5220\u9664\u901f\u5ea6\u5f88\u5feb\u3002 list \u53cc\u5411\u94fe\u8868\u3002\u53ea\u652f\u6301\u53cc\u5411\u987a\u5e8f\u8bbf\u95ee\u3002\u5728list\u4e2d\u4efb\u4f55\u4f4d\u7f6e\u8fdb\u884c\u63d2\u5165/\u5220\u9664\u64cd\u4f5c\u901f\u5ea6\u90fd\u5f88\u5feb\u3002 forward_list \u5355\u5411\u94fe\u8868\u3002\u53ea\u652f\u6301\u5355\u5411\u987a\u5e8f\u8bbf\u95ee\u3002\u5728\u94fe\u8868\u4efb\u4f55\u4f4d\u7f6e\u8fdb\u884c\u63d2\u5165/\u5220\u9664\u64cd\u4f5c\u901f\u5ea6\u90fd\u5f88\u5feb\u3002 array \u56fa\u5b9a\u5927\u5c0f\u6570\u7ec4\u3002\u652f\u6301\u5feb\u901f\u968f\u673a\u8bbf\u95ee\u3002\u4e0d\u80fd\u6dfb\u52a0\u6216\u8005\u5220\u9664\u5143\u7d20\u3002 string \u4e0evector\u76f8\u4f3c\u7684\u5bb9\u5668\uff0c\u4f46\u4e13\u95e8\u7528\u4e8e\u4fdd\u5b58\u5b57\u7b26\u3002\u968f\u673a\u8bbf\u95ee\u5757\u3002\u5728\u5c3e\u90e8\u63d2\u5165/\u5220\u9664\u901f\u5ea6\u5feb\u3002 <p>\u901a\u5e38\u4f7f\u7528<code>vector</code>\u662f\u6700\u597d\u7684\u9009\u62e9\uff0c\u9664\u975e\u4f60\u6709\u5f88\u597d\u7684\u7406\u7531\u9009\u62e9\u5176\u4ed6\u5bb9\u5668\u3002</p> <p>\u5173\u8054\u5f0f\u5bb9\u5668\uff08Associative containers\uff09\uff1a\u6b64\u4e3a\u5df2\u5e8f\u7fa4\u96c6\uff0c\u5143\u7d20\u4f4d\u7f6e\u53d6\u51b3\u4e8e\u7279\u5b9a\u7684\u6392\u5e8f\u51c6\u5219\u4ee5\u53ca\u5143\u7d20\u503c\uff0c\u548c\u63d2\u5165\u6b21\u5e8f\u65e0\u5173\u3002\u5982\u679c\u4f60\u5c06\u516d\u4e2a\u5143\u7d20\u7f6e\u5165\u8fd9\u6837\u7684\u7fa4\u96c6\u4e2d\uff0c\u5b83\u4eec\u7684\u4f4d\u7f6e\u53d6\u51b3\u4e8e\u5143\u7d20\u503c\uff0c\u548c\u63d2\u5165\u6b21\u5e8f\u65e0\u5173\u3002STL\u63d0\u4f9b\u4e86\u56db\u4e2a\u5173\u8054\u5f0f\u5bb9\u5668\uff1a\u96c6\u5408\uff08set\uff09\u3001\u591a\u91cd\u96c6\u5408\uff08multiset\uff09\u3001\u6620\u5c04\uff08map\uff09\u548c\u591a\u91cd\u6620\u5c04\uff08multimap\uff09\u3002</p> \u5bb9\u5668\u7c7b\u578b \u89e3\u91ca \u6309\u987a\u5e8f\u5b58\u50a8 map \u5173\u952e\u6570\u7ec4\uff1a\u4fdd\u5b58 &lt;\u5173\u952e\u5b57-\u503c&gt; \u5bf9 set \u5173\u952e\u5b57\u5373\u503c\uff0c\u5373\u53ea\u4fdd\u5b58\u5173\u952e\u5b57\u7684\u5bb9\u5668 multimap \u652f\u6301\u540c\u4e00\u4e2a\u952e\u591a\u6b21\u51fa\u73b0\u7684map multiset \u652f\u6301\u540c\u4e00\u4e2a\u952e\u591a\u6b21\u51fa\u73b0\u7684set \u65e0\u5e8f\u96c6\u5408 unordered_map \u7528\u54c8\u5e0c\u51fd\u6570\u7ec4\u7ec7\u7684map unordered_set \u7528\u54c8\u5e0c\u51fd\u6570\u7ec4\u7ec7\u7684set unordered_multimap \u54c8\u5e0c\u7ec4\u7ec7\u7684map\uff0c\u5173\u952e\u5b57\u53ef\u4ee5\u91cd\u590d\u51fa\u73b0 unordered_multiset \u54c8\u5e0c\u7ec4\u7ec7\u7684set\uff0c\u5173\u952e\u5b57\u53ef\u4ee5\u91cd\u590d\u51fa\u73b0 <p></p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#vector","title":"vector","text":"<p>vector\uff08\u5411\u91cf\uff09: \u662f\u4e00\u79cd\u5e8f\u5217\u5f0f\u5bb9\u5668\uff0c\u4e8b\u5b9e\u4e0a\u548c\u6570\u7ec4\u5dee\u4e0d\u591a\uff0c\u4f46\u5b83\u6bd4\u6570\u7ec4\u66f4\u4f18\u8d8a\u3002\u4e00\u822c\u6765\u8bf4\u6570\u7ec4\u4e0d\u80fd\u52a8\u6001\u62d3\u5c55\uff0c\u56e0\u6b64\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\u4e0d\u662f\u6d6a\u8d39\u5185\u5b58\uff0c\u5c31\u662f\u9020\u6210\u8d8a\u754c\u3002\u800c vector \u6b63\u597d\u5f25\u8865\u4e86\u8fd9\u4e2a\u7f3a\u9677\uff0c\u5f53\u5185\u5b58\u7a7a\u95f4\u4e0d\u591f\u65f6\uff0c\u9700\u8981\u91cd\u65b0\u7533\u8bf7\u4e00\u5757\u8db3\u591f\u5927\u7684\u5185\u5b58\u5e76\u8fdb\u884c\u5185\u5b58\u7684\u62f7\u8d1d\u3002</p> <p>\u7279\u70b9\uff1a</p> <p>\u62e5\u6709\u4e00\u6bb5\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u56e0\u6b64\u5b83\u80fd\u975e\u5e38\u597d\u7684\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u5373 <code>[]</code> \u64cd\u4f5c\u7b26\u548c <code>.at()</code>\uff0c\u968f\u673a\u8bbf\u95ee\u5feb\u3002\uff08\u4f18\u70b9\uff09</p> <p>\u5f53\u5411\u5176\u5934\u90e8\u6216\u4e2d\u95f4\u63d2\u5165\u6216\u5220\u9664\u5143\u7d20\u65f6\uff0c\u4e3a\u4e86\u4fdd\u6301\u539f\u672c\u7684\u76f8\u5bf9\u6b21\u5e8f\uff0c\u63d2\u5165\u6216\u5220\u9664\u70b9\u4e4b\u540e\u7684\u6240\u6709\u5143\u7d20\u90fd\u5fc5\u987b\u79fb\u52a8\uff0c\u6240\u4ee5\u63d2\u5165\u6216\u5220\u9664\u7684\u6548\u7387\u6bd4\u8f83\u4f4e\u3002\uff08\u7f3a\u70b9\uff09</p> <p>\u5728\u540e\u9762\u63d2\u5165\u5220\u9664\u5143\u7d20\u6700\u5feb\uff0c\u6b64\u65f6\u4e00\u822c\u4e0d\u9700\u8981\u79fb\u52a8\u5185\u5b58\u3002\uff08\u4f18\u70b9\uff09</p> <p>\u603b\u7ed3\uff1a\u76f8\u5f53\u4e8e\u53ef\u62d3\u5c55\u7684\u6570\u7ec4\uff08\u52a8\u6001\u6570\u7ec4\uff09\uff0c\u968f\u673a\u8bbf\u95ee\u5feb\uff0c\u5728\u5934\u90e8\u548c\u4e2d\u95f4\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u4f4e\uff0c\u4f46\u5728\u5c3e\u90e8\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u9ad8\u3002</p> <p>\u9002\u7528\u573a\u666f\uff1a</p> <p>\u9002\u7528\u4e8e\u5bf9\u8c61\u7b80\u5355\uff0c\u53d8\u5316\u8f83\u5c0f\uff0c\u5e76\u4e14\u9891\u7e41\u968f\u673a\u8bbf\u95ee\u7684\u573a\u666f\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\nint main(int argc, char* argv[])\n{\n        vector&lt;int&gt; vecTemp;\n        for (int i = 0; i&lt;6; i++)\n                vecTemp.push_back(i);\n        for (int i = 0; i&lt;vecTemp.size(); i++)\n                cout &lt;&lt; vecTemp[i] &lt;&lt;\" \"; // \u8f93\u51fa\uff1a0 1 2 3 4 5\n        return 0;\n}\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#deque","title":"deque","text":"<p>deque\uff08double-ended queue\uff09\u662f\u53cc\u5411\u5f00\u53e3\u7684\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\uff08\u52a8\u6001\u5c06\u591a\u4e2a\u8fde\u7eed\u7a7a\u95f4\u901a\u8fc7\u6307\u9488\u6570\u7ec4\u63a5\u5408\u5728\u4e00\u8d77\uff09\uff0c\u968f\u65f6\u53ef\u4ee5\u589e\u52a0\u4e00\u6bb5\u65b0\u7684\u7a7a\u95f4\u3002deque \u7684\u6700\u5927\u4efb\u52a1\u5c31\u662f\u5728\u8fd9\u4e9b\u5206\u6bb5\u7684\u8fde\u7eed\u7a7a\u95f4\u4e0a\uff0c\u7ef4\u62a4\u5176\u6574\u4f53\u8fde\u7eed\u7684\u5047\u8c61\uff0c\u5e76\u63d0\u4f9b\u968f\u673a\u5b58\u53d6\u7684\u63a5\u53e3\u3002</p> <p>\u7279\u70b9\uff1a</p> <p>\u4e00\u65e6\u8981\u5728 deque \u7684\u5934\u90e8\u548c\u5c3e\u90e8\u589e\u52a0\u65b0\u7a7a\u95f4\uff0c\u4fbf\u914d\u7f6e\u4e00\u6bb5\u5b9a\u91cf\u8fde\u7eed\u7a7a\u95f4\uff0c\u4e32\u5728\u6574\u4e2a deque \u7684\u5934\u90e8\u6216\u5c3e\u90e8\uff0c\u56e0\u6b64\u4e0d\u8bba\u5728\u5934\u90e8\u6216\u5c3e\u90e8\u63d2\u5165\u5143\u7d20\u90fd\u5341\u5206\u8fc5\u901f\u3002 (\u4f18\u70b9\uff09</p> <p>\u5728\u4e2d\u95f4\u90e8\u5206\u5b89\u63d2\u5143\u7d20\u5219\u6bd4\u8f83\u8d39\u65f6\uff0c\u56e0\u4e3a\u5fc5\u987b\u79fb\u52a8\u5176\u5b83\u5143\u7d20\u3002\uff08\u7f3a\u70b9\uff09</p> <p>deque \u662f list \u548c vector \u7684\u6298\u4e2d\u65b9\u6848\u3002\u517c\u6709 list \u7684\u4f18\u70b9\uff0c\u4e5f\u6709 vector \u968f\u673a\u8bbf\u95ee\u6548\u7387\u9ad8\u7684\u4f18\u70b9\u3002</p> <p>\u603b\u7ed3\uff1a\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u4f46\u6548\u7387\u6ca1\u6709 vector \u9ad8\uff0c\u5728\u5934\u90e8\u548c\u5c3e\u90e8\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u9ad8\uff0c\u4f46\u5728\u4e2d\u95f4\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u4f4e\u3002</p> <p>\u9002\u7528\u573a\u666f\uff1a</p> <p>\u9002\u7528\u4e8e\u65e2\u8981\u9891\u7e41\u968f\u673a\u8bbf\u95ee\uff0c\u53c8\u8981\u5173\u5fc3\u4e24\u7aef\u6570\u636e\u7684\u63d2\u5165\u4e0e\u5220\u9664\u7684\u573a\u666f\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;deque&gt;\nusing namespace std;\nint main(int argc, char* argv[])\n{\n        deque&lt;float&gt; dequeTemp;\n        for (int i = 0; i&lt;6; i++)\n                dequeTemp.push_back(i);\n        for (int i = 0; i&lt;dequeTemp.size(); i++)\n                cout &lt;&lt; dequeTemp[i] &lt;&lt; \" \"; // \u8f93\u51fa\uff1a0 1 2 3 4 5\n        return 0;\n}\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#list","title":"list","text":"<p>List \u7531\u53cc\u5411\u94fe\u8868\uff08doubly linked list\uff09\u5b9e\u73b0\u800c\u6210\uff0c\u5143\u7d20\u5b58\u653e\u5728\u5806\u4e2d\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u653e\u5728\u4e00\u5757\u5185\u5b58\u4e2d\u3002\u6ca1\u6709\u7a7a\u95f4\u9884\u7559\u4e60\u60ef\uff0c\u6240\u4ee5\u6bcf\u5206\u914d\u4e00\u4e2a\u5143\u7d20\u90fd\u4f1a\u4ece\u5185\u5b58\u4e2d\u5206\u914d\uff0c\u6bcf\u5220\u9664\u4e00\u4e2a\u5143\u7d20\u90fd\u4f1a\u91ca\u653e\u5b83\u5360\u7528\u7684\u5185\u5b58\u3002</p> <p>\u7279\u70b9\uff1a</p> <p>\u5185\u5b58\u7a7a\u95f4\u53ef\u4ee5\u662f\u4e0d\u8fde\u7eed\u7684\uff0c\u901a\u8fc7\u6307\u9488\u6765\u8fdb\u884c\u6570\u636e\u7684\u8bbf\u95ee\uff0c\u8fd9\u4e2a\u7279\u70b9\u4f7f\u5f97\u5b83\u7684\u968f\u673a\u5b58\u53d6\u53d8\u5f97\u975e\u5e38\u6ca1\u6709\u6548\u7387\uff0c\u56e0\u6b64\u5b83\u6ca1\u6709\u63d0\u4f9b [] \u64cd\u4f5c\u7b26\u7684\u91cd\u8f7d\u3002\uff08\u7f3a\u70b9\uff09</p> <p>\u7531\u4e8e\u94fe\u8868\u7684\u7279\u70b9\uff0c\u5728\u4efb\u610f\u4f4d\u7f6e\u7684\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\u90fd\u8f83\u9ad8\u3002\uff08\u4f18\u70b9\uff09</p> <p>\u53ea\u652f\u6301\u9996\u5c3e\u4e24\u4e2a\u5143\u7d20\u7684\u76f4\u63a5\u5b58\u53d6\uff0c\u60f3\u83b7\u53d6\u5176\u4ed6\u5143\u7d20\uff08\u8bbf\u95ee\u65f6\u95f4\u4e00\u6837\uff09\uff0c\u5219\u9700\u8981\u904d\u5386\u94fe\u8868\u3002\uff08\u7f3a\u70b9\uff09</p> <p>\u603b\u7ed3\uff1a\u4e0d\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u5728\u4efb\u610f\u4f4d\u7f6e\u7684\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\u90fd\u8f83\u9ad8\u3002</p> <p>\u9002\u7528\u573a\u666f\uff1a</p> <p>\u9002\u7528\u4e8e\u7ecf\u5e38\u8fdb\u884c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u5e76\u4e14\u4e0d\u7ecf\u5e38\u968f\u673a\u8bbf\u95ee\u7684\u573a\u666f\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\nusing namespace std;\nint main(int argc, char* argv[])\n{\n        list&lt;char&gt; listTemp;\n        for (char c = 'a'; c &lt;= 'z'; ++c)\n                listTemp.push_back(c);\n        while (!listTemp.empty())\n        {\n                cout &lt;&lt;listTemp.front() &lt;&lt; \" \";\n                listTemp.pop_front();\n        }\n        return 0;\n}\n</code></pre> <p>\u6210\u5458\u51fd\u6570<code>empty()</code>\u7684\u8fd4\u56de\u503c\u544a\u8bc9\u6211\u4eec\u5bb9\u5668\u4e2d\u662f\u5426\u8fd8\u6709\u5143\u7d20\uff0c\u53ea\u8981\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de false\uff0c\u5faa\u73af\u5c31\u7ee7\u7eed\u8fdb\u884c\u3002\u5faa\u73af\u4e4b\u5185\uff0c\u6210\u5458\u51fd\u6570<code>front()</code>\u4f1a\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c<code>pop_front()</code>\u51fd\u6570\u4f1a\u5220\u9664\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002</p> <p>\u6ce8\u610f\uff1alist&lt;\u6307\u9488&gt; \u5b8c\u5168\u662f\u6027\u80fd\u6700\u4f4e\u7684\u505a\u6cd5\uff0c\u8fd8\u4e0d\u5982\u76f4\u63a5\u4f7f\u7528 list&lt;\u5bf9\u8c61&gt; \u6216\u4f7f\u7528 vector&lt;\u6307\u9488&gt; \u597d\uff0c\u56e0\u4e3a\u6307\u9488\u6ca1\u6709\u6784\u9020\u4e0e\u6790\u6784\uff0c\u4e5f\u4e0d\u5360\u7528\u5f88\u5927\u5185\u5b58\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#set","title":"set","text":"<p>set\uff08\u96c6\u5408\uff09\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u6570\u5b66\u4e0a\u7684\u96c6\u5408\u2014\u2014\u6bcf\u4e2a\u5143\u7d20\u6700\u591a\u53ea\u51fa\u73b0\u4e00\u6b21\uff0c\u5e76\u4e14 set \u4e2d\u7684\u5143\u7d20\u5df2\u7ecf\u4ece\u5c0f\u5230\u5927\u6392\u597d\u5e8f\u3002</p> <p>\u7279\u70b9\uff1a</p> <p>\u4f7f\u7528\u7ea2\u9ed1\u6811\u5b9e\u73b0\uff0c\u5176\u5185\u90e8\u5143\u7d20\u4f9d\u636e\u5176\u503c\u81ea\u52a8\u6392\u5e8f\uff0c\u6bcf\u4e2a\u5143\u7d20\u503c\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\u3002</p> <p>\u6bcf\u6b21\u63d2\u5165\u503c\u7684\u65f6\u5019\uff0c\u90fd\u9700\u8981\u8c03\u6574\u7ea2\u9ed1\u6811\uff0c\u6548\u7387\u6709\u4e00\u5b9a\u5f71\u54cd\u3002\uff08\u7f3a\u70b9\uff09</p> <p>map \u548c set \u7684\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u6bd4\u7528\u5176\u4ed6\u5e8f\u5217\u5bb9\u5668\u9ad8\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u5173\u8054\u5bb9\u5668\u6765\u8bf4\uff0c\u4e0d\u9700\u8981\u505a\u5185\u5b58\u62f7\u8d1d\u548c\u5185\u5b58\u79fb\u52a8\u3002\uff08\u4f18\u70b9\uff09</p> <p>\u603b\u7ed3\uff1a\u7531\u7ea2\u9ed1\u6811\u5b9e\u73b0\uff0c\u5176\u5185\u90e8\u5143\u7d20\u4f9d\u636e\u5176\u503c\u81ea\u52a8\u6392\u5e8f\uff0c\u6bcf\u4e2a\u5143\u7d20\u503c\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\uff0c\u4e14\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\u6bd4\u7528\u5176\u4ed6\u5e8f\u5217\u5bb9\u5668\u9ad8\u3002</p> <p>\u9002\u7528\u573a\u666f\uff1a</p> <p>\u9002\u7528\u4e8e\u7ecf\u5e38\u67e5\u627e\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5728\u67d0\u96c6\u5408\u4e2d\u4e14\u9700\u8981\u6392\u5e8f\u7684\u573a\u666f\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;set&gt;\nusing namespace std;\nint main(int argc, char* argv[])\n{\n        set&lt;int&gt; setTemp;\n        setTemp.insert(3);\n        setTemp.insert(1);\n        setTemp.insert(2);\n        setTemp.insert(1);\n        set&lt;int&gt;::iterator it;\n        for (it = setTemp.begin(); it != setTemp.end(); it++)\n        {\n                cout &lt;&lt; *it &lt;&lt; \" \";\n        }\n        return 0;\n}\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\uff1a1 2 3\u3002\u4e00\u5171\u63d2\u5165\u4e86 4 \u4e2a\u6570\uff0c\u4f46\u662f\u96c6\u5408\u4e2d\u53ea\u6709 3 \u4e2a\u6570\u5e76\u4e14\u662f\u6709\u5e8f\u7684\uff0c\u53ef\u89c1\u4e4b\u524d\u8bf4\u8fc7\u7684 set \u96c6\u5408\u7684\u4e24\u4e2a\u7279\u70b9\uff0c\u6709\u5e8f\u548c\u4e0d\u91cd\u590d\u3002</p> <p>\u5f53 set \u96c6\u5408\u4e2d\u7684\u5143\u7d20\u4e3a\u7ed3\u6784\u4f53\u65f6\uff0c\u8be5\u7ed3\u6784\u4f53\u5fc5\u987b\u5b9e\u73b0\u8fd0\u7b97\u7b26<code>&lt;</code>\u7684\u91cd\u8f7d\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;set&gt;\n#include &lt;string&gt;\nusing namespace std;\nstruct People\n{\n        string name;\n        int age;\n        bool operator &lt;(const People p) const\n        {\n                return age &lt; p.age;\n        }\n};\nint main(int argc, char* argv[])\n{\n        set&lt;People&gt; setTemp;\n        setTemp.insert({\"\u5f20\u4e09\",14});\n        setTemp.insert({ \"\u674e\u56db\", 16 });\n        setTemp.insert({ \"\u9694\u58c1\u8001\u738b\", 10 });\n        set&lt;People&gt;::iterator it;\n        for (it = setTemp.begin(); it != setTemp.end(); it++)\n        {\n                printf(\"\u59d3\u540d\uff1a%s \u5e74\u9f84\uff1a%d\\n\", (*it).name.c_str(), (*it).age);\n        }\n        return 0;\n}\n/*\n\u8f93\u51fa\u7ed3\u679c\n\u59d3\u540d\uff1a\u738b\u4e8c\u9ebb\u5b50 \u5e74\u9f84\uff1a10\n\u59d3\u540d\uff1a\u5f20\u4e09 \u5e74\u9f84\uff1a14\n\u59d3\u540d\uff1a\u674e\u56db \u5e74\u9f84\uff1a16 \n*/ \n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u7ed3\u679c\u662f\u6309\u7167\u5e74\u9f84\u7531\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6392\u5217\u3002\u53e6\u5916 string \u8981\u4f7f\u7528<code>c_str()</code>\u8f6c\u6362\u4e00\u4e0b\uff0c\u5426\u5219\u6253\u5370\u51fa\u7684\u662f\u4e71\u7801\u3002</p> <p>\u53e6\u5916 Multiset \u548c set \u76f8\u540c\uff0c\u53ea\u4e0d\u8fc7\u5b83\u5141\u8bb8\u91cd\u590d\u5143\u7d20\uff0c\u4e5f\u5c31\u662f\u8bf4 multiset \u53ef\u5305\u62ec\u591a\u4e2a\u6570\u503c\u76f8\u540c\u7684\u5143\u7d20\u3002\u8fd9\u91cc\u4e0d\u518d\u505a\u8fc7\u591a\u4ecb\u7ecd\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#map","title":"map","text":"<p>map \u7531\u7ea2\u9ed1\u6811\u5b9e\u73b0\uff0c\u5176\u5143\u7d20\u90fd\u662f \u201c\u952e\u503c/\u5b9e\u503c\u201d \u6240\u5f62\u6210\u7684\u4e00\u4e2a\u5bf9\u7ec4\uff08key/value pairs)\u3002</p> <p>map \u4e3b\u8981\u7528\u4e8e\u8d44\u6599\u4e00\u5bf9\u4e00\u6620\u5c04\u7684\u60c5\u51b5\uff0cmap \u5185\u90e8\u81ea\u5efa\u4e00\u9897\u7ea2\u9ed1\u6811\uff0c\u8fd9\u9897\u6811\u5177\u6709\u5bf9\u6570\u636e\u81ea\u52a8\u6392\u5e8f\u7684\u529f\u80fd\uff0c\u6240\u4ee5\u5728 map \u5185\u90e8\u6240\u6709\u7684\u6570\u636e\u90fd\u662f\u6709\u5e8f\u7684\u3002\u6bd4\u5982\u4e00\u4e2a\u73ed\u7ea7\u4e2d\uff0c\u6bcf\u4e2a\u5b66\u751f\u7684\u5b66\u53f7\u8ddf\u4ed6\u7684\u59d3\u540d\u5c31\u5b58\u5728\u7740\u4e00\u5bf9\u4e00\u6620\u5c04\u7684\u5173\u7cfb\u3002</p> <p>\u7279\u70b9\uff1a</p> <p>\u6bcf\u4e2a\u5143\u7d20\u90fd\u6709\u4e00\u4e2a\u952e\uff0c\u4e14\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\u3002</p> <p>\u6839\u636e key \u503c\u5feb\u901f\u67e5\u627e\u8bb0\u5f55\uff0c\u67e5\u627e\u7684\u590d\u6742\u5ea6\u57fa\u672c\u662f O(logN)\uff0c\u5982\u679c\u6709 1000 \u4e2a\u8bb0\u5f55\uff0c\u4e8c\u5206\u67e5\u627e\u6700\u591a\u67e5\u627e 10\u6b21(1024)\u3002\uff08\u4f18\u70b9\uff09</p> <p>\u6bcf\u6b21\u63d2\u5165\u503c\u7684\u65f6\u5019\uff0c\u90fd\u9700\u8981\u8c03\u6574\u7ea2\u9ed1\u6811\uff0c\u6548\u7387\u6709\u4e00\u5b9a\u5f71\u54cd\u3002\uff08\u7f3a\u70b9\uff09</p> <p>\u589e\u52a0\u548c\u5220\u9664\u8282\u70b9\u5bf9\u8fed\u4ee3\u5668\u7684\u5f71\u54cd\u5f88\u5c0f\uff0c\u9664\u4e86\u90a3\u4e2a\u64cd\u4f5c\u8282\u70b9\uff0c\u5bf9\u5176\u4ed6\u7684\u8282\u70b9\u90fd\u6ca1\u6709\u4ec0\u4e48\u5f71\u54cd\u3002\uff08\u4f18\u70b9\uff09</p> <p>\u5bf9\u4e8e\u8fed\u4ee3\u5668\u6765\u8bf4\uff0c\u53ef\u4ee5\u4fee\u6539\u5b9e\u503c\uff0c\u800c\u4e0d\u80fd\u4fee\u6539 key\u3002</p> <p>\u603b\u7ed3\uff1a\u5143\u7d20\u4e3a\u952e\u503c\u5bf9\uff0ckey \u548c value \u53ef\u4ee5\u662f\u4efb\u610f\u4f60\u9700\u8981\u7684\u7c7b\u578b\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u6709\u4e00\u4e2a\u952e\uff0c\u4e14\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\uff0c\u6839\u636e key \u5feb\u901f\u67e5\u627e\u8bb0\u5f55\u3002</p> <p>\u9002\u7528\u573a\u666f\uff1a</p> <p>\u9002\u7528\u4e8e\u9700\u8981\u5b58\u50a8\u4e00\u4e2a\u6570\u636e\u5b57\u5178\uff0c\u5e76\u8981\u6c42\u65b9\u4fbf\u5730\u6839\u636ekey\u627evalue\u7684\u573a\u666f\u3002</p> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;string&gt;\nusing namespace std;\nint main(int argc, char* argv[])\n{\n        map&lt;int, string&gt; mapTemp;\n        mapTemp.insert({ 5,\"\u5f20\u4e09\" });\n        mapTemp.insert({ 3, \"\u674e\u56db\"});\n        mapTemp.insert({ 4, \"\u9694\u58c1\u8001\u738b\" });\n        map&lt;int, string&gt;::iterator it;\n        for (it = mapTemp.begin(); it != mapTemp.end(); it++)\n        {\n                printf(\"\u5b66\u53f7\uff1a%d \u59d3\u540d\uff1a%s\\n\", (*it).first, (*it).second.c_str());\n        }\n        return 0;\n}\n/*\n\u8f93\u51fa\u7ed3\u679c\uff1a\n\u5b66\u53f7\uff1a3 \u59d3\u540d\uff1a\u674e\u56db\n\u5b66\u53f7\uff1a4 \u59d3\u540d\uff1a\u9694\u58c1\u8001\u738b\n\u5b66\u53f7\uff1a5 \u59d3\u540d\uff1a\u5f20\u4e09\n*/\n</code></pre> <p>multimap \u548c map \u76f8\u540c\uff0c\u4f46\u5141\u8bb8\u91cd\u590d\u5143\u7d20\uff0c\u4e5f\u5c31\u662f\u8bf4 multimap \u53ef\u5305\u542b\u591a\u4e2a\u952e\u503c\uff08key\uff09\u76f8\u540c\u7684\u5143\u7d20\u3002\u8fd9\u91cc\u4e0d\u518d\u505a\u8fc7\u591a\u4ecb\u7ecd\u3002</p> <p>\u5404\u5bb9\u5668\u7684\u7279\u70b9\u603b\u7ed3</p> <ul> <li> <p><code>vector</code> \u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u5728\u5934\u90e8\u548c\u4e2d\u95f4\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u4f4e\uff0c\u4f46\u5728\u5c3e\u90e8\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u9ad8\u3002</p> </li> <li> <p><code>deque</code> \u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u4f46\u6548\u7387\u6ca1\u6709 <code>vector</code> \u9ad8\uff0c\u5728\u5934\u90e8\u548c\u5c3e\u90e8\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u9ad8\uff0c\u4f46\u5728\u4e2d\u95f4\u63d2\u5165\u6216\u5220\u9664\u6548\u7387\u4f4e\u3002</p> </li> <li> <p><code>list</code> \u4e0d\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u5728\u4efb\u610f\u4f4d\u7f6e\u7684\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\u90fd\u8f83\u9ad8\u3002</p> </li> <li> <p><code>set</code> \u7531\u7ea2\u9ed1\u6811\u5b9e\u73b0\uff0c\u5176\u5185\u90e8\u5143\u7d20\u4f9d\u636e\u5176\u503c\u81ea\u52a8\u6392\u5e8f\uff0c\u6bcf\u4e2a\u5143\u7d20\u503c\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\uff0c\u4e14\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\u6bd4\u7528\u5176\u4ed6\u5e8f\u5217\u5bb9\u5668\u9ad8\u3002</p> </li> <li> <p><code>map</code> \u7684\u5143\u7d20\u4e3a\u952e\u503c\u5bf9\uff0ckey \u548c value \u53ef\u4ee5\u662f\u4efb\u610f\u4f60\u9700\u8981\u7684\u7c7b\u578b\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u6709\u4e00\u4e2a\u952e\uff0c\u4e14\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\uff0c\u6839\u636e key \u5feb\u901f\u67e5\u627e\u8bb0\u5f55\u3002</p> </li> </ul> <p>\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5230\u5e95\u9009\u62e9\u8fd9\u51e0\u79cd\u5bb9\u5668\u4e2d\u7684\u54ea\u4e00\u4e2a\uff0c\u5e94\u8be5\u6839\u636e\u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <p>1\u3001\u5982\u679c\u9700\u8981\u9ad8\u6548\u7684\u968f\u673a\u8bbf\u95ee\uff0c\u4e0d\u5728\u4e4e\u63d2\u5165\u548c\u5220\u9664\u7684\u6548\u7387\uff0c\u4f7f\u7528 vector\u3002</p> <p>2\u3001\u5982\u679c\u9700\u8981\u968f\u673a\u8bbf\u95ee\uff0c\u5e76\u4e14\u5173\u5fc3\u4e24\u7aef\u6570\u636e\u7684\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\uff0c\u4f7f\u7528 deque\u3002</p> <p>3\u3001\u5982\u679c\u9700\u8981\u5927\u91cf\u7684\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\uff0c\u4e0d\u5173\u5fc3\u968f\u673a\u8bbf\u95ee\u7684\u6548\u7387\uff0c\u4f7f\u7528 list\u3002</p> <p>4\u3001\u5982\u679c\u7ecf\u5e38\u67e5\u627e\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5728\u67d0\u96c6\u5408\u4e2d\u4e14\u9700\u8981\u6392\u5e8f\uff0c\u552f\u4e00\u5b58\u5728\u7684\u60c5\u51b5\u4f7f\u7528 set\uff0c\u4e0d\u552f\u4e00\u5b58\u5728\u7684\u60c5\u51b5\u4f7f\u7528 multiset\u3002</p> <p>5\u3001\u5982\u679c\u6253\u7b97\u5b58\u50a8\u6570\u636e\u5b57\u5178\uff0c\u5e76\u4e14\u8981\u6c42\u65b9\u4fbf\u5730\u6839\u636e key \u627e\u5230 value\uff0c\u4e00\u5bf9\u4e00\u7684\u60c5\u51b5\u4f7f\u7528 map\uff0c\u4e00\u5bf9\u591a\u7684\u60c5\u51b5\u4f7f\u7528 multimap\u3002</p> <p>\u5404\u5bb9\u5668\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790</p> <p>vector \u5728\u5934\u90e8\u548c\u4e2d\u95f4\u4f4d\u7f6e\u63d2\u5165\u548c\u5220\u9664\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(N)\uff0c\u5728\u5c3e\u90e8\u63d2\u5165\u548c\u5220\u9664\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(1)\uff0c\u968f\u673a\u8bbf\u95ee\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(1)\uff0c\u67e5\u627e\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(N)\uff1b</p> <p>deque \u5728\u4e2d\u95f4\u4f4d\u7f6e\u63d2\u5165\u548c\u5220\u9664\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(N)\uff0c\u5728\u5934\u90e8\u548c\u5c3e\u90e8\u63d2\u5165\u548c\u5220\u9664\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(1)\uff0c\u968f\u673a\u8bbf\u95ee\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(1)\uff0c\u67e5\u627e\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(N)\uff1b</p> <p>list \u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u548c\u5220\u9664\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u4e3a O(1)\uff0c\u67e5\u627e\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(N)\uff1b</p> <p>set \u548c map \u90fd\u662f\u901a\u8fc7\u7ea2\u9ed1\u6811\u5b9e\u73b0\uff0c\u56e0\u6b64\u63d2\u5165\u3001\u5220\u9664\u548c\u67e5\u627e\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u662f O(log N)\u3002</p> <p>\u5404\u5bb9\u5668\u7684\u5171\u6027</p> <p>\u5404\u5bb9\u5668\u4e00\u822c\u6765\u8bf4\u90fd\u6709\u4e0b\u5217\u51fd\u6570\uff1a\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3001\u590d\u5236\u6784\u9020\u51fd\u6570\u3001\u6790\u6784\u51fd\u6570\u3001empty()\u3001max_size()\u3001size()\u3001operator=\u3001operator&lt;\u3001operator&lt;=\u3001operator&gt;\u3001operator&gt;=\u3001operator==\u3001operator!=\u3001swap()\u3002</p> <p>\u987a\u5e8f\u5bb9\u5668\u548c\u5173\u8054\u5bb9\u5668\u90fd\u5171\u6709\u4e0b\u5217\u51fd\u6570\uff1a</p> <p>begin() \uff1a\u8fd4\u56de\u5bb9\u5668\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u6307\u9488\uff1b</p> <p>end()\uff1a\u8fd4\u56de\u5bb9\u5668\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u9762\u4e00\u4f4d\u7684\u8fed\u4ee3\u5668\u6307\u9488\uff1b</p> <p>rbegin()\uff1a\u8fd4\u56de\u4e00\u4e2a\u9006\u5411\u8fed\u4ee3\u5668\u6307\u9488\uff0c\u6307\u5411\u5bb9\u5668\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff1b</p> <p>rend()\uff1a\u8fd4\u56de\u4e00\u4e2a\u9006\u5411\u8fed\u4ee3\u5668\u6307\u9488\uff0c\u6307\u5411\u5bb9\u5668\u9996\u4e2a\u5143\u7d20\u524d\u9762\u4e00\u4f4d\uff1b</p> <p>clear()\uff1a\u5220\u9664\u5bb9\u5668\u4e2d\u7684\u6240\u6709\u7684\u5143\u7d20\uff1b</p> <p>erase(it)\uff1a\u5220\u9664\u8fed\u4ee3\u5668\u6307\u9488it\u5904\u5143\u7d20\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#adapter","title":"\u5bb9\u5668\u9002\u914d\u5668\uff08adapter\uff09","text":"<p>\u9664\u4e86\u4ee5\u4e0a\u4e03\u4e2a\u57fa\u672c\u5bb9\u5668\u7c7b\u522b\uff0c\u4e3a\u6ee1\u8db3\u7279\u6b8a\u9700\u6c42\uff0cSTL\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7279\u522b\u7684\uff08\u5e76\u4e14\u9884\u5148\u5b9a\u4e49\u597d\u7684\uff09\u5bb9\u5668\u914d\u63a5\u5668\uff0c\u6839\u636e\u57fa\u672c\u5bb9\u5668\u7c7b\u522b\u5b9e\u73b0\u800c\u6210\u3002\u5305\u62ec\uff1a</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#stack","title":"stack","text":"<p>\u540d\u5b57\u8bf4\u660e\u4e86\u4e00\u5207\uff0cstack \u5bb9\u5668\u5bf9\u5143\u7d20\u91c7\u53d6 LIFO\uff08\u540e\u8fdb\u5148\u51fa\uff09\u7684\u7ba1\u7406\u7b56\u7565\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#queue","title":"queue","text":"<p>queue \u5bb9\u5668\u5bf9\u5143\u7d20\u91c7\u53d6 FIFO\uff08\u5148\u8fdb\u5148\u51fa\uff09\u7684\u7ba1\u7406\u7b56\u7565\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u662f\u4e2a\u666e\u901a\u7684\u7f13\u51b2\u533a\uff08buffer\uff09\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#priority_queue","title":"priority_queue","text":"<p>priority_queue \u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u62e5\u6709\u4e0d\u540c\u7684\u4f18\u5148\u6743\u3002\u6240\u8c13\u4f18\u5148\u6743\uff0c\u4e43\u662f\u57fa\u4e8e\u7a0b\u5e8f\u5458\u63d0\u4f9b\u7684\u6392\u5e8f\u51c6\u5219\uff08\u7f3a\u7701\u4f7f\u7528 operators\uff09\u800c\u5b9a\u4e49\u3002Priority queue \u7684\u6548\u679c\u76f8\u5f53\u4e8e\u8fd9\u6837\u4e00\u4e2a buffer\uff1a\u201c\u4e0b\u4e00\u5143\u7d20\u6c38\u8fdc\u662fqueue\u4e2d\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5143\u7d20\u201d\u3002\u5982\u679c\u540c\u65f6\u6709\u591a\u4e2a\u5143\u7d20\u5177\u5907\u6700\u9ad9\u4f18\u5148\u6743\uff0c\u5219\u5176\u6b21\u5e8f\u65e0\u660e\u786e\u5b9a\u4e49\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#iterator","title":"\u8fed\u4ee3\u5668\uff08iterator\uff09","text":"<p>\u8fed\u4ee3\u5668\u662f\u7528\u4e8e\u8bbf\u95ee\u5bb9\u5668\u4e2d\u5143\u7d20\u7684\u4e00\u79cd\u5de5\u5177\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u7edf\u4e00\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u4e0d\u540c\u7c7b\u578b\u7684\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u3002</p> <p>\u8fed\u4ee3\u5668\u5171\u5206\u4e3a\u4e94\u79cd\uff0c\u5206\u522b\u4e3a:</p> <ul> <li> <p>\u8f93\u5165\u8fed\u4ee3\u5668\uff1a\u53ea\u80fd\u7528\u4e8e\u8bfb\u53d6\u5143\u7d20\u7684\u503c\u3002</p> </li> <li> <p>\u8f93\u51fa\u8fed\u4ee3\u5668\uff1a\u53ea\u80fd\u7528\u4e8e\u5199\u5165\u5143\u7d20\u7684\u503c\u3002</p> </li> <li> <p>\u524d\u5411\u8fed\u4ee3\u5668\uff1a\u53ef\u4ee5\u7528\u4e8e\u8bfb\u53d6\u5143\u7d20\u7684\u503c\uff0c\u5e76\u53ef\u4ee5\u5411\u524d\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u5143\u7d20\u3002</p> </li> <li> <p>\u53cc\u5411\u8fed\u4ee3\u5668\uff1a\u53ef\u4ee5\u7528\u4e8e\u8bfb\u53d6\u5143\u7d20\u7684\u503c\uff0c\u5e76\u53ef\u4ee5\u5411\u524d\u6216\u5411\u540e\u79fb\u52a8\u5230\u76f8\u90bb\u7684\u5143\u7d20\u3002</p> </li> <li> <p>\u968f\u673a\u8fed\u4ee3\u5668\uff1a\u53ef\u4ee5\u7528\u4e8e\u8bfb\u53d6\u5143\u7d20\u7684\u503c\uff0c\u5e76\u53ef\u4ee5\u968f\u673a\u8bbf\u95ee\u5bb9\u5668\u4e2d\u7684\u4efb\u4f55\u5143\u7d20\u3002</p> </li> </ul> <p>\u8fed\u4ee3\u5668\u652f\u6301\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li> <p>\u9012\u589e\uff1a\u5c06\u8fed\u4ee3\u5668\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u5143\u7d20\u3002</p> </li> <li> <p>\u9012\u51cf\uff1a\u5c06\u8fed\u4ee3\u5668\u79fb\u52a8\u5230\u4e0a\u4e00\u4e2a\u5143\u7d20\u3002</p> </li> <li> <p>\u89e3\u5f15\u7528\uff1a\u83b7\u53d6\u8fed\u4ee3\u5668\u6307\u5411\u7684\u5143\u7d20\u7684\u503c\u3002</p> </li> <li> <p>\u6bd4\u8f83\uff1a\u6bd4\u8f83\u4e24\u4e2a\u8fed\u4ee3\u5668\u7684\u5927\u5c0f\u3002</p> </li> </ul> <p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u53d6\u5bb9\u5668\u7684\u8fed\u4ee3\u5668\uff1a</p> <ul> <li> <p>begin()\uff1a\u83b7\u53d6\u5bb9\u5668\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002</p> </li> <li> <p>end()\uff1a\u83b7\u53d6\u5bb9\u5668\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002</p> </li> <li> <p>rbegin()\uff1a\u83b7\u53d6\u5bb9\u5668\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u9006\u5411\u8fed\u4ee3\u5668\u3002</p> </li> <li> <p>rend()\uff1a\u83b7\u53d6\u5bb9\u5668\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u9006\u5411\u8fed\u4ee3\u5668\u3002</p> </li> </ul> <p>\u4f7f\u7528\u8fed\u4ee3\u5668\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u4e8b\u9879\uff1a</p> <ul> <li> <p>\u8fed\u4ee3\u5668\u4e0d\u80fd\u6307\u5411\u5bb9\u5668\u4e4b\u5916\u7684\u5143\u7d20\u3002</p> </li> <li> <p>\u5728\u5bb9\u5668\u53d1\u751f\u6539\u53d8\u540e\uff0c\u8fed\u4ee3\u5668\u53ef\u80fd\u53d8\u5f97\u65e0\u6548\u3002</p> </li> <li> <p>\u8fed\u4ee3\u5668\u8303\u56f4\uff1a<code>begin</code>\u5230<code>end</code>\uff0c\u5373\u7b2c\u4e00\u4e2a\u5143\u7d20\u5230\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u540e\u9762\u4e00\u4e2a\u4f4d\u7f6e\u3002</p> </li> <li> <p>\u5de6\u95ed\u5408\u533a\u95f4\uff1a<code>[begin, end)</code></p> </li> <li> <p>\u5de6\u95ed\u5408\u8303\u56f4\u8574\u542b\u7684\u7f16\u7a0b\u8bbe\u5b9a\uff1a</p> <ul> <li> <p>\u5982\u679c<code>begin</code>\u548c<code>end</code>\u76f8\u7b49\uff0c\u5219\u8303\u56f4\u4e3a\u7a7a\u3002</p> </li> <li> <p>\u5982\u679c\u4e8c\u8005\u4e0d\u7b49\uff0c\u5219\u8303\u56f4\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5143\u7d20\uff0c\u4e14<code>begin</code>\u6307\u5411\u8be5\u8303\u56f4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002</p> </li> <li> <p>\u53ef\u4ee5\u5bf9<code>begin</code>\u9012\u589e\u82e5\u5e72\u6b21\uff0c\u4f7f\u5f97<code>begin == end</code>\u3002</p> </li> </ul> </li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main() {\n  vector&lt;int&gt; v;\n  int x;\n\n  // \u4f7f\u7528\u8f93\u5165\u8fed\u4ee3\u5668\u4ece\u6807\u51c6\u8f93\u5165\u4e2d\u8bfb\u53d6\u6570\u636e\n  while (cin &gt;&gt; x) {\n    v.push_back(x);\n  }\n\n  // \u6253\u5370\u8bfb\u53d6\u5230\u7684\u6570\u636e\n  for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); ++it) {\n    cout &lt;&lt; *it &lt;&lt; \" \";\n  }\n  cout &lt;&lt; endl;\n\n  // \u4f7f\u7528\u8f93\u51fa\u8fed\u4ee3\u5668\u5c06\u6570\u636e\u5199\u5165\u6807\u51c6\u8f93\u51fa\n  copy(v.begin(), v.end(), ostream_iterator&lt;int&gt;(cout, \" \"));\n  cout &lt;&lt; endl;\n\n  list&lt;int&gt; l = {1, 2, 3, 4, 5};\n\n  // \u4f7f\u7528\u524d\u5411\u8fed\u4ee3\u5668\u904d\u5386 list\n  for (list&lt;int&gt;::iterator it = l.begin(); it != l.end(); ++it) {\n    cout &lt;&lt; *it &lt;&lt; \" \";\n  }\n\n  cout &lt;&lt; endl;\n\n  deque&lt;int&gt; d = {1, 2, 3, 4, 5};\n\n  // \u4f7f\u7528\u53cc\u5411\u8fed\u4ee3\u5668\u904d\u5386 deque\n  for (deque&lt;int&gt;::iterator it = d.begin(); it != d.end(); ++it) {\n    cout &lt;&lt; *it &lt;&lt; \" \";\n  }\n\n  cout &lt;&lt; endl;\n\n  // \u4f7f\u7528\u968f\u673a\u8fed\u4ee3\u5668\u8bbf\u95ee vector \u4e2d\u7684\u5143\u7d20\n  cout &lt;&lt; v[0] &lt;&lt; \" \" &lt;&lt; v[2] &lt;&lt; \" \" &lt;&lt; v[4] &lt;&lt; endl;\n\n  return 0;\n}\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#algorithm","title":"\u7b97\u6cd5\uff08algorithm\uff09","text":"<p>STL\u7b97\u6cd5\u90e8\u5206\u4e3b\u8981\u7531\u5934\u6587\u4ef6 ,, \u7ec4\u6210\u3002\u8981\u4f7f\u7528 STL\u4e2d\u7684\u7b97\u6cd5\u51fd\u6570\u5fc5\u987b\u5305\u542b\u5934\u6587\u4ef6 \uff0c\u5bf9\u4e8e\u6570\u503c\u7b97\u6cd5\u987b\u5305\u542b \uff0c \u4e2d\u5219\u5b9a\u4e49\u4e86\u4e00\u4e9b\u6a21\u677f\u7c7b\uff0c\u7528\u6765\u58f0\u660e\u51fd\u6570\u5bf9\u8c61\u3002 <p>STL \u4e2d\u7b97\u6cd5\u5927\u81f4\u5206\u4e3a\u56db\u7c7b\uff1a</p> <p>\u975e\u53ef\u53d8\u5e8f\u5217\u7b97\u6cd5\uff1a\u6307\u4e0d\u76f4\u63a5\u4fee\u6539\u5176\u6240\u64cd\u4f5c\u7684\u5bb9\u5668\u5185\u5bb9\u7684\u7b97\u6cd5\u3002</p> <p>\u53ef\u53d8\u5e8f\u5217\u7b97\u6cd5\uff1a\u6307\u53ef\u4ee5\u4fee\u6539\u5b83\u4eec\u6240\u64cd\u4f5c\u7684\u5bb9\u5668\u5185\u5bb9\u7684\u7b97\u6cd5\u3002</p> <p>\u6392\u5e8f\u7b97\u6cd5\uff1a\u5305\u62ec\u5bf9\u5e8f\u5217\u8fdb\u884c\u6392\u5e8f\u548c\u5408\u5e76\u7684\u7b97\u6cd5\u3001\u641c\u7d22\u7b97\u6cd5\u4ee5\u53ca\u6709\u5e8f\u5e8f\u5217\u4e0a\u7684\u96c6\u5408\u64cd\u4f5c\u3002</p> <p>\u6570\u503c\u7b97\u6cd5\uff1a\u5bf9\u5bb9\u5668\u5185\u5bb9\u8fdb\u884c\u6570\u503c\u8ba1\u7b97\u3002</p> <p>\u7ec6\u81f4\u5206\u7c7b\u53ef\u5206\u4e3a 13 \u7c7b\uff0c\u7531\u4e8e\u7b97\u6cd5\u8fc7\u591a\uff0c\u6240\u4ee5\u4e0d\u4e00\u4e00\u505a\u4ecb\u7ecd\uff0c\u53ea\u9009\u53d6\u51e0\u4e2a\u6700\u5e38\u7528\u7684\u7b97\u6cd5\u4ecb\u7ecd\u3002</p>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_1","title":"\u67e5\u627e\u7b97\u6cd5","text":"<p>\u67e5\u627e\u7b97\u6cd5\u517113\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u7528\u6765\u63d0\u4f9b\u5143\u7d20\u6392\u5e8f\u7b56\u7565\uff0c\u8fd9\u91cc\u53ea\u5217\u51fa\u4e00\u90e8\u5206\u7b97\u6cd5\uff1a <ul> <li> <p>adjacent_find: \u5728iterator\u5bf9\u6807\u8bc6\u5143\u7d20\u8303\u56f4\u5185\uff0c\u67e5\u627e\u4e00\u5bf9\u76f8\u90bb\u91cd\u590d\u5143\u7d20\uff0c\u627e\u5230\u5219\u8fd4\u56de\u6307\u5411\u8fd9\u5bf9\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684ForwardIterator\u3002\u5426\u5219\u8fd4\u56delast\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u8f93\u5165\u7684\u4e8c\u5143\u64cd\u4f5c\u7b26\u4ee3\u66ff\u76f8\u7b49\u7684\u5224\u65ad\u3002</p> </li> <li> <p>count: \u5229\u7528\u7b49\u4e8e\u64cd\u4f5c\u7b26\uff0c\u628a\u6807\u5fd7\u8303\u56f4\u5185\u7684\u5143\u7d20\u4e0e\u8f93\u5165\u503c\u6bd4\u8f83\uff0c\u8fd4\u56de\u76f8\u7b49\u5143\u7d20\u4e2a\u6570\u3002</p> </li> <li> <p>count_if: \u5229\u7528\u8f93\u5165\u7684\u64cd\u4f5c\u7b26\uff0c\u5bf9\u6807\u5fd7\u8303\u56f4\u5185\u7684\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3atrue\u7684\u4e2a\u6570\u3002</p> </li> <li> <p>binary_search: \u5728\u6709\u5e8f\u5e8f\u5217\u4e2d\u67e5\u627evalue\uff0c\u627e\u5230\u8fd4\u56detrue\u3002\u91cd\u8f7d\u7684\u7248\u672c\u5b9e\u7528\u6307\u5b9a\u7684\u6bd4\u8f83\u51fd\u6570\u5bf9\u8c61\u6216\u51fd\u6570\u6307\u9488\u6765\u5224\u65ad\u76f8\u7b49\u3002</p> </li> <li> <p>equal_range: \u529f\u80fd\u7c7b\u4f3cequal\uff0c\u8fd4\u56de\u4e00\u5bf9iterator\uff0c\u7b2c\u4e00\u4e2a\u8868\u793alower_bound\uff0c\u7b2c\u4e8c\u4e2a\u8868\u793aupper_bound\u3002</p> </li> <li> <p>find: \u5229\u7528\u5e95\u5c42\u5143\u7d20\u7684\u7b49\u4e8e\u64cd\u4f5c\u7b26\uff0c\u5bf9\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u4e0e\u8f93\u5165\u503c\u8fdb\u884c\u6bd4\u8f83\u3002\u5f53\u5339\u914d\u65f6\uff0c\u7ed3\u675f\u641c\u7d22\uff0c\u8fd4\u56de\u6307\u5411\u8be5\u5143\u7d20\u7684Iterator\u3002</p> </li> <li> <p>find_if: \u4f7f\u7528\u8f93\u5165\u7684\u51fd\u6570\u4ee3\u66ff\u7b49\u4e8e\u64cd\u4f5c\u7b26\u6267\u884cfind\u3002</p> </li> <li> <p>search: \u7ed9\u51fa\u4e24\u4e2a\u8303\u56f4\uff0c\u8fd4\u56de\u4e00\u4e2aForwardIterator\uff0c\u67e5\u627e\u6210\u529f\u6307\u5411\u7b2c\u4e00\u4e2a\u8303\u56f4\u5185\u7b2c\u4e00\u6b21\u51fa\u73b0\u5b50\u5e8f\u5217(\u7b2c\u4e8c\u4e2a\u8303\u56f4)\u7684\u4f4d\u7f6e\uff0c\u67e5\u627e\u5931\u8d25\u6307\u5411last1\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>search_n: \u5728\u6307\u5b9a\u8303\u56f4\u5185\u67e5\u627eval\u51fa\u73b0n\u6b21\u7684\u5b50\u5e8f\u5217\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt;  \nusing namespace std;\nint main(int argc, char* argv[])\n{\n        int iarr[] = { 0, 1, 2, 3, 4, 5, 6, 6, 6, 7, 8 };\n        vector&lt;int&gt; iv(iarr, iarr + sizeof(iarr) / sizeof(int));\n        /*** adjacent_find: \u5728iterator\u5bf9\u6807\u8bc6\u5143\u7d20\u8303\u56f4\u5185\uff0c\u67e5\u627e\u4e00\u5bf9\u76f8\u90bb\u91cd\u590d\u5143\u7d20 ***/\n        // \u539f\u578b\uff1a _FwdIt adjacent_find(_FwdIt _First, _FwdIt _Last)\n        cout &lt;&lt; \"adjacent_find: \";\n        cout &lt;&lt; *adjacent_find(iv.begin(), iv.end()) &lt;&lt; endl;\n        /*** count: \u5229\u7528\u7b49\u4e8e\u64cd\u4f5c\u7b26\uff0c\u628a\u6807\u5fd7\u8303\u56f4\u5185\u7684\u5143\u7d20\u4e0e\u8f93\u5165\u503c\u6bd4\u8f83\uff0c\u8fd4\u56de\u76f8\u7b49\u5143\u7d20\u4e2a\u6570\u3002 ***/\n        // \u539f\u578b\uff1a count(_InIt _First, _InIt _Last, const _Ty&amp; _Val)\n        cout &lt;&lt; \"count(==7): \";\n        cout &lt;&lt; count(iv.begin(), iv.end(), 6) &lt;&lt; endl;// \u7edf\u8ba16\u7684\u4e2a\u6570\n        /*** count_if: \u5229\u7528\u8f93\u5165\u7684\u64cd\u4f5c\u7b26\uff0c\u5bf9\u6807\u5fd7\u8303\u56f4\u5185\u7684\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3atrue\u7684\u4e2a\u6570\u3002 ***/\n        // \u539f\u578b\uff1a count_if(_InIt _First, _InIt _Last, _Pr _Pred)\n        // \u7edf\u8ba1\u5c0f\u4e8e7\u7684\u5143\u7d20\u7684\u4e2a\u6570 :9\u4e2a\n        cout &lt;&lt; \"count_if(&lt;7): \";\n        cout &lt;&lt; count_if(iv.begin(), iv.end(), bind2nd(less&lt;int&gt;(), 7)) &lt;&lt; endl;\n        /*** binary_search: \u5728\u6709\u5e8f\u5e8f\u5217\u4e2d\u67e5\u627evalue\uff0c\u627e\u5230\u8fd4\u56detrue\u3002 ***/\n        // \u539f\u578b\uff1a bool binary_search(_FwdIt _First, _FwdIt _Last, const _Ty&amp; _Val)\n        cout &lt;&lt; \"binary_search: \";\n        cout &lt;&lt; binary_search(iv.begin(), iv.end(), 4) &lt;&lt; endl; // \u627e\u5230\u8fd4\u56detrue\n        /*** equal_range: \u529f\u80fd\u7c7b\u4f3cequal\uff0c\u8fd4\u56de\u4e00\u5bf9iterator\uff0c\u7b2c\u4e00\u4e2a\u8868\u793alower_bound\uff0c\u7b2c\u4e8c\u4e2a\u8868\u793aupper_bound\u3002 ***/\n        // \u539f\u578b\uff1a equal_range(_FwdIt _First, _FwdIt _Last, const _Ty&amp; _Val)\n        pair&lt;vector&lt;int&gt;::iterator, vector&lt;int&gt;::iterator&gt; pairIte;\n\n        pairIte = equal_range(iv.begin(), iv.end(), 3);\n        cout &lt;&lt; \"pairIte.first:\" &lt;&lt; *(pairIte.first) &lt;&lt; endl;// lowerbound 3\n\n        cout &lt;&lt; \"pairIte.second:\" &lt;&lt; *(pairIte.second) &lt;&lt; endl; // upperbound 4\n        /*** find: \u5229\u7528\u5e95\u5c42\u5143\u7d20\u7684\u7b49\u4e8e\u64cd\u4f5c\u7b26\uff0c\u5bf9\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u4e0e\u8f93\u5165\u503c\u8fdb\u884c\u6bd4\u8f83\u3002 ***/\n        // \u539f\u578b\uff1a _InIt find(_InIt _First, _InIt _Last, const _Ty&amp; _Val)\n        cout &lt;&lt; \"find: \";\n        cout &lt;&lt; *find(iv.begin(), iv.end(), 4) &lt;&lt; endl; // \u8fd4\u56de\u5143\u7d20\u4e3a4\u7684\u5143\u7d20\u7684\u4e0b\u6807\u4f4d\u7f6e\n        /*** find_if: \u4f7f\u7528\u8f93\u5165\u7684\u51fd\u6570\u4ee3\u66ff\u7b49\u4e8e\u64cd\u4f5c\u7b26\u6267\u884cfind\u3002 ***/\n        // \u539f\u578b\uff1a _InIt find_if(_InIt _First, _InIt _Last, _Pr _Pred)\n        cout &lt;&lt; \"find_if: \" &lt;&lt; *find_if(iv.begin(), iv.end(), bind2nd(greater&lt;int&gt;(), 2)) &lt;&lt; endl; // \u8fd4\u56de\u5927\u4e8e2\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u4f4d\u7f6e\uff1a3 \n        /*** search: \u7ed9\u51fa\u4e24\u4e2a\u8303\u56f4\uff0c\u8fd4\u56de\u4e00\u4e2aForwardIterator\uff0c\u67e5\u627e\u6210\u529f\u6307\u5411\u7b2c\u4e00\u4e2a\u8303\u56f4\u5185\u7b2c\u4e00\u6b21\u51fa\u73b0\u5b50\u5e8f\u5217\u7684\u4f4d\u7f6e\u3002 ***/\n        // \u539f\u578b\uff1a _FwdIt1 search(_FwdIt1 _First1, _FwdIt1 _Last1, _FwdIt2 _First2, _FwdIt2 _Last2)\n        // \u5728iv\u4e2d\u67e5\u627e \u5b50\u5e8f\u5217 2 3 \u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u7684\u5143\u7d20\n\n        int iarr3[3] = { 2, 3 };\n        vector&lt;int&gt; iv3(iarr3, iarr3 + 2);\n        cout &lt;&lt; \"search: \" &lt;&lt; *search(iv.begin(), iv.end(), iv3.begin(), iv3.end()) &lt;&lt; endl;\n        /*** search_n: \u5728\u6307\u5b9a\u8303\u56f4\u5185\u67e5\u627eval\u51fa\u73b0n\u6b21\u7684\u5b50\u5e8f\u5217\u3002 ***/\n        // \u539f\u578b\uff1a _FwdIt1 search_n(_FwdIt1 _First1, _FwdIt1 _Last1, _Diff2 _Count, const _Ty&amp; _Val)\n        // \u5728iv\u4e2d\u67e5\u627e 2\u4e2a6 \u51fa\u73b0\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u7684\u5143\u7d20\n\n        cout &lt;&lt; \"search_n: \" &lt;&lt; *search_n(iv.begin(), iv.end(), 2, 6) &lt;&lt; endl;  \n        return 0;\n}\n/*\nadjacent_find: 6\ncount(==7): 3\ncount_if(&lt;7): 9\nbinary_search: 1\npairIte.first:3\npairIte.second:4\nfind: 4\nfind_if: 3\nsearch: 2\nsearch_n: 6\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_2","title":"\u6392\u5e8f\u548c\u901a\u7528\u7b97\u6cd5","text":"<p>\u6392\u5e8f\u7b97\u6cd5\u517114\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u7528\u6765\u5224\u65ad\u5bb9\u5668\u4e2d\u662f\u5426\u5305\u542b\u67d0\u4e2a\u503c\uff0c\u8fd9\u91cc\u53ea\u5217\u51fa\u4e00\u90e8\u5206\u7b97\u6cd5\uff1a <ul> <li> <p>merge: \u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u5b58\u653e\u5230\u53e6\u4e00\u4e2a\u5e8f\u5217\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u3002</p> </li> <li> <p>random_shuffle: \u5bf9\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u968f\u673a\u8c03\u6574\u6b21\u5e8f\u3002\u91cd\u8f7d\u7248\u672c\u8f93\u5165\u4e00\u4e2a\u968f\u673a\u6570\u4ea7\u751f\u64cd\u4f5c\u3002</p> </li> <li> <p>nth_element: \u5c06\u8303\u56f4\u5185\u7684\u5e8f\u5217\u91cd\u65b0\u6392\u5e8f\uff0c\u4f7f\u6240\u6709\u5c0f\u4e8e\u7b2cn\u4e2a\u5143\u7d20\u7684\u5143\u7d20\u90fd\u51fa\u73b0\u5728\u5b83\u524d\u9762\uff0c\u800c\u5927\u4e8e\u5b83\u7684\u90fd\u51fa\u73b0\u5728\u540e\u9762\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>reverse: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u5143\u7d20\u91cd\u65b0\u53cd\u5e8f\u6392\u5e8f\u3002</p> </li> <li> <p>sort: \u4ee5\u5347\u5e8f\u91cd\u65b0\u6392\u5217\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>stable_sort: \u4e0esort\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u4fdd\u7559\u76f8\u7b49\u5143\u7d20\u4e4b\u95f4\u7684\u987a\u5e8f\u5173\u7cfb\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt; // \u5b9a\u4e49\u4e86greater&lt;int&gt;()\nusing namespace std;\n// \u8981\u6ce8\u610f\u7684\u6280\u5de7\ntemplate &lt;class T&gt;\nstruct display\n{\n        void operator()(const T&amp;x) const\n        {\n                cout &lt;&lt; x &lt;&lt; \" \";\n        }\n};\n// \u5982\u679c\u60f3\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u53ef\u4ee5\u91c7\u7528\u5148\u6392\u5e8f\u540e\u53cd\u8f6c\u7684\u65b9\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u65b9\u6cd5:\n// \u81ea\u5b9a\u4e49\u4ece\u5927\u5230\u5c0f\u7684\u6bd4\u8f83\u5668\uff0c\u7528\u6765\u6539\u53d8\u6392\u5e8f\u65b9\u5f0f\nbool Comp(const int&amp; a, const int&amp; b) {\n        return a &gt; b;\n}\nint main(int argc, char* argv[])\n{\n        int iarr1[] = { 0, 1, 2, 3, 4, 5, 6, 6, 6, 7, 8 };\n        vector&lt;int&gt; iv1(iarr1, iarr1 + sizeof(iarr1) / sizeof(int));\n        vector&lt;int&gt; iv2(iarr1 + 4, iarr1 + 8); // 4 5 6 6\n        vector&lt;int&gt; iv3(15);\n        /*** merge: \u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u5b58\u653e\u5230\u53e6\u4e00\u4e2a\u5e8f\u5217 ***/\n        // iv1\u548civ2\u5408\u5e76\u5230iv3\u4e2d\uff08\u5408\u5e76\u540e\u4f1a\u81ea\u52a8\u6392\u5e8f\uff09\n        merge(iv1.begin(), iv1.end(), iv2.begin(), iv2.end(), iv3.begin());\n        cout &lt;&lt; \"merge\u5408\u5e76\u540e: \";\n        for_each(iv3.begin(), iv3.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** random_shuffle: \u5bf9\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u968f\u673a\u8c03\u6574\u6b21\u5e8f\u3002 ***/\n        int iarr2[] = { 0, 1, 2, 3, 4, 5, 6, 7, 8 };\n        vector&lt;int&gt; iv4(iarr2, iarr2 + sizeof(iarr2) / sizeof(int));\n        // \u6253\u4e71\u987a\u5e8f\n\n        random_shuffle(iv4.begin(), iv4.end());\n        cout &lt;&lt; \"random_shuffle\u6253\u4e71\u540e: \";\n        for_each(iv4.begin(), iv4.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** nth_element: \u5c06\u8303\u56f4\u5185\u7684\u5e8f\u5217\u91cd\u65b0\u6392\u5e8f\u3002 ***/\n        // \u5c06\u5c0f\u4e8eiv.begin+5\u7684\u653e\u5230\u5de6\u8fb9\n\n        nth_element(iv4.begin(), iv4.begin() + 5, iv4.end());\n        cout &lt;&lt; \"nth_element\u91cd\u65b0\u6392\u5e8f\u540e: \";\n        for_each(iv4.begin(), iv4.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** reverse: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u5143\u7d20\u91cd\u65b0\u53cd\u5e8f\u6392\u5e8f\u3002 ***/\n        reverse(iv4.begin(), iv4.begin());\n        cout &lt;&lt; \"reverse\u7ffb\u8f6c\u540e: \";\n        for_each(iv4.begin(), iv4.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** sort: \u4ee5\u5347\u5e8f\u91cd\u65b0\u6392\u5217\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u3002 ***/\n        // sort(iv4.begin(), iv4.end(), Comp); // \u4e5f\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49Comp()\u51fd\u6570\n        sort(iv4.begin(), iv4.end(), greater&lt;int&gt;());\n        cout &lt;&lt; \"sort\u6392\u5e8f\uff08\u5012\u5e8f\uff09: \";\n        for_each(iv4.begin(), iv4.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** stable_sort: \u4e0esort\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u4fdd\u7559\u76f8\u7b49\u5143\u7d20\u4e4b\u95f4\u7684\u987a\u5e8f\u5173\u7cfb\u3002 ***/\n        int iarr3[] = { 0, 1, 2, 3, 3, 4, 4, 5, 6 };\n        vector&lt;int&gt; iv5(iarr3, iarr3 + sizeof(iarr3) / sizeof(int));\n        stable_sort(iv5.begin(), iv5.end(), greater&lt;int&gt;());\n        cout &lt;&lt; \"stable_sort\u6392\u5e8f\uff08\u5012\u5e8f\uff09: \";\n        for_each(iv5.begin(), iv5.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\nmerge\u5408\u5e76\u540e: 0 1 2 3 4 4 5 5 6 6 6 6 6 7 8\nrandom_shuffle\u6253\u4e71\u540e: 8 1 6 2 0 5 7 3 4\nnth_element\u91cd\u65b0\u6392\u5e8f\u540e: 0 1 2 3 4 5 6 7 8\nreverse\u7ffb\u8f6c\u540e: 0 1 2 3 4 5 6 7 8\nsort\u6392\u5e8f\uff08\u5012\u5e8f\uff09: 8 7 6 5 4 3 2 1 0\nstable_sort\u6392\u5e8f\uff08\u5012\u5e8f\uff09: 6 5 4 4 3 3 2 1 0\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_3","title":"\u5220\u9664\u548c\u66ff\u6362\u7b97\u6cd5","text":"<p>\u5220\u9664\u548c\u66ff\u6362\u7b97\u6cd5\u517115\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u8fd9\u91cc\u53ea\u5217\u51fa\u4e00\u90e8\u5206\u7b97\u6cd5\uff1a <ul> <li> <p>copy: \u590d\u5236\u5e8f\u5217\u3002</p> </li> <li> <p>copy_backward: \u4e0ecopy\u76f8\u540c\uff0c\u4e0d\u8fc7\u5143\u7d20\u662f\u4ee5\u76f8\u53cd\u987a\u5e8f\u88ab\u62f7\u8d1d\u3002</p> </li> <li> <p>remove: \u5220\u9664\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u7b49\u4e8e\u6307\u5b9a\u5143\u7d20\u7684\u5143\u7d20\u3002\u6ce8\u610f\uff0c\u8be5\u51fd\u6570\u4e0d\u662f\u771f\u6b63\u5220\u9664\u51fd\u6570\u3002\u5185\u7f6e\u51fd\u6570\u4e0d\u9002\u5408\u4f7f\u7528remove\u548cremove_if\u51fd\u6570\u3002</p> </li> <li> <p>remove_copy: \u5c06\u6240\u6709\u4e0d\u5339\u914d\u5143\u7d20\u590d\u5236\u5230\u4e00\u4e2a\u5236\u5b9a\u5bb9\u5668\uff0c\u8fd4\u56deOutputIterator\u6307\u5411\u88ab\u62f7\u8d1d\u7684\u672b\u5143\u7d20\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u3002</p> </li> <li> <p>remove_if: \u5220\u9664\u6307\u5b9a\u8303\u56f4\u5185\u8f93\u5165\u64cd\u4f5c\u7ed3\u679c\u4e3atrue\u7684\u6240\u6709\u5143\u7d20\u3002</p> </li> <li> <p>remove_copy_if: \u5c06\u6240\u6709\u4e0d\u5339\u914d\u5143\u7d20\u62f7\u8d1d\u5230\u4e00\u4e2a\u6307\u5b9a\u5bb9\u5668\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt; // \u5b9a\u4e49\u4e86greater&lt;int&gt;()\nusing namespace std;\ntemplate &lt;class T&gt;\nstruct display\n{\n        void operator()(const T&amp;x) const\n        {\n                cout &lt;&lt; x &lt;&lt; \" \";\n        }\n};\nint main(int argc, char* argv[])\n{\n        int iarr1[] = { 0, 1, 2, 3, 4, 5, 6, 7, 8 };\n        vector&lt;int&gt; iv1(iarr1, iarr1 + sizeof(iarr1) / sizeof(int));\n        vector&lt;int&gt; iv2(9);\n        /*** copy: \u590d\u5236\u5e8f\u5217 ***/\n        //  \u539f\u578b\uff1a _OutIt copy(_InIt _First, _InIt _Last,_OutIt _Dest)\n        copy(iv1.begin(), iv1.end(), iv2.begin());\n        cout &lt;&lt; \"copy(iv2): \";\n        for_each(iv2.begin(), iv2.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** copy_backward: \u4e0ecopy\u76f8\u540c\uff0c\u4e0d\u8fc7\u5143\u7d20\u662f\u4ee5\u76f8\u53cd\u987a\u5e8f\u88ab\u62f7\u8d1d\u3002 ***/\n        //  \u539f\u578b\uff1a _BidIt2 copy_backward(_BidIt1 _First, _BidIt1 _Last,_BidIt2 _Dest)\n        copy_backward(iv1.begin(), iv1.end(), iv2.rend());\n        cout &lt;&lt; \"copy_backward(iv2): \";\n        for_each(iv2.begin(), iv2.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** remove: \u5220\u9664\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u7b49\u4e8e\u6307\u5b9a\u5143\u7d20\u7684\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a _FwdIt remove(_FwdIt _First, _FwdIt _Last, const _Ty&amp; _Val)\n        remove(iv1.begin(), iv1.end(), 5); // \u5220\u9664\u5143\u7d205\n        cout &lt;&lt; \"remove(iv1): \";\n        for_each(iv1.begin(), iv1.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** remove_copy: \u5c06\u6240\u6709\u4e0d\u5339\u914d\u5143\u7d20\u590d\u5236\u5230\u4e00\u4e2a\u5236\u5b9a\u5bb9\u5668\uff0c\u8fd4\u56deOutputIterator\u6307\u5411\u88ab\u62f7\u8d1d\u7684\u672b\u5143\u7d20\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u3002 ***/\n        //  \u539f\u578b\uff1a         _OutIt remove_copy(_InIt _First, _InIt _Last,_OutIt _Dest, const _Ty&amp; _Val)\n        vector&lt;int&gt; iv3(8);\n        remove_copy(iv1.begin(), iv1.end(), iv3.begin(), 4); // \u53bb\u96644 \u7136\u540e\u5c06\u4e00\u4e2a\u5bb9\u5668\u7684\u5143\u7d20\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\n        cout &lt;&lt; \"remove_copy(iv3): \";\n        for_each(iv3.begin(), iv3.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** remove_if: \u5220\u9664\u6307\u5b9a\u8303\u56f4\u5185\u8f93\u5165\u64cd\u4f5c\u7ed3\u679c\u4e3atrue\u7684\u6240\u6709\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a _FwdIt remove_if(_FwdIt _First, _FwdIt _Last, _Pr _Pred)\n        remove_if(iv3.begin(), iv3.end(), bind2nd(less&lt;int&gt;(), 6)); //  \u5c06\u5c0f\u4e8e6\u7684\u5143\u7d20 \"\u5220\u9664\"\n        cout &lt;&lt; \"remove_if(iv3): \";\n        for_each(iv3.begin(), iv3.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** remove_copy_if: \u5c06\u6240\u6709\u4e0d\u5339\u914d\u5143\u7d20\u62f7\u8d1d\u5230\u4e00\u4e2a\u6307\u5b9a\u5bb9\u5668\u3002 ***/\n        // \u539f\u578b\uff1a _OutIt remove_copy_if(_InIt _First, _InIt _Last,_OutIt _Dest, _Pr _Pred)\n        //  \u5c06iv1\u4e2d\u5c0f\u4e8e6\u7684\u5143\u7d20 \"\u5220\u9664\"\u540e\uff0c\u5269\u4e0b\u7684\u5143\u7d20\u518d\u590d\u5236\u7ed9iv3\n        remove_copy_if(iv1.begin(), iv1.end(), iv2.begin(), bind2nd(less&lt;int&gt;(), 4));\n        cout &lt;&lt; \"remove_if(iv2): \";\n        for_each(iv2.begin(), iv2.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\ncopy(iv2): 0 1 2 3 4 5 6 7 8\ncopy_backward(iv2): 8 7 6 5 4 3 2 1 0\nremove(iv1): 0 1 2 3 4 6 7 8 8\nremove_copy(iv3): 0 1 2 3 6 7 8 8\nremove_if(iv3): 6 7 8 8 6 7 8 8\nremove_if(iv2): 4 6 7 8 8 3 2 1 0\n*/\n</code></pre> <ul> <li> <p>replace: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u7b49\u4e8evold\u7684\u5143\u7d20\u90fd\u7528vnew\u4ee3\u66ff\u3002</p> </li> <li> <p>replace_copy: \u4e0ereplace\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u5c06\u7ed3\u679c\u5199\u5165\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002</p> </li> <li> <p>replace_if: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u64cd\u4f5c\u7ed3\u679c\u4e3atrue\u7684\u5143\u7d20\u7528\u65b0\u503c\u4ee3\u66ff\u3002</p> </li> <li> <p>replace_copy_if: \u4e0ereplace_if\uff0c\u4e0d\u8fc7\u5c06\u7ed3\u679c\u5199\u5165\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002</p> </li> <li> <p>swap: \u4ea4\u6362\u5b58\u50a8\u5728\u4e24\u4e2a\u5bf9\u8c61\u4e2d\u7684\u503c\u3002</p> </li> <li> <p>swap_range: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u4e0e\u53e6\u4e00\u4e2a\u5e8f\u5217\u5143\u7d20\u503c\u8fdb\u884c\u4ea4\u6362\u3002</p> </li> <li> <p>unique: \u6e05\u9664\u5e8f\u5217\u4e2d\u91cd\u590d\u5143\u7d20\uff0c\u548cremove\u7c7b\u4f3c\uff0c\u5b83\u4e5f\u4e0d\u80fd\u771f\u6b63\u5220\u9664\u5143\u7d20\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>unique_copy: \u4e0eunique\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u628a\u7ed3\u679c\u8f93\u51fa\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt; // \u5b9a\u4e49\u4e86greater&lt;int&gt;()\nusing namespace std;\ntemplate &lt;class T&gt;\nstruct display\n{\n        void operator()(const T&amp;x) const\n        {\n                cout &lt;&lt; x &lt;&lt; \" \";\n        }\n};\nint main(int argc, char* argv[])\n{\n        int iarr[] = { 8, 10, 7, 8, 6, 6, 7, 8, 6, 7, 8 };\n        vector&lt;int&gt; iv(iarr, iarr + sizeof(iarr) / sizeof(int));\n        /*** replace: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u7b49\u4e8evold\u7684\u5143\u7d20\u90fd\u7528vnew\u4ee3\u66ff\u3002 ***/\n        //  \u539f\u578b\uff1a void replace(_FwdIt _First, _FwdIt _Last, const _Ty&amp; _Oldval, const _Ty&amp; _Newval)\n        // \u5c06\u5bb9\u5668\u4e2d6 \u66ff\u6362\u4e3a 3\n\n        replace(iv.begin(), iv.end(), 6, 3);\n        cout &lt;&lt; \"replace(iv): \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;()); // \u7531\u4e8e_X\u662fstatic \u6240\u4ee5\u63a5\u7740 \u589e\u957f\n        cout &lt;&lt; endl; // iv:8 10 7 8 3 3 7 8 3 7 8   \n        /*** replace_copy: \u4e0ereplace\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u5c06\u7ed3\u679c\u5199\u5165\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt replace_copy(_InIt _First, _InIt _Last, _OutIt _Dest, const _Ty&amp; _Oldval, const _Ty&amp; _Newval)\n        vector&lt;int&gt; iv2(12);\n        // \u5c06\u5bb9\u5668\u4e2d3 \u66ff\u6362\u4e3a 5\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002\n\n        replace_copy(iv.begin(), iv.end(), iv2.begin(), 3, 5);\n        cout &lt;&lt; \"replace_copy(iv2): \";\n        for_each(iv2.begin(), iv2.end(), display&lt;int&gt;());\n\n        cout &lt;&lt; endl; // iv2:8 10 7 8 5 5 7 8 5 7 8 0\uff08\u6700\u540ey\u4e00\u4e2a\u6b8b\u7559\u5143\u7d20\uff09   \n        /*** replace_if: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u64cd\u4f5c\u7ed3\u679c\u4e3atrue\u7684\u5143\u7d20\u7528\u65b0\u503c\u4ee3\u66ff\u3002 ***/\n        //  \u539f\u578b\uff1a void replace_if(_FwdIt _First, _FwdIt _Last, _Pr _Pred, const _Ty&amp; _Val)\n        // \u5c06\u5bb9\u5668\u4e2d\u5c0f\u4e8e 5 \u66ff\u6362\u4e3a 2\n\n        replace_if(iv.begin(), iv.end(), bind2nd(less&lt;int&gt;(), 5), 2);\n        cout &lt;&lt; \"replace_copy(iv): \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n\n        cout &lt;&lt; endl; // iv:8 10 7 8 2 5 7 8 2 7 8   \n        /*** replace_copy_if: \u4e0ereplace_if\uff0c\u4e0d\u8fc7\u5c06\u7ed3\u679c\u5199\u5165\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt replace_copy_if(_InIt _First, _InIt _Last, _OutIt _Dest, _Pr _Pred, const _Ty&amp; _Val)\n        // \u5c06\u5bb9\u5668\u4e2d\u5c0f\u4e8e 5 \u66ff\u6362\u4e3a 2\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002\n\n        replace_copy_if(iv.begin(), iv.end(), iv2.begin(), bind2nd(equal_to&lt;int&gt;(), 8), 9);\n        cout &lt;&lt; \"replace_copy_if(iv2): \";\n        for_each(iv2.begin(), iv2.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl; // iv2:9 10 7 8 2 5 7 9 2 7 8 0(\u6700\u540e\u4e00\u4e2a\u6b8b\u7559\u5143\u7d20)\n        int iarr3[] = { 0, 1, 2, 3, 4, 5, 6, 7, 8, };\n        vector&lt;int&gt; iv3(iarr3, iarr3 + sizeof(iarr3) / sizeof(int));\n        int iarr4[] = { 8, 10, 7, 8, 6, 6, 7, 8, 6, };\n        vector&lt;int&gt; iv4(iarr4, iarr4 + sizeof(iarr4) / sizeof(int));\n        /*** swap: \u4ea4\u6362\u5b58\u50a8\u5728\u4e24\u4e2a\u5bf9\u8c61\u4e2d\u7684\u503c\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt replace_copy_if(_InIt _First, _InIt _Last, _OutIt _Dest, _Pr _Pred, const _Ty&amp; _Val)\n        // \u5c06\u4e24\u4e2a\u5bb9\u5668\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4ea4\u6362\n\n        swap(*iv3.begin(), *iv4.begin());\n        cout &lt;&lt; \"swap(iv3): \";\n        for_each(iv3.begin(), iv3.end(), display&lt;int&gt;());\n\n        cout &lt;&lt; endl;\n        /*** swap_range: \u5c06\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u4e0e\u53e6\u4e00\u4e2a\u5e8f\u5217\u5143\u7d20\u503c\u8fdb\u884c\u4ea4\u6362\u3002 ***/\n        //  \u539f\u578b\uff1a _FwdIt2 swap_ranges(_FwdIt1 _First1, _FwdIt1 _Last1, _FwdIt2 _Dest)\n        // \u5c06\u4e24\u4e2a\u5bb9\u5668\u4e2d\u7684\u5168\u90e8\u5143\u7d20\u8fdb\u884c\u4ea4\u6362\n\n        swap_ranges(iv4.begin(), iv4.end(), iv3.begin());\n        cout &lt;&lt; \"swap_range(iv3): \";\n        for_each(iv3.begin(), iv3.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** unique: \u6e05\u9664\u5e8f\u5217\u4e2d\u76f8\u90bb\u7684\u91cd\u590d\u5143\u7d20\uff0c\u548cremove\u7c7b\u4f3c\uff0c\u5b83\u4e5f\u4e0d\u80fd\u771f\u6b63\u5220\u9664\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a _FwdIt unique(_FwdIt _First, _FwdIt _Last, _Pr _Pred)\n        unique(iv3.begin(), iv3.end());\n        cout &lt;&lt; \"unique(iv3): \";\n        for_each(iv3.begin(), iv3.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** unique_copy: \u4e0eunique\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u628a\u7ed3\u679c\u8f93\u51fa\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt unique_copy(_InIt _First, _InIt _Last, _OutIt _Dest, _Pr _Pred)\n        unique_copy(iv3.begin(), iv3.end(), iv4.begin());\n        cout &lt;&lt; \"unique_copy(iv4): \";\n        for_each(iv4.begin(), iv4.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\nreplace(iv): 8 10 7 8 3 3 7 8 3 7 8\nreplace_copy(iv2): 8 10 7 8 5 5 7 8 5 7 8 0\nreplace_copy(iv): 8 10 7 8 2 2 7 8 2 7 8\nreplace_copy_if(iv2): 9 10 7 9 2 2 7 9 2 7 9 0\nswap(iv3): 8 1 2 3 4 5 6 7 8\nswap_range(iv3): 0 10 7 8 6 6 7 8 6\nunique(iv3): 0 10 7 8 6 7 8 6 6\nunique_copy(iv4): 0 10 7 8 6 7 8 6 8\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_4","title":"\u6392\u5217\u7ec4\u5408\u7b97\u6cd5","text":"<p>\u6392\u5217\u7ec4\u5408\u7b97\u6cd5\u51712\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u7528\u6765\u63d0\u4f9b\u8ba1\u7b97\u7ed9\u5b9a\u96c6\u5408\u6309\u4e00\u5b9a\u987a\u5e8f\u7684\u6240\u6709\u53ef\u80fd\u6392\u5217\u7ec4\u5408\uff0c\u8fd9\u91cc\u5168\u90e8\u5217\u51fa\uff1a <ul> <li> <p>next_permutation: \u53d6\u51fa\u5f53\u524d\u8303\u56f4\u5185\u7684\u6392\u5217\uff0c\u5e76\u91cd\u65b0\u6392\u5e8f\u4e3a\u4e0b\u4e00\u4e2a\u5b57\u5178\u5e8f\u6392\u5217\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>prev_permutation: \u53d6\u51fa\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5e8f\u5217\u5e76\u5c06\u5b83\u91cd\u65b0\u6392\u5e8f\u4e3a\u4e0a\u4e00\u4e2a\u5b57\u5178\u5e8f\u6392\u5217\u3002\u5982\u679c\u4e0d\u5b58\u5728\u4e0a\u4e00\u4e2a\u5e8f\u5217\u5219\u8fd4\u56defalse\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\ntemplate &lt;class T&gt;\nstruct display\n{\n        void operator()(const T&amp;x) const\n        {\n                cout &lt;&lt; x &lt;&lt; \" \";\n        }\n};\nint main(int argc, char* argv[])\n{\n        int iarr[] = { 12, 17, 20, 22, 23, 30, 33, 40 };\n        vector&lt;int&gt; iv(iarr, iarr + sizeof(iarr) / sizeof(int));\n        /*** next_permutation: \u53d6\u51fa\u5f53\u524d\u8303\u56f4\u5185\u7684\u6392\u5217\uff0c\u5e76\u91cd\u65b0\u6392\u5e8f\u4e3a\u4e0b\u4e00\u4e2a\u5b57\u5178\u5e8f\u6392\u5217\u3002***/\n        //  \u539f\u578b\uff1a bool next_permutation(_BidIt _First, _BidIt _Last)\n        // \u751f\u6210\u4e0b\u4e00\u4e2a\u6392\u5217\u7ec4\u5408\uff08\u5b57\u5178\u5e8f\uff09\n\n        next_permutation(iv.begin(), iv.end());\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** prev_permutation: \u53d6\u51fa\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5e8f\u5217\u5e76\u5c06\u5b83\u91cd\u65b0\u6392\u5e8f\u4e3a\u4e0a\u4e00\u4e2a\u5b57\u5178\u5e8f\u6392\u5217\u3002 ***/\n        //  \u539f\u578b\uff1a bool prev_permutation(_BidIt _First, _BidIt _Last)\n        prev_permutation(iv.begin(), iv.end());\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\n12 17 20 22 23 30 40 33\n12 17 20 22 23 30 33 40\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_5","title":"\u6570\u503c\u7b97\u6cd5","text":"<p>\u6570\u503c\u7b97\u6cd5\u51714\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u5206\u522b\u662f\uff1a <ul> <li> <p>accumulate: iterator\u5bf9\u6807\u8bc6\u7684\u5e8f\u5217\u6bb5\u5143\u7d20\u4e4b\u548c\uff0c\u52a0\u5230\u4e00\u4e2a\u7531val\u6307\u5b9a\u7684\u521d\u59cb\u503c\u4e0a\u3002\u91cd\u8f7d\u7248\u672c\u4e0d\u518d\u505a\u52a0\u6cd5\uff0c\u800c\u662f\u4f20\u8fdb\u6765\u7684\u4e8c\u5143\u64cd\u4f5c\u7b26\u88ab\u5e94\u7528\u5230\u5143\u7d20\u4e0a\u3002</p> </li> <li> <p>partial_sum: \u521b\u5efa\u4e00\u4e2a\u65b0\u5e8f\u5217\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u503c\u4ee3\u8868\u6307\u5b9a\u8303\u56f4\u5185\u8be5\u4f4d\u7f6e\u524d\u6240\u6709\u5143\u7d20\u4e4b\u548c\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u64cd\u4f5c\u4ee3\u66ff\u52a0\u6cd5\u3002</p> </li> <li> <p>inner_product: \u5bf9\u4e24\u4e2a\u5e8f\u5217\u505a\u5185\u79ef(\u5bf9\u5e94\u5143\u7d20\u76f8\u4e58\uff0c\u518d\u6c42\u548c)\u5e76\u5c06\u5185\u79ef\u52a0\u5230\u4e00\u4e2a\u8f93\u5165\u7684\u521d\u59cb\u503c\u4e0a\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u7528\u6237\u5b9a\u4e49\u7684\u64cd\u4f5c\u3002</p> </li> <li> <p>adjacent_difference: \u521b\u5efa\u4e00\u4e2a\u65b0\u5e8f\u5217\uff0c\u65b0\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u65b0\u503c\u4ee3\u8868\u5f53\u524d\u5143\u7d20\u4e0e\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u5dee\u3002\u91cd\u8f7d\u7248\u672c\u7528\u6307\u5b9a\u4e8c\u5143\u64cd\u4f5c\u8ba1\u7b97\u76f8\u90bb\u5143\u7d20\u7684\u5dee\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;numeric&gt; // \u6570\u503c\u7b97\u6cd5\n#include &lt;iterator&gt; // \u5b9a\u4e49\u4e86ostream_iterator\nusing namespace std;\nint main(int argc, char* argv[])\n{\n        int arr[] = { 1, 2, 3, 4, 5 };\n        vector&lt;int&gt; vec(arr, arr + 5);\n        vector&lt;int&gt; vec2(arr, arr + 5);\n        //  accumulate: iterator\u5bf9\u6807\u8bc6\u7684\u5e8f\u5217\u6bb5\u5143\u7d20\u4e4b\u548c\uff0c\u52a0\u5230\u4e00\u4e2a\u7531val\u6307\u5b9a\u7684\u521d\u59cb\u503c\u4e0a\u3002\n        int temp;\n        int val = 0;\n        temp = accumulate(vec.begin(), vec.end(), val);\n        cout &lt;&lt; \"accumulate(val = 0): \" &lt;&lt; temp &lt;&lt; endl;\n        val = 1;\n        temp = accumulate(vec.begin(), vec.end(), val);\n        cout &lt;&lt; \"accumulate(val = 1): \" &lt;&lt; temp &lt;&lt; endl;\n        // inner_product: \u5bf9\u4e24\u4e2a\u5e8f\u5217\u505a\u5185\u79ef(\u5bf9\u5e94\u5143\u7d20\u76f8\u4e58\uff0c\u518d\u6c42\u548c)\u5e76\u5c06\u5185\u79ef\u52a0\u5230\u4e00\u4e2a\u8f93\u5165\u7684\u521d\u59cb\u503c\u4e0a\u3002\n        // \u8fd9\u91cc\u662f\uff1a1\n*1 + 2*\n2 + 3\n*3 + 4*\n4 + 5*5\n        val = 0;\n        temp = inner_product(vec.begin(), vec.end(), vec2.begin(), val);\n        cout &lt;&lt; \"inner_product(val = 0): \" &lt;&lt; temp &lt;&lt; endl;\n        // partial_sum: \u521b\u5efa\u4e00\u4e2a\u65b0\u5e8f\u5217\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u503c\u4ee3\u8868\u6307\u5b9a\u8303\u56f4\u5185\u8be5\u4f4d\u7f6e\u524d\u6240\u6709\u5143\u7d20\u4e4b\u548c\u3002\n        // \u7b2c\u4e00\u6b21\uff0c1   \u7b2c\u4e8c\u6b21\uff0c1+2  \u7b2c\u4e09\u6b21\uff0c1+2+3  \u7b2c\u56db\u6b21\uff0c1+2+3+4\n        ostream_iterator&lt;int&gt; oit(cout, \" \"); // \u8fed\u4ee3\u5668\u7ed1\u5b9a\u5230cout\u4e0a\u4f5c\u4e3a\u8f93\u51fa\u4f7f\u7528\n        cout &lt;&lt; \"ostream_iterator: \";\n        partial_sum(vec.begin(), vec.end(), oit);// \u4f9d\u6b21\u8f93\u51fa\u524dn\u4e2a\u6570\u7684\u548c\n        cout &lt;&lt; endl;\n        // \u7b2c\u4e00\u6b21\uff0c1   \u7b2c\u4e8c\u6b21\uff0c1-2  \u7b2c\u4e09\u6b21\uff0c1-2-3  \u7b2c\u56db\u6b21\uff0c1-2-3-4\n        cout &lt;&lt; \"ostream_iterator(minus): \";\n        partial_sum(vec.begin(), vec.end(), oit, minus&lt;int&gt;());// \u4f9d\u6b21\u8f93\u51fa\u7b2c\u4e00\u4e2a\u6570\u51cf\u53bb\uff08\u9664\u7b2c\u4e00\u4e2a\u6570\u5916\u5230\u5f53\u524d\u6570\u7684\u548c\uff09\n        cout &lt;&lt; endl;\n        // adjacent_difference: \u521b\u5efa\u4e00\u4e2a\u65b0\u5e8f\u5217\uff0c\u65b0\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u65b0\u503c\u4ee3\u8868\u5f53\u524d\u5143\u7d20\u4e0e\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u5dee\u3002\n        // \u7b2c\u4e00\u6b21\uff0c1-0   \u7b2c\u4e8c\u6b21\uff0c2-1  \u7b2c\u4e09\u6b21\uff0c3-2  \u7b2c\u56db\u6b21\uff0c4-3\n        cout &lt;&lt; \"adjacent_difference: \";\n        adjacent_difference(vec.begin(), vec.end(), oit); // \u8f93\u51fa\u76f8\u90bb\u5143\u7d20\u5dee\u503c \u540e\u9762-\u524d\u9762\n        cout &lt;&lt; endl;\n        // \u7b2c\u4e00\u6b21\uff0c1+0   \u7b2c\u4e8c\u6b21\uff0c2+1  \u7b2c\u4e09\u6b21\uff0c3+2  \u7b2c\u56db\u6b21\uff0c4+3\n        cout &lt;&lt; \"adjacent_difference(plus): \";\n        adjacent_difference(vec.begin(), vec.end(), oit, plus&lt;int&gt;()); // \u8f93\u51fa\u76f8\u90bb\u5143\u7d20\u5dee\u503c \u540e\u9762-\u524d\u9762\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\naccumulate(val = 0): 15\naccumulate(val = 1): 16\ninner_product(val = 0): 55\nostream_iterator: 1 3 6 10 15\nostream_iterator(minus): 1 -1 -4 -8 -13\nadjacent_difference: 1 1 1 1 1\nadjacent_difference(plus): 1 3 5 7 9\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_6","title":"\u751f\u6210\u548c\u5f02\u53d8\u7b97\u6cd5","text":"<p>\u751f\u6210\u548c\u5f02\u53d8\u7b97\u6cd5\u51716\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u8fd9\u91cc\u53ea\u5217\u51fa\u4e00\u90e8\u5206\u7b97\u6cd5\uff1a <ul> <li> <p>fill: \u5c06\u8f93\u5165\u503c\u8d4b\u7ed9\u6807\u5fd7\u8303\u56f4\u5185\u7684\u6240\u6709\u5143\u7d20\u3002</p> </li> <li> <p>fill_n: \u5c06\u8f93\u5165\u503c\u8d4b\u7ed9first\u5230first+n\u8303\u56f4\u5185\u7684\u6240\u6709\u5143\u7d20\u3002</p> </li> <li> <p>for_each: \u7528\u6307\u5b9a\u51fd\u6570\u4f9d\u6b21\u5bf9\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u5143\u7d20\u8fdb\u884c\u8fed\u4ee3\u8bbf\u95ee\uff0c\u8fd4\u56de\u6240\u6307\u5b9a\u7684\u51fd\u6570\u7c7b\u578b\u3002\u8be5\u51fd\u6570\u4e0d\u5f97\u4fee\u6539\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u3002</p> </li> <li> <p>generate: \u8fde\u7eed\u8c03\u7528\u8f93\u5165\u7684\u51fd\u6570\u6765\u586b\u5145\u6307\u5b9a\u7684\u8303\u56f4\u3002</p> </li> <li> <p>generate_n: \u4e0egenerate\u51fd\u6570\u7c7b\u4f3c\uff0c\u586b\u5145\u4ece\u6307\u5b9aiterator\u5f00\u59cb\u7684n\u4e2a\u5143\u7d20\u3002</p> </li> <li> <p>transform: \u5c06\u8f93\u5165\u7684\u64cd\u4f5c\u4f5c\u7528\u4e0e\u6307\u5b9a\u8303\u56f4\u5185\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u5e76\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u5e8f\u5217\u3002\u91cd\u8f7d\u7248\u672c\u5c06\u64cd\u4f5c\u4f5c\u7528\u5728\u4e00\u5bf9\u5143\u7d20\u4e0a\uff0c\u53e6\u5916\u4e00\u4e2a\u5143\u7d20\u6765\u81ea\u8f93\u5165\u7684\u53e6\u5916\u4e00\u4e2a\u5e8f\u5217\u3002\u7ed3\u679c\u8f93\u51fa\u5230\u6307\u5b9a\u5bb9\u5668\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt;\nusing namespace std;\ntemplate &lt;class T&gt;\nstruct display\n{\n        void operator()(const T&amp;x) const\n        {\n                cout &lt;&lt; x &lt;&lt; \" \";\n        }\n};\n//  \u4f5c\u7528\u7c7b\u4f3c\u4e8e\u4e0a\u9762\u7ed3\u6784\u4f53\uff0c\u53ea\u4e0d\u8fc7\u53ea\u80fd\u663e\u793aint\u7c7b\u578b\u7684\u6570\u636e\nvoid printElem(int&amp; elem)\n{\n        cout &lt;&lt; elem &lt;&lt; \" \";\n}\ntemplate&lt;class T&gt;\nstruct plus2\n{\n        void operator()(T&amp;x)const\n        {\n                x += 2;\n        }\n};\nclass even_by_two\n{\nprivate:\n        static int _x; //  \u6ce8\u610f\u9759\u6001\u53d8\u91cf   \npublic:\n        int operator()()const\n        {\n                return _x += 2;\n        }\n};\nint even_by_two::_x = 0; //  \u521d\u59cb\u5316\u9759\u6001\u53d8\u91cf\nint main(int argc, char* argv[])\n{\n        int iarr[] = { 0, 1, 2, 3, 4, 5, 6, 7, 8 };\n        vector&lt;int&gt; iv(iarr, iarr + sizeof(iarr) / sizeof(int));\n        /*** fill: \u5c06\u8f93\u5165\u503c\u8d4b\u7ed9\u6807\u5fd7\u8303\u56f4\u5185\u7684\u6240\u6709\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a void fill(_FwdIt _First, _FwdIt _Last, const _Ty&amp; _Val)\n\n        fill(iv.begin(), iv.end(),5);\n        cout &lt;&lt; \"fill: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** fill_n: \u5c06\u8f93\u5165\u503c\u8d4b\u7ed9first\u5230first+n\u8303\u56f4\u5185\u7684\u6240\u6709\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt fill_n(_OutIt _Dest, _Diff _Count, const _Ty&amp; _Val)\n        fill_n(iv.begin(), 4, 3); //  \u8d4b4\u4e2a3\u7ed9iv\n        cout &lt;&lt; \"fill_n: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** for_each: \u7528\u6307\u5b9a\u51fd\u6570\u4f9d\u6b21\u5bf9\u6307\u5b9a\u8303\u56f4\u5185\u6240\u6709\u5143\u7d20\u8fdb\u884c\u8fed\u4ee3\u8bbf\u95ee\uff0c\u8fd4\u56de\u6240\u6307\u5b9a\u7684\u51fd\u6570\u7c7b\u578b\u3002 ***/\n        //  \u539f\u578b\uff1a _Fn1 for_each(_InIt _First, _InIt _Last, _Fn1 _Func)\n        for_each(iv.begin(), iv.end(), plus2&lt;int&gt;()); //  \u6bcf\u4e2a\u5143\u7d20+2\n        cout &lt;&lt; \"for_each: \";\n        for_each(iv.begin(), iv.end(), printElem); //  \u8f93\u51fa\n        cout &lt;&lt; endl;\n        /*** generate: \u8fde\u7eed\u8c03\u7528\u8f93\u5165\u7684\u51fd\u6570\u6765\u586b\u5145\u6307\u5b9a\u7684\u8303\u56f4\u3002 ***/\n        //  \u539f\u578b\uff1a void generate(_FwdIt _First, _FwdIt _Last, _Fn0 _Func)\n        //  \u4f7f\u7528even_by_two()\u51fd\u6570\u8fd4\u56de\u7684\u503c\uff0c\u6765\u586b\u5145\u5bb9\u5668iv\n        generate(iv.begin(), iv.end(), even_by_two());\n        cout &lt;&lt; \"generate: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** generate_n: \u4e0egenerate\u51fd\u6570\u7c7b\u4f3c\uff0c\u586b\u5145\u4ece\u6307\u5b9aiterator\u5f00\u59cb\u7684n\u4e2a\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt generate_n(_OutIt _Dest, _Diff _Count, _Fn0 _Func)\n        //  \u4f7f\u7528even_by_two()\u51fd\u6570\u8fd4\u56de\u7684\u503c\uff0c\u6765\u586b\u5145\u5bb9\u5668iv\u7684\u524d\u4e09\u4e2a\u503c\n        generate_n(iv.begin(), 3, even_by_two());\n        cout &lt;&lt; \"generate_n: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;()); //  \u7531\u4e8e_X\u662fstatic \u6240\u4ee5\u63a5\u7740 \u589e\u957f\n        cout &lt;&lt; endl;\n        /*** transform: \u5c06\u8f93\u5165\u7684\u64cd\u4f5c\u4f5c\u7528\u4e0e\u6307\u5b9a\u8303\u56f4\u5185\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u5e76\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u5e8f\u5217\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt transform(_InIt _First, _InIt _Last, _OutIt _Dest, _Fn1 _Func)\n        // \u5bb9\u5668\u7684\u6240\u6709\u503c\u5168\u90e8\u51cf2\n        transform(iv.begin(), iv.end(), iv.begin(), bind2nd(minus&lt;int&gt;(), 2));\n        cout &lt;&lt; \"transform: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;()); //  \u7531\u4e8e_X\u662fstatic \u6240\u4ee5\u63a5\u7740 \u589e\u957f\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\nfill: 5 5 5 5 5 5 5 5 5\nfill_n: 3 3 3 3 5 5 5 5 5\nfor_each: 5 5 5 5 7 7 7 7 7\ngenerate: 2 4 6 8 10 12 14 16 18\ngenerate_n: 20 22 24 8 10 12 14 16 18\ntransform: 18 20 22 6 8 10 12 14 16\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_7","title":"\u5173\u7cfb\u7b97\u6cd5","text":"<p>\u5173\u7cfb\u7b97\u6cd5\u51718\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u8fd9\u91cc\u53ea\u5217\u51fa\u4e00\u90e8\u5206\u7b97\u6cd5\uff1a <ul> <li> <p>equal: \u5982\u679c\u4e24\u4e2a\u5e8f\u5217\u5728\u6807\u5fd7\u8303\u56f4\u5185\u5143\u7d20\u90fd\u76f8\u7b49\uff0c\u8fd4\u56detrue\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u8f93\u5165\u7684\u64cd\u4f5c\u7b26\u4ee3\u66ff\u9ed8\u8ba4\u7684\u7b49\u4e8e\u64cd\u4f5c\u7b26\u3002</p> </li> <li> <p>includes: \u5224\u65ad\u7b2c\u4e00\u4e2a\u6307\u5b9a\u8303\u56f4\u5185\u7684\u6240\u6709\u5143\u7d20\u662f\u5426\u90fd\u88ab\u7b2c\u4e8c\u4e2a\u8303\u56f4\u5305\u542b\uff0c\u4f7f\u7528\u5e95\u5c42\u5143\u7d20\u7684&lt;\u64cd\u4f5c\u7b26\uff0c\u6210\u529f\u8fd4\u56detrue\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u7528\u6237\u8f93\u5165\u7684\u51fd\u6570\u3002</p> </li> <li> <p>max: \u8fd4\u56de\u4e24\u4e2a\u5143\u7d20\u4e2d\u8f83\u5927\u4e00\u4e2a\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>min: \u8fd4\u56de\u4e24\u4e2a\u5143\u7d20\u4e2d\u8f83\u5c0f\u4e00\u4e2a\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>max_element: \u8fd4\u56de\u4e00\u4e2aForwardIterator\uff0c\u6307\u51fa\u5e8f\u5217\u4e2d\u6700\u5927\u7684\u5143\u7d20\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>min_element: \u8fd4\u56de\u4e00\u4e2aForwardIterator\uff0c\u6307\u51fa\u5e8f\u5217\u4e2d\u6700\u5c0f\u7684\u5143\u7d20\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>mismatch: \u5e76\u884c\u6bd4\u8f83\u4e24\u4e2a\u5e8f\u5217\uff0c\u6307\u51fa\u7b2c\u4e00\u4e2a\u4e0d\u5339\u914d\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u4e00\u5bf9iterator\uff0c\u6807\u5fd7\u7b2c\u4e00\u4e2a\u4e0d\u5339\u914d\u5143\u7d20\u4f4d\u7f6e\u3002\u5982\u679c\u90fd\u5339\u914d\uff0c\u8fd4\u56de\u6bcf\u4e2a\u5bb9\u5668\u7684last\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nint main(int argc, char* argv[])\n{\n        int iarr[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n        vector&lt;int&gt; iv1(iarr, iarr + 5);\n        vector&lt;int&gt; iv2(iarr, iarr + 9);\n        //  equal: \u5982\u679c\u4e24\u4e2a\u5e8f\u5217\u5728\u6807\u5fd7\u8303\u56f4\u5185\u5143\u7d20\u90fd\u76f8\u7b49\uff0c\u8fd4\u56detrue\u3002\n        cout &lt;&lt;\"equal: \" &lt;&lt; equal(iv1.begin(), iv1.end(), iv2.begin()) &lt;&lt; endl;//  1 \u8868\u793a\u76f8\u7b49\uff0c\u56e0\u4e3a\u53ea\u6bd4\u8f83\u8ddf iv1\u957f\u5ea6\u5927\u5c0f\u7684\u6570\u7ec4      \n        // includes: \u5224\u65ad\u7b2c\u4e00\u4e2a\u6307\u5b9a\u8303\u56f4\u5185\u7684\u6240\u6709\u5143\u7d20\u662f\u5426\u90fd\u88ab\u7b2c\u4e8c\u4e2a\u8303\u56f4\u5305\u542b\uff0c\u4f7f\u7528\u5e95\u5c42\u5143\u7d20\u7684&lt;\u64cd\u4f5c\u7b26\uff0c\u6210\u529f\u8fd4\u56detrue\u3002\n        // \u5224\u65ad\u5224\u65adiv2\u4e2d\u5143\u7d20\u662f\u5426\u90fd\u51fa\u73b0\u5728iv1\u4e2d\n        cout &lt;&lt; \"includes: \" &lt;&lt; includes(iv1.begin(), iv1.end(), iv2.begin(), iv2.end()) &lt;&lt; endl;\n        // max: \u8fd4\u56de\u4e24\u4e2a\u5143\u7d20\u4e2d\u8f83\u5927\u4e00\u4e2a\u3002\n        cout &lt;&lt; \"max: \" &lt;&lt; max(iv1[0],iv1[1]) &lt;&lt; endl;\n        // min: \u8fd4\u56de\u4e24\u4e2a\u5143\u7d20\u4e2d\u8f83\u5c0f\u4e00\u4e2a\u3002\n        cout &lt;&lt; \"min: \" &lt;&lt; min(iv1[0], iv1[1]) &lt;&lt; endl;\n        // max_element: \u8fd4\u56de\u4e00\u4e2aForwardIterator\uff0c\u6307\u51fa\u5e8f\u5217\u4e2d\u6700\u5927\u7684\u5143\u7d20\u3002\n        cout &lt;&lt; \"max_element: \" &lt;&lt; *max_element(iv1.begin(), iv1.end()) &lt;&lt; endl;\n        // min_element: \u8fd4\u56de\u4e00\u4e2aForwardIterator\uff0c\u6307\u51fa\u5e8f\u5217\u4e2d\u6700\u5c0f\u7684\u5143\u7d20\u3002\n        cout &lt;&lt; \"min_element: \" &lt;&lt; *min_element(iv1.begin(), iv1.end()) &lt;&lt; endl;\n        //  mismatch: \u5e76\u884c\u6bd4\u8f83\u4e24\u4e2a\u5e8f\u5217\uff0c\u6307\u51fa\u7b2c\u4e00\u4e2a\u4e0d\u5339\u914d\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u4e00\u5bf9iterator\uff0c\u6807\u5fd7\u7b2c\u4e00\u4e2a\u4e0d\u5339\u914d\u5143\u7d20\u4f4d\u7f6e\u3002\u5982\u679c\u90fd\u5339\u914d\uff0c\u8fd4\u56de\u6bcf\u4e2a\u5bb9\u5668\u7684last\u3002\n        pair&lt;vector&lt;int&gt;::iterator, vector&lt;int&gt;::iterator&gt; pa;\n        pa = mismatch(iv1.begin(), iv1.end(), iv2.begin());\n        if (pa.first == iv1.end()) //  true \u8868\u793a\u76f8\u7b49\uff0c\u56e0\u4e3a\u53ea\u6bd4\u8f83\u8ddfiv1\u957f\u5ea6\u5927\u5c0f\u7684\u6570\u7ec4\n                cout &lt;&lt; \"\u7b2c\u4e00\u4e2a\u5411\u91cf\u4e0e\u7b2c\u4e8c\u4e2a\u5411\u91cf\u5339\u914d\" &lt;&lt; endl;\n        else\n        {\n                cout &lt;&lt; \"\u4e24\u4e2a\u5411\u91cf\u4e0d\u540c\u70b9--\u7b2c\u4e00\u4e2a\u5411\u91cf\u70b9:\" &lt;&lt; *(pa.first) &lt;&lt; endl; // \u8fd9\u6837\u5199\u5f88\u5371\u9669\uff0c\u5e94\u8be5\u5224\u65ad\u662f\u5426\u5230\u8fbeend\n\n                cout &lt;&lt; \"\u4e24\u4e2a\u5411\u91cf\u4e0d\u540c\u70b9--\u7b2c\u4e8c\u4e2a\u5411\u91cf\u70b9:\" &lt;&lt; *(pa.second) &lt;&lt; endl;\n        }\n        return 0;\n}\n/*\nequal: 1\nincludes: 0\nmax: 2\nmin: 1\nmax_element: 5\nmin_element: 1\n\u7b2c\u4e00\u4e2a\u5411\u91cf\u4e0e\u7b2c\u4e8c\u4e2a\u5411\u91cf\u5339\u914d\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_8","title":"\u96c6\u5408\u7b97\u6cd5","text":"<p>\u96c6\u5408\u7b97\u6cd5\u51714\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u8fd9\u91cc\u5168\u90e8\u5217\u51fa\uff1a <ul> <li> <p>set_union: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u5305\u542b\u4e24\u4e2a\u5e8f\u5217\u4e2d\u6240\u6709\u7684\u4e0d\u91cd\u590d\u5143\u7d20\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>set_intersection: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u5176\u4e2d\u5143\u7d20\u5728\u4e24\u4e2a\u5e8f\u5217\u4e2d\u90fd\u5b58\u5728\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>set_difference: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u8be5\u5e8f\u5217\u4ec5\u4fdd\u7559\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u5b58\u5728\u7684\u800c\u7b2c\u4e8c\u4e2a\u4e2d\u4e0d\u5b58\u5728\u7684\u5143\u7d20\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>set_symmetric_difference: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u8be5\u5e8f\u5217\u53d6\u4e24\u4e2a\u5e8f\u5217\u7684\u5bf9\u79f0\u5dee\u96c6(\u5e76\u96c6-\u4ea4\u96c6)\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;set&gt;\n#include &lt;algorithm&gt;\n#include &lt;iterator&gt; \nusing namespace std;\ntemplate &lt;class T&gt;\nstruct display\n{\n        void operator()(const T&amp;x) const\n        {\n                cout &lt;&lt; x &lt;&lt; \" \";\n        }\n};\nint main(int argc, char* argv[])\n{\n        int iarr1[] = { 1, 3, 5, 7, 9, 11 };\n        int iarr2[] = { 1, 1, 2, 3, 5, 8, 13 };\n        multiset&lt;int&gt; s1(iarr1, iarr1 + 6);\n        multiset&lt;int&gt; s2(iarr2, iarr2 + 7);\n        cout &lt;&lt; \"s1: \";\n        for_each(s1.begin(), s1.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"s2: \";\n        for_each(s2.begin(), s2.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** set_union: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u5305\u542b\u4e24\u4e2a\u5e8f\u5217\u4e2d\u6240\u6709\u7684\u4e0d\u91cd\u590d\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt set_union(_InIt1 _First1, _InIt1 _Last1, _InIt2 _First2, _InIt2 _Last2, _OutIt _Dest)\n        cout &lt;&lt; \"union of s1 and s2: \";\n        // \u4e24\u4e2a\u96c6\u5408\u5408\u5e76\uff0c\u76f8\u540c\u5143\u7d20\u4e2a\u6570\u53d6 max(m,n)\u3002\n\n        set_union(s1.begin(), s1.end(), s2.begin(), s2.end(), ostream_iterator&lt;int&gt;(cout, \" \"));\n        cout &lt;&lt; endl;\n        /*** set_intersection: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u5176\u4e2d\u5143\u7d20\u5728\u4e24\u4e2a\u5e8f\u5217\u4e2d\u90fd\u5b58\u5728\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt set_union(_InIt1 _First1, _InIt1 _Last1, _InIt2 _First2, _InIt2 _Last2, _OutIt _Dest)\n        cout &lt;&lt; \"Intersection of s1 and s2: \";\n        // \u4e24\u4e2a\u96c6\u5408\u4ea4\u96c6\uff0c\u76f8\u540c\u5143\u7d20\u4e2a\u6570\u53d6 min(m,n).\n\n        set_intersection(s1.begin(), s1.end(), s2.begin(), s2.end(), ostream_iterator&lt;int&gt;(cout, \" \"));\n        cout &lt;&lt; endl;\n        /*** set_difference: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u8be5\u5e8f\u5217\u4ec5\u4fdd\u7559\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u5b58\u5728\u7684\u800c\u7b2c\u4e8c\u4e2a\u4e2d\u4e0d\u5b58\u5728\u7684\u5143\u7d20\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt set_union(_InIt1 _First1, _InIt1 _Last1, _InIt2 _First2, _InIt2 _Last2, _OutIt _Dest)\n        cout &lt;&lt; \"Intersection of s1 and s2: \";\n        // \u4e24\u4e2a\u96c6\u5408\u5dee\u96c6 \u5c31\u662f\u53bb\u6389S1\u4e2d \u7684s2\n\n        set_difference(s1.begin(), s1.end(), s2.begin(), s2.end(), ostream_iterator&lt;int&gt;(cout, \" \"));\n        cout &lt;&lt; endl;\n        /*** set_symmetric_difference: \u6784\u9020\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\uff0c\u8be5\u5e8f\u5217\u53d6\u4e24\u4e2a\u5e8f\u5217\u7684\u5bf9\u79f0\u5dee\u96c6(\u5e76\u96c6-\u4ea4\u96c6)\u3002 ***/\n        //  \u539f\u578b\uff1a _OutIt set_union(_InIt1 _First1, _InIt1 _Last1, _InIt2 _First2, _InIt2 _Last2, _OutIt _Dest)\n        cout &lt;&lt; \"Intersection of s1 and s2: \";\n        // \u4e24\u4e2a\u96c6\u5408\u5bf9\u79f0\u5dee\u96c6\uff1a\u5c31\u662f\u53d6\u4e24\u4e2a\u96c6\u5408\u4e92\u76f8\u6ca1\u6709\u7684\u5143\u7d20 \u3002\u4e24\u4e2a\u6392\u5e8f\u533a\u95f4\uff0c\u5143\u7d20\u76f8\u7b49\u6307\u9488\u540e\u79fb\uff0c\u4e0d\u7b49\u8f93\u51fa\u5c0f\u7684\u5e76\u524d\u8fdb\n\n        // \u76f8\u540c\u5143\u7d20\u7684\u4e2a\u6570 abs(m-n)\n\n        set_symmetric_difference(s1.begin(), s1.end(), s2.begin(), s2.end(), ostream_iterator&lt;int&gt;(cout, \" \"));\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\ns1: 1 3 5 7 9 11\ns2: 1 1 2 3 5 8 13\nunion of s1 and s2: 1 1 2 3 5 7 8 9 11 13\nIntersection of s1 and s2: 1 3 5\nIntersection of s1 and s2: 7 9 11\nIntersection of s1 and s2: 1 2 7 8 9 11 13\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_9","title":"\u5806\u7b97\u6cd5","text":"<p>\u96c6\u5408\u7b97\u6cd5\u51714\u4e2a\uff0c\u5305\u542b\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u8fd9\u91cc\u53ea\u5217\u51fa\u4e00\u90e8\u5206\u7b97\u6cd5\uff1a <ul> <li> <p>make_heap: \u628a\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u751f\u6210\u4e00\u4e2a\u5806\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>pop_heap: \u5e76\u4e0d\u771f\u6b63\u628a\u6700\u5927\u5143\u7d20\u4ece\u5806\u4e2d\u5f39\u51fa\uff0c\u800c\u662f\u91cd\u65b0\u6392\u5e8f\u5806\u3002\u5b83\u628afirst\u548clast-1\u4ea4\u6362\uff0c\u7136\u540e\u91cd\u65b0\u751f\u6210\u4e00\u4e2a\u5806\u3002\u53ef\u4f7f\u7528\u5bb9\u5668\u7684back\u6765\u8bbf\u95ee\u88ab\"\u5f39\u51fa\"\u7684\u5143\u7d20\u6216\u8005\u4f7f\u7528pop_back\u8fdb\u884c\u771f\u6b63\u7684\u5220\u9664\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> <li> <p>push_heap: \u5047\u8bbefirst\u5230last-1\u662f\u4e00\u4e2a\u6709\u6548\u5806\uff0c\u8981\u88ab\u52a0\u5165\u5230\u5806\u7684\u5143\u7d20\u5b58\u653e\u5728\u4f4d\u7f6elast-1\uff0c\u91cd\u65b0\u751f\u6210\u5806\u3002\u5728\u6307\u5411\u8be5\u51fd\u6570\u524d\uff0c\u5fc5\u987b\u5148\u628a\u5143\u7d20\u63d2\u5165\u5bb9\u5668\u540e\u3002\u91cd\u8f7d\u7248\u672c\u4f7f\u7528\u6307\u5b9a\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> </li> </ul> <pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\ntemplate &lt;class T&gt;\nstruct display\n{\n        void operator()(const T&amp;x) const\n        {\n                cout &lt;&lt; x &lt;&lt; \" \";\n        }\n};\nint main(int argc, char* argv[])\n{\n        int iarr[] = { 4, 5, 1, 3, 2 };\n        vector&lt;int&gt; iv(iarr, iarr + sizeof(iarr) / sizeof(int));\n        /*** make_heap: \u628a\u6307\u5b9a\u8303\u56f4\u5185\u7684\u5143\u7d20\u751f\u6210\u4e00\u4e2a\u5806\u3002 ***/\n        //  \u539f\u578b\uff1a void make_heap(_RanIt _First, _RanIt _Last)\n        make_heap(iv.begin(), iv.end());\n        cout &lt;&lt; \"make_heap: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** pop_heap: \u5e76\u4e0d\u771f\u6b63\u628a\u6700\u5927\u5143\u7d20\u4ece\u5806\u4e2d\u5f39\u51fa\uff0c\u800c\u662f\u91cd\u65b0\u6392\u5e8f\u5806\u3002 ***/\n        //  \u539f\u578b\uff1a void pop_heap(_RanIt _First, _RanIt _Last)\n        pop_heap(iv.begin(), iv.end());\n        iv.pop_back();\n        cout &lt;&lt; \"pop_heap: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        /*** push_heap: \u5047\u8bbefirst\u5230last-1\u662f\u4e00\u4e2a\u6709\u6548\u5806\uff0c\u8981\u88ab\u52a0\u5165\u5230\u5806\u7684\u5143\u7d20\u5b58\u653e\u5728\u4f4d\u7f6elast-1\uff0c\u91cd\u65b0\u751f\u6210\u5806\u3002 ***/\n        //  \u539f\u578b\uff1a void push_heap(_RanIt _First, _RanIt _Last)\n        iv.push_back(6);\n        push_heap(iv.begin(), iv.end());\n        cout &lt;&lt; \"push_heap: \";\n        for_each(iv.begin(), iv.end(), display&lt;int&gt;());\n        cout &lt;&lt; endl;\n        return 0;\n}\n/*\nmake_heap: 5 4 1 3 2\npop_heap: 4 3 1 2\npush_heap: 6 4 1 2 3\n*/\n</code></pre>"},{"location":"cpp/%E5%AE%B9%E5%99%A8/#_10","title":"\u5176\u4ed6","text":"<p>vector\u4f7f\u7528\u8be6\u89e3</p> <p>vector\u6e90\u7801\u5256\u6790</p> <p>deque\u4f7f\u7528\u8be6\u89e3</p> <p>list\u4f7f\u7528\u8be6\u89e3</p> <p>set\u4f7f\u7528\u8be6\u89e3</p> <p>map\u4f7f\u7528\u8be6\u89e3</p> <p>\u8fed\u4ee3\u5668\u5931\u6548\u7684\u51e0\u79cd\u60c5\u51b5\u603b\u7ed3</p> <p>STL\u5e38\u89c1\u95ee\u9898</p>"},{"location":"cpp/%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88/","title":"\u6307\u5411\u51fd\u6570\u7684\u6307\u9488","text":""},{"location":"cpp/%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88/#_1","title":"\u6307\u5411\u666e\u901a\u51fd\u6570\u7684\u6307\u9488","text":"<p>\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff1a</p> <pre><code>int Sum(int a, int b)\n{\n  return a + b;\n}\n</code></pre> <p>\u5b9a\u4e49\u51fd\u6570\u6307\u9488\uff1a</p> <pre><code>int (*FnName)(int, int);           // \u58f0\u660e\u4e00\u4e2a\u51fd\u6570\u6307\u9488\uff0c\u53ef\u4ee5\u5c06FnName\u7406\u89e3\u4e3a\u65b0\u5b9a\u4e49\u7684\u53d8\u91cf\nFnName = &amp;Sum;                     // \u5c06Sum\u51fd\u6570\u7684\u5730\u5740\u8d4b\u7ed9\u5b83\n(*FnName)(3, 5);                   // \u548c\u8c03\u7528Sum(3, 5)\u7684\u6548\u679c\u662f\u4e00\u6837\u7684\n</code></pre> <p>\u6309\u7167\u4ece\u53f3\u5411\u5de6\u7684\u987a\u5e8f\u9605\u8bfb\uff0c<code>(*FnName)</code> \u7684\u4f18\u5148\u7ea7\u6700\u9ad8\uff0c\u6240\u4ee5<code>FnName</code>\u9996\u5148\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u5176\u6b21\uff0c\u53f3\u8fb9\u5b9a\u4e49\u4e86<code>FnName</code> \u7684\u7c7b\u578b\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5de6\u8fb9\u5b9a\u4e49\u4e86\u5176\u8fd4\u56de\u7c7b\u578b\u3002</p> <p>\u4e00\u4e2a\u590d\u6742\u4e00\u70b9\u7684\u4f8b\u5b50\uff1a</p> <pre><code>int Sum(int a, int b)\n{\n  return a + b;\n}\n\ntypedef int (*FnType)(int, int);\nint Fun1(FnType ft, int x, int y)\n{\n  return (*ft)(x, y);\n}\n// \u51fd\u6570\u6307\u9488\u53ef\u4ee5\u5b9a\u4e49\u5728\u53c2\u6570\u5217\u8868\u4e2d\uff0c\u5728\u51fd\u6570\u4f53\u5185\u4f7f\u7528\nint Fun2(int (*fn)(int, int), int x, int y)\n{\n  return (*fn)(x, y);  \n}\n\nint main()\n{\n  cout &lt;&lt; Fun1(&amp;Sum, 2, 3) &lt;&lt; \" \";  // \u8f93\u51fa 5\n  cout &lt;&lt; Fun2(&amp;Sum, 3, 4) &lt;&lt; \"\\n\"; // \u8f93\u51fa 7\n  return 0;\n}\n</code></pre>"},{"location":"cpp/%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88/#_2","title":"\u6307\u5411\u6210\u5458\u51fd\u6570\u7684\u6307\u9488","text":"<p>\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff1a</p> <pre><code>class Num\n{\npublic:\n  Num(){n_ = 0;}\n  void Inc(int n);\n  void Dec(int n);\n  static int Sub(int a, int b);\nprivate:\n  long n_;\n};\n</code></pre> <p>\u8fd9\u4e2a\u7c7b\u4e2d\u6709\u666e\u901a\u6210\u5458\u51fd\u6570\uff0c\u4e5f\u6709\u9759\u6001\u6210\u5458\u51fd\u6570\uff0c\u65e0\u8bba\u54ea\u79cd\u51fd\u6570\uff0c\u51fd\u6570\u6307\u9488\u8868\u793a\u65b9\u5f0f\u90fd\u662f\uff1a<code>&amp;\u7c7b\u540d::\u51fd\u6570\u540d</code></p> <p>\u5982Num\u7c7b\u4e09\u4e2a\u6210\u5458\u51fd\u6570\u7684\u6307\u9488\u5206\u522b\u662f\uff1a<code>&amp;Num::Inc;</code> <code>&amp;Num::Dec;</code> <code>&amp;Num:: Sub;</code></p>"},{"location":"cpp/%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88/#_3","title":"\u6307\u5411\u666e\u901a\u6210\u5458\u51fd\u6570\u7684\u6307\u9488","text":"<p>\u58f0\u660e\u4e00\u4e2a\u6307\u5411\u7c7b\u6210\u5458\u51fd\u6570\u7684\u6307\u9488\u65f6\u9700\u8981\u7528\u5230<code>::*</code>\u7b26\u53f7\uff0c\u5de6\u8fb9\u662f\u7c7b\u540d\uff0c\u53f3\u8fb9\u662f\u6210\u5458\u51fd\u6570\u6307\u9488\u540d\uff1a</p> <p><code>\u8fd4\u56de\u7c7b\u578b \u7c7b\u540d::*\u6210\u5458\u51fd\u6570\u6307\u9488\uff08\u53c2\u6570\u5217\u8868\uff09;</code></p> <p>\u8c03\u7528\u7684\u65f6\u5019\u8981\u7528\u5230<code>.*</code> \u6216 <code>-&gt;*</code>\uff0c\u5de6\u8fb9\u662f\u7c7b\u5bf9\u8c61\u7684\u5f15\u7528\u6216\u6307\u9488\uff0c\u53f3\u8fb9\u662f\u6210\u5458\u51fd\u6570\u6307\u9488\uff1a</p> <p><code>\uff08\u5bf9\u8c61\u540d.*\u6210\u5458\u51fd\u6570\u6307\u9488\uff09\uff08\u5b9e\u53c2\uff09;</code></p> <p>\u6216</p> <p><code>\uff08\u5bf9\u8c61\u6307\u9488-&gt;*\u6210\u5458\u51fd\u6570\u6307\u9488\uff09\uff08\u5b9e\u53c2\uff09;</code></p> <pre><code>int main()\n{\n  Num obj;\n  void (Num::*mf)(int);    // \u58f0\u660e\u6307\u5411\u6210\u5458\u51fd\u6570\u7684\u6307\u9488 mf\n  mf = &amp;Num::Inc;          // \u8d4b\u503c  \n  (obj.*mf)(1);            // \u8c03\u7528\n\n  // \u6210\u5458\u51fd\u6570\u7684\u6307\u9488\u7c7b\u578b\n  typedef void (Num::*mt)(int);\n  mt fn = &amp;Num::Dec;\n  (obj.*fn)(2); \n\n  return 0;\n}\n</code></pre>"},{"location":"cpp/%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88/#_4","title":"\u6307\u5411\u9759\u6001\u6210\u5458\u51fd\u6570\u7684\u6307\u9488","text":"<pre><code>int (*smf)(int a, int b);       // \u6ce8\u610f\u5199\u6cd5\nsmf = &amp;Num::Sub;\ncout &lt;&lt; (*smf)(6, 7);           // \u8c03\u7528\u65b9\u5f0f\u8ddf\u4e0a\u4e00\u8282\u8bb2\u7684\u666e\u901a\u51fd\u6570\u8c03\u7528\u65b9\u5f0f\u4e00\u6837\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u9759\u6001\u6210\u5458\u51fd\u6570\u6307\u9488\u53d8\u91cf\u3001\u7c7b\u578b\u58f0\u660e\u4e0e\u666e\u901a\u51fd\u6570\u4e00\u81f4\u3002</p>"},{"location":"cpp/%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88/#_5","title":"\u6307\u5411\u865a\u51fd\u6570\u7684\u6307\u9488","text":"<pre><code>class Base{\npublic:\n  virtual void F() const\n  {\n    cout &lt;&lt; \"I am the Base\\n\";\n  }\n\n  typedef void (Base::*FnPtr)() const;\n};\n\nclass Derived : public Base{\npublic:\n  virtual void F() const\n  {\n    cout &lt;&lt; \"I am the Derived\\n\";\n  }\n};\n\nint main()\n{\n    Base::FnPtr fp = &amp;Base::F;\n    Base base;\n    (base.*fp)();\n    Derived derived;\n    (derived.*fp)();\n\n  return 0;\n}\n\n\n//I am theBase\n//I am theDerived \n</code></pre> <p>\u865a\u51fd\u6570\u7684\u6307\u9488\u8c03\u7528\u7ed3\u679c\u8ddf\u76f4\u63a5\u8c03\u7528\u865a\u51fd\u6570\u6548\u679c\u4e00\u6837\uff0c\u865a\u51fd\u6570\u7684\u6307\u9488\u6307\u5411\u7684\u51fd\u6570\u5730\u5740\u662f\u5bf9\u8c61\u52a8\u6001\u7ed1\u5b9a\u7684\u51fd\u6570\u5730\u5740\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/","title":"\u6307\u9488 & \u5f15\u7528 & \u5e38\u91cf","text":""},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_1","title":"\u6307\u9488","text":"<p>\u6307\u9488\u7c7b\u578b\u7684\u5b9e\u4f8b\u662f\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\uff0c\u5b83\u5b58\u50a8\u7684\u662f\u5185\u5b58\u5730\u5740\uff0c\u5360\u7528\u4e00\u4e2a\u5730\u5740\u7a7a\u95f4\uff08\u4e0e\u673a\u5668\u7684\u5b57\u957f\u6709\u5173\uff09\u3002</p> <p>\u6307\u9488\u53d8\u91cf\u5c5e\u4e8e\u6807\u91cf\u7c7b\u578b\uff0c\u56e0\u6b64\u53ef\u4ee5\u88ab\u590d\u5236\u3001\u62f7\u8d1d\u3001\u4fee\u6539\uff0c\u6307\u5411\u4e0d\u540c\u7684\u5bf9\u8c61\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_2","title":"\u58f0\u660e\u548c\u521d\u59cb\u5316","text":"<p>\u6307\u9488\u53d8\u91cf\u7684\u58f0\u660e\u4f7f\u7528 <code>*</code> \u8fd0\u7b97\u7b26\uff0c<code>*</code> \u7b26\u53f7\u7684\u5de6\u8fb9\u8868\u793a\u6307\u9488\u6307\u5411\u7684\u7c7b\u578b\uff0c\u53f3\u8fb9\u8868\u793a\u6307\u9488\u7684\u7c7b\u578b\u3002</p> <p>\u6307\u9488\u53d8\u91cf\u53ef\u4ee5\u5728\u58f0\u660e\u65f6\u521d\u59cb\u5316\u4e3a\u67d0\u4e2a\u5bf9\u8c61\u7684\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u521d\u59cb\u5316\u3002</p> <pre><code>int ival = 42;\nint *p = &amp;ival;           // &amp;\u5728\u8fd9\u91cc\u6210\u4e3a\u201c\u53d6\u5730\u5740\u64cd\u4f5c\u7b26\u201d\n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_3","title":"\u52a8\u6001\u5206\u914d\u5185\u5b58","text":"<p>\u4f7f\u7528<code>new</code>\u8fd0\u7b97\u7b26\u53ef\u4ee5\u5728\u5806\u4e0a\u52a8\u6001\u5206\u914d\u5185\u5b58\uff0c\u5e76\u8fd4\u56de\u6240\u5206\u914d\u5185\u5b58\u7684\u5730\u5740\u3002\u4f8b\u5982<code>int* ptr = new int;</code>\u5206\u914d\u4e86\u4e00\u4e2a\u6574\u6570\u7684\u7a7a\u95f4\uff0c\u5e76\u5c06\u5176\u5730\u5740\u8d4b\u7ed9<code>ptr</code>\u3002</p> <p>\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u9700\u8981\u4f7f\u7528<code>delete</code>\u624b\u52a8\u91ca\u653e\uff0c\u4ee5\u907f\u514d\u5185\u5b58\u6cc4\u6f0f\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_4","title":"\u7a7a\u6307\u9488","text":"<p>\u7a7a\u6307\u9488\u662f\u6307\u672a\u6307\u5411\u4efb\u4f55\u6709\u6548\u5bf9\u8c61\u7684\u6307\u9488\u3002\u53ef\u4ee5\u4f7f\u7528 <code>nullptr</code> \u6216 <code>NULL</code>\uff08\u5728 C++11 \u4e4b\u524d\uff09\u6765\u8868\u793a\u7a7a\u6307\u9488\u3002</p> <pre><code>int *pl = nullptr;        //\u7b49\u4ef7\u4e8eint *p1 =0;\nint *p2 = 0;              //\u76f4\u63a5\u5c06p2\u521d\u59cb\u5316\u4e3a\u5b57\u9762\u5e38\u91cf0\nint *p3 = NULL;           //\u9700\u8981#include cstdlib\uff0c\u7b49\u4ef7\u4e8eint *p3 =0;\n</code></pre> <p><code>nullptr</code>\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u5b57\u9762\u503c\uff0c\u5b83\u53ef\u4ee5\u88ab\u8f6c\u6362\u6210\u4efb\u610f\u5176\u4ed6\u7684\u6307\u9488\u7c7b\u578b\u3002</p> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\u6307\u9488\u521d\u59cb\u5316\u4e3a\u5b57\u9762\u503c<code>0</code>\u6765\u751f\u6210\u7a7a\u6307\u9488\u3002</p> <p>\u65e7\u7a0b\u5e8f\u8fd8\u4f1a\u7528\u5230\u4e00\u4e2a\u540d\u4e3a<code>null</code>\u7684\u9884\u5904\u7406\u53d8\u91cf\u6765\u7ed9\u6307\u9488\u8d4b\u503c\uff0c\u8fd9\u4e2a\u53d8\u91cf\u5728\u5934\u6587\u4ef6cstdlib\u4e2d\u5b9a\u4e49\uff0c\u5b83\u7684\u503c\u5c31\u662f<code>0</code>\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#void","title":"void \u6307\u9488","text":"<p><code>void*</code>\u4e00\u79cd\u7279\u6b8a\u7684\u6307\u9488\u7c7b\u578b\uff0c\u53ef\u7528\u4e8e\u5b58\u653e\u4efb\u610f\u5bf9\u8c61\u7684\u5730\u5740\uff0cc \u8bed\u8a00\u4e2d\u5e38\u5229\u7528<code>void*</code>\u5b9e\u73b0\u591a\u6001\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_5","title":"\u6307\u9488\u7684\u7b97\u672f\u8fd0\u7b97","text":"<p>\u6307\u9488\u53ef\u4ee5\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97\uff0c\u5982\u6307\u9488\u52a0\u6cd5\u548c\u6307\u9488\u51cf\u6cd5\u3002</p> <p>\u5bf9\u6307\u9488\u8fdb\u884c\u52a0\u6cd5\u65f6\uff0c\u6307\u9488\u7684\u503c\u4f1a\u6839\u636e\u6307\u5411\u7c7b\u578b\u7684\u5927\u5c0f\u8fdb\u884c\u589e\u52a0\u3002\u4f8b\u5982 ptr += 1; \u5c06\u6307\u9488 ptr \u5411\u540e\u79fb\u52a8\u4e00\u4e2a\u5143\u7d20\u7684\u5927\u5c0f\u3002</p> <p>\u6307\u9488\u51cf\u6cd5\u53ef\u4ee5\u5f97\u5230\u4e24\u4e2a\u6307\u9488\u4e4b\u95f4\u7684\u5143\u7d20\u4e2a\u6570\u3002\u4f8b\u5982 int* diff = ptr2 - ptr1; \u5c06 diff \u521d\u59cb\u5316\u4e3a ptr2 \u548c ptr1 \u4e4b\u95f4\u7684\u5143\u7d20\u4e2a\u6570\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_6","title":"\u6307\u9488\u7684\u72b6\u6001","text":"<p>\u6307\u9488\u7684\u503c(\u5373\u5730\u5740)\u5e94\u5c5e\u4e0b\u52174\u79cd\u72b6\u6001\u4e4b\u4e00\uff1a</p> <ol> <li> <p>\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002</p> </li> <li> <p>\u6307\u5411\u7d27\u90bb\u5bf9\u8c61\u6240\u5360\u7a7a\u95f4\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u3002</p> </li> <li> <p>\u7a7a\u6307\u9488\uff0c\u610f\u5473\u7740\u6307\u9488\u6ca1\u6709\u6307\u5411\u4efb\u4f55\u5bf9\u8c61\u3002</p> </li> <li> <p>\u65e0\u6548\u6307\u9488\uff0c\u4e5f\u5c31\u662f\u4e0a\u8ff0\u60c5\u51b5\u4e4b\u5916\u7684\u5176\u4ed6\u503c\u3002</p> </li> </ol>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_7","title":"\u6307\u9488\u64cd\u4f5c\u7b26","text":"<p>\u53d6\u5740\u8fd0\u7b97\u7b26\uff08Address-of Operator\uff09\uff1a<code>&amp;</code> \u8fd0\u7b97\u7b26\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u53d8\u91cf\u7684\u5730\u5740\u3002\u4f8b\u5982 <code>int num = 42; int* ptr = #</code> \u5c06 ptr \u521d\u59cb\u5316\u4e3a num \u7684\u5730\u5740\u3002</p> <p>\u89e3\u5f15\u7528\u8fd0\u7b97\u7b26\uff08Dereference Operator\uff09\uff1a<code>*</code> \u8fd0\u7b97\u7b26\u7528\u4e8e\u89e3\u5f15\u7528\u6307\u9488\uff0c\u5373\u8bbf\u95ee\u6307\u9488\u6240\u6307\u5411\u7684\u5185\u5b58\u4f4d\u7f6e\u7684\u503c\u3002\u4f8b\u5982 <code>int value = *ptr;</code> \u5c06 value \u521d\u59cb\u5316\u4e3a ptr \u6307\u5411\u7684\u5185\u5b58\u4f4d\u7f6e\u7684\u503c\u3002</p> <pre><code>int i =42;\nint &amp;r =i;         //&amp;\u7d27\u968f\u7c7b\u578b\u540d\u51fa\u73b0\uff0c\u56e0\u6b64\u662f\u58f0\u660e\u7684\u4e00\u90e8\u5206\uff0cr\u662f\u4e00\u4e2a\u5f15\u7528\nint *p;            //*\u7d27\u968f\u7c7b\u578b\u540d\u51fa\u73b0\uff0c\u56e0\u6b64\u662f\u58f0\u660e\u7684\u4e00\u90e8\u5206\uff0cp\u662f\u4e00\u4e2a\u6307\u9488\np =&amp;i;             //&amp;\u51fa\u73b0\u5728\u8868\u8fbe\u5f0f\u4e2d\uff0c\u662f\u4e00\u4e2a\u53d6\u5730\u5740\u7b26\n*p =i;             //*\u51fa\u73b0\u5728\u8868\u8fbe\u5f0f\u4e2d\uff0c\u662f\u4e00\u4e2a\u89e3\u5f15\u7528\u7b26\nint &amp;r2 =*p;       //&amp;\u662f\u58f0\u660e\u7684\u4e00\u90e8\u5206\uff0c*\u662f\u4e00\u4e2a\u89e3\u5f15\u7528\u7b26\n</code></pre> <p>\u7b26\u53f7\u7684\u4e0a\u4e0b\u6587\u51b3\u5b9a\u4e86\u7b26\u53f7\u7684\u610f\u4e49\uff0c\u5728\u58f0\u660e\u8bed\u53e5\u4e2d\uff0c<code>&amp;</code>\u548c<code>*</code>\u7528\u4e8e\u7ec4\u6210\u590d\u5408\u7c7b\u578b\uff1b\u5728\u8868\u8fbe\u5f0f\u4e2d\uff0c\u5b83\u4eec\u7684\u89d2\u8272\u53c8\u8f6c\u53d8\u6210\u8fd0\u7b97\u7b26\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_8","title":"\u6307\u5411\u666e\u901a\u51fd\u6570\u7684\u6307\u9488","text":""},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_9","title":"\u6307\u5411\u5bf9\u8c61\u6210\u5458\u51fd\u6570\u7684\u6307\u9488","text":""},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_10","title":"\u5f15\u7528","text":"<p>\u5f15\u7528\u7684\u672c\u8d28\u662f\u522b\u540d\uff0c\u5b83\u6ca1\u6709\u81ea\u5df1\u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u5b83\u53ea\u662f\u5bf9\u8c61\u7684\u4e00\u4e2a\u522b\u540d\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u4e3a\u5176\u5206\u914d\u5185\u5b58\u3002</p> <pre><code>int ival = 1024;\nint &amp;refVal = ival;  //refVal\u6307\u5411ival\nint &amp;refVal2;        //\u62a5\u9519\uff0c\u5f15\u7528\u7c7b\u578b\u5fc5\u987b\u521d\u59cb\u5316\n</code></pre> <p>\u5f15\u7528\u5fc5\u987b\u521d\u59cb\u5316\uff1a\u4e00\u822c\u5728\u8fdb\u884c\u521d\u59cb\u5316\u64cd\u4f5c\u65f6\uff0c\u521d\u59cb\u503c\u4f1a\u88ab\u62f7\u8d1d\u5230\u65b0\u5efa\u7684\u5bf9\u8c61\u6216\u53d8\u91cf\u4e2d\u3002\u800c\u5b9a\u4e49\u5f15\u7528\u65f6\uff0c\u7a0b\u5e8f\u628a\u5f15\u7528\u548c\u5b83\u7684\u521d\u59cb\u503c\u7ed1\u5b9a\uff08bind\uff09\u5728\u4e00\u8d77\uff0c\u4e00\u65e6\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u5219\u65e0\u6cd5\u4fee\u6539\uff0c\u56e0\u6b64\u5f15\u7528\u5fc5\u987b\u521d\u59cb\u5316\u3002</p> <p>\u5f15\u7528\u7684\u7c7b\u578b\u5fc5\u987b\u4e0e\u5176\u6240\u5f15\u7528\u5bf9\u8c61\u7684\u7c7b\u578b\u4e00\u81f4\uff0c\u4f46\u662f\u6709\u4e24\u4e2a\u4f8b\u5916\uff1a</p> <ol> <li>\u5e38\u91cf\u5f15\u7528\u521d\u59cb\u5316\u65f6\uff1a\u5141\u8bb8\u4f7f\u7528\u4efb\u610f\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u521d\u59cb\u503c\uff0c\u53ea\u8981\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u80fd\u591f\u8f6c\u6362\u6210\u5f15\u7528\u7684\u7c7b\u578b\u5373\u53ef\uff0c\u4e5f\u5141\u8bb8\u4e00\u4e2a\u5e38\u91cf\u5f15\u7528\u7ed1\u5b9a\u975e\u5e38\u91cf\u7684\u5bf9\u8c61\u3001\u5b57\u9762\u503c\u6216\u8868\u8fbe\u5f0f\u3002</li> </ol> <pre><code>int i =42;  \nconst int &amp;r1 =i;           //\u5141\u8bb8\u5c06const int&amp;\u7ed1\u5b9a\u5230\u4e00\u4e2a\u666e\u901aint\u5bf9\u8c61\u4e0a\nconst int &amp;r2 =42;     //\u6b63\u786e\uff1ar1\u662f\u4e00\u4e2a\u5e38\u91cf\u5f15\u7528\nconst int &amp;r3 =rl *2;  //\u6b63\u786e\uff1ar3\u662f\u4e00\u4e2a\u5e38\u91cf\u5f15\u7528\nint &amp;r4 =rl*2;         //\u9519\u8bef\uff1ar4\u662f\u4e00\u4e2a\u666e\u901a\u7684\u975e\u5e38\u91cf\u5f15\u7528\n</code></pre> <p>\u4e34\u65f6\u91cf\u7684\u60c5\u51b5</p> <pre><code>double dval = 3.14;\nconst int &amp;r5 = dval;\n</code></pre> <p>r5 \u7684\u7c7b\u578b\u662f\u6574\u578b\u5f15\u7528\uff0c\u521d\u59cb\u5316\u5374\u662f\u4e00\u4e2a double \u7c7b\u578b\uff0c\u4e3a\u4e86\u786e\u4fdd ri \u7ed1\u5b9a\u7684\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u7f16\u8bd1\u5668\u4f1a\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>const int temp =dval; //\u7531\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u751f\u6210\u4e00\u4e2a\u4e34\u65f6\u7684\u6574\u578b\u5e38\u91cf\nconst int &amp;r5 =temp;  //\u8ba9ri\u7ed1\u5b9a\u8fd9\u4e2a\u4e34\u65f6\u91cf\n</code></pre> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cri \u5148\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u4e34\u65f6\u91cf\uff08temporary\uff09\uff0c\u7f16\u8bd1\u5668\u521b\u5efa\u7684\u4e00\u4e2a\u4e34\u65f6\u7a7a\u95f4\u7528\u6765\u6682\u5b58\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002</p> <ol> <li>\u5b58\u5728\u7ee7\u627f\u5173\u7cfb\u7684\u7c7b\uff1a\u53ef\u4ee5\u5c06\u57fa\u7c7b\u7684\u6307\u9488\u6216\u5f15\u7528\u7ed1\u5b9a\u5230\u6d3e\u751f\u7c7b\u5bf9\u8c61\u4e0a\u3002</li> </ol>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_11","title":"\u5bf9\u6307\u9488\u7684\u5f15\u7528","text":"<p>\u5f15\u7528\u672c\u8eab\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u56e0\u6b64\u4e0d\u80fd\u5b9a\u4e49\u6307\u5411\u5f15\u7528\u7684\u6307\u9488\u3002\u4f46\u6307\u9488\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\u5b58\u5728\u5bf9\u6307\u9488\u7684\u5f15\u7528\uff1a</p> <pre><code>int i = 42;\nint *p;                    //p\u662f\u4e00\u4e2aint\u578b\u6307\u9488\nint*&amp; r = p;        //r\u662f\u4e00\u4e2a\u5bf9\u6307\u9488p\u7684\u5f15\u7528\nr = &amp;i:                    //r\u5f15\u7528\u4e86\u4e00\u4e2a\u6307\u9488\uff0c\u56e0\u6b64\u7ed9r\u8d4b\u503c&amp;i\u5c31\u662f\u4ee4p\u6307\u5411i\n*r = 0;                    //\u89e3\u5f15\u7528r\u5f97\u5230i,\u4e5f\u5c31\u662fp\u6307\u5411\u7684\u5bf9\u8c61\uff0c\u5c06i\u7684\u503c\u6539\u4e3a0\n</code></pre> <p>\u8981\u7406\u89e3<code>r</code>\u7684\u7c7b\u578b\u5230\u5e95\u662f\u4ec0\u4e48,\u6700\u7b80\u5355\u7684\u529e\u6cd5\u662f\u4ece\u53f3\u5411\u5de6\u9605\u8bfb<code>r</code>\u7684\u5b9a\u4e49\u3002\u79bb\u53d8\u91cf\u540d\u6700\u8fd1\u7684\u7b26\u53f7\uff08\u6b64\u4f8b\u4e2d\u662f<code>&amp;r</code>\u7684\u7b26\u53f7<code>&amp;</code>\uff09\u5bf9\u53d8\u91cf\u7684\u7c7b\u578b\u6709\u6700\u76f4\u63a5\u7684\u5f71\u54cd\uff0c\u56e0\u6b64<code>r</code>\u662f\u4e00\u4e2a\u5f15\u7528\u3002\u58f0\u660e\u7b26\u7684\u5176\u4f59\u90e8\u5206\u7528\u4ee5\u786e\u5b9a<code>r</code>\u5f15\u7528\u7684\u7c7b\u578b\u662f\u4ec0\u4e48\uff0c\u6b64\u4f8b\u4e2d\u7684\u7b26\u53f7<code>*</code>\u8bf4\u660e<code>r</code>\u5f15\u7528\u7684\u662f\u4e00\u4e2a\u6307\u9488\u3002\u6700\u540e\uff0c\u58f0\u660e\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\u90e8\u5206\u6307\u51fa<code>r</code>\u5f15\u7528\u7684\u662f\u4e00\u4e2aint\u6307\u9488\u3002</p> <p>\u6570\u7ec4\u7684\u5f15\u7528\u548c\u5f15\u7528\u7684\u6570\u7ec4</p> <pre><code>//array\u9996\u5148\u5411\u53f3\u7ed3\u5408\uff0c\u6240\u4ee5\u8fd9\u4e2a\u76f8\u5f53\u4e8e (int&amp;)array[] array\u662f\u4e2a\u6570\u7ec4\uff0c\u5176\u4e2d\u7684\u5143\u7d20\u662f\u5f15\u7528\n//\u5e94\u8be5\u53eb\uff1a\u5f15\u7528\u7684\u6570\u7ec4\nint &amp;array[]\n\n//array\u9996\u5148\u548c&amp;\u7ed3\u5408\uff0c\u6240\u4ee5array\u662f\u5f15\u7528\uff0c\u5f15\u7528\u7684\u5bf9\u8c61\u662f\u6570\u7ec4\n//\u5e94\u8be5\u53eb\u4f5c\u6570\u7ec4\u7684\u5f15\u7528\nint (&amp;array)[10] \n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#const","title":"const \u9650\u5b9a\u7b26","text":"<p>\u5bf9 const \u7684\u5f15\u7528\u53ef\u80fd\u5f15\u7528\u4e00\u4e2a\u5e76\u975e const \u7684\u5bf9\u8c61</p> <p>\u5e38\u91cf\u5f15\u7528\u4ec5\u5bf9\u5f15\u7528\u53ef\u53c2\u4e0e\u7684\u64cd\u4f5c\u505a\u51fa\u4e86\u9650\u5b9a\uff0c\u5bf9\u4e8e\u5f15\u7528\u7684\u5bf9\u8c61\u672c\u8eab\u672a\u505a\u9650\u5b9a\u3002</p> <pre><code>int i =42;\nint &amp;rl =i;        // \u5f15\u7528ri\u7ed1\u5b9a\u5bf9\u8c61i\nconst int 6r2 =i;  // r2\u4e5f\u7ed1\u5b9a\u5bf9\u8c61i,\u4f46\u662f\u4e0d\u5141\u8bb8\u901a\u8fc7r2\u4fee\u6539i\u7684\u503c\nrl =0;             // r1\u5e76\u975e\u5e38\u91cf\uff0ci\u7684\u503c\u4fee\u6539\u4e3a0\nr2 =0;             // \u9519\u8bef\uff1ar2\u662f\u4e00\u4e2a\u5e38\u91cf\u5f15\u7528\n</code></pre> <p>\u6307\u9488\u548c const</p> <p>\u6307\u9488\u53ef\u4ee5\u6307\u5411\u5e38\u91cf\u6216\u975e\u5e38\u91cf\uff0c \u6307\u5411\u5e38\u91cf\u7684\u6307\u9488(pointer to const)\u4e0d\u80fd\u591f\u7528\u4e8e\u6539\u53d8\u5176\u6240\u6307\u5bf9\u8c61\u7684\u503c\uff0c\u60f3\u8981\u5b58\u653e\u5e38\u91cf\u5bf9\u8c61\u7684\u5730\u5740\uff0c\u53ea\u80fd\u4f7f\u7528\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u3002</p> <pre><code>const double pi =3.14;       // pi\u662f\u4e2a\u5e38\u91cf\uff0c\u5b83\u7684\u503c\u4e0d\u80fd\u6539\u53d8\ndouble *ptr =\u03c0               // \u9519\u8bef\uff1aptr\u662f\u4e00\u4e2a\u666e\u901a\u6307\u9488\nconst double *cptr =\u03c0        // \u6b63\u786e\uff1acptr\u53ef\u4ee5\u6307\u5411\u4e00\u4e2a\u53cc\u7cbe\u5ea6\u5e38\u91cf\ncptr =42;                    // \u9519\u8bef\uff1a\u4e0d\u80fd\u7ed9cptr\u8d4b\u503c\n</code></pre> <p>\u6307\u9488\u7684\u7c7b\u578b\u5fc5\u987b\u4e0e\u5176\u6240\u6307\u5bf9\u8c61\u7684\u7c7b\u578b\u4e00\u81f4\uff0c\u4f46\u662f\u6709\u4e24\u4e2a\u4f8b\u5916\u3002</p> <p>\u7b2c\u4e00\u79cd\u60c5\u51b5\u662f\u5141\u8bb8\u4e00\u4e2a\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u6307\u5411\u4e00\u4e2a\u975e\u5e38\u91cf\u5bf9\u8c61\u3002</p> <pre><code>double dval =3.14;  //dval\u662f\u4e00\u4e2a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u5b83\u7684\u503c\u53ef\u4ee5\u6539\u53d8\ncptr =&amp;dval;  //\u6b63\u786e\uff1a\u4f46\u662f\u4e0d\u80fd\u901a\u8fc7cptr\u6539\u53d8dval\u7684\u503c\n</code></pre> <p>\u548c\u5e38\u91cf\u5f15\u7528\u4e00\u6837\uff0c\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u4e5f\u6ca1\u6709\u89c4\u5b9a\u5176\u6240\u6307\u7684\u5bf9\u8c61\u5fc5\u987b\u662f\u4e00\u4e2a\u5e38\u91cf\u3002\u6240\u8c13\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u4ec5\u4ec5\u8981\u6c42\u4e0d\u80fd\u901a\u8fc7\u8be5\u6307\u9488\u6539\u53d8\u5bf9\u8c61\u7684\u503c\uff0c\u800c\u6ca1\u6709\u89c4\u5b9a\u90a3\u4e2a\u5bf9\u8c61\u7684\u503c\u4e0d\u80fd\u901a\u8fc7\u5176\u4ed6\u9014\u5f84\u6539\u53d8\u3002</p> <p>\u8bd5\u8bd5\u8fd9\u6837\u60f3\u5427\uff1a\u6240\u8c13\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u6216\u5f15\u7528\uff0c\u4e0d\u8fc7\u662f\u6307\u9488\u6216\u5f15\u7528\u201c\u81ea\u4ee5\u4e3a\u662f\u201d\u7f62\u4e86\uff0c\u5b83\u4eec\u89c9\u5f97\u81ea\u5df1\u6307\u5411\u4e86\u5e38\u91cf\uff0c\u6240\u4ee5\u81ea\u89c9\u5730\u4e0d\u53bb\u6539\u53d8\u6240\u6307\u5bf9\u8c61\u7684\u503c\u3002</p> <p>const \u6307\u9488</p> <p>\u6307\u9488\u662f\u5bf9\u8c61\u800c\u5f15\u7528\u4e0d\u662f\uff0c\u56e0\u6b64\u5c31\u50cf\u5176\u4ed6\u5bf9\u8c61\u7c7b\u578b\u4e00\u6837\uff0c\u5141\u8bb8\u628a\u6307\u9488\u672c\u8eab\u5b9a\u4e3a\u5e38\u91cf\u3002\u5e38\u91cf\u6307\u9488(const pointer)\u5fc5\u987b\u521d\u59cb\u5316\uff0c\u800c\u4e14\u4e00\u65e6\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u5219\u5b83\u7684\u503c(\u4e5f\u5c31\u662f\u5b58\u653e\u5728\u6307\u9488\u4e2d\u7684\u90a3\u4e2a\u5730\u5740)\u5c31\u4e0d\u80fd\u518d\u6539\u53d8\u4e86\u3002\u628a*\u653e\u5728const\u5173\u952e\u5b57\u4e4b\u524d\u7528\u4ee5\u8bf4\u660e\u6307\u9488\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u8fd9\u6837\u7684\u4e66\u5199\u5f62\u5f0f\u9690\u542b\u7740\u4e00\u5c42\u610f\u5473\uff0c\u5373\u4e0d\u53d8\u7684\u662f\u6307\u9488\u672c\u8eab\u7684\u503c\u800c\u975e\u6307\u5411\u7684\u90a3\u4e2a\u503c\uff1a</p> <pre><code>int errNumb =0;   //curErr\u5c06\u4e00\u76f4\u6307\u5411errNumb\nint *const curErr = &amp;errNumb;\nconst double pi = 3.14159;\nconst double *const pip = \u03c0;  //pip\u662f\u4e00\u4e2a\u6307\u5411\u5e38\u91cf\u5bf9\u8c61\u7684\u5e38\u91cf\u6307\u9488\n</code></pre> <p>\u8981\u60f3\u5f04\u6e05\u695a\u8fd9\u4e9b\u58f0\u660e\u7684\u542b\u4e49\u6700\u884c\u4e4b\u6709\u6548\u7684\u529e\u6cd5\u662f\u4ece\u53f3\u5411\u5de6\u9605\u8bfb\u3002\u6b64\u4f8b\u4e2d\uff0c\u79bbcurErr\u6700\u8fd1\u7684\u7b26\u53f7\u662fconst,\u610f\u5473\u7740curErr\u672c\u8eab\u662f\u4e00\u4e2a\u5e38\u91cf\u5bf9\u8c61\uff0c\u5bf9\u8c61\u7684\u7c7b\u578b\u7531\u58f0\u660e\u7b26\u7684\u5176\u4f59\u90e8\u5206\u786e\u5b9a\u3002</p> <p>\u6307\u9488\u672c\u8eab\u662f\u4e00\u4e2a\u5e38\u91cf\u5e76\u4e0d\u610f\u5473\u7740\u4e0d\u80fd\u901a\u8fc7\u6307\u9488\u4fee\u6539\u5176\u6240\u6307\u5bf9\u8c61\u7684\u503c\uff0c\u80fd\u5426\u8fd9\u6837\u505a\u5b8c\u5168\u4f9d\u8d56\u4e8e\u6240\u6307\u5bf9\u8c61\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff0cpip\u662f\u4e00\u4e2a\u6307\u5411\u5e38\u91cf\u7684\u5e38\u91cf\u6307\u9488\uff0c\u5219\u4e0d\u8bba\u662fpip\u6240\u6307\u7684\u5bf9\u8c61\u503c\u8fd8\u662fpip\u81ea\u5df1\u5b58\u50a8\u7684\u90a3\u4e2a\u5730\u5740\u90fd\u4e0d\u80fd\u6539\u53d8\u3002\u76f8\u53cd\u7684\uff0ccurErr\u6307\u5411\u7684\u662f\u4e00\u4e2a\u4e00\u822c\u7684\u975e\u5e38\u91cf\u6574\u6570\uff0c\u90a3\u4e48\u5c31\u5b8c\u5168\u53ef\u4ee5\u7528curErr\u53bb\u4fee\u6539errNumb\u7684\u503c\uff1a</p> <pre><code>//\u9519\u8bef\uff1apip\u662f\u4e00\u4e2a\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\n//\u5982\u679ccurErr\u6240\u6307\u7684\u5bf9\u8c61(\u4e5f\u5c31\u662ferrNumb)\u7684\u503c\u4e0d\u4e3a0\n*pip =2.72;\n</code></pre> <p>\u9876\u5c42 const \u6307\u9488\u672c\u8eab\u662f\u4e0d\u662f\u5e38\u91cf\u4ee5\u53ca\u6307\u9488\u6240\u6307\u7684\u662f\u4e0d\u662f\u4e00\u4e2a\u5e38\u91cf\u5c31\u662f\u4e24\u4e2a\u76f8\u4e92\u72ec\u7acb\u7684\u95ee\u9898\u3002</p> <p>\u7528\u540d\u8bcd\u9876\u5c42const(top-level const)\u8868\u793a\u6307\u9488\u672c\u8eab\u662f\u4e2a\u5e38\u91cf\uff0c</p> <p>\u800c\u7528\u540d\u8bcd\u5e95\u5c42const(low-level const)\u8868\u793a\u6307\u9488\u6240\u6307\u7684\u5bf9\u8c61\u662f\u4e00\u4e2a\u5e38\u91cf\u3002</p> <p>\u66f4\u4e00\u822c\u7684\uff0c\u9876\u5c42const\u53ef\u4ee5\u8868\u793a\u4efb\u610f\u7684\u5bf9\u8c61\u662f\u5e38\u91cf\uff0c\u8fd9\u4e00\u70b9\u5bf9\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u90fd\u9002\u7528\uff0c\u5982\u7b97\u672f\u7c7b\u578b\u3001\u7c7b\u3001\u6307\u9488\u7b49\u3002\u5e95\u5c42const\u5219\u4e0e\u6307\u9488\u548c\u5f15\u7528\u7b49\u590d\u5408\u7c7b\u578b\u7684\u57fa\u672c\u7c7b\u578b\u90e8\u5206\u6709\u5173\u3002\u6bd4\u8f83\u7279\u6b8a\u7684\u662f\uff0c\u6307\u9488\u7c7b\u578b\u65e2\u53ef\u4ee5\u662f\u9876\u5c42const\u4e5f\u53ef\u4ee5\u662f\u5e95\u5c42const,\u8fd9\u4e00\u70b9\u548c\u5176\u4ed6\u7c7b\u578b\u76f8\u6bd4\u533a\u522b\u660e\u663e\uff1a</p> <pre><code>int i =0;\nint *const pl =&amp;i;  //\u4e0d\u80fd\u6539\u53d8p1\u7684\u503c\uff0c\u8fd9\u662f\u4e00\u4e2a\u9876\u5c42const\nconst int ci =42;   //\u4e0d\u80fd\u6539\u53d8ci\u7684\u503c\uff0c\u8fd9\u662f\u4e00\u4e2a\u9876\u5c42const\nconst int *p2 =&amp;ci; //\u5141\u8bb8\u6539\u53d8p2\u7684\u503c\uff0c\u8fd9\u662f\u4e00\u4e2a\u5e95\u5c42const\nconst int *const p3=p2; //\u9760\u53f3\u7684const\u662f\u9876\u5c42const,\u9760\u5de6\u7684\u662f\u5e95\u5c42const\nconst int &amp;r =ci;  //\u7528\u4e8e\u58f0\u660e\u5f15\u7528\u7684const\u90fd\u662f\u5e95\u5c42const\n</code></pre> <p>constexpr \u548c\u5e38\u91cf\u8868\u8fbe\u5f0f</p> <p>https://learn.microsoft.com/zh-cn/cpp/cpp/cpp-type-system-modern-cpp?view=msvc-170</p> <p>\u7c7b\u578b\u5904\u7406</p> <p>\u5b9a\u4e49\u7c7b\u578b\u522b\u540d\uff08type alias\uff09\u7684\u65b9\u6cd5</p> <p>\u4f7f\u7528 <code>typedef</code></p> <p>\u4f7f\u7528 <code>using</code>\uff08C++11 \u65b0\u6807\u51c6\uff09</p> <pre><code>typedef char* pstring;\nconst pstring cstr = 0; // cstr \u662f\u6307\u5411char\u7684\u5e38\u91cf\u6307\u9488\uff08\n**const\u88ab\u8bc6\u522b\u4e3a\u9876\u5c42const**\n\uff09\nusing int32_t = int\n</code></pre> <p><code>auto</code> \u7c7b\u578b\u8bf4\u660e\u7b26</p> <p>c++ 11 \u65b0\u6807\u51c6\u5f15\u5165\u4e86auto\u7c7b\u578b\u8bf4\u660e\u7b26\uff0c \u80fd\u8ba9\u7f16\u8bd1\u5668\u66ff\u6211\u4eec\u5206\u6790\u8868\u8fbe\u5f0f\u6240\u5c5e\u7684\u7c7b\u578b\u3002\u53e6\u5916\uff0c\u56e0\u4e3a\u4e00\u6761\u58f0\u660e\u8bed\u53e5\u53ea\u80fd\u6709\u4e00\u4e2a\u57fa\u672c\u7c7b\u578b\uff0c\u6240\u4ee5\u8be5\u8bed\u53e5\u7684\u6240\u6709\u53d8\u91cf\u7684\u521d\u59cb\u57fa\u672c\u7c7b\u578b\u90fd\u5fc5\u987b\u4e00\u6837\u3002</p> <pre><code>auto i =0, *p = &amp;i;\nauto i = 0, j = 3.14;  // \u9519\u8bef\uff0ci\u548cj\u7684\u7c7b\u578b\u4e0d\u4e00\u81f4\u3002\n</code></pre> <p><code>decltype</code>\u7c7b\u578b\u8bf4\u660e\u7b26</p> <p>c++ 11 \u5f15\u5165\u4e86decltype\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u9009\u62e9\u5e76\u8fd4\u56de\u64cd\u4f5c\u6570\u7684\u6570\u636e\u7c7b\u578b\u3002 decltype \u4f7f\u7528\u8868\u8fbe\u5f0f\u662f\u4e00\u4e2a\u53d8\u91cf\u65f6\uff0c\u4f1a\u8fd4\u56de\u8be5\u53d8\u91cf\u7684\u7c7b\u578b\uff08\u5305\u62ec\u9876\u5c42const\u548c\u5f15\u7528\uff09</p> <pre><code>const int ci = 0;\ndecltype(ci) x = 0;     // x\u7684\u7c7b\u578b\u662fconst int\nint i = 1, *p = &amp;i;\ndecltype(*p) c;         // \u9519\u8bef\uff0cc\u662fint&amp;\uff0c \u5fc5\u987b\u521d\u59cb\u5316\n</code></pre> <p>\u53e6\u5916\uff0c \u6211\u4eec\u77e5\u9053 \u89e3\u5f15\u7528\u6307\u9488 \u53ef\u4ee5\u5f97\u5230\u6307\u9488\u6240\u6307\u7684\u5bf9\u8c61\uff0c \u800c\u4e14\u8fd8\u80fd\u7ed9\u8fd9\u4e2a\u5bf9\u8c61\u8d4b\u503c\uff0c \u6240\u4ee5 decltype(*p) \u7684\u7ed3\u679c\u662fint&amp; \u800c\u975e int\u3002</p> <pre><code>decltype((i)) d;   // \u9519\u8bef\uff0cd \u662fint&amp;\uff0c \u5fc5\u987b\u521d\u59cb\u5316\ndecltype(i)   e;   // \u6b63\u786e\uff0ce \u4e3aint\n</code></pre> <p>\u5982\u679c\u7ed9\u53d8\u91cf\u52a0\u4e0a\u4e86\u4e00\u5c42\u6216\u591a\u5c42\u62ec\u53f7\uff0c \u7f16\u8bd1\u5668\u5c31\u4f1a\u628a\u5b83\u5f53\u6210\u8868\u8fbe\u5f0f\u3002 \u53d8\u91cf\u662f\u4e00\u79cd\u53ef\u4ee5\u4f5c\u4e3a\u8d4b\u503c\u8bed\u53e5\u5de6\u503c\u7684\u7279\u6b8a\u8868\u8fbe\u5f0f\uff0c \u6240\u4ee5decltype \u4f1a\u5f97\u5230\u5f15\u7528\u7c7b\u578b\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_12","title":"\u5e38\u91cf","text":"<p>\u4fee\u9970\u53d8\u91cf\uff1a\u8bf4\u660e\u8be5\u53d8\u91cf\u4e0d\u53ef\u4ee5\u88ab\u6539\u53d8\uff1b</p> <p>\u4fee\u9970\u6307\u9488\uff1a\u5206\u4e3a\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u548c\u5e38\u91cf\u6307\u9488\uff1b</p> <p>\u4fee\u9970\u5f15\u7528\uff1a\u5e38\u91cf\u5f15\u7528\uff0c\u7ecf\u5e38\u7528\u4e8e\u5f62\u53c2\u7c7b\u578b\uff0c\u5373\u907f\u514d\u4e86\u62f7\u8d1d\uff0c\u53c8\u907f\u514d\u4e86\u51fd\u6570\u5bf9\u503c\u7684\u4fee\u6539\uff1b</p> <p>\u4fee\u9970\u6210\u5458\u51fd\u6570\uff1a\u8bf4\u660e\u8be5\u6210\u5458\u51fd\u6570\u5185\u4e0d\u80fd\u4fee\u6539\u6210\u5458\u53d8\u91cf\uff1b</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_13","title":"\u5e38\u91cf\u4fee\u9970\u53d8\u91cf","text":"<p><code>const int bufSize = 512; //\u8f93\u5165\u7f13\u51b2\u533a\u5927\u5c0f</code></p> <p>\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u5b9a\u4e49\u65f6\uff0c\u7f16\u8bd1\u5668\u5c06\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u628a\u7528\u5230\u8be5\u53d8\u91cf\u7684\u5730\u65b9\u66ff\u6362\u6210\u5bf9\u5e94\u7684\u503c\u3002</p> <p>\u4e3a\u4e86\u5b8c\u6210\u66ff\u6362\uff0c\u7f16\u8bd1\u5668\u5fc5\u987b\u77e5\u9053\u53d8\u91cf\u7684\u521d\u59cb\u503c\u3002\u5982\u679c\u7a0b\u5e8f\u5305\u542b\u591a\u4e2a\u6587\u4ef6\uff0c\u5219\u6bcf\u4e2a\u6587\u4ef6\u90fd\u80fd\u8981\u80fd\u53cd\u95ee <code>const</code>\u5bf9\u8c61\u7684\u521d\u59cb\u503c\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c const \u5bf9\u8c61\u4ec5\u5728\u6587\u4ef6\u5185\u6709\u6548\uff0c\u5f53\u591a\u4e2a\u6587\u4ef6\u4e2d\u51fa\u73b0\u4e86\u540c\u540d\u7684 const \u53d8\u91cf\u65f6\uff0c\u7b49\u540c\u4e8e\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d\u5206\u522b\u5b9a\u4e49\u4e86\u72ec\u7acb\u7684\u53d8\u91cf\u3002</p> <p>\u591a\u4e2a\u6587\u4ef6\u4e4b\u95f4\u5171\u4eab const \u5bf9\u8c61</p> <p>const \u5bf9\u8c61\u7684\u521d\u59cb\u503c\u4e0d\u662f\u4e00\u4e2a\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u9700\u8981\u5728\u6587\u4ef6\u4e4b\u95f4\u5171\u4eab\uff0c\u58f0\u660e\u65f6\u6dfb\u52a0 extern \u5173\u952e\u5b57\u3002</p> <pre><code>// file_1.cc \u5b9a\u4e49\u5e76\u521d\u59cb\u5316\u4e86\u4e00\u4e2a\u5e38\u91cf\uff0c\u8be5\u5e38\u91cf\u80fd\u88ab\u5176\u4ed6\u6587\u4ef6\u8bbf\u95ee\nextern const int bufSize = fcn();\n// file_1.h\u5934\u6587\u4ef6\nextern const int bufSize;\n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_14","title":"\u5e38\u91cf\u6307\u9488","text":"<p><code>const int* p</code>\u662f\u4e00\u4e2a\u6307\u5411\u5e38\u91cf\u6574\u6570\u7684\u6307\u9488\uff0c\u6307\u9488 p \u53ef\u4ee5\u6307\u5411\u4e00\u4e2a\u6574\u6570\uff0c\u4f46\u4e0d\u80fd\u901a\u8fc7 p \u4fee\u6539\u6307\u5411\u7684\u6574\u6570\u7684\u503c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c<code>p</code> \u662f\u53ef\u53d8\u7684\uff0c\u4f46\u662f\u5b83\u6307\u5411\u7684\u503c\u662f\u4e0d\u53ef\u4fee\u6539\u7684\u3002</p> <pre><code>const int value = 10;\nconst int* p = &amp;value;\n</code></pre> <p><code>int* const p</code>\u662f\u4e00\u4e2a\u5e38\u91cf\u6307\u9488\uff0c\u6307\u9488 <code>p</code> \u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u5b83\u59cb\u7ec8\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\u3002\u4f46\u662f\uff0c\u901a\u8fc7 p \u53ef\u4ee5\u4fee\u6539\u6307\u5411\u7684\u6574\u6570\u7684\u503c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c<code>p</code> \u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u4f46\u662f\u5b83\u6307\u5411\u7684\u503c\u662f\u53ef\u53d8\u7684\u3002\u4f8b\u5982\uff1a</p> <pre><code>int value = 10;\nint* const p = &amp;value;\n</code></pre> <p><code>const int* const p</code>\u662f\u4e00\u4e2a\u5e38\u91cf\u6307\u9488\uff0c\u6307\u5411\u4e00\u4e2a\u5e38\u91cf\u6574\u6570\uff0c\u6307\u9488 <code>p</code> \u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u5e76\u4e14\u5b83\u6307\u5411\u7684\u503c\u4e5f\u662f\u4e0d\u53ef\u4fee\u6539\u7684\u3002</p> <pre><code>const int value = 10;\nconst int* const p = &amp;value;\n// *p = 20; // \u9519\u8bef\uff0c\u4e0d\u80fd\u901a\u8fc7 p \u4fee\u6539\u6240\u6307\u5411\u7684\u503c\n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_15","title":"\u5e38\u91cf\u5f15\u7528","text":"<p>\u907f\u514d\u590d\u5236\uff1a\u5e38\u91cf\u5f15\u7528\u53ef\u4ee5\u5728\u4e0d\u590d\u5236\u5bf9\u8c61\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u5bf9\u8c61\u7684\u503c\uff0c\u53ef\u4ee5\u907f\u514d\u5728\u51fd\u6570\u8c03\u7528\u6216\u8868\u8fbe\u5f0f\u4e2d\u590d\u5236\u5927\u578b\u5bf9\u8c61\u7684\u5f00\u9500\uff0c\u8fd9\u5bf9\u4e8e\u53c2\u6570\u4f20\u9012\u548c\u51fd\u6570\u8fd4\u56de\u503c\u7279\u522b\u6709\u7528\uff0c\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\u5e76\u51cf\u5c11\u5185\u5b58\u6d88\u8017\u3002</p> <p>\u4fdd\u62a4\u88ab\u5f15\u7528\u5bf9\u8c61\uff1a\u5e38\u91cf\u5f15\u7528\u53ef\u4ee5\u9632\u6b62\u88ab\u5f15\u7528\u7684\u5bf9\u8c61\u88ab\u610f\u5916\u4fee\u6539\u3002\u5982\u679c\u5c06\u4e00\u4e2a\u5bf9\u8c61\u901a\u8fc7\u5e38\u91cf\u5f15\u7528\u4f20\u9012\u7ed9\u51fd\u6570\uff0c\u90a3\u4e48\u51fd\u6570\u5185\u90e8\u65e0\u6cd5\u4fee\u6539\u8be5\u5bf9\u8c61\u7684\u503c\u3002</p>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_16","title":"\u57fa\u7840\u7528\u6cd5","text":"<pre><code>void printValue(const int&amp; value) {\n    // \u4f7f\u7528\u5e38\u91cf\u5f15\u7528\u6253\u5370\u503c\uff0c\u907f\u514d\u590d\u5236\n    std::cout &lt;&lt; value &lt;&lt; std::endl;\n}\nvoid modifyValue(const int&amp; value) {\n    // \u9519\u8bef\u793a\u4f8b\uff1a\u65e0\u6cd5\u4fee\u6539\u88ab\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c61\n    // value = 10; // \u7f16\u8bd1\u9519\u8bef\n}\nint main() {\n    int num = 5;\n    printValue(num); // \u901a\u8fc7\u5e38\u91cf\u5f15\u7528\u6253\u5370\u503c\n    const int&amp; constRef = num;\n    // \u9519\u8bef\u793a\u4f8b\uff1a\u65e0\u6cd5\u901a\u8fc7\u5e38\u91cf\u5f15\u7528\u4fee\u6539\u5e38\u91cf\u5bf9\u8c61\n    // constRef = 10; // \u7f16\u8bd1\u9519\u8bef\n    int&amp; nonConstRef = const_cast&lt;int&amp;&gt;(constRef);\n    nonConstRef = 10; // \u901a\u8fc7\u7c7b\u578b\u8f6c\u6362\u4fee\u6539\u5e38\u91cf\u5bf9\u8c61\n    printValue(num); // \u6253\u5370\u4fee\u6539\u540e\u7684\u503c\n    return 0;\n}\n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_17","title":"\u8f6c\u4e3a\u975e\u5e38\u91cf\u5f15\u7528","text":"<p>\u5e38\u91cf\u5f15\u7528\u53ef\u4ee5\u901a\u8fc7\u7c7b\u578b\u8f6c\u6362\u6765\u83b7\u53d6\u975e\u5e38\u91cf\u5f15\u7528\uff0c\u4ece\u800c\u4fee\u6539\u5e38\u91cf\u5bf9\u8c61\u3002\u8fd9\u5728\u4e00\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\u662f\u6709\u7528\u7684\uff0c\u6bd4\u5982\u4fee\u6539\u4f20\u5165\u51fd\u6570\u7684\u4e34\u65f6\u5bf9\u8c61\u3002</p> <pre><code>int main() {\n    int num = 5;\n    const int&amp; constRef = num;\n    int&amp; nonConstRef = const_cast&lt;int&amp;&gt;(constRef);\n    nonConstRef = 10; // \u901a\u8fc7\u7c7b\u578b\u8f6c\u6362\u4fee\u6539\u5e38\u91cf\u5bf9\u8c61\n    printValue(num); // \u6253\u5370\u4fee\u6539\u540e\u7684\u503c\n    return 0;\n}\n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#_18","title":"\u5e38\u91cf\u6210\u5458\u51fd\u6570","text":"<p>const\u5173\u952e\u5b57\u53ef\u4ee5\u7528\u4e8e\u4fee\u9970\u6210\u5458\u51fd\u6570\uff0c\u8868\u793a\u8be5\u6210\u5458\u51fd\u6570\u4e0d\u4f1a\u4fee\u6539\u5bf9\u8c61\u7684\u72b6\u6001\u3002\u8fd9\u6837\u7684\u6210\u5458\u51fd\u6570\u88ab\u79f0\u4e3a\u5e38\u91cf\u6210\u5458\u51fd\u6570\uff0c\u53ea\u80fd\u8c03\u7528\u5176\u4ed6\u5e38\u91cf\u6210\u5458\u51fd\u6570\u6216\u53ea\u8bfb\u6570\u636e\u6210\u5458\uff0c\u4e0d\u80fd\u4fee\u6539\u6570\u636e\u6210\u5458\u7684\u503c\uff0c\u4ee5\u786e\u4fdd\u5bf9\u8c61\u5728\u8c03\u7528\u5e38\u91cf\u6210\u5458\u51fd\u6570\u65f6\u4fdd\u6301\u4e0d\u53d8\u3002</p> <pre><code>class MyClass {\npublic:\n    void foo() const {\n        // \u53ea\u8bfb\u64cd\u4f5c\uff0c\u4e0d\u4fee\u6539\u6210\u5458\u53d8\u91cf\n    }\n};\n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#1","title":"\u793a\u4f8b\u4ee3\u7801 1","text":"<pre><code>// \u7c7b\nclass A {\npublic:\n    A() : a(0) { };             // \u6784\u9020\u51fd\u6570\n    A(int x) : a(x) { };        // \u521d\u59cb\u5316\u5217\u8868\n    // const\u53ef\u7528\u4e8e\u5bf9\u91cd\u8f7d\u51fd\u6570\u7684\u533a\u5206\n    int getValue();             // \u666e\u901a\u6210\u5458\u51fd\u6570\n    int getValue() const;       // \u5e38\u91cf\u6210\u5458\u51fd\u6570\uff08\u6216\u53ebconst\u6210\u5458\u51fd\u6570\uff09\uff0c\u4e0d\u5f97\u4fee\u6539\u7c7b\u4e2d\u7684\u4efb\u4f55\u6570\u636e\u6210\u5458\u7684\u503c\nprivate:\n    const int a;                // \u5e38\u91cf\u5bf9\u8c61\u6210\u5458\uff0c\u53ea\u80fd\u5728\u521d\u59cb\u5316\u5217\u8868\u8d4b\u503c\n};\nvoid fun() {\n    // \u5bf9\u8c61\n    A b;                        // \u666e\u901a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u8c03\u7528\u5168\u90e8\u6210\u5458\u51fd\u6570\u3001\u66f4\u65b0\u5e38\u6210\u5458\u53d8\u91cf\n    const A a;                  // \u5e38\u91cf\u5bf9\u8c61\uff0c\u53ea\u80fd\u8c03\u7528\u5e38\u6210\u5458\u51fd\u6570\n    const A *p = &amp;a;            // \u5e38\u91cf\u6307\u9488\n    const A &amp;q = a;             // \u5e38\u91cf\u5f15\u7528\n    // \u6307\u9488\n    char greeting[] = \"Hello\";\n    char* p1 = greeting;                // \u6307\u9488\u53d8\u91cf\uff0c\u6307\u5411\u5b57\u7b26\u6570\u7ec4\u53d8\u91cf\n    const char* p2 = greeting;          // \u6307\u9488\u53d8\u91cf\uff0c\u6307\u5411\u5b57\u7b26\u6570\u7ec4\u5e38\u91cf\n    char* const p3 = greeting;          // \u5e38\u91cf\u6307\u9488\uff0c\u6307\u5411\u5b57\u7b26\u6570\u7ec4\u53d8\u91cf\n    const char* const p4 = greeting;    // \u5e38\u91cf\u6307\u9488\uff0c\u6307\u5411\u5b57\u7b26\u6570\u7ec4\u5e38\u91cf\n}\n// \u51fd\u6570\nvoid fun1(const int Var);           // \u4f20\u9012\u8fc7\u6765\u7684\u53c2\u6570\u5728\u51fd\u6570\u5185\u4e0d\u53ef\u53d8\nvoid fun2(const char* Var);         // \u53c2\u6570\u6307\u9488\u6240\u6307\u5185\u5bb9\u4e3a\u5e38\u91cf\nvoid fun3(char* const Var);         // \u53c2\u6570\u6307\u9488\u4e3a\u5e38\u6307\u9488\nvoid fun4(const int&amp; Var);          // \u5f15\u7528\u53c2\u6570\u5728\u51fd\u6570\u5185\u4e3a\u5e38\u91cf\n// \u51fd\u6570\u8fd4\u56de\u503c\nconst int fun5();      // \u8fd4\u56de\u4e00\u4e2a\u5e38\u6570\nconst int* fun6();     // \u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u53d8\u91cf\uff0c\u4f7f\u7528\uff1aconst int *p = fun6();\nint* const fun7();     // \u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u53d8\u91cf\u7684\u5e38\u6307\u9488\uff0c\u4f7f\u7528\uff1aint* const p = fun7();\n//const\u4fee\u9970\u51fd\u6570\u65f6\u7684\u91cd\u8f7d\n//\u5b9e\u9645\u4e0a\u6ca1\u6709\u533a\u522b\uff0c\u56e0\u4e3a\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5b58\u5728\u5f62\u5b9e\u7ed3\u5408\u7684\u8fc7\u7a0b\uff0c\u6240\u4ee5\u4e0d\u7ba1\u6709\u6ca1\u6709const\u90fd\u4e0d\u4f1a\u6539\u53d8\u5b9e\u53c2\u7684\u503c\u3002\u6240\u4ee5\u4e0d\u80fd\u901a\u8fc7\u7f16\u8bd1\uff0c\u63d0\u793a\u91cd\u5b9a\u4e49\u3002\nvoid fun(const int i);\nvoid fun(int i);\n//char *a \u4e2da\u6307\u5411\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u53d8\u91cf\uff0c\u800cconst char *a\u6307\u5411\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5e38\u91cf\uff0c\u6240\u4ee5\u5f53\u53c2\u6570\u4e3a\u5b57\u7b26\u4e32\u5e38\u91cf\u65f6\uff0c\u8c03\u7528\u7b2c\u4e8c\u4e2a\u51fd\u6570\uff0c\u800c\u5f53\u51fd\u6570\u662f\u5b57\u7b26\u4e32\u53d8\u91cf\u65f6\uff0c\u8c03\u7528\u7b2c\u4e00\u4e2a\u51fd\u6570\u3002\nvoid fun(char *a);    \nvoid fun(const char *a);\n//\u8fd9\u4e24\u4e2a\u90fd\u662f\u6307\u5411\u5b57\u7b26\u4e32\u53d8\u91cf\uff0c\u4e0d\u540c\u7684\u662fchar *a\u662f\u6307\u9488\u53d8\u91cf \u800cchar *const a\u662f\u6307\u9488\u5e38\u91cf\u3002\u6240\u4ee5\u4e0d\u80fd\u901a\u8fc7\u7f16\u8bd1\uff0c\u63d0\u793a\u91cd\u5b9a\u4e49\u3002\nvoid fun(char *a);  \nvoid fun(char * const a);  \n//\u539f\u56e0\u662f\u7b2c\u4e00\u4e2ai\u5f15\u7528\u7684\u662f\u4e00\u4e2a\u53d8\u91cf\uff0c\u800c\u7b2c\u4e8c\u4e2ai\u5f15\u7528\u7684\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u4e24\u8005\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u7c7b\u4f3c\u4e8e\u4e0a\u9762\u7684\u6307\u5411\u53d8\u91cf\u7684\u6307\u9488\u7684\u6307\u5411\u5e38\u91cf\u7684\u6307\u9488\u3002\nvoid fun(int &amp;i);  \nvoid fun(const int &amp;i);   \n</code></pre>"},{"location":"cpp/%E6%8C%87%E9%92%88%20%26%20%E5%BC%95%E7%94%A8%20%26%20%E5%B8%B8%E9%87%8F/#2","title":"\u793a\u4f8b\u4ee3\u7801 2","text":"<pre><code>const int&amp; funs() const\n</code></pre> <ul> <li> <p><code>const int&amp;</code>\uff1a\u8fd9\u662f\u8fd4\u56de\u7c7b\u578b\u7684\u90e8\u5206\u3002\u5b83\u8868\u793a\u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6307\u5411 <code>int</code> \u7c7b\u578b\u5bf9\u8c61\u7684\u5e38\u91cf\u5f15\u7528\u3002\u610f\u5473\u7740\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5bf9\u67d0\u4e2a int \u5bf9\u8c61\u7684\u53ea\u8bfb\u5f15\u7528\u3002</p> </li> <li> <p><code>funs()</code>\uff1a\u8fd9\u662f\u51fd\u6570\u7684\u540d\u79f0\u3002\u51fd\u6570\u540d\u4e3a funs\u3002</p> </li> <li> <p><code>const</code>\uff1a\u8fd9\u662f\u51fd\u6570\u7684\u4fee\u9970\u7b26\uff0c\u5b83\u4f4d\u4e8e\u51fd\u6570\u62ec\u53f7\u4e4b\u540e\u3002\u5b83\u8868\u793a\u8be5\u51fd\u6570\u662f\u4e00\u4e2a const \u6210\u5458\u51fd\u6570\uff0c\u5373\u5728\u8be5\u51fd\u6570\u5185\u90e8\u4e0d\u80fd\u4fee\u6539\u975e\u9759\u6001\u6570\u636e\u6210\u5458\uff08\u9664\u975e\u5b83\u4eec\u88ab\u58f0\u660e\u4e3a <code>mutable</code>\uff09\u3002</p> </li> </ul>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/","title":"\u7f16\u8bd1\u94fe\u63a5\u77e5\u8bc6","text":"<p>\u9884\u5904\u7406 &gt; \u7f16\u8bd1 &gt; \u6c47\u7f16 &gt; \u94fe\u63a5</p> <ul> <li> <p>\u9884\u5904\u7406\uff1a\u5f15\u5165\u5934\u6587\u4ef6\u3001\u53bb\u9664\u6ce8\u91ca\u3001\u5b8f\u66ff\u6362\u3001\u6761\u4ef6\u7f16\u8bd1\u6307\u4ee4\u3001\u6dfb\u52a0\u884c\u53f7\u3001\u4fdd\u7559\u6240\u6709\u7684\u7f16\u8bd1\u5668\u6307\u4ee4\uff1b</p> </li> <li> <p>\u7f16\u8bd1\uff1a\u7ecf\u8fc7\u8bcd\u6cd5\u5206\u6790\u3001\u8bed\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u3001\u7b26\u53f7\u6c47\u603b\u751f\u6210\u6c47\u7f16\u4ee3\u7801\u3002</p> </li> <li> <p>\u6c47\u7f16\uff1a\u5c06\u6c47\u7f16\u4ee3\u7801 <code>.s</code> \u7ffb\u8bd1\u6210\u673a\u5668\u6307\u4ee4 <code>.o</code> \u6587\u4ef6\u3002</p> </li> <li> <p>\u94fe\u63a5\uff1a\u94fe\u63a5\u76ee\u6807\u6587\u4ef6\uff0c\u751f\u6210\u53ef\u88ab\u7cfb\u7edf\u52a0\u8f7d\u6267\u884c\u7684ELF\u6587\u4ef6 <code>.a</code> \u3002</p> </li> </ul> <p>\u9759\u6001\u94fe\u63a5 &amp; \u52a8\u6001\u94fe\u63a5</p> <p>\u9759\u6001\u94fe\u63a5\uff1a\u9759\u6001\u94fe\u63a5\u5e93\u4e00\u822c\u4ee5 .a \u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u591a\u4e2a .o \u6587\u4ef6\u94fe\u63a5\u6210\u4e00\u4e2a\u9759\u6001\u94fe\u63a5\u5e93\u3002</p> <p>\u52a8\u6001\u94fe\u63a5\uff1a\u52a8\u6001\u94fe\u63a5\u5e93\u4e00\u822c\u4ee5 .so \u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u591a\u4e2a .o \u6587\u4ef6\u94fe\u63a5\u6210\u4e00\u4e2a\u52a8\u6001\u94fe\u63a5\u5e93\u3002</p> <p>\u4ea4\u53c9\u7f16\u8bd1</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_2","title":"\u5185\u5b58\u77e5\u8bc6","text":"<p>\u76ee\u6807\u6587\u4ef6\uff08\u53ef\u6267\u884c\u6587\u4ef6\u3001\u5171\u4eab\u5e93\u3001\u9759\u6001\u5e93\uff09&amp; ELF\u6587\u4ef6\u683c\u5f0f</p> <p>\u8fdb\u7a0b\u5185\u5b58\u5e03\u5c40</p> <p>\u5806\u4e0e\u6808</p> <p>\u5185\u5b58\u5bf9\u9f50</p> <p>\u5185\u5b58\u6cc4\u6f0f\u4e0e\u9884\u9632</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_3","title":"\u57fa\u7840\u77e5\u8bc6","text":"<p>\u5173\u952e\u5b57 &amp; \u7c7b\u578b &amp; \u6807\u8bc6\u7b26 &amp; \u8fd0\u7b97\u7b26</p> <p>\u8868\u8fbe\u5f0f &amp; \u8bed\u53e5</p> <p>\u58f0\u660e &amp; \u5b9a\u4e49 &amp; \u521d\u59cb\u5316</p> <p>\u6307\u9488 &amp; \u5f15\u7528</p> <p>\u9759\u6001\u6570\u7ec4 &amp; \u52a8\u6001\u6570\u7ec4 &amp; \u591a\u7ef4\u6570\u7ec4</p> <p>\u53d8\u91cf\u5b9a\u4e49\u4e0e\u751f\u5b58\u5468\u671f</p> <p>\u53d8\u91cf</p> <ul> <li> <p>\u58f0\u660e &amp; \u5b9a\u4e49 &amp; \u521d\u59cb\u5316</p> </li> <li> <p>\u4f5c\u7528\u57df\uff08\u5168\u5c40\u3001\u547d\u540d\u7a7a\u95f4\u3001\u6587\u4ef6\u3001\u7c7b\u4f5c\u7528\u57df\u3001\u5c40\u90e8\u3001\u8bed\u53e5\u4f5c\u7528\u57df\uff09</p> </li> <li> <p>\u751f\u547d\u5468\u671f\uff08\u5728\u4f5c\u7528\u57df\u5185\u6709\u6548\uff0c\u9759\u6001\u9664\u5916\uff09</p> </li> <li> <p>static\u4fee\u9970\uff08\u5168\u5c40\u3001\u9759\u6001\u5168\u5c40\u3001\u5c40\u90e8\u3001\u9759\u6001\u5c40\u90e8\uff09</p> </li> <li> <p>const\u4fee\u9970</p> </li> </ul> <p>\u5b57\u7b26\u4e32\uff08\u5927\u62ec\u53f7\u521d\u59cb\u5316\uff09</p> <p>\u7c7b\u578b\u64e6\u9664 &amp; \u7c7b\u578b\u8f6c\u6362</p> <p>\u51fd\u6570</p> <ul> <li> <p>\u5f62\u53c2\u4e0e\u5b9e\u53c2\uff08\u5916\u5b9e\u5185\u865a\uff09&amp; \u53ef\u53d8\u5f62\u53c2</p> </li> <li> <p>\u5f62\u53c2\u4f20\u9012\uff08\u503c\u3001\u5f15\u7528\u3001\u5e38\u91cf\u5f15\u7528\u3001\u6307\u9488\u3001\u6570\u7ec4\u3001\u51fd\u6570\uff09</p> </li> <li> <p>\u51fd\u6570\u8fd4\u56de\uff08\u5f15\u7528\u300c\u5de6\u503c\u300d\u3001\u53f3\u503c\u3001\u6307\u9488\uff09</p> </li> <li> <p>\u91cd\u8f7d\uff08\u9876\u5c42const\u65e0\u6cd5\u533a\u5206\u3001\u5e95\u5c42const\u53ef\u4ee5\u533a\u5206\uff09</p> </li> <li> <p>static \u4fee\u9970</p> </li> <li> <p>const \u4fee\u9970</p> </li> </ul> <p>\u5e38\u7528\u5bb9\u5668\uff08vector\u3001deque\u3001list\u3001set\u3001multiset\u3001map\u3001multimap\u3001bitset\uff09</p> <p>\u547d\u540d\u7a7a\u95f4</p> <p>\u5e93</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_4","title":"\u9762\u5411\u5bf9\u8c61","text":"<p>\u5c01\u88c5 &amp; \u7ee7\u627f &amp; \u591a\u6001</p> <ul> <li> <p>\u5c01\u88c5\uff1a\u5bf9\u5916\u63d0\u4f9b\u63a5\u53e3\uff0c\u964d\u4f4e\u8026\u5408\u3002</p> </li> <li> <p>\u7ee7\u627f\uff1a\u4ee3\u7801\u590d\u7528\u3002</p> </li> <li> <p>\u591a\u6001\uff1a\u4f7f\u7f16\u7a0b\u66f4\u52a0\u7684\u7075\u6d3b\u3002</p> </li> </ul> <p>\u91cd\u8f7d &amp; \u91cd\u5199 &amp; \u9690\u85cf</p> <ul> <li> <p>\u91cd\u8f7d\uff1a\u51fd\u6570\u5185\u90e8\u53d1\u751f\u5728\u91cd\u8f7d\u3002</p> </li> <li> <p>\u9690\u85cf\uff1a\u53d1\u751f\u5728\u7f16\u8bd1\u671f\uff0c\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u9690\u85cf\u4e86\u57fa\u7c7b\u4e2d\u7684\u540c\u540d\u51fd\u6570\u3002</p> <ul> <li> <p>\u5982\u679c\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u4e0e\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u540c\u540d\uff0c\u4f46\u53c2\u6570\u4e0d\u540c\uff0c\u5219\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u9690\u85cf\u4e86\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u3002</p> </li> <li> <p>\u5982\u679c\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u4e0e\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u540c\u540d\uff0c\u53c2\u6570\u4e5f\u76f8\u540c\uff0c\u4f46\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u4e0d\u662f\u865a\u51fd\u6570\uff0c\u5219\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u9690\u85cf\u4e86\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u3002</p> </li> </ul> </li> <li> <p>\u91cd\u5199\uff1a\u53d1\u751f\u5728\u8fd0\u884c\u65f6\uff0c\u6d3e\u751f\u7c7b\u4e2d\u7684\u865a\u51fd\u6570\u8986\u76d6\u4e86\u57fa\u7c7b\u4e2d\u7684\u540c\u540d\u865a\u51fd\u6570\u3002</p> <ul> <li> <p>\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u4e0e\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u540c\u540d\uff0c\u53c2\u6570\u4e5f\u76f8\u540c\u3002</p> </li> <li> <p>\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u5fc5\u987b\u662f\u865a\u51fd\u6570\u3002</p> </li> <li> <p>\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u4f46\u5fc5\u987b\u4e0e\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u517c\u5bb9\u3002</p> </li> <li> <p>\u6d3e\u751f\u7c7b\u4e2d\u7684\u51fd\u6570\u53ef\u4ee5\u629b\u51fa\u66f4\u591a\u7684\u5f02\u5e38\uff0c\u4f46\u5fc5\u987b\u4e0e\u57fa\u7c7b\u4e2d\u7684\u51fd\u6570\u629b\u51fa\u7684\u5f02\u5e38\u517c\u5bb9\u3002</p> </li> </ul> </li> </ul> <p>\u8bbf\u95ee\u6743\u9650 &amp; \u7ee7\u627f\u6743\u9650</p> <p>this\u6307\u9488</p> <ul> <li> <p><code>this</code>\u6307\u9488\u662f\u4e00\u4e2a\u9690\u5f0f\u7684\u6307\u9488\uff0c\u5b83\u6307\u5411\u5f53\u524d\u5bf9\u8c61\u7684\u5730\u5740\u3002</p> </li> <li> <p>\u5728\u6210\u5458\u51fd\u6570\u4e2d\u8fd4\u56de<code>*this</code>\u6765\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u672c\u8eab\uff0c\u5b9e\u73b0\u94fe\u5f0f\u8c03\u7528\u3002</p> </li> </ul> <p>\u6784\u9020\u51fd\u6570 &amp; \u6790\u6784\u51fd\u6570</p> <ul> <li> <p>\u6784\u9020\u51fd\u6570</p> <ul> <li> <p>\u9ed8\u8ba4\u6784\u9020\u51fd\u6570</p> </li> <li> <p>\u521d\u59cb\u5316\u6784\u9020\u51fd\u6570</p> </li> <li> <p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570</p> </li> <li> <p>\u79fb\u52a8\u6784\u9020\u51fd\u6570</p> </li> <li> <p>\u59d4\u6258\u6784\u9020\u51fd\u6570</p> </li> <li> <p>\u8f6c\u6362\u6784\u9020\u51fd\u6570</p> </li> <li> <p>constexpr \u4fee\u9970</p> </li> <li> <p>explicit \u4fee\u9970</p> </li> </ul> </li> <li> <p>\u6790\u6784\u51fd\u6570\uff1a</p> <ul> <li> <p>\u9ed8\u8ba4\u6790\u6784\u51fd\u6570</p> </li> <li> <p>\u865a\u6790\u6784\u51fd\u6570</p> </li> </ul> </li> </ul> <p>\u7c7b\u5bf9\u8c61\u521d\u59cb\u5316\u987a\u5e8f &amp; \u6790\u6784\u987a\u5e8f</p> <p>\u4e09\u4e94\u6cd5\u5219</p> <p>\u5982\u679c\u7c7b\u4e0d\u9700\u8981\u5b9a\u4e49\u300c\u6790\u6784\u51fd\u6570\u300d\u56de\u6536\u8d44\u6e90\uff0c\u5219\u53ea\u9700\u8981\u5b9a\u4e49\u300c\u666e\u901a\u6784\u9020\u51fd\u6570\u300d\u3002</p> <p>\u5982\u679c\u7c7b\u9700\u8981\u5b9a\u4e49\u300c\u6790\u6784\u51fd\u6570\u300d\u56de\u6536\u8d44\u6e90\uff0c\u5219\u5728\u5b9a\u4e49\u300c\u666e\u901a\u6784\u9020\u51fd\u6570\u300d\u5916\uff0c\u4e5f\u9700\u8981\u5b9a\u4e49\u300c\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3001\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u51fd\u6570\u300d\u3002</p> <p>\u7528\u6237\u5b9a\u4e49\u7684\u300c\u6790\u6784\u51fd\u6570\u3001\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3001\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\u300d\u7684\u5b58\u5728\u4f1a\u963b\u6b62 \u300c\u79fb\u52a8\u6784\u9020\u51fd\u6570\u3001\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u300d\u7684\u9690\u5f0f\u5b9a\u4e49\uff0c\u6240\u4ee5\u4efb\u4f55\u60f3\u8981\u79fb\u52a8\u8bed\u4e49\u7684\u7c7b\u5fc5\u987b\u58f0\u660e\u5168\u90e8\u4e94\u4e2a\u7279\u6b8a\u6210\u5458\u51fd\u6570\u3002</p> <p>\u865a\u51fd\u6570 &amp; \u7eaf\u865a\u51fd\u6570</p> <ul> <li> <p>\u865a\u51fd\u6570\u662f\u57fa\u4e8e\u300c\u865a\u51fd\u6570\u8868\u300d\u548c\u300c\u865a\u51fd\u6570\u6307\u9488\u300d\u5b9e\u73b0\u3002</p> </li> <li> <p>\u5f53\u8c03\u7528\u4e00\u4e2a\u865a\u51fd\u6570\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u5148\u68c0\u67e5\u5bf9\u8c61\u7684\u865a\u51fd\u6570\u6307\u9488\uff0c\u7136\u540e\u6839\u636e\u8be5\u6307\u9488\u627e\u5230\u76f8\u5e94\u7684\u865a\u51fd\u6570\u8868\u3002\u6700\u540e\uff0c\u6839\u636e\u865a\u51fd\u6570\u8868\u4e2d\u5b58\u50a8\u7684\u51fd\u6570\u5730\u5740\uff0c\u8c03\u7528\u76f8\u5e94\u7684\u865a\u51fd\u6570\u5b9e\u73b0\u4ee3\u7801\u3002</p> </li> </ul> <p>\u591a\u6001\u7684\u5b9e\u73b0\u539f\u7406</p> <p>\u5355\u7ee7\u627f &amp; \u591a\u7ee7\u627f &amp; \u83f1\u5f62\u7ee7\u627f &amp; \u865a\u7ee7\u627f</p> <p>\u83f1\u5f62\u7ee7\u627f\uff1a</p> <ul> <li> <p>\u6570\u636e\u5197\u4f59\uff1a\u6d3e\u751f\u7c7b\u5bf9\u8c61\u4e2d\u5305\u542b\u4e24\u4e2a\u76f8\u540c\u57fa\u7c7b\u7684\u6210\u5458\u3002</p> </li> <li> <p>\u4e8c\u4e49\u6027\uff1a\u6d3e\u751f\u7c7b\u8c03\u7528\u57fa\u7c7b\u51fd\u6570\u65f6\uff0c\u65e0\u6cd5\u786e\u5b9a\u8c03\u7528\u54ea\u4e2a\u3002</p> </li> </ul> <p>\u865a\u7ee7\u627f\uff1a\u7528\u4e8e\u89e3\u51b3\u83f1\u5f62\u7ee7\u627f\u7684\u95ee\u9898\u3002</p> <p>\u5bf9\u8c61\u5185\u5b58\u5e03\u5c40\uff08\u5355\u7ee7\u627f &amp; \u591a\u7ee7\u627f\uff09</p> <p>\u7c7b\u7684\u5927\u5c0f</p> <p>\u63a7\u5236\u5bf9\u8c61\u5728\u5806\u6216\u6808\u4e0a\u5206\u914d</p> <p>\u53cb\u5143\u51fd\u6570 &amp; \u53cb\u5143\u7c7b</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_5","title":"\u8bed\u8a00\u7279\u6027","text":""},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#c11","title":"C++11\u7279\u6027","text":"<p>RAII</p> <p>\u5f15\u7528\u8ba1\u6570</p> <p>\u667a\u80fd\u6307\u9488</p> <ul> <li> <p>unique_ptr &amp; shared_ptr &amp; weak_ptr</p> </li> <li> <p>\u503c\u4f20\u9012 &amp; \u5f15\u7528\u4f20\u9012</p> </li> <li> <p>unique_ptr</p> <ul> <li> <p>\u907f\u514d\u4f7f\u7528 unique_ptr \u4f5c\u4e3a\u503c\u4f20\u9012\uff0c\u901a\u5e38\u662f\u83b7\u53d6\u88f8\u6307\u9488\u4f20\u9012\uff0c\u6216\u8f6c\u79fb\u6240\u6709\u6743</p> </li> <li> <p>\u5982\u679c\u4e00\u5b9a\u8981\u4f20\u9012\uff0c\u4e5f\u8981\u4f7f\u7528\u5f15\u7528\u4f20\u9012</p> </li> <li> <p>unique_ptr \u4f5c\u4e3a\u8fd4\u56de\u503c\u4f7f\u7528\uff0c\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u7ecf\u5e38\u7528\u5230\uff0c\u5f02\u5e38\u5b89\u5168</p> </li> </ul> </li> <li> <p>shared_ptr</p> <ul> <li> <p>\u907f\u514d\u5faa\u73af\u5f15\u7528\u95ee\u9898\uff0c\u5185\u90e8\u4f7f\u7528 weak_ptr</p> </li> <li> <p>\u4f5c\u4e3a\u503c\u4f20\u9012\u6ca1\u95ee\u9898\uff0c\u56e0\u4e3a\u6240\u6709\u6743\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316</p> </li> </ul> </li> </ul> <p>\u5f02\u5e38\u5904\u7406</p> <p>\u5de6\u503c\u4e0e\u53f3\u503c</p> <p>\u53f3\u503c\u5f15\u7528\u3001\u79fb\u52a8\u8bed\u4e49\u4e0e\u5b8c\u7f8e\u8f6c\u53d1</p> <p><code>auto</code> \u7c7b\u578b\u63a8\u5bfc</p> <p><code>decltype</code> \u7c7b\u578b\u63a8\u5bfc</p> <p><code>lambda</code> \u8868\u8fbe\u5f0f</p> <p>\u9ed8\u8ba4\u6784\u9020\u51fd\u6570 <code>= default</code></p> <p>\u7981\u7528\u51fd\u6570 <code>= delete</code></p> <p><code>constexpr</code> \u5e38\u91cf\u8868\u8fbe\u5f0f</p> <p>\u521d\u59cb\u5316\u5217\u8868<code>initializer list</code></p> <p><code>nullptr</code> \u7a7a\u6307\u9488\u5e38\u91cf</p> <p>\u53ef\u6269\u5c55\u7684\u968f\u673a\u6570\u529f\u80fd</p> <p>\u6a21\u677f\u4e0e\u6cdb\u578b\u7f16\u7a0b\uff1a\u6a21\u677f\u5b9a\u4e49\u3001\u5b9e\u4f8b\u5316\u3001\u6a21\u677f\u7f16\u8bd1\u3001\u6a21\u677f\u7279\u5316</p> <p>lambda\u8868\u8fbe\u5f0f</p> <p>C++14\u7279\u6027\uff1a</p> <p>\u652f\u6301\u51fd\u6570\u8fd4\u56de\u503c\u7c7b\u578b\u63a8\u5bfc</p> <p><code>lambda</code> \u51fd\u6570\u7684\u5f62\u5f0f\u53c2\u6570\u5141\u8bb8\u6cdb\u578b</p> <p><code>deprecated</code> \u5c5e\u6027</p> <p>\u65b0\u589e<code>std::make_unique</code></p> <p>\u5171\u4eab\u7684\u4e92\u65a5\u4f53\u548c\u9501</p> <p>C++ 17 \u65b0\u7279\u6027\uff1a</p> <p>\u7ed3\u6784\u5316\u7ed1\u5b9a</p> <p><code>if-switch</code> \u8bed\u53e5\u521d\u59cb\u5316</p> <p><code>constexpr lambda</code> \u8868\u8fbe\u5f0f</p> <p><code>namespace</code> \u5d4c\u5957</p> <p><code>std::any</code>\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u7c7b\u578b</p> <p><code>std::filesystem</code> \u6587\u4ef6\u5e93</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#io","title":"IO\u5904\u7406","text":"<p>\u6807\u51c6IO &amp; \u6587\u4ef6IO &amp; \u5185\u5b58IO &amp; \u7f51\u7edcIO</p> <p>\u6807\u51c6IO\uff1acin cout cerr</p> <p>\u6587\u4ef6IO\uff1aifstream ofstream fstream</p> <p>\u5185\u5b58IO\uff1astringstream</p> <p>\u7f51\u7edcIO\uff1asocket</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_6","title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b","text":"<p>\u9501\u7684\u79cd\u7c7b\uff1a\u4e92\u65a5\u9501\u3001\u6761\u4ef6\u9501\u3001\u81ea\u9009\u9501\u3001\u8bfb\u5199\u9501\u3001\u9012\u5f52\u9501</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_7","title":"\u7f16\u7801\u89c4\u8303","text":"<ul> <li>\u53d8\u91cf\u6700\u597d\u5728\u5b9a\u4e49\u65f6\u5c31\u521d\u59cb\u5316\uff0c\u5e76\u4e14\u4f7f\u7528 <code>{}</code> \u663e\u5f0f\u521d\u59cb\u5316</li> </ul>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_8","title":"\u5de5\u7a0b\u5316","text":"<p>include \" \" \u4e0e &lt;&gt; \u7684\u533a\u522b</p> <p>\u6784\u5efa\uff1amake\u3001cmake</p> <p>\u8c03\u8bd5\uff1agdb</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D%201/#_9","title":"\u95ee\u9898","text":"<p>static \u7684\u4f5c\u7528</p> <p>const \u7684\u4f5c\u7528</p> <p>sizeof \u4e0e strlen \u7684\u533a\u522b</p> <p>auto \u63a8\u5bfc\u7684\u89c4\u5219</p> <p>new \u4e0e mollac \u7684\u533a\u522b</p> <p>delete \u4e0e free \u7684\u533a\u522b</p> <p>volatile \u7684\u4f5c\u7528\u4e0e\u4f7f\u7528\u573a\u666f</p> <p>class \u4e0e struct \u7684\u533a\u522b</p> <p>struct \u4e0e union \u7684\u533a\u522b</p> <p>class \u4e0e struct \u7684\u533a\u522b</p> <p>extern C \u7684\u4f5c\u7528</p> <p>strcpy \u7684\u7f3a\u9677</p> <p>lambda \u8868\u8fbe\u5f0f\u7684\u4f5c\u7528</p> <p>memmove \u51fd\u6570\u7684\u5e95\u5c42\u539f\u7406</p> <p>\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d</p> <p>\u53cb\u5143\u51fd\u6570</p> <p>\u8fd4\u56de\u51fd\u6570\u4e2d\u9759\u6001\u53d8\u91cf\u7684\u5730\u5740\u4f1a\u53d1\u751f\u4ec0\u4e48</p> <p>sizeof(1==1) \u5728 C \u548c C++ \u4e2d\u7684\u7ed3\u679c</p> <p>memmove \u51fd\u6570\u7684\u5e95\u5c42\u539f\u7406</p> <p>explicit \u7684\u4f5c\u7528</p> <p>define \u4e0e typedef \u7684\u533a\u522b</p>"},{"location":"cpp/%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"<p>c++\u9879\u76ee\u5176\u5b9e\u53ea\u8981\u5f3a\u5236\u505a\u5230\u4e09\u70b9\u5c31\u80fd\u675c\u7edd\u5927\u90e8\u5206\u5185\u5b58\u95ee\u9898\u4e86\u3002</p> <p>1.\u4e0d\u8981\u7528c\u98ce\u683c\u6570\u7ec4\u3002\u7528boost::array\u4ee3\u66ff\u9759\u6001\u6570\u7ec4\uff0c\u7528boost::container::vector\u4ee3\u66ff\u52a8\u6001\u6570\u7ec4\u3002</p> <p>\u8fd9\u6837\u5982\u679c\u53d1\u751f\u8d8a\u754c\u8bbf\u95ee\u7684\u8bdd\uff0cdebug\u6a21\u5f0f\u4e0b\u4f1a\u76f4\u63a5\u62a5assert fail\uff0c\u5c31\u4e0d\u9700\u8981\u4f60\u5230\u5904debug\u5728\u54ea\u8d8a\u754c\u4e86\u3002</p> <p>2.\u4e0d\u8981\u4f7f\u7528new\u521b\u5efa\u8d44\u6e90\uff0c\u4e00\u5f8b\u7528make_unique\u6216make_shared\u3002</p> <p>\u8fd9\u6761\u5e76\u4e0d\u662f\u8bf4\u8981\u5b8c\u5168\u907f\u514d\u88f8\u6307\u9488\uff0c\u5728\u6709\u8db3\u591f\u628a\u63e1\u88f8\u6307\u9488\u662f\u5b89\u5168\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3a\u4e86\u964d\u4f4e\u590d\u6742\u5ea6\u53ef\u4ee5\u7528unique_ptr+\u88f8\u6307\u9488\u6765\u4ee3\u66ffshared_ptr\u3002\u4e0d\u8fc7\u65b0\u624b\u7684\u8bdd\u5b8c\u5168\u53ef\u4ee5\u5f3a\u5236shared_ptr+weak_ptr+\u5f3a\u5236\u68c0\u67e5\u6307\u9488\uff0c\u8fd9\u6837\u5c31\u548crust\u4e00\u6837\u9ebb\u70e6\u4e86\u3002</p> <p>3.\u8d44\u6e90\u9075\u5faa\u8c01\u521b\u5efa\u8c01\u9500\u6bc1\u539f\u5219\u3002\u8fd9\u4e2a\u662f\u8001\u8bdd\u4e86\u3002</p> <p>1\uff0c2\u7684\u8bdd\u4f1a\u6709\u4e00\u70b9\u6027\u80fd\u635f\u5931\uff0c\u4f46\u4f60\u7528rust\u7684\u8bdd\u4e5f\u4f1a\u6709\u7c7b\u4f3c\u7684\u6027\u80fd\u635f\u5931\u3002vector\u5982\u679c\u662f\u5f53\u4f5cbuffer\u7528\u7684\u8bdd\u53ef\u4ee5\u7528boost\u7684\uff0c\u914d\u5408default_init\uff0c\u7701\u53bb\u521d\u59cb\u5316\u5f00\u9500\uff0c\u53ef\u4ee5\u51cf\u5c0f\u6027\u80fd\u635f\u5931\u3002</p> <p>\u8fd9\u5728\u5355\u7ebf\u7a0b\u6a21\u5f0f\u4e0b\u5c31\u5df2\u7ecf\u8db3\u591f\u5b89\u5168\u4e86\uff0c\u518d\u6ce8\u610f\u4e00\u4e0b\u4e0d\u8981\u5728\u904d\u5386\u5bb9\u5668\u7684\u65f6\u5019\u5199\u5165\u5bb9\u5668\u5c31\u597d\u4e86\u3002\u591a\u7ebf\u7a0b\u7684\u8bdd\u5c31\u9700\u8981\u7ecf\u9a8c\u4e86\u3002</p> <p>\u7f51\u7edc\u4e0a\u6709\u592a\u591a\u5173\u4e8ec++\u7684\u4e0d\u5b9e\u8c23\u8a00\uff0c\u4e8b\u5b9e\u4e0a\u73b0\u4ee3c++\u6839\u672c\u6ca1\u90a3\u4e48\u4e0d\u5b89\u5168\uff0c\u800c\u4e00\u5806\u4eba\u4e00\u76f4\u5728\u62ffc\u548cc++98\u7684\u95ee\u9898\u6765\u9ed1c++\u3002</p> <p>c++\u9ad8\u624b\u4f7f\u7528\u73b0\u4ee3c++\uff0c\u5728\u5f00\u53d1\u6548\u7387\u4e0a\u751a\u81f3\u4e0d\u8f93\u7ed9\u4ee5\u5f00\u53d1\u6548\u7387\u9ad8\u95fb\u540d\u7684\u90a3\u4e9b\u8bed\u8a00\uff0c\u81ea\u7531\u5ea6\u548c\u529f\u80fd\u7684\u4e30\u5bcc\u5ea6\u66f4\u662f\u72ec\u4e00\u6863\u3002rust\u662f\u671b\u5c18\u83ab\u53ca\u7684\u3002\u56e0\u6b64\u6211\u8ba4\u4e3ac++\u4e0d\u4f46\u4e0d\u4f1a\u8d25\u5c40\u5df2\u5b9a\uff0c\u53cd\u800c\u4f1a\u8d8a\u53d1\u7a33\u56fa\u3002</p> <p>rust\u771f\u6b63\u80fd\u5a01\u80c1\u5230\u7684\u5176\u5b9e\u662fc\u548cjava\u3002\u56e0\u4e3a\u6709\u4e9b\u7528c\u7684\u8001\u987d\u56fa\u6297\u62d2c++\uff0c\u4f46\u4ed6\u4eec\u53c8\u611f\u89c9c\u592a\u4e0d\u5b89\u5168\u5f00\u53d1\u6548\u7387\u592a\u4f4e\uff0c\u6240\u4ee5\u4f1a\u5f15\u5165rust\u4ee3\u66ffc\u3002\u4f46\u5f53\u8fd9\u4e9b\u8001\u987d\u56fa\u6b7b\u4e86\u4e4b\u540e\uff0cc++\u53ef\u80fd\u4f1a\u53cd\u8fc7\u6765\u4ee3\u66ffrust\u3002</p> <p>java\u548crust\u4e00\u6837\uff0c\u90fd\u662f\u806a\u660e\u4eba\u4e3a\u4e86\u8ba9\u7b28\u4e00\u70b9\u7684\u4eba\u4e5f\u80fd\u5199\u51fa\u5185\u5b58\u5b89\u5168\u7684\u7a0b\u5e8f\u800c\u5f00\u53d1\u7684\u8bed\u8a00\u3002\u4e0d\u8fc7java\u6709\u6027\u80fd\u548c\u5185\u5b58\u5360\u7528\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u90a3\u4e9b\u4e0d\u662f\u5f88\u9ad8\u660e\u7684\u7a0b\u5e8f\u5458\u4e3a\u4e86\u63d0\u5347\u6027\u80fd\u81ea\u7136\u4f1a\u8003\u8651rust\u3002\u4f46\u6211\u60f3\u8bf4\u7684\u662f\uff0c\u5b8c\u5168\u53ef\u4ee5\u7528\u73b0\u4ee3c++\u4ee3\u66ffrust\u3002rust\u63d0\u5347\u7684\u90a3\u70b9\u5b89\u5168\u6027\uff0c\u662f\u8981\u4ee5\u5f00\u53d1\u6548\u7387\u4e3a\u4ee3\u4ef7\u7684\uff0c\u4f7f\u7528rust\u6700\u540e\u53ef\u80fd\u53cd\u800c\u4f1a\u5f97\u4e0d\u507f\u5931\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/","title":"\u7c7b\u578b\u64e6\u9664","text":"<p>\u7c7b\u578b\u64e6\u9664\u662f\u4e00\u79cd\u6280\u672f\uff0c\u7528\u4e8e\u9690\u85cf\u5177\u4f53\u7c7b\u578b\u5e76\u4ee5\u7c7b\u578b\u65e0\u5173\u7684\u65b9\u5f0f\u5904\u7406\u5bf9\u8c61\uff0c\u5728\u8fd0\u884c\u65f6\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u540c\u65f6\u63d0\u4f9b\u4e00\u81f4\u7684\u63a5\u53e3\u548c\u884c\u4e3a\u3002</p> <p>C++\u4e2d\u7c7b\u578b\u64e6\u9664\u7684\u5b9e\u73b0\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li> <p>\uff08\u9759\u6001\uff09\u6a21\u677f\uff1a\u6a21\u677f\u53ef\u4ee5\u5c06\u4ee3\u7801\u6cdb\u578b\u5316\uff0c\u4f7f\u5176\u53ef\u4ee5\u9002\u7528\u4e8e\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c<code>std::vector</code>\u6a21\u677f\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u5143\u7d20\u3002</p> </li> <li> <p>\uff08\u52a8\u6001\uff09\u865a\u51fd\u6570\uff1a\u865a\u51fd\u6570\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u6839\u636e\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\u8c03\u7528\u4e0d\u540c\u7684\u51fd\u6570\u3002\u4f8b\u5982\uff0c<code>std::cout</code>\u5bf9\u8c61\u53ef\u4ee5\u7528\u4e8e\u8f93\u51fa\u4efb\u610f\u7c7b\u578b\u7684\u5bf9\u8c61\u3002</p> </li> <li> <p>\u7c7b\u578b\u8f6c\u6362\uff1a\u7c7b\u578b\u8f6c\u6362\u53ef\u4ee5\u5c06\u4e00\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u7c7b\u578b\u3002\u4f8b\u5982\uff0c<code>static_cast</code>\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6307\u9488\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u7c7b\u578b\u7684\u6307\u9488\u3002</p> </li> </ul>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/#_1","title":"\u57fa\u4e8e\u591a\u6001\u7684\u7c7b\u578b\u64e6\u9664","text":"<p>\u57fa\u4e8e\u591a\u6001\u7684\u7c7b\u578b\u64e6\u9664\u662f\u6307\u4f7f\u7528\u591a\u6001\u6027\u548c\u865a\u51fd\u6570\u673a\u5236\u6765\u5b9e\u73b0\u7c7b\u578b\u64e6\u9664\u7684\u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u4e3b\u8981\u662f\u901a\u8fc7\u5b9a\u4e49\u4e00\u4e2a\u57fa\u7c7b\u6765\u5b9e\u73b0\uff0c\u8be5\u57fa\u7c7b\u5305\u542b\u4e00\u7ec4\u865a\u51fd\u6570\uff0c\u7528\u4e8e\u64cd\u4f5c\u5b9e\u9645\u6570\u636e\u7c7b\u578b\u7684\u5b58\u50a8\u548c\u8bbf\u95ee\uff0c\u5e76\u5b9a\u4e49\u4e00\u4e2a\u6216\u591a\u4e2a\u6d3e\u751f\u7c7b\u7528\u4e8e\u5177\u4f53\u5b58\u50a8\u548c\u8bbf\u95ee\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u57fa\u4e8e\u591a\u6001\u7684\u7c7b\u578b\u64e6\u9664\u7684\u4f8b\u5b50\uff0c\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528\u57fa\u7c7b\u6307\u9488\u6765\u8bbf\u95ee\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u3002</p> <pre><code>class Data {};\n\nclass IntData : public Data \n{\npublic:\n    IntData(int value) : _value(value) {}\nprivate:\n    int _value;\n};\n\nclass StringData : public Data {\npublic:\n    StringData(std::string value) : _value(value) {}\nprivate:\n    std::string _value;\n};\n</code></pre> <p>\u8be5\u4f8b\u5b50\u5b9a\u4e49\u4e86\u4e00\u4e2aData\u57fa\u7c7b\uff0c\u4ee5\u53ca\u4e24\u4e2a\u6d3e\u751f\u7c7b<code>IntData</code>\u548c<code>StringData</code>\uff0c\u5206\u522b\u7528\u4e8e\u5b58\u50a8\u6574\u578b\u548c\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u636e\u3002\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u50cf\u65e0\u7c7b\u578b\u4e00\u6837\u4f7f\u7528\u8fd9\u4e9b\u7c7b\u578b\u4e86\u3002</p> <pre><code>int main() {\n    std::vector&lt;Data*&gt; dataList {\n        new IntData(123),\n        new StringData(\"Hello, world!\")\n    };\n\n    for(auto data : dataList) {\n        delete data;\n    }\n    return 0;\n}\n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/#_2","title":"\u57fa\u4e8e\u6a21\u677f\u7684\u7c7b\u578b\u64e6\u9664","text":"<p>\u57fa\u4e8e\u6a21\u677f\u7684\u7c7b\u578b\u64e6\u9664\u662f\u6307\u4f7f\u7528\u6a21\u677f\u7c7b\u7684\u53c2\u6570\u63a8\u5bfc\u673a\u5236\uff0c\u5728\u7f16\u8bd1\u65f6\u81ea\u52a8\u751f\u6210\u4e0d\u540c\u7c7b\u578b\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u4ece\u800c\u5b9e\u73b0\u7c7b\u578b\u65e0\u5173\u7684\u64cd\u4f5c\u7684\u65b9\u5f0f\u3002C++\u6807\u51c6\u5e93\u5185\u7684\u6a21\u677f\u90fd\u5c5e\u4e8e\u7c7b\u578b\u64e6\u9664\u7684\u5e94\u7528\uff0c\u6bd4\u8f83\u5178\u578b\u7684\u7528\u4e8e\u7c7b\u578b\u64e6\u9664\u7684\u5bb9\u5668\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li> <p><code>std::any</code>\uff1aC++17 \u65b0\u589e\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u5bf9\u8c61\u3002\u53ef\u4ee5\u901a\u8fc7 std::any_cast \u8f6c\u5316\u4e3a\u6307\u5b9a\u7c7b\u578b\u7684\u5bf9\u8c61\uff1b</p> </li> <li> <p><code>std::variant</code>\uff1aC++17 \u65b0\u589e\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u5b58\u50a8\u591a\u4e2a\u53ef\u80fd\u7684\u7c7b\u578b\u4e4b\u4e00\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u901a\u8fc7 std::get \u548c std::visit \u8bbf\u95ee\u5176\u4e2d\u7684\u5bf9\u8c61\uff1b</p> </li> <li> <p><code>std::function</code>\uff1aC++11 \u65b0\u589e\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u53ef\u8c03\u7528\u5bf9\u8c61\u7684\u51fd\u6570\u5bf9\u8c61\uff0c\u5305\u62ec\u51fd\u6570\u6307\u9488\u3001\u6210\u5458\u51fd\u6570\u6307\u9488\u3001\u4eff\u51fd\u6570\u7b49\u7b49\uff1b</p> </li> <li> <p><code>std::tuple</code>\uff1aC++11 \u4e2d\u63d0\u4f9b\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u5b58\u50a8\u591a\u4e2a\u53ef\u80fd\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u3002</p> </li> </ul> <p>\u63a5\u4e0b\u6765\u4ecb\u7ecd\u4e00\u4e0b\u8fd94\u7c7b\u7c7b\u578b\u64e6\u9664\u5bb9\u5668\u7684\u6700\u57fa\u672c\u7528\u6cd5\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/#stdany","title":"std::any","text":"<p>C++17\u6807\u51c6\u5f15\u5165\u4e86<code>std::any</code>\u7c7b\u6a21\u677f\uff0c\u7528\u4e8e\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u7684\u503c\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u52a8\u6001\u7684<code>union</code>\u3002<code>std::any</code>\u7684\u4e3b\u8981\u529f\u80fd\u662f\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u5b58\u50a8\u5404\u79cd\u7c7b\u578b\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5e76\u4e14\u53ef\u4ee5\u52a8\u6001\u5730\u67e5\u770b\u548c\u8f6c\u6362\u8fd9\u4e9b\u6570\u636e\u7c7b\u578b\u3002</p> <pre><code>std::any a;  // \u521b\u5efa\u4e00\u4e2a\u7a7a\u7684std::any\u5bf9\u8c61\nstd::string str = \"Hello, World!\";\nstd::any a = str;  // \u521b\u5efa\u4e00\u4e2a\u5b58\u50a8std::string\u7c7b\u578b\u503c\u7684std::any\u5bf9\u8c61\nstd::any a = 10;  // \u521b\u5efa\u4e00\u4e2a\u5b58\u50a8int\u7c7b\u578b\u503c\u7684std::any\u5bf9\u8c61\nint value = std::any_cast&lt;int&gt;(a);  // \u83b7\u53d6a\u4e2d\u5b58\u50a8\u7684int\u7c7b\u578b\u503c\n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/#stdvariant","title":"std::variant","text":"<p>C++17\u6807\u51c6\u5f15\u5165\u4e86\u53e6\u4e00\u4e2a\u6709\u7528\u7684\u7c7b\u6a21\u677f<code>std::variant</code>\uff0c<code>std::variant</code>\u53ef\u4ee5\u5b58\u50a8\u591a\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u4f46\u5b83\u4e0e<code>std::any</code>\u6709\u6240\u4e0d\u540c\u7684\u662f\uff0c\u5b83\u6240\u5b58\u50a8\u7684\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u5728\u7f16\u8bd1\u65f6\u5c31\u786e\u5b9a\uff0c\u4e0d\u652f\u6301\u52a8\u6001\u7c7b\u578b\u3002</p> <pre><code>std::variant&lt;int, double, std::string&gt; v = 10;\nint value = std::get&lt;int&gt;(v);  // \u83b7\u53d6\u5b58\u50a8\u5728v\u4e2d\u7684int\u7c7b\u578b\u503c\n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/#stdtuple","title":"std::tuple","text":"<p>C++11\u6807\u51c6\u4e2d\u5f15\u5165\u4e86<code>std::tuple</code>\u7c7b\u6a21\u677f\uff0c\u7528\u4e8e\u5b58\u50a8\u4efb\u610f\u6570\u91cf\u548c\u4efb\u610f\u7c7b\u578b\u7684\u503c\u3002</p> <pre><code>std::tuple&lt;int, double, std::string&gt; t(10, 3.14, \"Hello, World!\");\nint i = std::get&lt;0&gt;(t);  // \u83b7\u53d6\u7b2c\u4e00\u4e2a\u503c\uff0c\u537310 \ndouble d = std::get&lt;1&gt;(t);  // \u83b7\u53d6\u7b2c\u4e8c\u4e2a\u503c\uff0c\u53733.14 \nstd::string str = std::get&lt;2&gt;(t);  // \u83b7\u53d6\u7b2c\u4e09\u4e2a\u503c\uff0c\u5373\"Hello, World!\" \nstd::get&lt;0&gt;(t) = 20;  // \u5c06\u7b2c\u4e00\u4e2a\u503c\u4ece10\u4fee\u6539\u4e3a20\n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/#stdfunction","title":"std::function","text":"<p><code>std::function</code>\u662fC++11\u6807\u51c6\u5e93\u4e2d\u63d0\u4f9b\u7684\u4e00\u4e2a\u51fd\u6570\u5bf9\u8c61\u5305\u88c5\u5668\uff0c\u5b83\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u53ef\u8c03\u7528\u5bf9\u8c61\uff08\u51fd\u6570\u3001\u51fd\u6570\u6307\u9488\u3001\u6210\u5458\u51fd\u6570\u6307\u9488\u3001Lambda\u8868\u8fbe\u5f0f\u7b49\uff09\u3002\u4f7f\u7528<code>std::function</code>\u7684\u597d\u5904\u662f\uff0c\u5b83\u80fd\u591f\u5b58\u50a8\u4efb\u4f55\u53ef\u8c03\u7528\u5bf9\u8c61\uff0c\u800c\u4e0d\u9700\u8981\u5177\u4f53\u6307\u5b9a\u5176\u7c7b\u578b\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u7c7b\u578b\u7684\u64e6\u9664\uff0c\u4f7f\u5f97\u6211\u4eec\u80fd\u591f\u66f4\u52a0\u7075\u6d3b\u5730\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u51fd\u6570\uff0c\u5e76\u5728\u51fd\u6570\u8c03\u7528\u65f6\u81ea\u52a8\u8fdb\u884c\u53c2\u6570\u7c7b\u578b\u68c0\u67e5\u3002\u4ee5\u4e0b\u662f<code>std::function</code>\u7684\u7c7b\u578b\u64e6\u9664\u4f8b\u5b50\uff1a</p> <pre><code>#include &lt;iostream&gt; \n#include &lt;functional&gt; \n\nint add(int a, int b) {return a + b;}\n\nint main() {\n    std::function&lt;int(int, int)&gt; f;\n    f = add;\n    f = [](int a, int b) { return a * b; };\n    return 0;\n}\n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4/#_3","title":"\u603b\u7ed3","text":"<p>\u57fa\u4e8e\u6a21\u677f\u7684\u7c7b\u578b\u64e6\u9664\u548c\u57fa\u4e8e\u591a\u6001\u7684\u7c7b\u578b\u64e6\u9664\u90fd\u662f\u5b9e\u73b0\u7c7b\u578b\u64e6\u9664\u7684\u65b9\u5f0f\uff0c\u4f46\u5b83\u4eec\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u7684\u4e0d\u540c\uff1a</p> <p>\u539f\u7406\u4e0d\u540c\uff1a\u57fa\u4e8e\u6a21\u677f\u7684\u7c7b\u578b\u64e6\u9664\u662f\u5728\u7f16\u8bd1\u671f\u5b8c\u6210\u7684\uff0c\u901a\u8fc7\u5bf9\u901a\u7528\u4ee3\u7801\u7684\u7279\u5316\u6765\u5b9e\u73b0\u7c7b\u578b\u64e6\u9664\uff1b\u800c\u57fa\u4e8e\u591a\u6001\u7684\u7c7b\u578b\u64e6\u9664\u662f\u5728\u8fd0\u884c\u671f\u5b8c\u6210\u7684\uff0c\u901a\u8fc7\u865a\u51fd\u6570\u673a\u5236\u6765\u5b9e\u73b0\u7c7b\u578b\u64e6\u9664\u3002</p> <p>\u5b9e\u73b0\u590d\u6742\u5ea6\u4e0d\u540c\uff1a\u57fa\u4e8e\u6a21\u677f\u7684\u7c7b\u578b\u64e6\u9664\u901a\u5e38\u9700\u8981\u4f7f\u7528\u6a21\u677f\u7279\u5316\u3001SFINAE \u548c\u6a21\u677f\u5143\u7f16\u7a0b\u7b49\u9ad8\u7ea7\u6280\u672f\uff0c\u5e76\u4e14\u5728\u7c7b\u578b\u8f6c\u6362\u65f6\u9700\u8981\u624b\u52a8\u5904\u7406\u7c7b\u578b\u5339\u914d\u548c\u8f6c\u6362\u7684\u7ec6\u8282\uff0c\u5b9e\u73b0\u6bd4\u8f83\u590d\u6742\uff1b\u800c\u57fa\u4e8e\u591a\u6001\u7684\u7c7b\u578b\u64e6\u9664\u5728\u8bed\u4e49\u4e0a\u66f4\u4e3a\u7b80\u5355\uff0c\u53ea\u9700\u8981\u8ba9\u57fa\u7c7b\u5bf9\u8c61\u6307\u5411\u6d3e\u751f\u7c7b\u5bf9\u8c61\u5373\u53ef\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/","title":"\u7c7b\u578b\u8f6c\u6362","text":"<p>\u7c7b\u578b\u8f6c\u6362\u662f\u6307\u5c06\u4e00\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u4e8e\u8f6c\u6362\u53d8\u91cf\u7c7b\u578b\u6216\u6307\u9488\u7c7b\u578b\u3002</p> <p>C++\u4e2d\u652f\u6301\u591a\u79cd\u7c7b\u578b\u8f6c\u6362\uff0c\u5305\u62ec\uff1a</p> <ul> <li> <p>\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff1a\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8fdb\u884c\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u4f8b\u5982\u5c06\u4f4e\u7cbe\u5ea6\u7c7b\u578b\u8f6c\u6362\u4e3a\u9ad8\u7cbe\u5ea6\u7c7b\u578b\u3002</p> </li> <li> <p>\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\uff1a\u7a0b\u5e8f\u5458\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26\u8fdb\u884c\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u4f8b\u5982\u4f7f\u7528<code>static_cast</code>\u3001<code>reinterpret_cast</code>\u3001<code>dynamic_cast</code>\u548c<code>const_cast</code>\u7b49\u3002</p> </li> </ul>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#2","title":"2.\u5206\u7c7b","text":"<p>C++\u4e2d\u7684\u7c7b\u578b\u8f6c\u6362\u53ef\u4ee5\u4ece3\u4e2a\u89d2\u5ea6\u6765\u5212\u5206\uff1a</p> <ul> <li> <p>\u6839\u636e\u7c7b\u578b\u8f6c\u6362\u662f\u7531\u7a0b\u5e8f\u5458\u663e\u5f0f\u6307\u5b9a\uff0c\u8fd8\u662f\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u5b8c\u6210\uff0c\u5206\u4e3a\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u548c\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff1b</p> </li> <li> <p>\u6839\u636e\u53c2\u4e0e\u7c7b\u578b\u8f6c\u6362\u7684\u53d8\u91cf\u7c7b\u578b\uff0c\u5206\u4e3a\u6807\u51c6\u7c7b\u578b\u8f6c\u6362\u548c\u7528\u6237\u5b9a\u4e49\u7c7b\u578b\u8f6c\u6362\uff1b</p> </li> <li> <p>\u6839\u636e\u7c7b\u578b\u8f6c\u6362\u7684\u8fd0\u7b97\u89c4\u5219\uff0c\u5206\u4e3a\u6309\u7167\u5b58\u50a8\u503c\u8f6c\u6362\u548c\u6309\u7167\u6570\u503c\u8f6c\u6362\u3002</p> </li> </ul>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#21","title":"2.1.\u663e\u5f0f\u548c\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362","text":"\u7c7b\u578b \u6982\u5ff5 \u663e\u5f0f\u7c7b\u578b\u8f6c\u6362 \u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u662f\u6307\u7531\u7a0b\u5e8f\u5458\u5728\u7a0b\u5e8f\u4e2d\u663e\u5f0f\u5730\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u7684\u8fc7\u7a0b\uff0c\u901a\u5e38\u4f7f\u7528C++\u4e2d\u7684\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u64cd\u4f5c\u7b26\u8fdb\u884c\u64cd\u4f5c\u3002 \u9690\u5f0f\u7c7b\u578b\u8f6c\u6362 \u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u662f\u6307\u5728\u7a0b\u5e8f\u4e2d\uff0c\u7531C++\u7f16\u8bd1\u5668\u81ea\u52a8\u8fdb\u884c\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u5b83\u4f1a\u81ea\u52a8\u5c06\u4e00\u4e2a\u7c7b\u578b\u7684\u503c\u8f6c\u6362\u6210\u53e6\u4e00\u79cd\u7c7b\u578b\uff0c\u4e0d\u9700\u8981\u7a0b\u5e8f\u5458\u624b\u52a8\u53bb\u6307\u5b9a\u3002\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u901a\u5e38\u53d1\u751f\u5728\u8d4b\u503c\u8fd0\u7b97\u3001\u6570\u5b66\u8fd0\u7b97\u3001\u51fd\u6570\u4f20\u53c2\u8fc7\u7a0b\u4e2d\u3002 <p>\u4e0b\u9762\u662f\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u548c\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u7684\u4f8b\u5b50\uff1a</p> <p>\u4e00\u3001\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cfb\u662fdouble\u7c7b\u578b\uff0c\u4f7f\u7528\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u5c06\u5176\u8f6c\u6362\u4e3aint\u7c7b\u578b\uff0c\u5e76\u5c06\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cfc\u3002</p> <pre><code> // \u5c06double\u7c7b\u578b\u7684\u53d8\u91cfb\u8f6c\u6362\u4e3aint\u7c7b\u578b\ndouble b = 3.14; \nint c = (int)b;\n</code></pre> <p>\u4e8c\u3001\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cfa\u662fint\u7c7b\u578b\uff0c\u53d8\u91cfb\u662fdouble\u7c7b\u578b\uff0c\u5f53\u5b83\u4eec\u53c2\u4e0e\u9664\u6cd5\u8fd0\u7b97\u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u5c06\u53d8\u91cfa\u8f6c\u6362\u6210double\u7c7b\u578b\uff0c\u4f7f\u5f97\u8fd0\u7b97\u7ed3\u679c\u4e5f\u662fdouble\u7c7b\u578b\u3002\u8fd9\u5c31\u662f\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u3002</p> <pre><code>// \u53d8\u91cfa\u4f1a\u88ab\u9690\u5f0f\u8f6c\u6362\u4e3adouble\u7c7b\u578b\uff0c\u7136\u540e\u8fdb\u884c\u9664\u6cd5\u8fd0\u7b97\nint a = 5;\ndouble b = 3.14; \ndouble c = a / b; \n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#22","title":"2.2.\u6807\u51c6\u7c7b\u578b\u8f6c\u6362\u548c\u7528\u6237\u5b9a\u4e49\u7c7b\u578b\u8f6c\u6362","text":"<p>\u6807\u51c6\u7c7b\u578b\u8f6c\u6362\u6307C++ \u57fa\u672c\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u53ef\u4ee5\u6982\u62ec\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> <ul> <li> <p>\u6570\u503c\u3001\u5b57\u7b26\u3001<code>bool</code>\u3001\u679a\u4e3e\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\uff1b</p> </li> <li> <p>\u6307\u9488\u7c7b\u578b\u4e4b\u95f4\u3001\u5f15\u7528\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\uff1b</p> </li> <li> <p>\u9650\u5b9a\u7b26\u7684\u6dfb\u52a0\u548c\u5220\u9664\uff1a\u6bd4\u5982<code>const</code>\uff0c<code>volatile</code>\u3002</p> </li> </ul> <p>\u7528\u6237\u5b9a\u4e49\u7c7b\u578b\u8f6c\u6362\u6307\u7c7b\u7c7b\u578b\u4e0e\u57fa\u672c\u7c7b\u578b\u3001\u6216\u8005\u7c7b\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\u3002\u7528\u6237\u5b9a\u4e49\u7c7b\u578b\u8f6c\u6362\uff0c\u9700\u8981\u7a0b\u5e8f\u5458\u5b9e\u73b0\u4ee5\u4e0b\u4e24\u79cd\u6210\u5458\u51fd\u6570\uff1a</p> <ul> <li> <p>\u8f6c\u6362\u6784\u9020\u51fd\u6570\uff1a\u5b9a\u4e49\u5728\u7c7b\u4e2d\u7684\u4e00\u79cd\u7279\u6b8a\u7684\u6784\u9020\u51fd\u6570\uff0c\u5b83\u53ef\u4ee5\u5c06\u5176\u5b83\u7c7b\u578b\u8f6c\u6362\u4e3a\u8be5\u7c7b\u7684\u4e00\u4e2a\u5bf9\u8c61\u3002</p> </li> <li> <p>\u7c7b\u7c7b\u578b\u8f6c\u6362\u64cd\u4f5c\u7b26\uff1a\u5b9a\u4e49\u5728\u7c7b\u4e2d\u7684\u4e00\u79cd\u7279\u6b8a\u7684\u6210\u5458\u51fd\u6570\uff0c\u5b83\u53ef\u4ee5\u5c06\u4e00\u4e2a\u5bf9\u8c61\u8f6c\u6362\u4e3a\u53e6\u4e00\u4e2a\u57fa\u672c\u7c7b\u578b\u3002</p> </li> </ul> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>//\u91cd\u8f7dint\u8fd0\u7b97\u7b26\uff0c\u628aObject\u8f6c\u5316\u4e3aint\u7c7b\u578b\nclass Object{\npublic://\u8f6c\u6362\u6784\u9020\u51fd\u6570\n    Object(int num)\uff1am_number(num){}//\u7c7b\u7c7b\u578b\u8f6c\u6362\u64cd\u4f5c\u7b26:\u5b9a\u4e49int\u8fd0\u7b97\u7b26\n    operator int(){return number;}\nprivate:\n    int m_number;\n};\n\nint main() {\n    int number = 2;\n    Object obj = number;         //\u628aint\u7c7b\u578b\u8f6c\u6362\u4e3aObject\u7c7b\u578b\n    int newNumber = (int)obj;    //\u628aObject\u7c7b\u578b\u8f6c\u6362\u4e3aint\u7c7b\u578b\n    return 0;\n}\n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#23","title":"2.3.\u6309\u7167\u5b58\u50a8\u503c\u8f6c\u6362\u548c\u6309\u7167\u6570\u503c\u8f6c\u6362","text":"<p>\u6309\u7167\u5b58\u50a8\u503c\u8f6c\u6362\u901a\u5e38\u662f\u6307\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u8fdb\u884c\u6570\u636e\u7c7b\u578b\u7684\u5f3a\u5236\u8f6c\u6362\uff0c\u8fd9\u79cd\u8f6c\u6362\u662f\u6309\u7167\u5b57\u7b26\u5728\u8ba1\u7b97\u673a\u4e2d\u5b58\u653e\u7684\u4e8c\u8fdb\u5236\u503c\u8fdb\u884c\u8f6c\u6362\u7684\uff0c\u5305\u62ec\uff1a<code>int</code>\u3001<code>short</code>\u3001<code>char</code>\u3001<code>bool</code>\u3001<code>void</code>\u3001\u6307\u9488\u7c7b\u578b\u3001<code>signed</code>\u548c<code>unsigned</code>\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\u3002</p> <p>\u6309\u7167\u6570\u503c\u8f6c\u6362\u901a\u5e38\u662f\u9488\u5bf9\u6570\u503c\u7c7b\u578b\u8fdb\u884c\u7684\uff0c\u8fd9\u79cd\u8f6c\u6362\u662f\u6309\u7167\u6570\u503c\u5927\u5c0f\u8fdb\u884c\u7b49\u503c\u8f6c\u6362\uff0c\u5305\u62ec\uff1a\u6d6e\u70b9\u6570\u7c7b\u578b\u548c\u975e\u6d6e\u70b9\u6570\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u6bd4\u5982<code>double</code>\u548c<code>int</code>\u4e4b\u95f4\u7684\u8f6c\u6362\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#3","title":"3.\u6307\u9488\u7c7b\u578b\u8f6c\u6362","text":"<p>C++\u63d0\u4f9b\u4e864\u79cd\u8fd0\u7b97\u7b26\uff0c\u7528\u4e8e\u6307\u9488\uff08\u5f15\u7528\uff09\u7c7b\u578b\u8f6c\u6362\uff0c4\u79cd\u8fd0\u7b97\u7b26\u53f7\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> \u8fd0\u7b97\u7b26 \u9002\u7528\u8303\u56f4 \u7c7b\u578b\u68c0\u67e5 reinterpret_cast \u7528\u4e8e\u4efb\u610f\u6307\u9488\uff08\u5f15\u7528\uff09\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362 \u4e0d\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5 static_cast \u7528\u4e8e\u57fa\u7c7b\u548c\u5b50\u7c7b\u6307\u9488\uff08\u5f15\u7528\uff09\u4e4b\u95f4\u7684\u8f6c\u6362 \u7f16\u8bd1\u671f\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5 dynamic_cast \u7528\u4e8e\u57fa\u7c7b\u548c\u5b50\u7c7b\u6307\u9488\uff08\u5f15\u7528\uff09\u4e4b\u95f4\u7684\u8f6c\u6362 \u8fd0\u884c\u671f\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5 const_cast \u7528\u4e8e\u6307\u9488\uff08\u5f15\u7528\uff09\u7c7b\u578b\uff0c\u7528\u4e8e\u5220\u9664\u9650\u5b9a\u7b26 \u4e0d\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5 <p>\u867d\u7136\u8bf4\u4e0a\u8ff0\u8fd0\u7b97\u7b26\u53f7\u8fd8\u53ef\u7528\u4e8e\u628a\u6307\u9488\u7c7b\u578b\u8f6c\u6362\u4e3a\u975e\u6307\u9488\u7c7b\u578b\uff0c\u4f46\u5e94\u7528\u573a\u666f\u5c11\uff0c\u4e0d\u8003\u8651\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#31reinterpret_cast","title":"3.1.reinterpret_cast","text":"<p><code>reinterpret_cast</code>\u7528\u4e8e\u4efb\u610f\u6307\u9488\uff08\u5f15\u7528\uff09\u7c7b\u578b\u4e4b\u95f4\u7684\u8f6c\u6362\u3002\u8f6c\u6362\u8fd0\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u53ea\u662f\u7b80\u5355\u5730\u628a\u6e90\u53d8\u91cf\u7684\u4e8c\u8fdb\u5236\u503c\u62f7\u8d1d\u5230\u65b0\u7684\u7c7b\u578b\u53d8\u91cf\u4e2d\uff0c\u4e0d\u4f5c\u4efb\u4f55\u7c7b\u578b\u68c0\u67e5\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>int main() {\n    int* p1 = new int(10);\n    char* p2 = reinterpret_cast&lt;char*&gt;(p1);\n    std::cout &lt;&lt; *p1 &lt;&lt; std::endl;  // \u8f93\u51fa10\n    std::cout &lt;&lt; *p2 &lt;&lt; std::endl;  // \u8f93\u51fa\u672a\u5b9a\u4e49\u7684\u503c\n    return 0;\n }\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5c06\u4e00\u4e2a<code>int</code>\u7c7b\u578b\u7684\u6307\u9488<code>p1</code>\u8f6c\u6362\u4e3a\u4e86<code>char</code>\u7c7b\u578b\u7684\u6307\u9488<code>p2</code>\uff0c\u867d\u7136\u53ef\u4ee5\u53d6\u5f97<code>p2</code>\u6240\u6307\u5411\u7684\u5730\u5740\uff0c\u4f46\u662f\u7531\u4e8e<code>reinterpret_cast</code>\u5ffd\u7565\u4e86\u6307\u9488\u7c7b\u578b\u6240\u6307\u5411\u7684\u5bf9\u8c61\u7c7b\u578b\uff0c\u56e0\u6b64\u8f93\u51fa\u7684\u503c\u662f\u672a\u5b9a\u4e49\u7684\u3002\u56e0\u6b64\uff0c\u5728\u4f7f\u7528<code>reinterpret_cast</code>\u65f6\uff0c\u9700\u8981\u975e\u5e38\u5c0f\u5fc3\u548c\u8c28\u614e\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#32static_cast","title":"3.2.static_cast","text":"<p><code>static_cast</code>\u7528\u4e8e\u5b50\u7c7b\u6307\u9488\uff08\u5f15\u7528\uff09\u548c\u7236\u7c7b\u6307\u9488\uff08\u5f15\u7528\uff09\u4e4b\u95f4\u7684\u76f8\u4e92\u8f6c\u6362\uff0c\u5728\u7f16\u8bd1\u671f\u6267\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u5728C++\u4e2d\uff0c\u4f7f\u7528<code>static_cast</code>\u5c06\u57fa\u7c7b\u6307\u9488\u8f6c\u6362\u4e3a\u5b50\u7c7b\u6307\u9488\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u64cd\u4f5c\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u4f7f\u7528\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\uff0c\u5047\u8bbe\u6211\u4eec\u6709\u5982\u4e0b\u7684\u7c7b\u5c42\u6b21\u7ed3\u6784\uff1a</p> <pre><code>class Base {\npublic:\n    virtual ~Base() {}\n};\n\nclass Derived : public Base {\npublic:\n    int data;\n};\n</code></pre> <p>\u6211\u4eec\u521b\u5efa\u4e00\u4e2a<code>Base</code>\u7c7b\u7684\u6307\u9488\uff0c\u5e76\u5c06\u5176\u6307\u5411\u57fa\u7c7b\u5bf9\u8c61\uff1a</p> <pre><code>Base* basePtr = new Base;\n</code></pre> <p>\u6b64\u65f6\uff0c\u5982\u679c\u8bd5\u56fe\u4f7f\u7528<code>static_cast</code>\u5c06<code>basePtr</code>\u6307\u9488\u8f6c\u6362\u4e3a<code>Derived</code>\u6307\u9488\u7c7b\u578b\uff0c\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u65f6\u4e0d\u4f1a\u53d1\u73b0\u9519\u8bef\uff0c\u4f46\u662f\u5728\u8fd0\u884c\u65f6\u5219\u4f1a\u4ea7\u751f\u672a\u5b9a\u4e49\u884c\u4e3a\uff0c\u4f8b\u5982\uff1a</p> <pre><code>Derived* derivedPtr = static_cast&lt;Derived*&gt;(basePtr);\nint data = derivedPtr-&gt;data;\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3a\u7c7b\u578b\u8f6c\u6362\u65f6\uff0c\u5c06\u4e00\u4e2a\u6307\u5411\u57fa\u7c7b\u5bf9\u8c61\u7684\u6307\u9488\u8f6c\u6362\u4e3a\u5b50\u7c7b\u6307\u9488\uff0c\u4f46\u7531\u4e8e\u5b50\u7c7b\u5bf9\u8c61\u4e0d\u5b58\u5728\uff0c\u6240\u4ee5\u5728\u4f7f\u7528\u5b50\u6307\u9488\u8bbf\u95ee\u5b50\u7c7b\u6210\u5458\u65f6\u4f1a\u53d1\u751f\u672a\u5b9a\u4e49\u884c\u4e3a\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#33dynamic_cast","title":"3.3.dynamic_cast","text":"<p><code>dynamic_cast</code>\u7528\u4e8e\u5b50\u7c7b\u6307\u9488\uff08\u5f15\u7528\uff09\u548c\u7236\u7c7b\u6307\u9488\uff08\u5f15\u7528\uff09\u4e4b\u95f4\u7684\u76f8\u4e92\u8f6c\u6362\uff0c\u5728\u8fd0\u884c\u65f6\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u5f53\u7528\u6237\u8bd5\u56fe\u4f7f\u7528<code>dynamic_cast</code>\u5c06\u57fa\u6307\u9488\u8f6c\u6362\u4e3a\u5b50\u7c7b\u6307\u9488\u7c7b\u578b\uff0c\u5982\u679c\u5b50\u7c7b\u5bf9\u8c61\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u4f1a\u8fd4\u56de<code>nullptr</code>\u3002</p> <p>\u4f7f\u7528<code>dynamic_cast</code>\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u5e76\u68c0\u67e5\u8fd4\u56de\u7684\u6307\u9488\u662f\u5426\u4e3a<code>nullptr</code>\uff0c\u5c31\u53ef\u4ee5\u89e3\u51b3\u4e0a\u8ff0\u4f8b\u5b50\u4e2d<code>static_cast</code>\u5f15\u8d77\u7684\u9519\u8bef\uff1a</p> <pre><code>Derived* derivedPtr = dynamic_cast&lt;Derived*&gt;(basePtr);\nif (derivedPtr) {\n    int data = derivedPtr-&gt;data;\n} else {\n    std::cout &lt;&lt; \"\u8f6c\u6362\u5931\u8d25\" &lt;&lt; std::endl;\n}\n</code></pre>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#34const_cast","title":"3.4.const_cast","text":"<p><code>const_cast</code>\u662fC++\u4e2d\u7528\u4e8e\u53d6\u6d88\u6307\u9488\u6216\u5f15\u7528\u5bf9\u8c61\u7684const\u9650\u5b9a\u7b26\u7684\u4e00\u79cd\u64cd\u4f5c\u7b26\uff0c\u5b83\u7528\u4e8e\u5c06const\u7c7b\u578b\u8f6c\u6362\u4e3a\u975econst\u7c7b\u578b\u3002<code>const_cast</code>\u7684\u5b66\u4e60\u96be\u70b9\u5728\u4e8e\u7406\u89e3\u5b83\u7684\u4f7f\u7528\u573a\u666f\uff0c\u5982\u679c\u6211\u4eec\u8981\u628a<code>const</code>\u7c7b\u578b\u8f6c\u6362\u4e3a\u975e<code>const</code>\u7c7b\u578b\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u4e00\u5f00\u59cb\u5c31\u628a\u7c7b\u578b\u58f0\u660e\u4e3a<code>const</code>\u7c7b\u578b\u5462\uff1f\u8fd9\u662f\u56e0\u4e3a<code>const</code>\u7c7b\u578b\u6570\u636e\u53ef\u80fd\u662f\u7b2c\u4e09\u65b9\u5e93\u5b9a\u4e49\u7684\uff0c\u5f53\u6211\u4eec\u5e0c\u671b\u5728\u4e0d\u4fee\u6539\u7b2c\u4e09\u65b9\u5e93\u7684\u6e90\u7801\u7684\u60c5\u51b5\u4e0b\uff0c\u4fee\u6539<code>const</code>\u6570\u636e\uff0c\u9700\u8981\u7528\u5230\u8be5\u8fd0\u7b97\u7b26\u3002</p>"},{"location":"cpp/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#4","title":"4.\u603b\u7ed3","text":"<p>\u7c7b\u578b\u8f6c\u6362\u5728\u7a0b\u5e8f\u4e2d\u5177\u6709\u91cd\u8981\u7684\u4f5c\u7528\u548c\u610f\u4e49\uff0c\u4f46\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9700\u8981\u6ce8\u610f\u7c7b\u578b\u8f6c\u6362\u7684\u5b89\u5168\u6027\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e24\u4e2a\u65b9\u9762\uff1a</p> <ul> <li> <p>\u7c7b\u578b\u8f6c\u6362\u5408\u6cd5\u6027\u3002\u5728\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u65f6\uff0c\u9700\u8981\u4fdd\u8bc1\u8f6c\u6362\u7684\u6570\u636e\u7c7b\u578b\u662f\u5408\u6cd5\u7684\uff0c\u4f8b\u5982\u4e0d\u8981\u628a\u6307\u9488\u7c7b\u578b\u8f6c\u6362\u4e3a\u5b57\u7b26\u7c7b\u578b\uff0c\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u3002</p> </li> <li> <p>\u7cbe\u5ea6\u635f\u5931\u548c\u6ea2\u51fa\u95ee\u9898\u3002\u5728\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u65f6\uff0c\u9700\u8981\u8003\u8651\u6570\u636e\u7c7b\u578b\u7684\u7cbe\u5ea6\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7c7b\u578b\u8f6c\u6362\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cbe\u5ea6\u635f\u5931\uff0c\u4f8b\u5982\u5c06\u6d6e\u70b9\u6570\u8f6c\u6362\u4e3a\u6574\u6570\u65f6\uff0c\u5c0f\u6570\u90e8\u5206\u4f1a\u88ab\u622a\u65ad\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cbe\u5ea6\u4e22\u5931\u3002\u53e6\u5916\uff0c\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7c7b\u578b\u8f6c\u6362\u4e5f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u6ea2\u51fa\uff0c\u4f8b\u5982\u5c06\u4e00\u4e2a\u5f88\u5927\u7684\u6574\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u8f83\u5c0f\u7684\u6574\u6570\u7c7b\u578b\uff0c\u5c06\u5bfc\u81f4\u6570\u636e\u6ea2\u51fa\u3002</p> </li> </ul>"},{"location":"cpp/%E9%9D%99%E6%80%81%E6%95%B0%E7%BB%84%20%26%20%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84/","title":"\u9759\u6001\u6570\u7ec4 & \u52a8\u6001\u6570\u7ec4","text":""},{"location":"cpp/%E9%9D%99%E6%80%81%E6%95%B0%E7%BB%84%20%26%20%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84/#_1","title":"\u9759\u6001\u6570\u7ec4","text":"<pre><code>int arr[5] = {1\uff0c2\uff0c3\uff0c4\uff0c5};    // \u53ea\u5b9a\u4e49\u4e0d\u521d\u59cb\u5316\nint arr[5] = {1\uff0c2\uff0c3\uff0c4\uff0c5};    // \u5b9a\u4e49\u6570\u7ec4\u6307\u5b9a\u957f\u5ea6\u5e76\u521d\u59cb\u5316\nint arr[] = {1,2,3,4,5,6,7};    // \u5b9a\u4e49\u6570\u7ec4\u6307\u5b9a\u957f\u5ea6\u5e76\u521d\u59cb\u5316\n</code></pre> <p>\u4e8c\u7ef4\u6570\u7ec4</p> <pre><code>int arr[2][3] ={ {1,2,3}, {4,5,6} };\nint arr[2][3] = {1,2,3,4,5,6};\nint arr[][3] = {1,2,3,4,5,6};\n\n\u4e8c\u7ef4\u6570\u7ec4\u884c\u6570\uff1asizeof(arr)/sizeof(arr[0]);\n\u4e8c\u7ef4\u6570\u7ec4\u5217\u6570\uff1asizeof(arr[0])/sizeof(arr[0][0]);\n</code></pre>"},{"location":"cpp/%E9%9D%99%E6%80%81%E6%95%B0%E7%BB%84%20%26%20%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84/#_2","title":"\u52a8\u6001\u6570\u7ec4","text":"<p>\u6570\u7ec4\u7684\u7ef4\u5ea6\u53ef\u4ee5\u4e3a\u5e38\u91cf\u3001\u4e5f\u53ef\u4ee5\u4e3a\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff1a</p> <pre><code>int size()\n{\n    return 3;\n}\nconst int length = 3;\n\nint *p1 = new int[size()]{1,2,3};\nint *p2 = new int[length];\nint *p3 = new int[3];\n</code></pre> <p>\u4f7f\u7528typedef\u4e3a\u6570\u7ec4\u7c7b\u578b\u53d6\u522b\u540d</p> <pre><code>typedef int arrT[42];\nint *p=new arrT;  //\u5206\u914d\u4e00\u4e2a\u5927\u5c0f\u4e3a42\u7684int\u578b\u6570\u7ec4\n</code></pre> <p>\u52a8\u6001\u6570\u7ec4\u7684\u521d\u59cb\u5316\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cnew\u5206\u914d\u7684\u5bf9\u8c61\u90fd\u6709\u9ed8\u8ba4\u521d\u59cb\u5316</p> <pre><code>int *p1=new int[10];   //10\u4e2a\u672a\u521d\u59cb\u5316\u7684int\nint *p2=new int[10](); //10\u4e2a\u521d\u59cb\u5316\u4e3a0\u7684int\nstring *p3=new string[10];  //10\u4e2a\u7a7a\u7684string\nstring *p4=new string[10]();//10\u4e2a\u7a7a\u7684string\n</code></pre> <p>C++11\u6807\u51c6\uff1a\u82b1\u62ec\u53f7\u521d\u59cb\u5316\u5668\u521d\u59cb\u5316</p> <pre><code>int *p1=new int[5]{0,1,2,3,4};\nstring *p3=new string[3]{\"a\",\"the\",string(3,'x')}; \n</code></pre> <p>\u52a8\u6001\u6570\u7ec4\u7684\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li> <p>\u56e0\u4e3anew\u7533\u8bf7\u7684\u6570\u7ec4\u662f\u52a8\u6001\u5730\uff0c\u56e0\u6b64\u4e0d\u80fd\u4f7f\u7528begin()\u548cend()\u51fd\u6570\u5bf9\u52a8\u6001\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c</p> </li> <li> <p>\u4e0d\u80fd\u4f7f\u7528for each\u5bf9\u6570\u7ec4\u8fdb\u884c\u904d\u5386\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528for\u5faa\u73af\u64cd\u4f5c\u52a8\u6001\u6570\u7ec4</p> </li> </ul> <pre><code>int *p1 = new int[3]{1,2,3};  //\u52a8\u6001\u6570\u7ec4\nint p2[3]= { 1,2,3 };  //\u666e\u901a\u6570\u7ec4\n\nfor (int i = 0; i &lt; 3; i++) //\u6b63\u786e\n    cout &lt;&lt;p1[i] &lt;&lt; endl;\nfor each (int var in p2)//\u9519\u8bef\n{\n\n}\n</code></pre> <ul> <li>\u52a8\u6001\u5206\u914d\u4e00\u4e2a\u7a7a\u6570\u7ec4\u662f\u5408\u6cd5\u7684</li> </ul> <p>\u666e\u901a\u6570\u7ec4\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u6570\u7ec4\u662f\u4e0d\u5141\u8bb8\u7684m\u52a8\u6001\u5206\u914d\u4e00\u4e2a\u6570\u7ec4\u662f\u5408\u6cd5\u7684\uff0cnew\u8fd4\u56de\u4e00\u4e2a\u5408\u6cd5\u7684\u975e\u7a7a\u6307\u9488\u3002</p> <pre><code>int arr[0];  //\u9519\u8bef\nint *p = new int[0];  //\u6b63\u786e\n</code></pre> <p>\u52a8\u6001\u6570\u7ec4\u7684\u91ca\u653e</p> <p>\u4f7f\u7528delete\u91ca\u653e\uff0c\u5e76\u4e14\u5728\u6570\u7ec4\u540d\u524d\u9700\u8981\u52a0\u4e0a<code>[]</code></p> <p>\u91ca\u653e\u7684\u987a\u5e8f\uff1a\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u6309\u7167\u9006\u5e8f\u9500\u6bc1\uff0c\u5373\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u9996\u5148\u88ab\u9500\u6bc1\uff0c\u7136\u540e\u5012\u6570\u7b2c\u4e8c\u4e2a....\u4ee5\u6b64\u7c7b\u63a8</p> <pre><code>typedef int arrT[10];\n\nint *p=new arrT;\ndelete []p;\n</code></pre> <p>unique_ptr\u4e0e\u52a8\u6001\u6570\u7ec4\u7684\u4f7f\u7528</p> <p>\u6807\u51c6\u5e93\u63d0\u4f9b\u4e86\u4e00\u4e2a\u53ef\u4ee5\u7ba1\u7406new\u5206\u914d\u7684\u6570\u7ec4\u7684unique_ptr\u7248\u672c</p> <pre><code>unique_ptr&lt;int[]&gt; arr(new int[3]{ 1,2,3 }); //\u5b9a\u4e49\u4e00\u4e2a\u6307\u5411int\u578b\u6570\u7ec4\u7684\u667a\u80fd\u6307\u9488\u5bf9\u8c61\nunique_ptr&lt;int[]&gt; arr2(new int[3]);\narr.release();  //\u81ea\u52a8\u8c03\u7528delete[]\u9500\u6bc1\u5176\u6307\u9488\n\nunique_ptr&lt;int[]&gt; arr= new int[3]{ 1,2,3 };  //\u9519\u8bef\n</code></pre> <p>unique_ptr\u64cd\u4f5c\u6570\u7ec4\uff0c\u4e0d\u63d0\u4f9b\u70b9\u548c\u7bad\u5934\u6210\u5458\u8fd0\u7b97\u7b26\uff0c\u56e0\u4e3a\u6570\u7ec4\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u8fd0\u7b97\u7b26\u6765\u8bbf\u95ee\u64cd\u4f5c\u6570\u7ec4</p> <pre><code>unique_ptr&lt;int[]&gt; arr(new int[3]{ 1,2,3 });\nfor (int i = 0; i &lt; 3; ++i)\n        arr[i] = i;\n</code></pre> <p>shared_ptr\u4e0e\u52a8\u6001\u6570\u7ec4\u7684\u4f7f\u7528</p> <p>\u4e0eunique_ptr\u4e0d\u540c\uff0cshared_ptr\u4e0d\u76f4\u63a5\u652f\u6301\u7ba1\u7406\u52a8\u6001\u6570\u7ec4\u3002\u5982\u679c\u5e0c\u671b\u4f7f\u7528shared_ptr\u7ba1\u7406\u52a8\u6001\u6570\u7ec4\uff0c\u5fc5\u987b\u63d0\u4f9b\u81ea\u5df1\u5b9a\u4e49\u7684\u5220\u9664\u5668</p> <p>\u5982\u679c\u672a\u63d0\u4f9b\u5220\u9664\u5668\uff0cshared_ptr\u9ed8\u8ba4\u4f7f\u7528delete\u5220\u9664\u52a8\u6001\u6570\u7ec4\uff0c\u6b64\u65f6delete\u5c11\u4e00\u4e2a\u201c[]\u201d\uff0c\u56e0\u4e3a\u4f1a\u4ea7\u751f\u9519\u8bef</p> <pre><code>//\u672c\u4f8b\u4e2d\uff0c\u4f20\u9012\u7ed9shared_ptr\u4e00\u4e2alambda\u4f5c\u4e3a\u5220\u9664\u5668\n\nshared_ptr&lt;int&gt; sp(new int[10], [](int *p) { delete[] p; } );\nshared_ptr&lt;int&gt; sp2(new int[3]{1,2,3}, [](int *p) { delete[] p; });\nsp2.reset();  //\u4f7f\u7528\u81ea\u5df1\u4e66\u5199\u7684lambda\u91ca\u653e\u6570\u7ec4\n</code></pre> <p>\u52a8\u6001\u6570\u7ec4\u7684\u8bbf\u95ee\uff1ashared_ptr\u4e0d\u652f\u6301\u70b9\u548c\u7bad\u5934\u6210\u5458\u8fd0\u7b97\u7b26\u8bbf\u95ee\u6570\u7ec4\uff0c\u5e76\u4e14\u4e0d\u63d0\u4f9b\u4e0b\u6807\u8fd0\u7b97\u7b26\u8bbf\u95ee\u6570\u7ec4\uff0c\u53ea\u80fd\u901a\u8fc7get()\u51fd\u6570\u6765\u83b7\u53d6\u4e00\u4e2a\u5185\u7f6e\u6307\u9488\uff0c\u7136\u540e\u518d\u8bbf\u95ee\u6570\u7ec4\u5143\u7d20</p> <pre><code>shared_ptr&lt;int&gt; sp(new int[3]{1,2,3}, [](int *p) { delete[] p; });\nfor (size_t i = 0; i != 3; ++i)\n        *(sp.get() + i) = i;\n</code></pre>"},{"location":"cs/algorithm/sort/sort/","title":"\u6392\u5e8f\u7b97\u6cd5","text":"<p>![[sort_algo_complexity.png]]</p> <p>\u25cf \u7a33\u5b9a\uff1a\u5982\u679ca\u539f\u672c\u5728b\u524d\u9762\uff0c\u800ca=b\uff0c\u6392\u5e8f\u4e4b\u540ea\u4ecd\u7136\u5728b\u7684\u524d\u9762\u3002 \u25cf \u4e0d\u7a33\u5b9a\uff1a\u5982\u679ca\u539f\u672c\u5728b\u7684\u524d\u9762\uff0c\u800ca=b\uff0c\u6392\u5e8f\u4e4b\u540e a \u53ef\u80fd\u4f1a\u51fa\u73b0\u5728 b \u7684\u540e\u9762\u3002 \u25cf \u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u5bf9\u6392\u5e8f\u6570\u636e\u7684\u603b\u7684\u64cd\u4f5c\u6b21\u6570\u3002\u53cd\u6620\u5f53n\u53d8\u5316\u65f6\uff0c\u64cd\u4f5c\u6b21\u6570\u5448\u73b0\u4ec0\u4e48\u89c4\u5f8b\u3002 \u25cf \u7a7a\u95f4\u590d\u6742\u5ea6\uff1a\u662f\u6307\u7b97\u6cd5\u5728\u8ba1\u7b97\u673a\u5185\u6267\u884c\u65f6\u6240\u9700\u5b58\u50a8\u7a7a\u95f4\u7684\u5ea6\u91cf\uff0c\u5b83\u4e5f\u662f\u6570\u636e\u89c4\u6a21n\u7684\u51fd\u6570\u3002</p>"},{"location":"cs/system/","title":"\u6982\u8ff0","text":"<ul> <li>(Why)\u4e3a\u4ec0\u4e48\u8981\u5b66\u64cd\u4f5c\u7cfb\u7edf\uff1f\u4e3a\u4e86\u53d8\u5f97\u66f4\u5f3a.</li> <li>(What)\u5230\u5e95\u4ec0\u4e48\u662f\u64cd\u4f5c\u7cfb\u7edf\uff1f\u6ca1\u6709\u7cbe\u786e\u5730\u5b9a\u4e49, \u5b66\u5b8c\u4f60\u5c31\u77e5\u9053\u4e86.</li> <li>(How)\u600e\u4e48\u5b66\u64cd\u4f5c\u7cfb\u7edf\uff1f\u591a\u52a8\u624b.</li> </ul> <p>\u5fae\u79ef\u5206 \u201c\u88ab\u6df7\u8d77\u6765\u201d \u7684\u51e0\u4ef6\u4e8b</p> <ul> <li>Newton \u65f6\u4ee3\u7684\u5fae\u79ef\u5206 (\u542f\u8499\u4e0e\u5e94\u7528)</li> <li>\u73b0\u4ee3\u65b9\u6cd5\uff1aMathematica, sympy, sage </li> <li>Cauchy \u65f6\u4ee3\u7684\u5fae\u79ef\u5206 (\u4e25\u683c\u5316\u4e0e\u516c\u7406\u5316)</li> <li>\u4ee5\u53ca\u4e4b\u540e\u5404\u79cd\u5361\u51fa\u7684 bug (Weierstrass \u51fd\u6570\u3001Peano \u66f2\u7ebf\u2026\u2026)</li> <li>\u5fae\u79ef\u5206\u7684\u73b0\u4ee3\u5e94\u7528</li> <li>\u4f18\u5316\u3001\u6709\u9650\u5143\u3001PID ...</li> </ul>"},{"location":"cs/system/#_2","title":"\u4ec0\u4e48\u662f\u64cd\u4f5c\u7cfb\u7edf?","text":"<p>\u7cbe\u51c6\u201d \u7684\u5b9a\u4e49\u6beb\u65e0\u610f\u4e49</p> <p>\u95ee\u51fa\u6b63\u786e\u7684\u95ee\u9898\uff1a\u64cd\u4f5c\u7cfb\u7edf\u5982\u4f55\u4ece\u4e00\u5f00\u59cb\u53d8\u6210\u73b0\u5728\u8fd9\u6837\u7684\uff1f</p> <p>\u4e09\u4e2a\u91cd\u8981\u7684\u7ebf\u7d22: - \u8ba1\u7b97\u673a (\u786c\u4ef6) - \u7a0b\u5e8f (\u8f6f\u4ef6) - \u64cd\u4f5c\u7cfb\u7edf (\u7ba1\u7406\u8f6f\u4ef6\u7684\u8f6f\u4ef6)</p> <p>\u672c\u8bfe\u7a0b\u8ba8\u8bba\u72ed\u4e49\u7684\u64cd\u4f5c\u7cfb\u7edf - \u5bf9\u5355\u4e00\u8ba1\u7b97\u673a\u786c\u4ef6\u7cfb\u7edf\u4f5c\u51fa\u62bd\u8c61\u3001\u652f\u6491\u7a0b\u5e8f\u6267\u884c\u7684\u8f6f\u4ef6\u7cfb\u7edf - \u5b66\u672f\u754c\u8c08\u8bba \u201c\u64cd\u4f5c\u7cfb\u7edf\u201d \u662f\u66f4\u5e7f\u4e49\u7684 \u201cSystem\u201d (\u4f8b\u5b50\uff1aOSDI/SOSP)</p>"},{"location":"cs/system/#_3","title":"\u4ece\u64cd\u4f5c\u7cfb\u7edf\u7684\u5386\u53f2\u8bf4\u8d77","text":"<p>1940s\u7684\u8ba1\u7b97\u673a \u8de8\u65f6\u4ee3\u3001\u975e\u51e1\u7684\u5929\u624d\u8bbe\u8ba1\uff0c\u4f46\u5f88\u7b80\u5355 (\u8fd8\u4e0d\u5982\u6211\u4eec\u6570\u7535\u5b9e\u9a8c\u8bfe\u505a\u7684 CPU \u590d\u6742\u5462)\uff1a - \u8ba1\u7b97\u673a\u7cfb\u7edf = \u72b6\u6001\u673a (ICS \u8bfe\u7a0b\u7684 takeaway message) - \u6807\u51c6\u7684 Mealy \u578b\u6570\u5b57\u7535\u8def   - ENIAC (1946.2.14\uff1b\u8bf7\u5728\u8fd9\u4e2a\u7279\u6b8a\u7684\u8282\u65e5\u591a\u966a\u966a\u4f60\u7684\u7535\u8111)</p> <p>\u7535\u5b50\u8ba1\u7b97\u673a\u7684\u5b9e\u73b0 - \u903b\u8f91\u95e8\uff1a\u771f\u7a7a\u7535\u5b50\u7ba1 - \u5b58\u50a8\u5668\uff1a\u5ef6\u8fdf\u7ebf (delay lines) - \u8f93\u5165/\u8f93\u51fa\uff1a\u6253\u5b54\u7eb8\u5e26/\u6307\u793a\u706f</p> <p>ENIAC \u7a0b\u5e8f\u662f\u7528\u7269\u7406\u7ebf\u8def \u201chard-wire\u201d \u7684 - \u91cd\u7f16\u7a0b\u9700\u8981\u91cd\u65b0\u63a5\u7ebf</p> <p>\u80fd\u628a\u7a0b\u5e8f\u653e\u4e0a\u53bb\u5c31\u5f88\u4e86\u4e0d\u8d77\u4e86 - \u7a0b\u5e8f\u76f4\u63a5\u7528\u6307\u4ee4\u64cd\u4f5c\u786c\u4ef6 - \u4e0d\u9700\u8981\u753b\u86c7\u6dfb\u8db3\u7684\u7a0b\u5e8f\u6765\u7ba1\u7406\u5b83</p> <p>1950s\u7684\u8ba1\u7b97\u673a \u66f4\u5feb\u66f4\u5c0f\u7684\u903b\u8f91\u95e8 (\u6676\u4f53\u7ba1)\u3001\u66f4\u5927\u7684\u5185\u5b58 (\u78c1\u82af)\u3001\u4e30\u5bcc\u7684 I/O \u8bbe\u5907 - I/O \u8bbe\u5907\u7684\u901f\u5ea6\u5df2\u7ecf\u4e25\u91cd\u4f4e\u4e8e\u5904\u7406\u5668\u7684\u901f\u5ea6\uff0c\u4e2d\u65ad\u673a\u5236\u51fa\u73b0 (1953)</p> <p>\u53ef\u4ee5\u6267\u884c\u66f4\u590d\u6742\u7684\u4efb\u52a1\uff0c\u5305\u62ec\u901a\u7528\u7684\u8ba1\u7b97\u4efb\u52a1 - \u5e0c\u671b\u4f7f\u7528\u8ba1\u7b97\u673a\u7684\u4eba\u8d8a\u6765\u8d8a\u591a\uff1b\u5e0c\u671b\u8c03\u7528 API \u800c\u4e0d\u662f\u76f4\u63a5\u8bbf\u95ee\u8bbe\u5907 - Fortran \u8bde\u751f (1957)</p> <p>\u5199\u7a0b\u5e8f\u3001\u8dd1\u7a0b\u5e8f\u90fd\u662f\u975e\u5e38\u8d39\u4e8b\u7684 (\u6bd4\u5982\u4f60\u5199\u4e86\u4e2a\u6b7b\u5faa\u73af\u2026\u2026) - \u8ba1\u7b97\u673a\u975e\u5e38\u8d35 ($50,000-$1,000,000)\uff0c\u4e00\u4e2a\u5b66\u6821\u53ea\u6709\u4e00\u53f0 - \u4ea7\u751f\u4e86\u96c6\u4e2d\u7ba1\u7406\u8ba1\u7b97\u673a\u7684\u9700\u6c42\uff1a\u591a\u7528\u6237\u6392\u961f\u5171\u4eab\u8ba1\u7b97\u673a</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u7684\u6982\u5ff5\u5f00\u59cb\u5f62\u6210 - \u64cd\u4f5c (operate) \u4efb\u52a1 (jobs) \u7684\u7cfb\u7edf (system)   - \u201c\u6279\u5904\u7406\u7cfb\u7edf\u201d = \u7a0b\u5e8f\u7684\u81ea\u52a8\u5207\u6362 (\u6362\u5361) + \u5e93\u51fd\u6570 API   - Disk Operating Systems (DOS)     - \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u5f00\u59cb\u51fa\u73b0 \u201c\u8bbe\u5907\u201d\u3001\u201c\u6587\u4ef6\u201d\u3001\u201c\u4efb\u52a1\u201d \u7b49\u5bf9\u8c61\u548c API</p> <p>1960s\u7684\u8ba1\u7b97\u673a \u96c6\u6210\u7535\u8def\u3001\u603b\u7ebf\u51fa\u73b0 - \u66f4\u5feb\u7684\u5904\u7406\u5668 - \u66f4\u5feb\u3001\u66f4\u5927\u7684\u5185\u5b58\uff1b\u865a\u62df\u5b58\u50a8\u51fa\u73b0   - \u53ef\u4ee5\u540c\u65f6\u8f7d\u5165\u591a\u4e2a\u7a0b\u5e8f\u800c\u4e0d\u7528 \u201c\u6362\u5361\u201d \u4e86 - \u66f4\u4e30\u5bcc\u7684 I/O \u8bbe\u5907\uff1b\u5b8c\u5584\u7684\u4e2d\u65ad/\u5f02\u5e38\u673a\u5236</p> <p>\u66f4\u591a\u7684\u9ad8\u7ea7\u8bed\u8a00\u548c\u7f16\u8bd1\u5668\u51fa\u73b0 - COBOL (1960), APL (1962), BASIC (1965) - Bill Gates \u548c Paul Allen \u5728 1975 \u5e74\u5b9e\u73b0\u4e86 Altair 8800 \u4e0a\u7684 BASIC \u89e3\u91ca\u5668</p> <p>::: tip \u80fd\u8f7d\u5165\u591a\u4e2a\u7a0b\u5e8f\u5230\u5185\u5b58\u4e14\u7075\u6d3b\u8c03\u5ea6\u5b83\u4eec\u7684\u7ba1\u7406\u7a0b\u5e8f\uff0c\u5305\u62ec\u7a0b\u5e8f\u53ef\u4ee5\u8c03\u7528\u7684 API\u3002 :::</p> <p>\u540c\u65f6\u5c06\u591a\u4e2a\u7a0b\u5e8f\u8f7d\u5165\u5185\u5b58\u662f\u4e00\u9879\u5de8\u5927\u7684\u80fd\u529b</p> <ul> <li>\u6709\u4e86\u8fdb\u7a0b (process) \u7684\u6982\u5ff5</li> <li>\u8fdb\u7a0b\u5728\u6267\u884c I/O \u65f6\uff0c\u53ef\u4ee5\u5c06 CPU \u8ba9\u7ed9\u53e6\u4e00\u4e2a\u8fdb\u7a0b</li> <li>\u5728\u591a\u4e2a\u5730\u5740\u7a7a\u95f4\u9694\u79bb\u7684\u7a0b\u5e8f\u4e4b\u95f4\u5207\u6362</li> <li>\u865a\u62df\u5b58\u50a8\u4f7f\u4e00\u4e2a\u7a0b\u5e8f\u51fa bug \u4e0d\u4f1a crash \u6574\u4e2a\u7cfb\u7edf</li> </ul> <p>\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u81ea\u7136\u5730\u589e\u52a0\u8fdb\u7a0b\u7ba1\u7406 API</p> <p>::: tip \u65e2\u7136\u64cd\u4f5c\u7cfb\u7edf\u5df2\u7ecf\u53ef\u4ee5\u5728\u7a0b\u5e8f\u4e4b\u95f4\u5207\u6362\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u8ba9\u5b83\u4eec\u5b9a\u65f6\u5207\u6362\u5462\uff1f ::: \u57fa\u4e8e\u4e2d\u65ad (\u4f8b\u5982\u65f6\u949f) \u673a\u5236</p> <ul> <li>\u65f6\u949f\u4e2d\u65ad\uff1a\u4f7f\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\uff0c\u5f02\u6b65\u5730\u63d2\u5165\u51fd\u6570\u8c03\u7528</li> <li>\u7531\u64cd\u4f5c\u7cfb\u7edf (\u8c03\u5ea6\u7b56\u7565) \u51b3\u5b9a\u662f\u5426\u8981\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u7a0b\u5e8f\u6267\u884c</li> <li>Multics (MIT, 1965)</li> <li>\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u8bde\u751f</li> </ul> <p>1970s\u7684\u8ba1\u7b97\u673a \u96c6\u6210\u7535\u8def\u7a7a\u524d\u53d1\u5c55\uff0c\u4e2a\u4eba\u7535\u8111\u5174\u8d77\uff0c\u201c\u8ba1\u7b97\u673a\u201d \u5df2\u4e0e\u4eca\u65e5\u65e0\u5927\u5f02</p> <ul> <li>CISC \u6307\u4ee4\u96c6\uff1b\u4e2d\u65ad\u3001I/O\u3001\u5f02\u5e38\u3001MMU\u3001\u7f51\u7edc</li> <li>\u4e2a\u4eba\u8ba1\u7b97\u673a (PC \u673a)\u3001\u8d85\u7ea7\u8ba1\u7b97\u673a</li> </ul> <p>PASCAL (1970), C (1972) - \u4eca\u5929\u80fd\u529e\u5230\u7684\uff0c\u90a3\u4e2a\u65f6\u4ee3\u5df2\u7ecf\u90fd\u80fd\u529e\u5230\u4e86\u2014\u2014\u4e0a\u5929\u5165\u5730\u3001\u56fe\u50cf\u58f0\u97f3\u89c6\u9891\u3001\u4eba\u5de5\u667a\u80fd - \u4e2a\u4eba\u5f00\u53d1\u8005 (Geek Network) \u8d70\u4e0a\u821e\u53f0</p> <ul> <li>1973: \u4fe1\u53f7 API\u3001\u7ba1\u9053 (\u5bf9\u8c61)\u3001grep (\u5e94\u7528\u7a0b\u5e8f)</li> <li>1983: BSD socket (\u5bf9\u8c61)</li> <li>1984: procfs (\u5bf9\u8c61)</li> <li>UNIX \u884d\u751f\u51fa\u7684\u5927\u5bb6\u65cf</li> <li>1BSD (1977), GNU (1983), MacOS (1984), AIX (1986), Minix (1987), Windows (1985), Linux 0.01 (1991), Windows NT (1993), Debian (1996), Windows XP (2002), Ubuntu (2004), iOS (2007), Android (2008), Windows 10 (2015)</li> </ul> <p>\u4eca\u5929\u7684\u64cd\u4f5c\u7cfb\u7edf \u7a7a\u524d\u590d\u6742\u7684\u7cfb\u7edf\u4e4b\u4e00</p> <ul> <li>\u66f4\u590d\u6742\u7684\u5904\u7406\u5668\u548c\u5185\u5b58</li> <li>\u975e\u5bf9\u79f0\u591a\u5904\u7406\u5668 (ARM big.LITTLE; Intel P/E-cores)</li> <li>Non-uniform Memory Access (NUMA)</li> <li>\u66f4\u591a\u7684\u786c\u4ef6\u673a\u5236 Intel-VT/AMD-V, TrustZone/SGX, TSX</li> <li>\u66f4\u591a\u7684\u8bbe\u5907\u548c\u8d44\u6e90</li> <li>\u7f51\u5361\u3001SSD\u3001GPU\u3001FPGA...</li> <li>\u590d\u6742\u7684\u5e94\u7528\u9700\u6c42\u548c\u5e94\u7528\u73af\u5883</li> <li>\u670d\u52a1\u5668\u3001\u4e2a\u4eba\u7535\u8111\u3001\u667a\u80fd\u624b\u673a\u3001\u624b\u8868\u3001\u624b\u73af\u3001IoT/\u5fae\u63a7\u5236\u5668</li> </ul>"},{"location":"cs/system/#_4","title":"\u7406\u89e3\u64cd\u4f5c\u7cfb\u7edf: \u4e09\u4e2a\u6839\u672c\u7684\u95ee\u9898","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u670d\u52a1\u8c01\uff1f  - \u7a0b\u5e8f = \u72b6\u6001\u673a  - \u8bfe\u7a0b\u6d89\u53ca\uff1a\u591a\u7ebf\u7a0b Linux \u5e94\u7528\u7a0b\u5e8f</p> <p>(\u8bbe\u8ba1/\u7a0b\u5e8f\u89c6\u89d2) \u64cd\u4f5c\u7cfb\u7edf\u4e3a\u7a0b\u5e8f\u63d0\u4f9b\u4ec0\u4e48\u670d\u52a1\uff1f - \u64cd\u4f5c\u7cfb\u7edf = \u5bf9\u8c61 + API - \u8bfe\u7a0b\u6d89\u53ca\uff1aPOSIX + \u90e8\u5206 Linux \u7279\u6027</p> <p>(\u5b9e\u73b0/\u786c\u4ef6\u89c6\u89d2) \u5982\u4f55\u5b9e\u73b0\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u670d\u52a1\uff1f - \u64cd\u4f5c\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a C \u7a0b\u5e8f   - \u5b8c\u6210\u521d\u59cb\u5316\u540e\u5c31\u6210\u4e3a interrupt/trap/fault handler - \u8bfe\u7a0b\u6d89\u53ca\uff1axv6, \u81ea\u5236\u8ff7\u4f60\u64cd\u4f5c\u7cfb\u7edf</p>"},{"location":"cs/system/#_5","title":"\u7a0b\u5e8f","text":"<p>\u7a0b\u5e8f\u5c31\u662f\u72b6\u6001\u673a.</p>"},{"location":"cs/system/currency/","title":"\u5e76\u53d1","text":"<p>\u4ece\u6700\u7b80\u5355\u768440s\u7684\u8ba1\u7b97\u673a\u6a21\u578b\u8bf4\u8d77, \u8ba1\u7b97\u673a\u53ea\u6709\u4e00\u4e2a\u903b\u8f91\u8fd0\u7b97\u5355\u5143, \u53ea\u5141\u8bb8\u4e00\u4e2a\u7a0b\u5e8f\u8fd0\u884c, \u5e76\u4e14\u6ca1\u6709\u4ec0\u4e48API, \u7a0b\u5e8f\u76f4\u63a5\u64cd\u7eb5\u786c\u4ef6.</p> <p>\u523050s\u5e74\u4ee3, \u8ba1\u7b97\u80fd\u529b\u63d0\u5347, \u4f46\u662fIO\u5f88\u6162, \u4e2d\u65ad\u51fa\u73b0. \u53ef\u4ee5\u60f3\u8c61, \u5341\u4e2a\u5361\u7247\u673a\u4e0a\u9762\u6709\u4e2a\u6307\u793a\u706f, \u7eff\u706f\u8868\u793a\u8bfb\u53d6\u5b8c\u6210, \u7ea2\u706f\u8868\u793a\u6b63\u5728\u8bfb\u53d6, \u540c\u65f6\u8ba1\u7b97\u5355\u5143(\u90a3\u65f6\u5019\u8fd8\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u76d2\u5b50)\u4e0a\u4e5f\u6709\u4e00\u4e2a\u6307\u793a\u706f, \u7eff\u706f\u8868\u793a\u6b63\u5728\u8ba1\u7b97, \u7ea2\u706f\u8868\u793a\u8ba1\u7b97\u5b8c\u6210. \u65c1\u8fb9\u6709\u4e00\u4e2a\u5de5\u4f5c\u4eba\u5458, \u770b\u5230\u54ea\u4e2a\u5361\u7247\u673a\u8bfb\u53d6\u5b8c\u6210, \u5e76\u4e14\u8ba1\u7b97\u673a\u4e5f\u5df2\u7ecf\u8ba1\u7b97\u5b8c\u6210, \u5c31\u62e8\u4e00\u4e0b\u6447\u6746, \u5c31\u624b\u52a8\u5207\u6362\u4e00\u4e0b. \u540c\u65f6, \u4e3a\u4e86\u65b9\u4fbf\u53d8\u6210, \u8ba1\u7b97\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b Syscall API(\u8bfb\u53d6\u6307\u4ee4 \u52a0\u6307\u4ee4 \u8df3\u8f6c\u6307\u4ee4\u7b49), \u8fd9\u5c31\u662f\u6700\u7b80\u5355\u7684\u64cd\u4f5c\u7cfb\u7edf.</p> <p>\u7a0b\u5e8f\u53ea\u80fd\u505a\u8ba1\u7b97, \u53ea\u662f\u72b6\u6001\u7684\u8fc1\u79fb, \u52a0\u4e0asyscall, \u5c31\u53ef\u4ee5\u5b8c\u6210\u4e00\u4e9b\u7cfb\u7edf\u7684\u64cd\u4f5c.</p> <p>\u624b\u52a8\u5207\u6362\u8fd8\u662f\u592a\u9ebb\u70e6\u4e86, \u80fd\u4e0d\u80fd\u5b9a\u65f6\u4e2d\u65ad, \u5206\u65f6\u7cfb\u7edf\u51fa\u73b0\u4e86, \u8fd9\u662fsyscall\u4e5f\u591a\u4e86\u4e00\u4e9b, \u6bd4\u5982\u8bfb\u6587\u4ef6\u7684\u6307\u4ee4.</p> <p>\u5171\u4eab\u5185\u5b58, \u591a\u8fdb\u7a0b\u4e5f\u51fa\u73b0.</p> <p>\u4e00\u4e2a\u7a0b\u5e8f\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u7a0b\u5e8f, \u9700\u8981\u4fdd\u5b58\u79c1\u6709\u7684\u6570\u636e: pc(\u4e0b\u4e00\u4e2a\u6307\u4ee4\u7684\u4f4d\u7f6e) + \u5bc4\u5b58\u5668\u7684\u72b6\u6001, \u6808\u6570\u636e\u7b49.</p> <p>\u5e76\u53d1\u6027\u7684\u6765\u6e90:\u8fdb\u7a0b\u4f1a\u8c03\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684api.</p> <pre><code>write(fd, buf, 1 Tib)(Tib\u5b8f)\n\nwrite\u7684\u5b9e\u73b0\u662f\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e00\u90e8\u5206.\n\n  x86-64\u5e94\u7528\u7a0b\u5e8f\u6267\u884csyscall\u540e\u5c31\u8fdb\u5165\u64cd\u4f5c\u7cfb\u7edf\u6267\u884c(\u5e94\u7528\u7a0b\u5e8f\u4e0d\u53ef\u89c1).\n\n  \u8fd0\u884c\u5728\u5904\u7406\u5668\u7684\u9ad8\u7279\u6743\u7ea7:\u80fd\u8bbf\u95ee\u786c\u4ef6\u8bbe\u5907.\n\n  \u4f46\u53c8\u4e0d\u80fd\u4e00\u76f4\u9738\u5360\u5904\u7406\u5668\u8fd0\u884c(\u5426\u5219\u7cfb\u7edf\u5c31\u5361\u6b7b\u4e86)\n</code></pre> <p>\u56e0\u6b64\u5fc5\u987b\u5141\u8bb8write\u5230\u4e00\u534a\u7684\u65f6\u5019,\u8ba9\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u6267\u884c.</p> <pre><code>  \u53e6\u4e00\u4e2a\u8fdb\u7a0b\u8c03\u7528read(fd, buf, 512 Mib)\u8bfb\u53d6\u540c\u4e00\u4e2a\u6587\u4ef6.\n\n  \u64cd\u4f5c\u7cfb\u7edf\u4ee3\u7801\u5e76\u53d1\u4e86: \u64cd\u4f5c\u7cfb\u7edfapi\u5b9e\u73b0\u9700\u8981\u8003\u8651\u5e76\u53d1.\n</code></pre> <p>thread\u53ef\u4ee5\u5171\u4eab\u5185\u5b58, \u4e5f\u6709\u7ebf\u7a0b\u79c1\u6709\u53d8\u91cf</p> <p>\u7ecf\u5178\u7684\u95ee\u9898, \u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c i++, \u6216\u8005\u6c42\u548c, \u4f1a\u53d1\u751f\u4ec0\u4e48?</p> <p>::: tip \u591a\u7ebf\u7a0b\u5171\u4eab\u5185\u5b58, \u5bfc\u81f4\u539f\u5b50\u6027\u7684\u4e27\u5931, \"\u7a0b\u5e8f (\u751a\u81f3\u662f\u4e00\u6761\u6307\u4ee4) \u72ec\u5360\u5904\u7406\u5668\u6267\u884c\"\u7684\u57fa\u672c\u5047\u8bbe\u5728\u73b0\u4ee3\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e0a\u4e0d\u518d\u6210\u7acb\u3002 :::</p> <p>\u539f\u5b50\u6027\uff1a\u4e00\u6bb5\u4ee3\u7801\u6267\u884c\u72ec\u5360\u6574\u4e2a\u8ba1\u7b97\u673a\u7cfb\u7edf</p> <ul> <li>\u5355\u5904\u7406\u5668\u591a\u7ebf\u7a0b</li> <li>\u7ebf\u7a0b\u5728\u8fd0\u884c\u65f6\u53ef\u80fd\u88ab\u4e2d\u65ad\uff0c\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c</li> <li>\u591a\u5904\u7406\u5668\u591a\u7ebf\u7a0b</li> <li>\u7ebf\u7a0b\u6839\u672c\u5c31\u662f\u5e76\u884c\u6267\u884c\u7684</li> </ul> <p>(\u5386\u53f2) 1960s\uff0c\u5927\u5bb6\u4e89\u5148\u5728\u5171\u4eab\u5185\u5b58\u4e0a\u5b9e\u73b0\u539f\u5b50\u6027 (\u4e92\u65a5) \u4f46\u51e0\u4e4e\u6240\u6709\u7684\u5b9e\u73b0\u90fd\u662f\u9519\u7684\uff0c\u76f4\u5230 Dekker's Algorithm\uff0c\u8fd8\u53ea\u80fd\u4fdd\u8bc1\u4e24\u4e2a\u7ebf\u7a0b\u7684\u4e92\u65a5</p> <p>\u4e92\u65a5\u548c\u539f\u5b50\u6027\u662f\u672c\u5b66\u671f\u7684\u91cd\u8981\u4e3b\u9898 - lock(&amp;lk) - unlock(&amp;lk)   - \u5b9e\u73b0\u4e34\u754c\u533a (critical section) \u4e4b\u95f4\u7684\u7edd\u5bf9\u4e32\u884c\u5316   - \u7a0b\u5e8f\u7684\u5176\u4ed6\u90e8\u5206\u4f9d\u7136\u53ef\u4ee5\u5e76\u884c\u6267\u884c</p> <p>99% \u7684\u5e76\u53d1\u95ee\u9898\u90fd\u53ef\u4ee5\u7528\u4e00\u4e2a\u961f\u5217\u89e3\u51b3 - \u628a\u5927\u4efb\u52a1\u5207\u5206\u6210\u53ef\u4ee5\u5e76\u884c\u7684\u5c0f\u4efb\u52a1 - worker thread \u53bb\u9501\u4fdd\u62a4\u7684\u961f\u5217\u91cc\u53d6\u4efb\u52a1 - \u9664\u53bb\u4e0d\u53ef\u5e76\u884c\u7684\u90e8\u5206\uff0c\u5269\u4e0b\u7684\u90e8\u5206\u53ef\u4ee5\u83b7\u5f97\u7ebf\u6027\u7684\u52a0\u901f</p> <p>https://web.mit.edu/dimitrib/www/pdc.html</p> <p>::: tip \u987a\u5e8f\u7684\u4e27\u5931, \u7f16\u8bd1\u5668\u5bf9\u5185\u5b58\u8bbf\u95ee \u201ceventually consistent\u201d \u7684\u5904\u7406\u5bfc\u81f4\u5171\u4eab\u5185\u5b58\u4f5c\u4e3a\u7ebf\u7a0b\u540c\u6b65\u5de5\u5177\u7684\u5931\u6548\u3002 :::</p>"},{"location":"cs/system/currency/#_1","title":"\u591a\u5904\u7406\u5668\u95f4\u53ef\u89c1\u6027\u7684\u4e27\u5931","text":"<pre><code>int x = 0, y = 0;\n\nvoid T1() {\n  x = 1;\n  asm volatile(\"\" : : \"memory\"); // compiler barrier\n  printf(\"y = %d\\n\", y);\n}\n\nvoid T2() {\n  y = 1;\n  asm volatile(\"\" : : \"memory\"); // compiler barrier\n  printf(\"x = %d\\n\", x);\n}\n</code></pre> <p>\u95ee\u9898\uff1a\u6211\u4eec\u6700\u7ec8\u80fd\u770b\u5230\u54ea\u4e9b\u7ed3\u679c\uff1f - \u8f93\u51fa\u4e0d\u597d\u8bfb\uff1fpipe to head -n 1000000 | sort | uniq -c</p> <p>\u5355\u4e2a\u5904\u7406\u5668\u628a\u6c47\u7f16\u4ee3\u7801 (\u7528\u7535\u8def) \u201c\u7f16\u8bd1\u201d \u6210\u66f4\u5c0f\u7684 \u03bcops - RF[9] = load(RF[7] + 400) - store(RF[12], RF[13]) - RF[3] = RF[4] + RF[5] \u6bcf\u4e2a \u03bcop \u90fd\u6709 Fetch, Issue, Execute, Commit \u56db\u4e2a\u9636\u6bb5</p> <p>\u5728\u4efb\u4f55\u65f6\u523b\uff0c\u5904\u7406\u5668\u90fd\u7ef4\u62a4\u4e00\u4e2a \u03bcop \u7684 \u201c\u6c60\u5b50\u201d</p> <ul> <li>\u6bcf\u4e00\u5468\u671f\u5411\u6c60\u5b50\u8865\u5145\u5c3d\u53ef\u80fd\u591a\u7684 \u03bcop</li> <li>\u201c\u591a\u53d1\u5c04\u201d</li> <li>\u6bcf\u4e00\u5468\u671f (\u5728\u4e0d\u8fdd\u53cd\u7f16\u8bd1\u6b63\u786e\u6027\u7684\u524d\u63d0\u4e0b) \u6267\u884c\u5c3d\u53ef\u80fd\u591a\u7684 \u03bcop</li> <li>\u201c\u4e71\u5e8f\u6267\u884c\u201d\u3001\u201c\u6309\u5e8f\u63d0\u4ea4\u201d</li> </ul> <p>\u8fd9\u5c31\u662f\u300a\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u300b (\u5269\u4e0b\u5c31\u662f\u6728\u6876\u6548\u5e94\uff0c\u54ea\u91cc\u77ed\u677f\u8865\u54ea\u91cc)</p> <p>\u6ee1\u8db3\u5355\u5904\u7406\u5668 eventual memory consistency \u7684\u6267\u884c\uff0c\u5728\u591a\u5904\u7406\u5668\u4e0a\u53ef\u80fd\u65e0\u6cd5\u5e8f\u5217\u5316\uff01</p> <p>\u5f53 x != y \u65f6, \u5bf9 x, y \u7684\u5185\u5b58\u8bfb\u5199\u53ef\u4ee5\u4ea4\u6362\u987a\u5e8f</p> <ul> <li>\u5b83\u4eec\u751a\u81f3\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u5468\u671f\u91cc\u5b8c\u6210 (\u53ea\u8981 load/store unit \u652f\u6301)</li> <li>\u5982\u679c\u5199 x \u53d1\u751f cache miss\uff0c\u53ef\u4ee5\u8ba9\u8bfb y \u5148\u6267\u884c</li> <li>\u6ee1\u8db3 \u201c\u5c3d\u53ef\u80fd\u6267\u884c\u03bcop\u201d \u7684\u539f\u5219\uff0c\u6700\u5927\u5316\u5904\u7406\u5668\u6027\u80fd</li> </ul> <pre><code>     # &lt;-----------+\nmovl $1, (x)   #   |\nmovl (y), %eax # --+\n</code></pre> <ul> <li>\u5728\u591a\u5904\u7406\u5668\u4e0a\u7684\u8868\u73b0</li> <li>\u4e24\u4e2a\u5904\u7406\u5668\u5206\u522b\u770b\u5230 y=0 \u548c x=0</li> </ul> <p>\u5e76\u53d1\u7f16\u7a0b, \u4fdd\u8bc1:</p> <ul> <li>\u539f\u5b50\u6027(\u4e00\u6761\u6307\u4ee4\u88ab\u62c6\u6210\u591a\u6761\u6267\u884c)</li> <li>\u987a\u5e8f\u6027(\u9ad8\u7ea7\u8bed\u8a00\u7f16\u8bd1\u5668\u4f18\u5316\u5bf9\u6c47\u7f16\u6307\u4ee4\u91cd\u6392\u5e8f)</li> <li>\u53ef\u89c1\u6027(\u591a\u5904\u7406\u5668, \u6c47\u7f16\u6307\u4ee4\u8f6c\u4e3acpu\u6267\u884c\u7684\u03bcop\u6307\u4ee4, \u4e00\u4e2a\u6307\u4ee4\u5468\u671f\u5185, \u4e24\u4e2acpu\u6267\u884c\u4e24\u4e2a\u6307\u4ee4, \u7f13\u5b58miss, \u4e24\u4e2a\u53d8\u91cf\u90fd\u4e3a0)</li> </ul> <p>\u4e92\u65a5\u548c\u539f\u5b50\u6027 1. \u57fa\u4e8e\u5171\u4eab\u5185\u5b58 Peterson \u7b97\u6cd5</p>"},{"location":"cs/system/ics2022/pa0/","title":"Pa0","text":"<p>\u83b7\u53d6\u9879\u76ee</p> <pre><code>git clone -b 2022 https://github.com/NJU-ProjectN/ics-pa.git ics2022\n</code></pre> <p>\u8bbe\u7f6egit</p> <pre><code>git config --global user.name \"zq\"\ngit config --global user.email \"bytezq@qq.com\"\ngit config --global core.editor vim\ngit config --global color.ui true\n</code></pre> <pre><code> bash init.sh nemu\n bash init.sh abstract-machine\n bash init.sh am-kernels\n bash init.sh nanos-lite\n bash init.sh navy-apps\n</code></pre> <pre><code>source ~/.bashrc\n</code></pre>"},{"location":"linux/IO%E6%A8%A1%E5%9E%8B/","title":"IO\u6a21\u578b","text":"<p>IO\u603b\u7ed3</p> <p>222</p> <p>112</p>"},{"location":"linux/function-call-stack-in-c/","title":"Function call stack in c","text":"<p>\u7a0b\u5e8f\u7684\u6267\u884c\u8fc7\u7a0b\u53ef\u770b\u4f5c\u8fde\u7eed\u7684\u51fd\u6570\u8c03\u7528\u3002\u5f53\u4e00\u4e2a\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\u65f6\uff0c\u7a0b\u5e8f\u8981\u56de\u5230\u8c03\u7528\u6307\u4ee4\u7684\u4e0b\u4e00\u6761\u6307\u4ee4(\u7d27\u63a5call\u6307\u4ee4)\u5904\u7ee7\u7eed\u6267\u884c\u3002\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u901a\u5e38\u4f7f\u7528\u5806\u6808\u5b9e\u73b0\uff0c\u6bcf\u4e2a\u7528\u6237\u6001\u8fdb\u7a0b\u5bf9\u5e94\u4e00\u4e2a\u8c03\u7528\u6808\u7ed3\u6784(call stack)\u3002\u7f16\u8bd1\u5668\u4f7f\u7528\u5806\u6808\u4f20\u9012\u51fd\u6570\u53c2\u6570\u3001\u4fdd\u5b58\u8fd4\u56de\u5730\u5740\u3001\u4e34\u65f6\u4fdd\u5b58\u5bc4\u5b58\u5668\u539f\u6709\u503c(\u5373\u51fd\u6570\u8c03\u7528\u7684\u4e0a\u4e0b\u6587)\u4ee5\u5907\u6062\u590d\u4ee5\u53ca\u5b58\u50a8\u672c\u5730\u5c40\u90e8\u53d8\u91cf\u3002 </p> <p>\u4e0d\u540c\u5904\u7406\u5668\u548c\u7f16\u8bd1\u5668\u7684\u5806\u6808\u5e03\u5c40\u3001\u51fd\u6570\u8c03\u7528\u65b9\u6cd5\u90fd\u53ef\u80fd\u4e0d\u540c\uff0c\u4f46\u5806\u6808\u7684\u57fa\u672c\u6982\u5ff5\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"linux/function-call-stack-in-c/#_1","title":"\u6808\u5e27\u7ed3\u6784","text":"<p>\u6808\u5e27\u662f\u6307\u4e3a\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\u5355\u72ec\u5206\u914d\u7684\u90a3\u90e8\u5206\u6808\u7a7a\u95f4\u3002\u5f53\u8fd0\u884c\u4e2d\u7684\u7a0b\u5e8f\u8c03\u7528\u53e6\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u5c31\u8981\u8fdb\u5165\u4e00\u4e2a\u65b0\u7684\u6808\u5e27\uff0c\u539f\u6765\u51fd\u6570\u7684\u6808\u5e27\u79f0\u4e3a\u8c03\u7528\u8005\u7684\u5e27\uff0c\u65b0\u7684\u6808\u5e27\u79f0\u4e3a\u5f53\u524d\u5e27\u3002\u88ab\u8c03\u7528\u7684\u51fd\u6570\u8fd0\u884c\u7ed3\u675f\u540e\u5f53\u524d\u5e27\u5168\u90e8\u6536\u7f29\uff0c\u56de\u5230\u8c03\u7528\u8005\u7684\u5e27\u3002</p> <p> \u8fd9\u91cc\u7528\u5230\u4e86\u4e24\u4e2a\u5bc4\u5b58\u5668\uff0c<code>%ebp</code>\u662f\u5e27\u6307\u9488\uff0c\u5b83\u603b\u662f\u6307\u5411\u5f53\u524d\u5e27\u7684\u5e95\u90e8\uff1b<code>%esp</code>\u662f\u6808\u6307\u9488\uff0c\u5b83\u603b\u662f\u6307\u5411\u5f53\u524d\u5e27\u7684\u9876\u90e8\u3002\u8fd9\u4e24\u4e2a\u5bc4\u5b58\u5668\u7528\u6765\u5b9a\u4f4d\u5f53\u524d\u5e27\u4e2d\u7684\u6240\u6709\u7a7a\u95f4\uff0c\u5728\u540e\u9762\u7684\u4ee3\u7801\u4e2d\u5c06\u4f1a\u7ecf\u5e38\u51fa\u73b0\u3002\u7f16\u8bd1\u5668\u9700\u8981\u6839\u636eIA32\u6307\u4ee4\u96c6\u7684\u89c4\u5219\u5c0f\u5fc3\u7ffc\u7ffc\u5730\u8c03\u6574\u8fd9\u4e24\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u4e00\u65e6\u51fa\u9519\uff0c\u53c2\u6570\u4f20\u9012\u3001\u51fd\u6570\u8fd4\u56de\u90fd\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\u3002 \u4e0b\u9762\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\u3002\u51fd\u6570<code>caller</code>\u4e2d\u8c03\u7528\u51fd\u6570<code>swap_add</code>\uff0c\u5b8c\u6210\u4ea4\u6362\u5e76\u76f8\u52a0\u7684\u5de5\u4f5c\uff0cC\u4ee3\u7801\u5982\u4e0b\uff1a <pre><code>int swap_add(int *xp, int *yp)\n{\n    int x = *xp;\n    int y = *yp;\n    *xp = y;\n    *yp = x;\n    return x + y;\n}\n\nint caller()\n{\n    int arg1 = 534;\n    int arg2 = 1057;\n    int sum = swap_add(&amp;arg1, &amp;arg2);\n    int diff = arg1 - arg2;\n    return sum * diff;\n}\n</code></pre> \u9996\u5148\uff0c\u7a0b\u5e8f\u4ece<code>caller</code>\u5f00\u59cb\u8fd0\u884c\uff0c\u4e3a\u4e86\u8be6\u7ec6\u8bf4\u660e\u6bcf\u4e00\u884c\u7a0b\u5e8f\u90fd\u505a\u4e86\u4ec0\u4e48\u64cd\u4f5c\uff0c\u6211\u4eec\u5c06<code>caller</code>\u51fd\u6570\u7684C\u4ee3\u7801\u7f16\u8bd1\u6210\u6c47\u7f16\u7801\uff0c\u5e76\u7ed9\u6bcf\u4e00\u53e5\u9644\u4e0a\u6ce8\u91ca\u3002</p> <p>\u8fdb\u5165<code>caller</code>\u51fd\u6570\u540e\uff0c\u5148\u8c03\u6574\u4e24\u4e2a\u6307\u9488\u7684\u503c\uff0c\u7b2c2\u884c\u4fdd\u5b58\u65e7\u7684\u5e27\u6307\u9488\u5230\u5f53\u524d\u7684\u6808\u9876\u4f4d\u7f6e\uff0c\u7b2c3\u884c\u5c06\u5f53\u524d\u6808\u6307\u9488\u7684\u503c\u8d4b\u503c\u7ed9\u5e27\u6307\u9488\uff0c\u6b64\u65f6\uff0c\u5e27\u6307\u9488\u548c\u6808\u6307\u9488\u90fd\u6307\u5411\u6808\u9876\u3002\u7b2c4\u884c\u5c06\u6808\u6307\u9488\u51cf\u5c0f24\uff0c\u610f\u601d\u662f\u4ece\u6808\u4e2d\u7533\u8bf724\u5b57\u8282\u7684\u7a7a\u95f4\u4f5c\u4e3a\u5f53\u524d\u5e27\u7a7a\u95f4\uff08\u5373<code>caller</code>\u51fd\u6570\u6240\u7528\u7684\u5e27\u7a7a\u95f4\uff0c\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662f24\u5b57\u8282\uff0c\u6211\u4eec\u6700\u540e\u518d\u8bf4\uff09\u3002\u73b0\u5728\uff0c\u521a\u521a\u5b8c\u6210\u4e86\u9884\u5904\u7406\u5de5\u4f5c\uff0c\u63a5\u4e0b\u6765\u5c31\u8981\u5b9e\u73b0\u51fd\u6570\u4f53\u8981\u5b8c\u6210\u7684\u529f\u80fd\u3002</p> <p>\u5206\u6790\u4e0b\u4e00\u6b65\u4ee3\u7801\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u56de\u8fc7\u5934\u6765\u5bf9\u7167\u4e00\u4e0b\u524d\u9762\u7684\u6808\u5e27\u7ed3\u6784\u56fe\uff0c\u5c06<code>caller</code>\u89c6\u4e3a\u8c03\u7528\u8005\u7684\u5e27\uff0c\u9884\u5904\u7406\u5de5\u4f5c\u5b8c\u6210\u540e\uff0c\u6b64\u65f6\u7684\u5e27\u6307\u9488\u6307\u5411\u8c03\u7528\u8005\u7684\u5e27\u7684\u5e95\u90e8\uff08\u5728\u56fe\u4e2d\u4ee5\u6211\u4eec\u7684\u89c6\u89d2\u6765\u770b\u662f\u4e0a\u9762\uff09\uff0c\u800c\u6808\u6307\u9488\u6307\u5411\u8c03\u7528\u8005\u7684\u5e27\u7684\u9876\u90e8\u3002</p> <p>\u5728C\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u7ed9\u4e24\u4e2a\u6574\u578b\u53d8\u91cf\u5206\u522b\u8d4b\u4e86\u503c\u3002\u5bf9\u5e94\u7684\u6c47\u7f16\u4ee3\u7801\u4e3a\u7b2c5\u884c\uff0c\u5c06<code>534</code>\u5b58\u5165\u6808\u7684<code>-4(%ebp)</code>\u4f4d\u7f6e\uff0c\u8fd9\u662f\u4e00\u4e2a\u57fa\u5740+\u504f\u79fb\u91cf\u5bfb\u5740\uff0c\u5373<code>%ebp</code>\u4e2d\u7684\u6570\u51cf4\u7684\u5730\u5740\u3002\u7b2c6\u884c\u540c\u7406\u3002\u5bf9\u5e94\u6808\u5e27\u7ed3\u6784\u56fe\uff0c<code>534</code>\u548c<code>1057</code>\u5c31\u4fdd\u5b58\u5728\u8c03\u7528\u8005\u7684\u5e27\u7684\u5e95\u90e8\u548c\u53c2\u6570n\u4e4b\u95f4\u7684\u67d0\u4e2a\u4f4d\u7f6e\u3002\u63a5\u4e0b\u6765\u8ba1\u7b97\u4e24\u4e2a\u6574\u578b\u53d8\u91cf\u7684\u5730\u5740\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a<code>swap_add</code>\u7684\u53c2\u6570\u3002\u5728\u6c47\u7f16\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u8c03\u7528\u7684\u53c2\u6570\u4f20\u9012\u662f\u901a\u8fc7\u628a\u53c2\u6570\u4f9d\u6b21\u653e\u5728\u9760\u8fd1\u8c03\u7528\u8005\u7684\u5e27\u7684\u9876\u90e8\u6765\u5b9e\u73b0\u7684\u3002\u90a3\u4e48\u8fd9\u4e24\u4e2a\u53c2\u6570\u5c31\u5e94\u8be5\u653e\u5728\u76f8\u5bf9\u4e8e\u5f53\u524d\u6808\u9876\u6307\u9488<code>%esp</code>\u7684+4\u548c+0\u4f4d\u7f6e\uff0c\u7b2c7~10\u884c\u5c31\u5728\u505a\u8fd9\u4e2a\u64cd\u4f5c\u3002\u653e\u7f6e\u597d\u53c2\u6570\u540e\uff0c\u5c31\u53ef\u4ee5\u6b63\u5f0f\u8c03\u7528\u51fd\u6570<code>swap_add</code>\u4e86\uff0c\u5982\u7b2c11\u884c\u7684\u6307\u4ee4\u3002<code>call</code>\u6307\u4ee4\u4e0d\u4ec5\u4ec5\u662f\u8df3\u8f6c\u5230\u5b50\u51fd\u6570\u7684\u4f4d\u7f6e\uff0c\u800c\u4e14\u8fd8\u8981\u4e3a\u5b50\u51fd\u6570\u7684\u6b63\u786e\u8fd4\u56de\u505a\u51c6\u5907\u3002\u4e8b\u5b9e\u4e0a\uff0c<code>call</code>\u6307\u4ee4\u53ef\u4ee5\u5206\u4e3a\u4e24\u6b65\uff0c\u7b2c\u4e00\u6b65\u5c06\u5f53\u524d\u7a0b\u5e8f\u6bb5\u7684\u4e0b\u4e00\u884c\u4ee3\u7801\u7684\u5730\u5740\u5165\u6808\uff0c\u7b2c\u4e8c\u6b65\u624d\u662f\u8df3\u8f6c\u5230\u5b50\u51fd\u6570\u7684\u4ee3\u7801\u6bb5\uff0c\u76f8\u5f53\u4e8e\u5982\u4e0b\u4e24\u884c\u6307\u4ee4\u3002 <pre><code>pushl [\u4e0b\u4e00\u53e5\u4ee3\u7801\u7684\u5730\u5740]\njmp swap_add\n</code></pre> \u81f3\u6b64\uff0c\u5728<code>swap_add</code>\u51fd\u6570\u4ee3\u7801\u6267\u884c\u524d\uff0c\u8c03\u7528\u8005\u7684\u5e27\u5df2\u7ecf\u51c6\u5907\u5b8c\u6bd5\u3002\u53ef\u4ee5\u6ce8\u610f\u5230\uff0c\u6808\u5e27\u7ed3\u6784\u56fe\u4e2d\u8c03\u7528\u8005\u7684\u5e27\u7684\u6808\u9876\u6b63\u662f<code>call</code>\u6307\u4ee4\u538b\u5165\u7684\u4e0b\u4e00\u884c\u4ee3\u7801\u7684\u5730\u5740\uff0c\u540e\u9762\u5c06\u4f1a\u4ecb\u7ecd\u8fd9\u4e2a\u5730\u5740\u7684\u7528\u9014\u3002</p> <p>\u63a5\u4e0b\u6765\u770b<code>swap_add</code>\u51fd\u6570\u7684\u6c47\u7f16\u4ee3\u7801\u3002 <pre><code>1    swap_add:\n2        pushl %ebp              #Save old %ebp\n3        movl %esp, %ebp         #Set %ebp as frame pointer\n4        pushl %ebx              #Save %ebx\n\n5        movl 8(%ebp), %edx      #Get xp\n6        movl 12(%ebp), %ecx     #Get yp\n7        movl (%edx), %ebx       #Get x\n8        movl (%ecx), %eax       #Get y\n9        movl %eax, (%edx)       #Store y at xp\n10       movl %ebx, (%ecx)       #Store x at yp\n11       addl %ebx, %eax         #Return value = x+y\n\n12       popl %ebx               #Restore %ebx\n13       popl %ebp               #Restore %ebp\n14       ret                     #Return\n</code></pre> \u8fd9\u6bb5\u4ee3\u7801\u88ab\u6211\u4eba\u4e3a\u5730\u5206\u5272\u6210\u4e86\u4e09\u90e8\u5206\u30022~4\u884c\u4e3a\u9884\u5904\u7406\u90e8\u5206\uff0c\u540c\u524d\u9762\u5206\u6790\u8fc7\u7684\u9884\u5904\u7406\u76f8\u4f3c\uff0c\u4fdd\u5b58\u65e7\u7684\u5e27\u6307\u9488\uff0c\u8bbe\u7f6e\u65b0\u7684\u5e27\u6307\u9488\u3002\u4f46\u591a\u4e86\u4e00\u6b65\uff0c\u5728\u7b2c4\u884c\u5c06<code>%ebx</code>\u5bc4\u5b58\u5668\u5165\u6808\u3002\u8be5\u64cd\u4f5c\u662f\u4e3a\u4e86\u4fdd\u5b58<code>%ebx</code>\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u4ee5\u4fbf\u5728\u51fd\u6570\u7ed3\u675f\u65f6\u6062\u590d\u539f\u503c\uff0c\u5373\u7b2c12\u884c\u7684<code>popl %ebx</code>\u3002</p> <p>5~11\u884c\u4e3a<code>swap_add</code>\u51fd\u6570\u7684\u529f\u80fd\u5b9e\u73b0\u4ee3\u7801\u3002\u9996\u5148\u7b2c5\u30016\u884c\u4ece\u8c03\u7528\u8005\u7684\u5e27\u4e2d\u53d6\u51fa\u4e4b\u524d\u4fdd\u5b58\u7684\u4e24\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u76f8\u5bf9\u4e8e\u5f53\u524d\u5e27\u6307\u9488\u7684\u504f\u79fb\u91cf\u4e3a+8\u548c+12\u3002\u7136\u540e\u7b2c7\u30018\u884c\u5c06\u53c2\u6570\u7684\u503c\u4f5c\u4e3a\u5730\u5740\u53d6\u51fa\u5bf9\u5e94\u7684\u4e24\u4e2a\u6570\uff08\u8fd9\u4e24\u4e2a\u6570\u5b9e\u9645\u4e0a\u662f<code>caller</code>\u4ee3\u7801\u4e2d\u7b2c5\u30016\u884c\u5b58\u5165\u7684\u6570\uff09\uff0c\u5b58\u5165<code>%ebx</code>\u548c<code>%eax</code>\u5bc4\u5b58\u5668\u3002\u7b2c9\u300110\u884c\u5c06\u4e24\u4e2a\u6570\u4ea4\u6362\u653e\u56de\u539f\u6765\u7684\u5730\u5740\u3002\u7b2c11\u884c\u5c06\u4e24\u4e2a\u6570\u76f8\u52a0\uff0c\u548c\u4f5c\u4e3a\u8fd4\u56de\u503c\u4fdd\u5b58\u5728<code>%eax</code>\u5bc4\u5b58\u5668\u3002</p> <p>12~14\u884c\u4e3a\u7ed3\u675f\u4ee3\u7801\uff0c\u505a\u4e00\u4e9b\u51fd\u6570\u7684\u6536\u5c3e\u5de5\u4f5c\u3002\u9996\u5148\u7b2c12\u884c\u6062\u590d<code>%ebx</code>\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u63a5\u7740\u7b2c13\u884c\u6062\u590d<code>%ebp</code>\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u6700\u540e<code>ret</code>\u8fd4\u56de\u3002\u800c<code>ret</code>\u6307\u4ee4\u4e5f\u5206\u4e3a\u4e24\u6b65\uff0c\u7b2c\u4e00\u6b65\u53d6\u51fa\u5f53\u524d\u6808\u9876\u7684\u503c\uff0c\u7b2c\u4e8c\u6b65\u5c06\u8fd9\u4e2a\u503c\u4f5c\u4e3a\u8df3\u8f6c\u6307\u4ee4\u7684\u5730\u5740\u8df3\u8f6c\uff0c\u76f8\u5f53\u4e8e\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\u3002 <pre><code>popl %edx\njmp %edx\n</code></pre> \u73b0\u5728\u53ef\u4ee5\u56de\u6536\u524d\u9762\u7684\u4f0f\u7b14\u4e86\u3002\u60f3\u60f3\u770b\u8fd9\u91cc\u5f39\u51fa\u7684\u5730\u5740\u662f\u54ea\u6765\u7684\uff1f\u4e0d\u9519\uff0c\u6b63\u662f<code>call</code>\u6307\u4ee4\u81ea\u52a8\u538b\u6808\u7684\u4e0b\u4e00\u884c\u4ee3\u7801\u7684\u5730\u5740\u3002\u56e0\u6b64\uff0c<code>ret</code>\u4e4b\u540e\u5c06\u4f1a\u6267\u884c<code>call swap_add</code>\u6307\u4ee4\u7d27\u8ddf\u7740\u7684\u4e0b\u4e00\u884c\u4ee3\u7801\u3002\u597d\u7684\uff0c\u63a5\u4e0b\u6765\u7ed9\u51fa<code>caller</code>\u51fd\u6570\u5269\u4e0b\u7684\u6c47\u7f16\u4ee3\u7801\u3002 <pre><code>12       movl -4(%ebp), %edx\n13       subl -8(%ebp), %edx\n14       imull %edx, %eax\n15       leave\n16       ret\n</code></pre> 12~14\u884c\u90fd\u662f\u5728\u5b8c\u6210\u4e4b\u540e\u7684\u4e00\u4e9b\u8fd0\u7b97\u800c\u5df2\uff0c\u4e0d\u5fc5\u8ffd\u7a76\u3002\u5947\u602a\u7684\u662f15\u884c\u7528\u4e86\u4e00\u4e2a\u6ca1\u89c1\u8fc7\u7684\u6307\u4ee4<code>leave</code>\uff0c\u8fd9\u53c8\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff1f</p> <p>\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b\uff0c\u8fd9\u6bb5\u4ee3\u7801\u548c<code>swap_add</code>\u6700\u540e\u4e09\u884c\u4ee3\u7801\u76f8\u6bd4\uff0c\u5c11\u4e86\u4e24\u53e5<code>popl %ebx</code>\u548c<code>popl %ebp</code>\uff0c\u591a\u4e86\u4e00\u53e5<code>leave</code>\u3002\u9996\u5148\uff0c<code>popl %ebx</code>\u4e0d\u7528\u8003\u8651\u4e86\uff0c\u56e0\u4e3a\u5728<code>caller</code>\u7684\u5f00\u5934\u5e76\u6ca1\u6709<code>pushl %ebx</code>\uff0c\u56e0\u6b64\u4e5f\u5c31\u6ca1\u5fc5\u8981<code>popl %ebx</code>\u3002\u90a3\u4e48\u6211\u731c\u6d4b<code>leave</code>\u662f\u5426\u66ff\u4ee3\u4e86<code>popl %ebp</code>\u7684\u529f\u80fd\u5462\uff1f\u8981\u60f3\u5f04\u660e\u767d\u8fd9\u4e2a\u95ee\u9898\uff0c\u9996\u5148\u6211\u4eec\u5f97\u7406\u89e3<code>popl %ebp</code>\u5230\u5e95\u662f\u4ec0\u4e48\u529f\u80fd\u3002</p> <p>\u5f88\u7b80\u5355\uff0c\u6bcf\u4e2a\u51fd\u6570\u7ed3\u675f\u524d\u9700\u8981\u5c06\u6808\u6062\u590d\u5230\u51fd\u6570\u8c03\u7528\u524d\u7684\u6837\u5b50\uff0c\u5176\u5b9e\u5c31\u662f\u6062\u590d\u4e24\u4e2a\u6307\u9488\u2014\u2014\u5e27\u6307\u9488\u548c\u6808\u6307\u9488\u7684\u4f4d\u7f6e\u3002<code>popl %ebp</code>\u7684\u4f5c\u7528\u5c31\u662f\u6062\u590d\u5e27\u6307\u9488\u7684\u4f4d\u7f6e\u3002\u800c\u6808\u6307\u9488<code>%esp</code>\u5462\uff1f\u4f3c\u4e4e\u6ca1\u6709\u770b\u5230\u54ea\u6761\u6307\u4ee4\u628a\u5b83\u6062\u590d\u3002\u8ba9\u6211\u4eec\u518d\u4ed4\u7ec6\u634b\u4e00\u904d\u3002\u5148\u770b\u5b50\u51fd\u6570<code>swap_add</code>\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7684\u6808\u6307\u9488\u3002\u4f7f\u6808\u6307\u9488\u53d8\u5316\u7684\u53ea\u6709\u56db\u6761\u8bed\u53e5\uff0c2\u30014\u884c\u7684<code>pushl</code>\u6307\u4ee4\u548c12\u300113\u884c\u7684<code>popl</code>\u6307\u4ee4\uff0c\u800c\u4e14\u4e24\u5bf9\u6307\u4ee4\u5bf9\u6808\u6307\u9488\u7684\u5f71\u54cd\u6b63\u597d\u5bf9\u6d88\uff0c\u4e8e\u662f\u6808\u6307\u9488\u5728\u51fd\u6570\u7ed3\u675f\u65f6\u5df2\u7ecf\u56de\u5230\u4e86\u6700\u521d\u7684\u4f4d\u7f6e\uff0c\u56e0\u6b64\u6839\u672c\u4e0d\u9700\u8981\u989d\u5916\u7684\u8c03\u6574\u3002\u518d\u8003\u8651<code>caller</code>\u51fd\u6570\uff0c\u4e0e<code>swap_add</code>\u4e0d\u540c\u7684\u5730\u65b9\u5728\u4e8e\u7b2c4\u884c\u7533\u8bf7\u4e8624\u5b57\u8282\u7684\u6808\u7a7a\u95f4\uff0c\u5373\u624b\u52a8\u5c06<code>%esp</code>\u5bc4\u5b58\u5668\u7684\u503c\u51cf\u53bb\u4e8624\u3002\u8fd9\u5c31\u5bfc\u81f4\u51fd\u6570\u7ed3\u675f\u65f6\u6808\u6307\u9488\u65e0\u6cd5\u56de\u5230\u6700\u521d\u7684\u4f4d\u7f6e\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u5c06\u5b83\u6062\u590d\uff0c<code>leave</code>\u6307\u4ee4\u5c31\u662f\u8fd9\u4e2a\u4f5c\u7528\u3002\u8be5\u6307\u4ee4\u76f8\u5f53\u4e8e\u4e0b\u9762\u4e24\u6761\u6307\u4ee4\u7684\u5408\u6210\u3002 <pre><code>movl %ebp, %esp   #Set stack pointer to the beginning of frame\npopl %ebp         #Restore the saved %ebp and set stack pointer to the end of caller's frame\n</code></pre> \u5148\u5c06\u6808\u6307\u9488\u6062\u590d\u5230\u5f53\u524d\u5e27\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u518d\u6062\u590d\u5e27\u6307\u9488\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u5728\u7b2c\u4e8c\u6b65\u6062\u590d\u5e27\u6307\u9488\u7684\u65f6\u5019\u6808\u6307\u9488\u4e5f\u4f1a\u81ea\u52a8\u51cf\u4e00\uff0c\u4ece\u800c\u5b8c\u5168\u9000\u51fa\u4e86\u5f53\u524d\u5e27\u3002</p> <p>\u6700\u540e\u518d\u6765\u89e3\u91ca\u6808\u5e27\u4e3a\u4ec0\u4e48\u7533\u8bf7\u4e8624\u5b57\u8282\u7684\u7a7a\u95f4\u3002\u5728\u73b0\u4ee3\u5904\u7406\u5668\u4e2d\uff0c\u6808\u5e27\u5fc5\u987b16\u5b57\u8282\u5bf9\u9f50\uff0c\u5c31\u662f\u8bf4\u6808\u5e95\u548c\u6808\u9876\u7684\u5730\u5740\u5fc5\u987b\u662f16\u7684\u6574\u6570\u500d\u3002\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u6837\u7684\u8981\u6c42\uff0c\u8bf7\u67e5\u770b\u4e0b\u4e00\u7bc7\u6587\u7ae0\u300a\u8054\u5408\u3001\u6570\u636e\u5bf9\u9f50\u548c\u7f13\u51b2\u533a\u6ea2\u51fa\u653b\u51fb\u300b\u3002\u73b0\u5728\uff0c\u65e2\u7136\u8981\u6c42\u662f16\u7684\u6574\u6570\u500d\uff0c24\u5b57\u8282\u80af\u5b9a\u662f\u4e0d\u591f\u7684\uff0c\u4ed4\u7ec6\u89c2\u5bdf\u5c31\u80fd\u660e\u767d\uff0c\u6808\u5e27\u9664\u4e86\u8fd9\u989d\u5916\u7533\u8bf7\u768424\u5b57\u8282\u7a7a\u95f4\u5916\uff0c\u8fd8\u6709\u6700\u521d\u538b\u6808\u7684<code>%ebp</code>\u5bc4\u5b58\u5668\u5360\u75284\u5b57\u8282\uff0c\u4ee5\u53ca\u8c03\u7528\u5b50\u51fd\u6570\u524d\u4fdd\u5b58\u7684\u8fd4\u56de\u5730\u5740\u5360\u75284\u5b57\u8282\uff0c\u52a0\u8d77\u6765\u6b63\u597d32\u5b57\u8282\uff0c\u5b9e\u73b0\u4e8616\u5b57\u8282\u5bf9\u9f50\u3002</p> <p>\u51fd\u6570\u8c03\u7528\u65f6\u7684\u6808\u7ed3\u6784\u53d8\u5316\u662f\u4e2a\u8ff7\u4eba\u7684\u8fc7\u7a0b\uff0c\u7f16\u8bd1\u5668\u7684\u7cbe\u5999\u4e4b\u5904\u5728\u6b64\u53ef\u89c1\u4e00\u6591\u3002\u900f\u8fc7\u73b0\u8c61\u770b\u672c\u8d28\uff0c\u6211\u4eec\u624d\u771f\u6b63\u63a5\u89e6\u5230\u4e86\u7a0b\u5e8f\u672c\u8eab\u3002</p>"},{"location":"linux/function-call-stack-in-c/#_2","title":"\u5bc4\u5b58\u5668\u4f7f\u7528\u60ef\u4f8b","text":"<p>\u5728\u4e0a\u9762\u7684\u53d9\u8ff0\u4e2d\u6709\u4e00\u73b0\u8c61\u5c1a\u672a\u89e3\u91ca\uff0c\u4e3a\u4ec0\u4e48<code>caller</code>\u4e2d\u6ca1\u6709\u4fdd\u5b58<code>%ebx</code>\u800c<code>swap_add</code>\u4e2d\u5374\u4fdd\u5b58\u4e86\u5462\uff1f\u8fd9\u6d89\u53ca\u5230IA32\u6307\u4ee4\u96c6\u7684\u5bc4\u5b58\u5668\u4f7f\u7528\u60ef\u4f8b\uff0c\u8fd9\u4e2a\u60ef\u4f8b\u4fdd\u8bc1\u4e86\u51fd\u6570\u8c03\u7528\u65f6\u5bc4\u5b58\u5668\u7684\u503c\u4e0d\u4f1a\u4e22\u5931\u6216\u7d0a\u4e71\u3002</p> <p><code>%eax</code>\u3001<code>%edx</code>\u548c<code>%ecx</code>\u79f0\u4e3a\u8c03\u7528\u8005\u4fdd\u5b58\u5bc4\u5b58\u5668\uff0c\u88ab\u8c03\u7528\u8005\u4f7f\u7528\u8fd9\u4e09\u4e2a\u5bc4\u5b58\u5668\u65f6\u4e0d\u5fc5\u62c5\u5fc3\u5b83\u4eec\u539f\u6765\u7684\u503c\u6709\u6ca1\u6709\u4fdd\u5b58\u4e0b\u6765\uff0c\u8fd9\u662f\u8c03\u7528\u8005\u81ea\u5df1\u5e94\u8be5\u8d1f\u8d23\u7684\u4e8b\u60c5\u3002</p> <p><code>%ebx</code>\u3001<code>%esi</code>\u548c<code>%edi</code>\u79f0\u4e3a\u88ab\u8c03\u7528\u8005\u4fdd\u5b58\u5bc4\u5b58\u5668\uff0c\u88ab\u8c03\u7528\u8005\u5982\u679c\u60f3\u8981\u4f7f\u7528\u5b83\u4eec\uff0c\u5fc5\u987b\u5728\u5f00\u59cb\u65f6\u4fdd\u5b58\u5b83\u4eec\u7684\u503c\u5e76\u5728\u7ed3\u675f\u65f6\u6062\u590d\u5b83\u4eec\u7684\u503c\uff0c\u4e00\u822c\u901a\u8fc7\u538b\u6808\u548c\u51fa\u6808\u6765\u5b9e\u73b0\u3002</p> <p>\u8fd9\u5c31\u53ef\u4ee5\u89e3\u91ca\u6211\u4eec\u7684\u7591\u95ee\u4e86\u3002\u7531\u4e8e<code>%ebx</code>\u662f\u88ab\u8c03\u7528\u8005\u4fdd\u5b58\u5bc4\u5b58\u5668\uff0c\u56e0\u6b64\u5728<code>swap_add</code>\u4e2d\u6211\u4eec\u901a\u8fc7<code>pushl %ebx</code>\u548c<code>popl %ebx</code>\u6765\u4fdd\u5b58\u8be5\u5bc4\u5b58\u5668\u7684\u503c\u5728\u51fd\u6570\u6267\u884c\u524d\u540e\u4e0d\u53d8\u3002</p>"},{"location":"linux/function-call-stack-in-c/#_3","title":"\u8fd9\u6bb5\u4ee3\u7801\u7684\u542b\u4e49\uff1f","text":"<p>\u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u5e38\u5e38\u51fa\u73b0\u5728\u5e93\u51fd\u6570\u7684\u6c47\u7f16\u4ee3\u7801\u4e2d\u3002 <pre><code>    call next\nnext:\n    popl %eax\n</code></pre> \u4e4d\u770b\u4e0a\u53bb\u597d\u50cf\u5f88\u5947\u602a\uff0c\u8c03\u7528\u7684<code>next</code>\u51fd\u6570\u4e2d\u5e76\u6ca1\u6709<code>ret</code>\u8bed\u53e5\u3002\u8fd9\u4e09\u884c\u4ee3\u7801\u6709\u4ec0\u4e48\u4f5c\u7528\u5462\uff1f\u6216\u8005\u8bf4\uff0c\u6700\u540e<code>%eax</code>\u5bc4\u5b58\u5668\u7684\u503c\u4f1a\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u76f8\u4fe1\u7406\u89e3\u4e86\u672c\u6587\u524d\u4e24\u90e8\u5206\u7684\u8bfb\u8005\u5e94\u8be5\u5f88\u5bb9\u6613\u5206\u6790\u51fa\u6765\u3002<code>call</code>\u6307\u4ee4\u6267\u884c\u65f6\u4f1a\u628a\u4e0b\u4e00\u53e5\u4ee3\u7801\u7684\u5730\u5740\u538b\u6808\uff0c\u6b64\u5904\u5bf9\u5e94\u4e8e\u7b2c\u4e09\u884c<code>popl %eax</code>\u7684\u5730\u5740\u3002\u4e4b\u540e\u8df3\u8f6c\u5230\u7b2c\u4e09\u884c\u6267\u884c\uff0c\u6b63\u597d\u628a\u521a\u624d\u538b\u6808\u7684\u5185\u5bb9\u5f39\u51fa\u5230<code>%eax</code>\u5bc4\u5b58\u5668\u4e2d\uff0c\u8fd9\u4e2a\u503c\u6b63\u597d\u662f\u5f53\u524d\u7684\u7a0b\u5e8f\u8ba1\u6570\u5668\u7684\u503c\u3002</p> <p>\u8fd9\u662f\u6c47\u7f16\u4ee3\u7801\u7684\u4e00\u4e2a\u4e60\u60ef\u7528\u6cd5\uff0c\u7ed3\u679c\u662f\u628a<code>popl</code>\u6307\u4ee4\u5730\u5740\u653e\u5165<code>%eax</code>\u4e2d\u2014\u2014\u8fd9\u662f\u5c06\u7a0b\u5e8f\u8ba1\u6570\u5668\u503c\u653e\u5165\u5bc4\u5b58\u5668\u7684\u552f\u4e00\u65b9\u6cd5\u3002</p>"},{"location":"linux/function-call-stack-in-c/#c","title":"\u4e3a\u4ec0\u4e48c\u8bed\u8a00\u4e2d\u51fd\u6570\u7684\u53c2\u6570\u662f\u503c\u4f20\u9012\uff1f","text":"<p><pre><code>1 #include &lt;stdio.h&gt;\n2\n3 void swap(int a, int b) {\n4     int t = a;\n5     a = b;\n6     b = t;\n7 }\n8\n9 void main() {\n10     int a = 2;\n11     int b = 3;\n12     swap(a, b);\n13     printf(\"a is %d, b is %d\\n\", a, b);\n14 }\n</code></pre> \u53ef\u4ee5\u770b\u5230\uff0c\u5728 swap \u51fd\u6570\u4e2d\uff0ca \u548c b \u7684\u503c\u505a\u4e86\u4e00\u6b21\u4ea4\u6362\uff0c\u4f46\u662f\u5728 main \u51fd\u6570\u91cc\uff0c\u6253\u5370 a\u548c b \u7684\u503c\uff0ca \u8fd8\u662f 2\uff0cb \u8fd8\u662f 3\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u4ece\u6808\u5e27\u7684\u89d2\u5ea6\uff0c\u8fd9\u4e2a\u95ee\u9898\u5c31\u975e\u5e38\u5bb9\u6613\u7406\u89e3\uff1a  \u5728 main \u51fd\u6570\u6267\u884c\u7684\u65f6\u5019\uff0cmain \u7684\u6808\u5e27\u91cc\u5b58\u5728\u53d8\u91cf a \u548c b\u3002\u5f53 main \u5728\u8c03\u7528 swap \u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u4f1a\u5728 main \u7684\u5e27\u4e0b\u9762\u65b0\u5efa swap \u7684\u6808\u5e27\u3002swap \u7684\u5e27\u91cc\u4e5f\u6709\u5c40\u90e8\u53d8\u91cf a \u548c b\uff0c\u4f46\u662f\u660e\u663e\u8fd9\u4e2a a\u3001b \u4e0e main \u51fd\u6570\u91cc\u7684 a\u3001b \u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u4e0d\u7ba1\u5bf9 swap \u7684\u5e27\u91cc\u7684 a/b \u53d8\u91cf\u505a\u4efb\u4f55\u64cd\u4f5c\u90fd\u4e0d\u4f1a\u5f71\u54cd main \u51fd\u6570\u7684\u6808\u5e27\u3002</p>"},{"location":"linux/function-call-stack-in-c/#ia32intel-32","title":"(IA32)Intel 32\u4f4d\u4f53\u7cfb\u7ed3\u6784\u5bc4\u5b58\u5668","text":"<p>Intel 32\u4f4d\u4f53\u7cfb\u7ed3\u6784(\u7b80\u79f0IA32)\u5904\u7406\u5668\u5305\u542b8\u4e2a\u56db\u5b57\u8282\u5bc4\u5b58\u5668\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u6700\u521d\u76848086\u4e2d\u5bc4\u5b58\u5668\u662f16\u4f4d\uff0c\u6bcf\u4e2a\u90fd\u6709\u7279\u6b8a\u7528\u9014\uff0c\u5bc4\u5b58\u5668\u540d\u57ce\u53cd\u6620\u5176\u4e0d\u540c\u7528\u9014\u3002\u7531\u4e8eIA32\u5e73\u53f0\u91c7\u7528\u5e73\u9762\u5bfb\u5740\u6a21\u5f0f\uff0c\u5bf9\u7279\u6b8a\u5bc4\u5b58\u5668\u7684\u9700\u6c42\u5927\u5927\u964d\u4f4e\uff0c\u4f46\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u540d\u79f0\u88ab\u4fdd\u7559\u4e0b\u6765\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4e0a\u56fe\u6240\u793a\u7684\u524d6\u4e2a\u5bc4\u5b58\u5668\u5747\u53ef\u4f5c\u4e3a\u901a\u7528\u5bc4\u5b58\u5668\u4f7f\u7528\u3002\u67d0\u4e9b\u6307\u4ee4\u53ef\u80fd\u4ee5\u56fa\u5b9a\u7684\u5bc4\u5b58\u5668\u4f5c\u4e3a\u6e90\u5bc4\u5b58\u5668\u6216\u76ee\u7684\u5bc4\u5b58\u5668\uff0c\u5982\u4e00\u4e9b\u7279\u6b8a\u7684\u7b97\u672f\u64cd\u4f5c\u6307\u4ee4imull/mull/cltd/idivl/divl\u8981\u6c42\u4e00\u4e2a\u53c2\u6570\u5fc5\u987b\u5728%eax\u4e2d\uff0c\u5176\u8fd0\u7b97\u7ed3\u679c\u5b58\u653e\u5728%edx(higher 32-bit)\u548c%eax (lower32-bit)\u4e2d\uff1b\u53c8\u5982\u51fd\u6570\u8fd4\u56de\u503c\u901a\u5e38\u4fdd\u5b58\u5728%eax\u4e2d\uff0c\u7b49\u7b49\u3002\u4e3a\u907f\u514d\u517c\u5bb9\u6027\u95ee\u9898\uff0cABI\u89c4\u8303\u5bf9\u8fd9\u7ec4\u901a\u7528\u5bc4\u5b58\u5668\u7684\u5177\u4f53\u4f5c\u7528\u52a0\u4ee5\u5b9a\u4e49\u3002</p> <p>\u5bf9\u4e8e\u5bc4\u5b58\u5668%eax\u3001%ebx\u3001%ecx\u548c%edx\uff0c\u5404\u81ea\u53ef\u4f5c\u4e3a\u4e24\u4e2a\u72ec\u7acb\u768416\u4f4d\u5bc4\u5b58\u5668\u4f7f\u7528\uff0c\u800c\u4f4e16\u4f4d\u5bc4\u5b58\u5668\u8fd8\u53ef\u7ee7\u7eed\u5206\u4e3a\u4e24\u4e2a\u72ec\u7acb\u76848\u4f4d\u5bc4\u5b58\u5668\u4f7f\u7528\u3002\u7f16\u8bd1\u5668\u4f1a\u6839\u636e\u64cd\u4f5c\u6570\u5927\u5c0f\u9009\u62e9\u5408\u9002\u7684\u5bc4\u5b58\u5668\u6765\u751f\u6210\u6c47\u7f16\u4ee3\u7801\u3002\u5728\u6c47\u7f16\u8bed\u8a00\u5c42\u9762\uff0c\u8fd9\u7ec4\u901a\u7528\u5bc4\u5b58\u5668\u4ee5%e(AT&amp;T\u8bed\u6cd5)\u6216\u76f4\u63a5\u4ee5e(Intel\u8bed\u6cd5)\u5f00\u5934\u6765\u5f15\u7528\uff0c\u4f8b\u5982mov $5, %eax\u6216mov eax, 5\u8868\u793a\u5c06\u7acb\u5373\u65705\u8d4b\u503c\u7ed9\u5bc4\u5b58\u5668%eax\u3002</p> <p>\u5728x86\u5904\u7406\u5668\u4e2d\uff0cEIP(Instruction Pointer)\u662f\u6307\u4ee4\u5bc4\u5b58\u5668\uff0c\u6307\u5411\u5904\u7406\u5668\u4e0b\u6761\u7b49\u5f85\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740(\u4ee3\u7801\u6bb5\u5185\u7684\u504f\u79fb\u91cf)\uff0c\u6bcf\u6b21\u6267\u884c\u5b8c\u76f8\u5e94\u6c47\u7f16\u6307\u4ee4EIP\u503c\u5c31\u4f1a\u589e\u52a0\u3002ESP(Stack Pointer)\u662f\u5806\u6808\u6307\u9488\u5bc4\u5b58\u5668\uff0c\u5b58\u653e\u6267\u884c\u51fd\u6570\u5bf9\u5e94\u6808\u5e27\u7684\u6808\u9876\u5730\u5740(\u4e5f\u662f\u7cfb\u7edf\u6808\u7684\u9876\u90e8)\uff0c\u4e14\u59cb\u7ec8\u6307\u5411\u6808\u9876\uff1bEBP(Base Pointer)\u662f\u6808\u5e27\u57fa\u5740\u6307\u9488\u5bc4\u5b58\u5668\uff0c\u5b58\u653e\u6267\u884c\u51fd\u6570\u5bf9\u5e94\u6808\u5e27\u7684\u6808\u5e95\u5730\u5740\uff0c\u7528\u4e8eC\u8fd0\u884c\u5e93\u8bbf\u95ee\u6808\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u53c2\u6570\u3002</p> <p>\u6ce8\u610f\uff0cEIP\u662f\u4e2a\u7279\u6b8a\u5bc4\u5b58\u5668\uff0c\u4e0d\u80fd\u50cf\u8bbf\u95ee\u901a\u7528\u5bc4\u5b58\u5668\u90a3\u6837\u8bbf\u95ee\u5b83\uff0c\u5373\u627e\u4e0d\u5230\u53ef\u7528\u6765\u5bfb\u5740EIP\u5e76\u5bf9\u5176\u8fdb\u884c\u8bfb\u5199\u7684\u64cd\u4f5c\u7801(OpCode)\u3002EIP\u53ef\u88abjmp\u3001call\u548cret\u7b49\u6307\u4ee4\u9690\u542b\u5730\u6539\u53d8(\u4e8b\u5b9e\u4e0a\u5b83\u4e00\u76f4\u90fd\u5728\u6539\u53d8)\u3002</p> <p>\u4e0d\u540c\u67b6\u6784\u7684CPU\uff0c\u5bc4\u5b58\u5668\u540d\u79f0\u88ab\u6dfb\u52a0\u4e0d\u540c\u524d\u7f00\u4ee5\u6307\u793a\u5bc4\u5b58\u5668\u7684\u5927\u5c0f\u3002\u4f8b\u5982x86\u67b6\u6784\u7528\u5b57\u6bcd\u201ce(extended)\u201d\u4f5c\u540d\u79f0\u524d\u7f00\uff0c\u6307\u793a\u5bc4\u5b58\u5668\u5927\u5c0f\u4e3a32\u4f4d\uff1bx86_64\u67b6\u6784\u7528\u5b57\u6bcd\u201cr\u201d\u4f5c\u540d\u79f0\u524d\u7f00\uff0c\u6307\u793a\u5404\u5bc4\u5b58\u5668\u5927\u5c0f\u4e3a64\u4f4d\u3002</p> <p>\u7f16\u8bd1\u5668\u5728\u5c06C\u7a0b\u5e8f\u7f16\u8bd1\u6210\u6c47\u7f16\u7a0b\u5e8f\u65f6\uff0c\u5e94\u9075\u5faaABI\u6240\u89c4\u5b9a\u7684\u5bc4\u5b58\u5668\u529f\u80fd\u5b9a\u4e49\u3002\u540c\u6837\u5730\uff0c\u7f16\u5199\u6c47\u7f16\u7a0b\u5e8f\u65f6\u4e5f\u5e94\u9075\u5faa\uff0c\u5426\u5219\u6240\u7f16\u5199\u7684\u6c47\u7f16\u7a0b\u5e8f\u53ef\u80fd\u65e0\u6cd5\u4e0eC\u7a0b\u5e8f\u534f\u540c\u5de5\u4f5c\u3002</p> <p>\u6269\u5c55\u9605\u8bfb\u3011\u6808\u5e27\u6307\u9488\u5bc4\u5b58\u5668\u4e3a\u4e86\u8bbf\u95ee\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\uff0c\u5fc5\u987b\u80fd\u5b9a\u4f4d\u6bcf\u4e2a\u53d8\u91cf\u3002\u5c40\u90e8\u53d8\u91cf\u76f8\u5bf9\u4e8e\u5806\u6808\u6307\u9488ESP\u7684\u4f4d\u7f6e\u5728\u8fdb\u5165\u51fd\u6570\u65f6\u5c31\u5df2\u786e\u5b9a\uff0c\u7406\u8bba\u4e0a\u53d8\u91cf\u53ef\u7528ESP\u52a0\u504f\u79fb\u91cf\u6765\u5f15\u7528\uff0c\u4f46ESP\u4f1a\u5728\u51fd\u6570\u6267\u884c\u671f\u968f\u53d8\u91cf\u7684\u538b\u6808\u548c\u51fa\u6808\u800c\u53d8\u52a8\u3002\u5c3d\u7ba1\u67d0\u4e9b\u60c5\u51b5\u4e0b\u7f16\u8bd1\u5668\u80fd\u8ddf\u8e2a\u6808\u4e2d\u7684\u53d8\u91cf\u64cd\u4f5c\u4ee5\u4fee\u6b63\u504f\u79fb\u91cf\uff0c\u4f46\u8981\u5f15\u5165\u53ef\u89c2\u7684\u7ba1\u7406\u5f00\u9500\u3002\u800c\u4e14\u5728\u6709\u4e9b\u673a\u5668\u4e0a(\u5982Intel\u5904\u7406\u5668)\uff0c\u7528ESP\u52a0\u504f\u79fb\u91cf\u6765\u8bbf\u95ee\u4e00\u4e2a\u53d8\u91cf\u9700\u8981\u591a\u6761\u6307\u4ee4\u624d\u80fd\u5b9e\u73b0\u3002\u56e0\u6b64\uff0c\u8bb8\u591a\u7f16\u8bd1\u5668\u4f7f\u7528\u5e27\u6307\u9488\u5bc4\u5b58\u5668FP(Frame Pointer)\u8bb0\u5f55\u6808\u5e27\u57fa\u5730\u5740\u3002\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u53c2\u6570\u90fd\u53ef\u901a\u8fc7\u5e27\u6307\u9488\u5f15\u7528\uff0c\u56e0\u4e3a\u5b83\u4eec\u5230FP\u7684\u8ddd\u79bb\u4e0d\u4f1a\u53d7\u5230\u538b\u6808\u548c\u51fa\u6808\u64cd\u4f5c\u7684\u5f71\u54cd\u3002\u6709\u4e9b\u8d44\u6599\u5c06\u5e27\u6307\u9488\u79f0\u4f5c\u5c40\u90e8\u57fa\u6307\u9488(LB-local base pointer)\u3002\u5728Intel CPU\u4e2d\uff0c\u5bc4\u5b58\u5668BP(EBP)\u7528\u4f5c\u5e27\u6307\u9488\u3002\u5728Motorola CPU\u4e2d\uff0c\u9664A7(\u5806\u6808\u6307\u9488SP)\u5916\u7684\u4efb\u4f55\u5730\u5740\u5bc4\u5b58\u5668\u90fd\u53ef\u7528\u4f5cFP\u3002\u5f53\u5806\u6808\u5411\u4e0b(\u4f4e\u5730\u5740)\u589e\u957f\u65f6\uff0c\u4ee5FP\u5730\u5740\u4e3a\u57fa\u51c6\uff0c\u51fd\u6570\u53c2\u6570\u7684\u504f\u79fb\u91cf\u662f\u6b63\u503c\uff0c\u800c\u5c40\u90e8\u53d8\u91cf\u7684\u504f\u79fb\u91cf\u662f\u8d1f\u503c\u3002</p> <p>\u7a0b\u5e8f\u5bc4\u5b58\u5668\u7ec4\u662f\u552f\u4e00\u80fd\u88ab\u6240\u6709\u51fd\u6570\u5171\u4eab\u7684\u8d44\u6e90\u3002\u867d\u7136\u67d0\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u51fd\u6570\u5728\u6267\u884c\uff0c\u4f46\u9700\u4fdd\u8bc1\u5f53\u67d0\u4e2a\u51fd\u6570\u8c03\u7528\u5176\u4ed6\u51fd\u6570\u65f6\uff0c\u88ab\u8c03\u51fd\u6570\u4e0d\u4f1a\u4fee\u6539\u6216\u8986\u76d6\u4e3b\u8c03\u51fd\u6570\u7a0d\u540e\u4f1a\u4f7f\u7528\u5230\u7684\u5bc4\u5b58\u5668\u503c\u3002\u56e0\u6b64\uff0cIA32\u91c7\u7528\u4e00\u5957\u7edf\u4e00\u7684\u5bc4\u5b58\u5668\u4f7f\u7528\u7ea6\u5b9a\uff0c\u6240\u6709\u51fd\u6570(\u5305\u62ec\u5e93\u51fd\u6570)\u8c03\u7528\u90fd\u5fc5\u987b\u9075\u5b88\u8be5\u7ea6\u5b9a\u3002</p> <p>\u6839\u636e\u60ef\u4f8b\uff0c\u5bc4\u5b58\u5668%eax\u3001%edx\u548c%ecx\u4e3a\u4e3b\u8c03\u51fd\u6570\u4fdd\u5b58\u5bc4\u5b58\u5668(caller-saved registers)\uff0c\u5f53\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u82e5\u4e3b\u8c03\u51fd\u6570\u5e0c\u671b\u4fdd\u6301\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u5219\u5fc5\u987b\u5728\u8c03\u7528\u524d\u663e\u5f0f\u5730\u5c06\u5176\u4fdd\u5b58\u5728\u6808\u4e2d\uff1b\u88ab\u8c03\u51fd\u6570\u53ef\u4ee5\u8986\u76d6\u8fd9\u4e9b\u5bc4\u5b58\u5668\uff0c\u800c\u4e0d\u4f1a\u7834\u574f\u4e3b\u8c03\u51fd\u6570\u6240\u9700\u7684\u6570\u636e\u3002\u5bc4\u5b58\u5668%ebx\u3001%esi\u548c%edi\u4e3a\u88ab\u8c03\u51fd\u6570\u4fdd\u5b58\u5bc4\u5b58\u5668(callee-saved registers)\uff0c\u5373\u88ab\u8c03\u51fd\u6570\u5728\u8986\u76d6\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\u65f6\uff0c\u5fc5\u987b\u5148\u5c06\u5bc4\u5b58\u5668\u539f\u503c\u538b\u5165\u6808\u4e2d\u4fdd\u5b58\u8d77\u6765\uff0c\u5e76\u5728\u51fd\u6570\u8fd4\u56de\u524d\u4ece\u6808\u4e2d\u6062\u590d\u5176\u539f\u503c\uff0c\u56e0\u4e3a\u4e3b\u8c03\u51fd\u6570\u53ef\u80fd\u4e5f\u5728\u4f7f\u7528\u8fd9\u4e9b\u5bc4\u5b58\u5668\u3002\u6b64\u5916\uff0c\u88ab\u8c03\u51fd\u6570\u5fc5\u987b\u4fdd\u6301\u5bc4\u5b58\u5668%ebp\u548c%esp\uff0c\u5e76\u5728\u51fd\u6570\u8fd4\u56de\u540e\u5c06\u5176\u6062\u590d\u5230\u8c03\u7528\u524d\u7684\u503c\uff0c\u4ea6\u5373\u5fc5\u987b\u6062\u590d\u4e3b\u8c03\u51fd\u6570\u7684\u6808\u5e27\u3002</p> <p>\u5f53\u7136\uff0c\u8fd9\u4e9b\u5de5\u4f5c\u90fd\u7531\u7f16\u8bd1\u5668\u5728\u5e55\u540e\u8fdb\u884c\u3002\u4e0d\u8fc7\u5728\u7f16\u5199\u6c47\u7f16\u7a0b\u5e8f\u65f6\u5e94\u6ce8\u610f\u9075\u5b88\u4e0a\u8ff0\u60ef\u4f8b\u3002</p>"},{"location":"linux/function-call-stack-in-c/#_4","title":"\u6808\u5e27\u7ed3\u6784","text":"<p>\u51fd\u6570\u8c03\u7528\u7ecf\u5e38\u662f\u5d4c\u5957\u7684\uff0c\u5728\u540c\u4e00\u65f6\u523b\uff0c\u5806\u6808\u4e2d\u4f1a\u6709\u591a\u4e2a\u51fd\u6570\u7684\u4fe1\u606f\u3002\u6bcf\u4e2a\u672a\u5b8c\u6210\u8fd0\u884c\u7684\u51fd\u6570\u5360\u7528\u4e00\u4e2a\u72ec\u7acb\u7684\u8fde\u7eed\u533a\u57df\uff0c\u79f0\u4f5c\u6808\u5e27(Stack Frame)\u3002\u6808\u5e27\u662f\u5806\u6808\u7684\u903b\u8f91\u7247\u6bb5\uff0c\u5f53\u8c03\u7528\u51fd\u6570\u65f6\u903b\u8f91\u6808\u5e27\u88ab\u538b\u5165\u5806\u6808, \u5f53\u51fd\u6570\u8fd4\u56de\u65f6\u903b\u8f91\u6808\u5e27\u88ab\u4ece\u5806\u6808\u4e2d\u5f39\u51fa\u3002\u6808\u5e27\u5b58\u653e\u7740\u51fd\u6570\u53c2\u6570\uff0c\u5c40\u90e8\u53d8\u91cf\u53ca\u6062\u590d\u524d\u4e00\u6808\u5e27\u6240\u9700\u8981\u7684\u6570\u636e\u7b49\u3002</p> <p>\u7f16\u8bd1\u5668\u5229\u7528\u6808\u5e27\uff0c\u4f7f\u5f97\u51fd\u6570\u53c2\u6570\u548c\u51fd\u6570\u4e2d\u5c40\u90e8\u53d8\u91cf\u7684\u5206\u914d\u4e0e\u91ca\u653e\u5bf9\u7a0b\u5e8f\u5458\u900f\u660e\u3002\u7f16\u8bd1\u5668\u5c06\u63a7\u5236\u6743\u79fb\u4ea4\u51fd\u6570\u672c\u8eab\u4e4b\u524d\uff0c\u63d2\u5165\u7279\u5b9a\u4ee3\u7801\u5c06\u51fd\u6570\u53c2\u6570\u538b\u5165\u6808\u5e27\u4e2d\uff0c\u5e76\u5206\u914d\u8db3\u591f\u7684\u5185\u5b58\u7a7a\u95f4\u7528\u4e8e\u5b58\u653e\u51fd\u6570\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u3002\u4f7f\u7528\u6808\u5e27\u7684\u4e00\u4e2a\u597d\u5904\u662f\u4f7f\u5f97\u9012\u5f52\u53d8\u4e3a\u53ef\u80fd\uff0c\u56e0\u4e3a\u5bf9\u51fd\u6570\u7684\u6bcf\u6b21\u9012\u5f52\u8c03\u7528\uff0c\u90fd\u4f1a\u5206\u914d\u7ed9\u8be5\u51fd\u6570\u4e00\u4e2a\u65b0\u7684\u6808\u5e27\uff0c\u8fd9\u6837\u5c31\u5de7\u5999\u5730\u9694\u79bb\u5f53\u524d\u8c03\u7528\u4e0e\u4e0a\u6b21\u8c03\u7528\u3002</p> <p>\u6808\u5e27\u7684\u8fb9\u754c\u7531\u6808\u5e27\u57fa\u5730\u5740\u6307\u9488EBP\u548c\u5806\u6808\u6307\u9488ESP\u754c\u5b9a(\u6307\u9488\u5b58\u653e\u5728\u76f8\u5e94\u5bc4\u5b58\u5668\u4e2d)\u3002EBP\u6307\u5411\u5f53\u524d\u6808\u5e27\u5e95\u90e8(\u9ad8\u5730\u5740)\uff0c\u5728\u5f53\u524d\u6808\u5e27\u5185\u4f4d\u7f6e\u56fa\u5b9a\uff1bESP\u6307\u5411\u5f53\u524d\u6808\u5e27\u9876\u90e8(\u4f4e\u5730\u5740)\uff0c\u5f53\u7a0b\u5e8f\u6267\u884c\u65f6ESP\u4f1a\u968f\u7740\u6570\u636e\u7684\u5165\u6808\u548c\u51fa\u6808\u800c\u79fb\u52a8\u3002\u56e0\u6b64\u51fd\u6570\u4e2d\u5bf9\u5927\u90e8\u5206\u6570\u636e\u7684\u8bbf\u95ee\u90fd\u57fa\u4e8eEBP\u8fdb\u884c\u3002</p> <p>\u4e3a\u66f4\u5177\u63cf\u8ff0\u6027\uff0c\u4ee5\u4e0b\u79f0EBP\u4e3a\u5e27\u57fa\u6307\u9488\uff0c ESP\u4e3a\u6808\u9876\u6307\u9488\uff0c\u5e76\u5728\u5f15\u7528\u6c47\u7f16\u4ee3\u7801\u65f6\u5206\u522b\u8bb0\u4e3a%ebp\u548c%esp\u3002</p> <p>\u51fd\u6570\u8c03\u7528\u6808\u7684\u5178\u578b\u5185\u5b58\u5e03\u5c40\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u56fe\u4e2d\u7ed9\u51fa\u4e3b\u8c03\u51fd\u6570(caller)\u548c\u88ab\u8c03\u51fd\u6570(callee)\u7684\u6808\u5e27\u5e03\u5c40\uff0c\u201dm(%ebp)\u201d\u8868\u793a\u4ee5EBP\u4e3a\u57fa\u5730\u5740\u3001\u504f\u79fb\u91cf\u4e3am\u5b57\u8282\u7684\u5185\u5b58\u7a7a\u95f4(\u4e2d\u7684\u5185\u5bb9)\u3002 \u8be5\u56fe\u57fa\u4e8e\u4e24\u4e2a\u5047\u8bbe\uff1a \u7b2c\u4e00\uff0c\u51fd\u6570\u8fd4\u56de\u503c\u4e0d\u662f\u7ed3\u6784\u4f53\u6216\u8054\u5408\u4f53\uff0c\u5426\u5219\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c06\u4f4d\u4e8e\u201d12(%ebp)\u201d \u5904\uff1b \u7b2c\u4e8c\uff0c\u6bcf\u4e2a\u53c2\u6570\u90fd\u662f4\u5b57\u8282\u5927\u5c0f(\u6808\u7684\u7c92\u5ea6\u4e3a4\u5b57\u8282)\u3002 \u6b64\u5916\uff0c\u51fd\u6570\u53ef\u4ee5\u6ca1\u6709\u53c2\u6570\u548c\u5c40\u90e8\u53d8\u91cf\uff0c\u6545\u56fe\u4e2d\u201cArgument(\u53c2\u6570)\u201d\u548c\u201cLocal Variable(\u5c40\u90e8\u53d8\u91cf)\u201d\u4e0d\u662f\u51fd\u6570\u6808\u5e27\u7ed3\u6784\u7684\u5fc5\u9700\u90e8\u5206\u3002</p> <p>\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u51fd\u6570\u8c03\u7528\u65f6\u5165\u6808\u987a\u5e8f\u4e3a\uff1a <pre><code>flowchart LR\n\u5b9e\u53c2N-1 --&gt; \u4e3b\u8c03\u51fd\u6570\u8fd4\u56de\u5730\u5740 --&gt; \u4e3b\u8c03\u51fd\u6570\u5e27\u57fa\u5730\u5740EBP --&gt; \u88ab\u8c03\u51fd\u6570\u5c40\u90e8\u53d8\u91cf1-N</code></pre></p> <p>\u5176\u4e2d\uff0c\u4e3b\u8c03\u51fd\u6570\u5c06\u53c2\u6570\u6309\u7167\u8c03\u7528\u7ea6\u5b9a\u4f9d\u6b21\u5165\u6808(\u56fe\u4e2d\u4e3a\u4ece\u53f3\u5230\u5de6)\uff0c\u7136\u540e\u5c06\u6307\u4ee4\u6307\u9488EIP\u5165\u6808\u4ee5\u4fdd\u5b58\u4e3b\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u5730\u5740(\u4e0b\u4e00\u6761\u5f85\u6267\u884c\u6307\u4ee4\u7684\u5730\u5740)\u3002\u8fdb\u5165\u88ab\u8c03\u51fd\u6570\u65f6\uff0c\u88ab\u8c03\u51fd\u6570\u5c06\u4e3b\u8c03\u51fd\u6570\u7684\u5e27\u57fa\u6307\u9488EBP\u5165\u6808\uff0c\u5e76\u5c06\u4e3b\u8c03\u51fd\u6570\u7684\u6808\u9876\u6307\u9488ESP\u503c\u8d4b\u7ed9\u88ab\u8c03\u51fd\u6570\u7684EBP(\u4f5c\u4e3a\u88ab\u8c03\u51fd\u6570\u7684\u6808\u5e95)\uff0c\u63a5\u7740\u6539\u53d8ESP\u503c\u6765\u4e3a\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u9884\u7559\u7a7a\u95f4\u3002\u6b64\u65f6\u88ab\u8c03\u51fd\u6570\u5e27\u57fa\u6307\u9488\u6307\u5411\u88ab\u8c03\u51fd\u6570\u7684\u6808\u5e95\u3002\u4ee5\u8be5\u5730\u5740\u4e3a\u57fa\u51c6\uff0c\u5411\u4e0a(\u6808\u5e95\u65b9\u5411)\u53ef\u83b7\u53d6\u4e3b\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u5730\u5740\u3001\u53c2\u6570\u503c\uff0c\u5411\u4e0b(\u6808\u9876\u65b9\u5411)\u80fd\u83b7\u53d6\u88ab\u8c03\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u503c\uff0c\u800c\u8be5\u5730\u5740\u5904\u53c8\u5b58\u653e\u7740\u4e0a\u4e00\u5c42\u4e3b\u8c03\u51fd\u6570\u7684\u5e27\u57fa\u6307\u9488\u503c\u3002\u672c\u7ea7\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u5c06EBP\u6307\u9488\u503c\u8d4b\u7ed9ESP\uff0c\u4f7fESP\u518d\u6b21\u6307\u5411\u88ab\u8c03\u51fd\u6570\u6808\u5e95\u4ee5\u91ca\u653e\u5c40\u90e8\u53d8\u91cf\uff1b\u518d\u5c06\u5df2\u538b\u6808\u7684\u4e3b\u8c03\u51fd\u6570\u5e27\u57fa\u6307\u9488\u5f39\u51fa\u5230EBP\uff0c\u5e76\u5f39\u51fa\u8fd4\u56de\u5730\u5740\u5230EIP\u3002ESP\u7ee7\u7eed\u4e0a\u79fb\u8d8a\u8fc7\u53c2\u6570\uff0c\u6700\u7ec8\u56de\u5230\u51fd\u6570\u8c03\u7528\u524d\u7684\u72b6\u6001\uff0c\u5373\u6062\u590d\u539f\u6765\u4e3b\u8c03\u51fd\u6570\u7684\u6808\u5e27\u3002\u5982\u6b64\u9012\u5f52\u4fbf\u5f62\u6210\u51fd\u6570\u8c03\u7528\u6808\u3002</p> <p>EBP\u6307\u9488\u5728\u5f53\u524d\u51fd\u6570\u8fd0\u884c\u8fc7\u7a0b\u4e2d(\u672a\u8c03\u7528\u5176\u4ed6\u51fd\u6570\u65f6)\u4fdd\u6301\u4e0d\u53d8\u3002\u5728\u51fd\u6570\u8c03\u7528\u524d\uff0cESP\u6307\u9488\u6307\u5411\u6808\u9876\u5730\u5740\uff0c\u4e5f\u662f\u6808\u5e95\u5730\u5740\u3002\u5728\u51fd\u6570\u5b8c\u6210\u73b0\u573a\u4fdd\u62a4\u4e4b\u7c7b\u7684\u521d\u59cb\u5316\u5de5\u4f5c\u540e\uff0cESP\u4f1a\u59cb\u7ec8\u6307\u5411\u5f53\u524d\u51fd\u6570\u6808\u5e27\u7684\u6808\u9876\uff0c\u6b64\u65f6\uff0c\u82e5\u5f53\u524d\u51fd\u6570\u53c8\u8c03\u7528\u53e6\u4e00\u4e2a\u51fd\u6570\uff0c\u5219\u4f1a\u5c06\u6b64\u65f6\u7684EBP\u89c6\u4e3a\u65e7EBP\u538b\u6808\uff0c\u800c\u4e0e\u65b0\u8c03\u7528\u51fd\u6570\u6709\u5173\u7684\u5185\u5bb9\u4f1a\u4ece\u5f53\u524dESP\u6240\u6307\u5411\u4f4d\u7f6e\u5f00\u59cb\u538b\u6808\u3002</p> <p>\u82e5\u9700\u5728\u51fd\u6570\u4e2d\u4fdd\u5b58\u88ab\u8c03\u51fd\u6570\u4fdd\u5b58\u5bc4\u5b58\u5668(\u5982ESI\u3001EDI)\uff0c\u5219\u7f16\u8bd1\u5668\u5728\u4fdd\u5b58EBP\u503c\u65f6\u8fdb\u884c\u4fdd\u5b58\uff0c\u6216\u5ef6\u8fdf\u4fdd\u5b58\u76f4\u5230\u5c40\u90e8\u53d8\u91cf\u7a7a\u95f4\u88ab\u5206\u914d\u3002\u5728\u6808\u5e27\u4e2d\u5e76\u672a\u4e3a\u88ab\u8c03\u51fd\u6570\u4fdd\u5b58\u5bc4\u5b58\u5668\u7684\u7a7a\u95f4\u6307\u5b9a\u6807\u51c6\u7684\u5b58\u50a8\u4f4d\u7f6e\u3002\u5305\u542b\u5bc4\u5b58\u5668\u548c\u4e34\u65f6\u53d8\u91cf\u7684\u51fd\u6570\u8c03\u7528\u6808\u5e03\u5c40\u53ef\u80fd\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5728\u591a\u7ebf\u7a0b(\u4efb\u52a1)\u73af\u5883\uff0c\u6808\u9876\u6307\u9488\u6307\u5411\u7684\u5b58\u50a8\u5668\u533a\u57df\u5c31\u662f\u5f53\u524d\u4f7f\u7528\u7684\u5806\u6808\u3002\u5207\u6362\u7ebf\u7a0b\u7684\u4e00\u4e2a\u91cd\u8981\u5de5\u4f5c\uff0c\u5c31\u662f\u5c06\u6808\u9876\u6307\u9488\u8bbe\u4e3a\u5f53\u524d\u7ebf\u7a0b\u7684\u5806\u6808\u6808\u9876\u5730\u5740\u3002 <pre><code>1 //StackFrame.c\n 2 #include &lt;stdio.h&gt;\n 3 #include &lt;string.h&gt;\n 4 \n 5 struct Strt{\n 6     int member1;\n 7     int member2;\n 8     int member3;\n 9 };\n10 \n11 #define PRINT_ADDR(x)     printf(\"&amp;\"#x\" = %p\\n\", &amp;x)\n12 int StackFrameContent(int para1, int para2, int para3){\n13     int locVar1 = 1;\n14     int locVar2 = 2;\n15     int locVar3 = 3;\n16     int arr[] = {0x11,0x22,0x33};\n17     struct Strt tStrt = {0};\n18     PRINT_ADDR(para1); //\u82e5para1\u4e3achar\u6216short\u578b\uff0c\u5219\u6253\u5370para1\u6240\u5bf9\u5e94\u7684\u6808\u4e0a\u6574\u578b\u4e34\u65f6\u53d8\u91cf\u5730\u5740\uff01\n19     PRINT_ADDR(para2);\n20     PRINT_ADDR(para3);\n21     PRINT_ADDR(locVar1);\n22     PRINT_ADDR(locVar2);\n23     PRINT_ADDR(locVar3);\n24     PRINT_ADDR(arr);\n25     PRINT_ADDR(arr[0]);\n26     PRINT_ADDR(arr[1]);\n27     PRINT_ADDR(arr[2]);\n28     PRINT_ADDR(tStrt);\n29     PRINT_ADDR(tStrt.member1);\n30     PRINT_ADDR(tStrt.member2);\n31     PRINT_ADDR(tStrt.member3);\n32     return 0;\n33 }\n34 \n35 int main(void){\n36     int locMain1 = 1, locMain2 = 2, locMain3 = 3;\n37     PRINT_ADDR(locMain1);\n38     PRINT_ADDR(locMain2);\n39     PRINT_ADDR(locMain3);\n40     StackFrameContent(locMain1, locMain2, locMain3);\n41     printf(\"[locMain1,2,3] = [%d, %d, %d]\\n\", locMain1, locMain2, locMain3);\n42     memset(&amp;locMain2, 0, 2*sizeof(int));\n43     printf(\"[locMain1,2,3] = [%d, %d, %d]\\n\", locMain1, locMain2, locMain3);\n44     return 0;\n45 }\n\nStackFrame\n</code></pre></p> <p>\u7f16\u8bd1\u94fe\u63a5\u5e76\u6267\u884c\u540e\uff0c\u8f93\u51fa\u6253\u5370\u5982\u4e0b\uff1a</p> <p></p> <p>\u51fd\u6570\u6808\u5e03\u5c40\u793a\u4f8b\u5982\u4e0b\u56fe\u6240\u793a\u3002\u4e3a\u76f4\u89c2\u8d77\u89c1\uff0c\u4f4e\u4e8e\u8d77\u59cb\u9ad8\u5730\u57400xbfc75a58\u7684\u5176\u4ed6\u5730\u5740\u91c7\u7528\u70b9\u8bb0\u6cd5\uff0c\u59820x.54\u8868\u793a0xbfc75a54\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</p> <p></p> <p>\u5185\u5b58\u5730\u5740\u4ece\u6808\u5e95\u5230\u6808\u9876\u9012\u51cf\uff0c\u538b\u6808\u5c31\u662f\u628aESP\u6307\u9488\u9010\u6e10\u5f80\u5730\u4f4e\u5740\u79fb\u52a8\u7684\u8fc7\u7a0b\u3002\u800c\u7ed3\u6784\u4f53tStrt\u4e2d\u7684\u6210\u5458\u53d8\u91cfmemberX\u5730\u5740=tStrt\u9996\u5730\u5740+(memberX\u504f\u79fb\u91cf)\uff0c\u5373\u8d8a\u9760\u8fd1tStrt\u9996\u5730\u5740\u7684\u6210\u5458\u53d8\u91cf\u5176\u5185\u5b58\u5730\u5740\u8d8a\u5c0f\u3002\u56e0\u6b64\uff0c\u7ed3\u6784\u4f53\u6210\u5458\u53d8\u91cf\u7684\u5165\u6808\u987a\u5e8f\u4e0e\u5176\u5728\u7ed3\u6784\u4f53\u4e2d\u58f0\u660e\u7684\u987a\u5e8f\u76f8\u53cd\u3002</p> <p>\u51fd\u6570\u8c03\u7528\u4ee5\u503c\u4f20\u9012\u65f6\uff0c\u4f20\u5165\u7684\u5b9e\u53c2(locMain1<sub>3)\u4e0e\u88ab\u8c03\u51fd\u6570\u5185\u64cd\u4f5c\u7684\u5f62\u53c2(para1</sub>3)\u4e24\u8005\u5b58\u50a8\u5730\u5740\u4e0d\u540c\uff0c\u56e0\u6b64\u88ab\u8c03\u51fd\u6570\u65e0\u6cd5\u76f4\u63a5\u4fee\u6539\u4e3b\u8c03\u51fd\u6570\u5b9e\u53c2\u503c(\u5bf9\u5f62\u53c2\u7684\u64cd\u4f5c\u76f8\u5f53\u4e8e\u4fee\u6539\u5b9e\u53c2\u7684\u526f\u672c)\u3002\u4e3a\u8fbe\u5230\u4fee\u6539\u76ee\u7684\uff0c\u9700\u8981\u5411\u88ab\u8c03\u51fd\u6570\u4f20\u9012\u5b9e\u53c2\u53d8\u91cf\u7684\u6307\u9488(\u5373\u53d8\u91cf\u7684\u5730\u5740)\u3002</p> <p>\u6b64\u5916\uff0c\"[locMain1,2,3] = [0, 0, 3]\"\u662f\u56e0\u4e3a\u5bf9\u56db\u5b57\u8282\u53c2\u6570locMain2\u8c03\u7528memset\u51fd\u6570\u65f6\uff0c\u4f1a\u4ece\u4f4e\u5730\u5740\u5411\u9ad8\u5730\u5740\u8fde\u7eed\u6e05\u96f68\u4e2a\u5b57\u8282\uff0c\u4ece\u800c\u8bef\u5c06\u4f4d\u4e8e\u9ad8\u5730\u5740locMain1\u6e05\u96f6\u3002</p> <p>\u6ce8\u610f\uff0c\u5c40\u90e8\u53d8\u91cf\u7684\u5e03\u5c40\u4f9d\u8d56\u4e8e\u7f16\u8bd1\u5668\u5b9e\u73b0\u7b49\u56e0\u7d20\u3002\u56e0\u6b64\uff0c\u5f53StackFrameContent\u51fd\u6570\u4e2d\u5220\u9664\u6253\u5370\u8bed\u53e5\u65f6\uff0c\u53d8\u91cflocVar3\u3001locVar2\u548clocVar1\u53ef\u80fd\u6309\u7167\u4ece\u9ad8\u5230\u4f4e\u7684\u987a\u5e8f\u4f9d\u6b21\u5b58\u50a8\uff01\u800c\u4e14\uff0c\u5c40\u90e8\u53d8\u91cf\u5e76\u4e0d\u603b\u5728\u6808\u4e2d\uff0c\u6709\u65f6\u51fa\u4e8e\u6027\u80fd(\u901f\u5ea6)\u8003\u8651\u4f1a\u5b58\u653e\u5728\u5bc4\u5b58\u5668\u4e2d\u3002\u6570\u7ec4/\u7ed3\u6784\u4f53\u578b\u7684\u5c40\u90e8\u53d8\u91cf\u901a\u5e38\u5206\u914d\u5728\u6808\u5185\u5b58\u4e2d\u3002</p> <pre><code>\u3010\u6269\u5c55\u9605\u8bfb\u3011**\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u5e03\u5c40\u65b9\u5f0f**\n\n\u4e0e\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u89c4\u5b9a\u53c2\u6570\u5982\u4f55\u4f20\u5165\u4e0d\u540c\uff0c\u5c40\u90e8\u53d8\u91cf\u4ee5\u4f55\u79cd\u65b9\u5f0f\u5e03\u5c40\u5e76\u672a\u89c4\u5b9a\u3002\u7f16\u8bd1\u5668\u8ba1\u7b97\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u6240\u9700\u8981\u7684\u7a7a\u95f4\u603b\u6570\uff0c\u5e76\u786e\u5b9a\u8fd9\u4e9b\u53d8\u91cf\u5b58\u50a8\u5728\u5bc4\u5b58\u5668\u4e0a\u8fd8\u662f\u5206\u914d\u5728\u7a0b\u5e8f\u6808\u4e0a(\u751a\u81f3\u88ab\u4f18\u5316\u6389)\u2014\u2014\u67d0\u4e9b\u5904\u7406\u5668\u5e76\u6ca1\u6709\u5806\u6808\u3002\u5c40\u90e8\u53d8\u91cf\u7684\u7a7a\u95f4\u5206\u914d\u4e0e\u4e3b\u8c03\u51fd\u6570\u548c\u88ab\u8c03\u51fd\u6570\u65e0\u5173\uff0c\u4ec5\u4ec5\u4ece\u51fd\u6570\u6e90\u4ee3\u7801\u4e0a\u65e0\u6cd5\u786e\u5b9a\u8be5\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u5206\u5e03\u60c5\u51b5\u3002\n\n\u57fa\u4e8e\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u7248\u672c(gcc3.4\u4e2d\u5c40\u90e8\u53d8\u91cf\u6309\u7167\u5b9a\u4e49\u987a\u5e8f\u4f9d\u6b21\u5165\u6808\uff0cgcc4\u53ca\u4ee5\u4e0a\u7248\u672c\u5219\u4e0d\u5b9a)\u3001\u4f18\u5316\u7ea7\u522b\u3001\u76ee\u6807\u5904\u7406\u5668\u67b6\u6784\u3001\u6808\u5b89\u5168\u6027\u7b49\uff0c\u76f8\u90bb\u5b9a\u4e49\u7684\u4e24\u4e2a\u53d8\u91cf\u5728\u5185\u5b58\u4f4d\u7f6e\u4e0a\u53ef\u80fd\u76f8\u90bb\uff0c\u4e5f\u53ef\u80fd\u4e0d\u76f8\u90bb\uff0c\u524d\u540e\u5173\u7cfb\u4e5f\u4e0d\u56fa\u5b9a\u3002\u82e5\u8981\u786e\u4fdd\u4e24\u4e2a\u5bf9\u8c61\u5728\u5185\u5b58\u4e0a\u76f8\u90bb\u4e14\u524d\u540e\u5173\u7cfb\u56fa\u5b9a\uff0c\u53ef\u4f7f\u7528\u7ed3\u6784\u4f53\u6216\u6570\u7ec4\u5b9a\u4e49\u3002\n</code></pre>"},{"location":"linux/function-call-stack-in-c/#_5","title":"\u5806\u6808\u64cd\u4f5c","text":"<p>\u51fd\u6570\u8c03\u7528\u65f6\u7684\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p>1) \u4e3b\u8c03\u51fd\u6570\u5c06\u88ab\u8c03\u51fd\u6570\u6240\u8981\u6c42\u7684\u53c2\u6570\uff0c\u6839\u636e\u76f8\u5e94\u7684\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\uff0c\u4fdd\u5b58\u5728\u8fd0\u884c\u65f6\u6808\u4e2d\u3002\u8be5\u64cd\u4f5c\u4f1a\u6539\u53d8\u7a0b\u5e8f\u7684\u6808\u6307\u9488\u3002</p> <p>\u6ce8\uff1ax86\u5e73\u53f0\u5c06\u53c2\u6570\u538b\u5165\u8c03\u7528\u6808\u4e2d\u3002\u800cx86_64\u5e73\u53f0\u5177\u670916\u4e2a\u901a\u752864\u4f4d\u5bc4\u5b58\u5668\uff0c\u6545\u8c03\u7528\u51fd\u6570\u65f6\u524d6\u4e2a\u53c2\u6570\u901a\u5e38\u7531\u5bc4\u5b58\u5668\u4f20\u9012\uff0c\u5176\u4f59\u53c2\u6570\u624d\u901a\u8fc7\u6808\u4f20\u9012\u3002</p> <p>2) \u4e3b\u8c03\u51fd\u6570\u5c06\u63a7\u5236\u6743\u79fb\u4ea4\u7ed9\u88ab\u8c03\u51fd\u6570(\u4f7f\u7528call\u6307\u4ee4)\u3002\u51fd\u6570\u7684\u8fd4\u56de\u5730\u5740(\u5f85\u6267\u884c\u7684\u4e0b\u6761\u6307\u4ee4\u5730\u5740)\u4fdd\u5b58\u5728\u7a0b\u5e8f\u6808\u4e2d(\u538b\u6808\u64cd\u4f5c\u9690\u542b\u5728call\u6307\u4ee4\u4e2d)\u3002</p> <p>3) \u82e5\u6709\u5fc5\u8981\uff0c\u88ab\u8c03\u51fd\u6570\u4f1a\u8bbe\u7f6e\u5e27\u57fa\u6307\u9488\uff0c\u5e76\u4fdd\u5b58\u88ab\u8c03\u51fd\u6570\u5e0c\u671b\u4fdd\u6301\u4e0d\u53d8\u7684\u5bc4\u5b58\u5668\u503c\u3002</p> <p>4) \u88ab\u8c03\u51fd\u6570\u901a\u8fc7\u4fee\u6539\u6808\u9876\u6307\u9488\u7684\u503c\uff0c\u4e3a\u81ea\u5df1\u7684\u5c40\u90e8\u53d8\u91cf\u5728\u8fd0\u884c\u65f6\u6808\u4e2d\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff0c\u5e76\u4ece\u5e27\u57fa\u6307\u9488\u7684\u4f4d\u7f6e\u5904\u5411\u4f4e\u5730\u5740\u65b9\u5411\u5b58\u653e\u88ab\u8c03\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u4e34\u65f6\u53d8\u91cf\u3002</p> <p>5) \u88ab\u8c03\u51fd\u6570\u6267\u884c\u81ea\u5df1\u4efb\u52a1\uff0c\u6b64\u65f6\u53ef\u80fd\u9700\u8981\u8bbf\u95ee\u7531\u4e3b\u8c03\u51fd\u6570\u4f20\u5165\u7684\u53c2\u6570\u3002\u82e5\u88ab\u8c03\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u8be5\u503c\u901a\u5e38\u4fdd\u5b58\u5728\u4e00\u4e2a\u6307\u5b9a\u5bc4\u5b58\u5668\u4e2d(\u5982EAX)\u3002</p> <p>6) \u4e00\u65e6\u88ab\u8c03\u51fd\u6570\u5b8c\u6210\u64cd\u4f5c\uff0c\u4e3a\u8be5\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u5206\u914d\u7684\u6808\u7a7a\u95f4\u5c06\u88ab\u91ca\u653e\u3002\u8fd9\u901a\u5e38\u662f\u6b65\u9aa44\u7684\u9006\u5411\u6267\u884c\u3002</p> <p>7) \u6062\u590d\u6b65\u9aa43\u4e2d\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u503c\uff0c\u5305\u542b\u4e3b\u8c03\u51fd\u6570\u7684\u5e27\u57fa\u6307\u9488\u5bc4\u5b58\u5668\u3002</p> <p>8) \u88ab\u8c03\u51fd\u6570\u5c06\u63a7\u5236\u6743\u4ea4\u8fd8\u4e3b\u8c03\u51fd\u6570(\u4f7f\u7528ret\u6307\u4ee4)\u3002\u6839\u636e\u4f7f\u7528\u7684\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\uff0c\u8be5\u64cd\u4f5c\u4e5f\u53ef\u80fd\u4ece\u7a0b\u5e8f\u6808\u4e0a\u6e05\u9664\u5148\u524d\u4f20\u5165\u7684\u53c2\u6570\u3002</p> <p>9) \u4e3b\u8c03\u51fd\u6570\u518d\u6b21\u83b7\u5f97\u63a7\u5236\u6743\u540e\uff0c\u53ef\u80fd\u9700\u8981\u5c06\u5148\u524d\u7684\u53c2\u6570\u4ece\u6808\u4e0a\u6e05\u9664\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5bf9\u6808\u7684\u4fee\u6539\u9700\u8981\u5c06\u5e27\u57fa\u6307\u9488\u503c\u6062\u590d\u5230\u6b65\u9aa41\u4e4b\u524d\u7684\u503c\u3002</p> <p>\u6b65\u9aa43\u4e0e\u6b65\u9aa44\u5728\u51fd\u6570\u8c03\u7528\u4e4b\u521d\u5e38\u4e00\u540c\u51fa\u73b0\uff0c\u7edf\u79f0\u4e3a\u51fd\u6570\u5e8f(prologue)\uff1b\u6b65\u9aa46\u5230\u6b65\u9aa48\u5728\u51fd\u6570\u8c03\u7528\u7684\u6700\u540e\u5e38\u4e00\u540c\u51fa\u73b0\uff0c\u7edf\u79f0\u4e3a\u51fd\u6570\u8dcb(epilogue)\u3002\u51fd\u6570\u5e8f\u548c\u51fd\u6570\u8dcb\u662f\u7f16\u8bd1\u5668\u81ea\u52a8\u6dfb\u52a0\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u6c47\u7f16\u4ee3\u7801\uff0c\u5176\u5b9e\u73b0\u4e0eCPU\u67b6\u6784\u548c\u7f16\u8bd1\u5668\u76f8\u5173\u3002\u9664\u6b65\u9aa45\u4ee3\u8868\u51fd\u6570\u5b9e\u4f53\u5916\uff0c\u5176\u5b83\u6240\u6709\u64cd\u4f5c\u7ec4\u6210\u51fd\u6570\u8c03\u7528\u3002</p> <p>\u4ee5\u4e0b\u4ecb\u7ecd\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u7684\u4e3b\u8981\u6307\u4ee4\u3002</p> <p>\u538b\u6808(push)\uff1a\u6808\u9876\u6307\u9488ESP\u51cf\u5c0f4\u4e2a\u5b57\u8282\uff1b\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u5c06\u5bc4\u5b58\u5668\u6570\u636e(\u56db\u5b57\u8282\uff0c\u4e0d\u8db3\u8865\u96f6)\u538b\u5165\u5806\u6808\uff0c\u4ece\u9ad8\u5230\u4f4e\u6309\u5b57\u8282\u4f9d\u6b21\u5c06\u6570\u636e\u5b58\u5165ESP-1\u3001ESP-2\u3001ESP-3\u3001ESP-4\u6307\u5411\u7684\u5730\u5740\u5355\u5143\u3002</p> <p>\u51fa\u6808(pop)\uff1a\u6808\u9876\u6307\u9488ESP\u6307\u5411\u7684\u6808\u4e2d\u6570\u636e\u88ab\u53d6\u56de\u5230\u5bc4\u5b58\u5668\uff1b\u6808\u9876\u6307\u9488ESP\u589e\u52a04\u4e2a\u5b57\u8282\u3002</p> <p></p> <p>\u53ef\u89c1\uff0c\u538b\u6808\u64cd\u4f5c\u5c06\u5bc4\u5b58\u5668\u5185\u5bb9\u5b58\u5165\u6808\u5185\u5b58\u4e2d(\u5bc4\u5b58\u5668\u539f\u5185\u5bb9\u4e0d\u53d8)\uff0c\u6808\u9876\u5730\u5740\u51cf\u5c0f\uff1b\u51fa\u6808\u64cd\u4f5c\u4ece\u6808\u5185\u5b58\u4e2d\u53d6\u56de\u5bc4\u5b58\u5668\u5185\u5bb9(\u6808\u5185\u5df2\u5b58\u6570\u636e\u4e0d\u4f1a\u81ea\u52a8\u6e05\u96f6)\uff0c\u6808\u9876\u5730\u5740\u589e\u5927\u3002\u6808\u9876\u6307\u9488ESP\u603b\u662f\u6307\u5411\u6808\u4e2d\u4e0b\u4e00\u4e2a\u53ef\u7528\u6570\u636e\u3002</p> <p>\u8c03\u7528(call)\uff1a\u5c06\u5f53\u524d\u7684\u6307\u4ee4\u6307\u9488EIP(\u8be5\u6307\u9488\u6307\u5411\u7d27\u63a5\u5728call\u6307\u4ee4\u540e\u7684\u4e0b\u6761\u6307\u4ee4)\u538b\u5165\u5806\u6808\uff0c\u4ee5\u5907\u8fd4\u56de\u65f6\u80fd\u6062\u590d\u6267\u884c\u4e0b\u6761\u6307\u4ee4\uff1b\u7136\u540e\u8bbe\u7f6eEIP\u6307\u5411\u88ab\u8c03\u51fd\u6570\u4ee3\u7801\u5f00\u59cb\u5904\uff0c\u4ee5\u8df3\u8f6c\u5230\u88ab\u8c03\u51fd\u6570\u7684\u5165\u53e3\u5730\u5740\u6267\u884c\u3002</p> <p>\u79bb\u5f00(leave)\uff1a \u6062\u590d\u4e3b\u8c03\u51fd\u6570\u7684\u6808\u5e27\u4ee5\u51c6\u5907\u8fd4\u56de\u3002\u7b49\u4ef7\u4e8e\u6307\u4ee4\u5e8f\u5217movl %ebp, %esp(\u6062\u590d\u539fESP\u503c\uff0c\u6307\u5411\u88ab\u8c03\u51fd\u6570\u6808\u5e27\u5f00\u59cb\u5904)\u548cpopl %ebp(\u6062\u590d\u539febp\u7684\u503c\uff0c\u5373\u4e3b\u8c03\u51fd\u6570\u5e27\u57fa\u6307\u9488)\u3002</p> <p>\u8fd4\u56de(ret)\uff1a\u4e0ecall\u6307\u4ee4\u914d\u5408\uff0c\u7528\u4e8e\u4ece\u51fd\u6570\u6216\u8fc7\u7a0b\u8fd4\u56de\u3002\u4ece\u6808\u9876\u5f39\u51fa\u8fd4\u56de\u5730\u5740(\u4e4b\u524dcall\u6307\u4ee4\u4fdd\u5b58\u7684\u4e0b\u6761\u6307\u4ee4\u5730\u5740)\u5230EIP\u5bc4\u5b58\u5668\u4e2d\uff0c\u7a0b\u5e8f\u8f6c\u5230\u8be5\u5730\u5740\u5904\u7ee7\u7eed\u6267\u884c(\u6b64\u65f6ESP\u6307\u5411\u8fdb\u5165\u51fd\u6570\u65f6\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570)\u3002\u82e5\u5e26\u7acb\u5373\u6570\uff0cESP\u518d\u52a0\u7acb\u5373\u6570(\u4e22\u5f03\u4e00\u4e9b\u5728\u6267\u884ccall\u524d\u5165\u6808\u7684\u53c2\u6570)\u3002\u4f7f\u7528\u8be5\u6307\u4ee4\u524d\uff0c\u5e94\u4f7f\u5f53\u524d\u6808\u9876\u6307\u9488\u6240\u6307\u5411\u4f4d\u7f6e\u7684\u5185\u5bb9\u6b63\u597d\u662f\u5148\u524dcall\u6307\u4ee4\u4fdd\u5b58\u7684\u8fd4\u56de\u5730\u5740\u3002</p> <p>\u57fa\u4e8e\u4ee5\u4e0a\u6307\u4ee4\uff0c\u4f7f\u7528C\u8c03\u7528\u7ea6\u5b9a\u7684\u88ab\u8c03\u51fd\u6570\u5178\u578b\u7684\u51fd\u6570\u5e8f\u548c\u51fd\u6570\u8dcb\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <p>\u51fd\u6570\u5e8f(prologue)</p> <p><code>push %ebp</code> \u5c06\u4e3b\u8c03\u51fd\u6570\u7684\u5e27\u57fa\u6307\u9488<code>%ebp</code>\u538b\u6808\uff0c\u5373\u4fdd\u5b58\u65e7\u6808\u5e27\u4e2d\u7684\u5e27\u57fa\u6307\u9488\u4ee5\u4fbf\u51fd\u6570\u8fd4\u56de\u65f6\u6062\u590d\u65e7\u6808\u5e27</p> <p><code>mov %esp, %ebp</code> \u5c06\u4e3b\u8c03\u51fd\u6570\u7684\u6808\u9876\u6307\u9488%esp\u8d4b\u7ed9\u88ab\u8c03\u51fd\u6570\u5e27\u57fa\u6307\u9488%ebp\u3002\u6b64\u65f6\uff0c%ebp\u6307\u5411\u88ab\u8c03\u51fd\u6570\u65b0\u6808\u5e27\u7684\u8d77\u59cb\u5730\u5740(\u6808\u5e95)\uff0c\u4ea6\u5373\u65e7%ebp\u5165\u6808\u540e\u7684\u6808\u9876|</p> <p><code>sub &lt;n&gt;, %esp</code> \u5c06\u6808\u9876\u6307\u9488%esp\u51cf\u53bb\u6307\u5b9a\u5b57\u8282\u6570(\u6808\u9876\u4e0b\u79fb)\uff0c\u5373\u4e3a\u88ab\u8c03\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u5f00\u8f9f\u6808\u7a7a\u95f4\u3002<code>&lt;n&gt;</code>\u4e3a\u7acb\u5373\u6570\u4e14\u901a\u5e38\u4e3a16\u7684\u6574\u6570\u500d(\u53ef\u80fd\u5927\u4e8e\u5c40\u90e8\u53d8\u91cf\u5b57\u8282\u603b\u6570\u800c\u7a0d\u663e\u6d6a\u8d39\uff0c\u4f46gcc\u91c7\u7528\u8be5\u89c4\u5219\u4fdd\u8bc1\u6570\u636e\u7684\u4e25\u683c\u5bf9\u9f50\u4ee5\u6709\u6548\u8fd0\u7528\u5404\u79cd\u4f18\u5316\u7f16\u8bd1\u6280\u672f)</p> <p><code>push &lt;r&gt;</code> \u53ef\u9009\u3002\u5982\u6709\u5fc5\u8981\uff0c\u88ab\u8c03\u51fd\u6570\u8d1f\u8d23\u4fdd\u5b58\u67d0\u4e9b\u5bc4\u5b58\u5668(%edi/%esi/%ebx)\u503c</p> <p>\u51fd\u6570\u8dcb(epilogue)</p> <p><code>pop &lt;r&gt;</code> \u53ef\u9009\u3002\u5982\u6709\u5fc5\u8981\uff0c\u88ab\u8c03\u51fd\u6570\u8d1f\u8d23\u6062\u590d\u67d0\u4e9b\u5bc4\u5b58\u5668(%edi/%esi/%ebx)\u503c mov %ebp, %esp \u6062\u590d\u4e3b\u8c03\u51fd\u6570\u7684\u6808\u9876\u6307\u9488%esp\uff0c\u5c06\u5176\u6307\u5411\u88ab\u8c03\u51fd\u6570\u6808\u5e95\u3002\u6b64\u65f6\uff0c\u5c40\u90e8\u53d8\u91cf\u5360\u7528\u7684\u6808\u7a7a\u95f4\u88ab\u91ca\u653e\uff0c\u4f46\u53d8\u91cf\u5185\u5bb9\u672a\u88ab\u6e05\u9664(\u8df3\u8fc7\u8be5\u5904\u7406) pop %ebp \u4e3b\u8c03\u51fd\u6570\u7684\u5e27\u57fa\u6307\u9488%ebp\u51fa\u6808\uff0c\u5373\u6062\u590d\u4e3b\u8c03\u51fd\u6570\u6808\u5e95\u3002\u6b64\u65f6\uff0c\u6808\u9876\u6307\u9488%esp\u6307\u5411\u4e3b\u8c03\u51fd\u6570\u6808\u9876(esp\u00dfesp-4)\uff0c\u4ea6\u5373\u8fd4\u56de\u5730\u5740\u5b58\u653e\u5904 ret \u4ece\u6808\u9876\u5f39\u51fa\u4e3b\u8c03\u51fd\u6570\u538b\u5728\u6808\u4e2d\u7684\u8fd4\u56de\u5730\u5740\u5230\u6307\u4ee4\u6307\u9488\u5bc4\u5b58\u5668%eip\u4e2d\uff0c\u8df3\u56de\u4e3b\u8c03\u51fd\u6570\u8be5\u4f4d\u7f6e\u5904\u7ee7\u7eed\u6267\u884c\u3002\u518d\u7531\u4e3b\u8c03\u51fd\u6570\u6062\u590d\u5230\u8c03\u7528\u524d\u7684\u6808</p> <p>\u8fd9\u4e24\u6761\u6307\u4ee4\u5e8f\u5217\u4e5f\u53ef\u7531leave\u6307\u4ee4\u5b9e\u73b0\uff0c\u5177\u4f53\u7528\u54ea\u79cd\u65b9\u5f0f\u7531\u7f16\u8bd1\u5668\u51b3\u5b9a\u3002</p> <p>\u82e5\u4e3b\u8c03\u51fd\u6570\u548c\u8c03\u51fd\u6570\u5747\u672a\u4f7f\u7528\u5c40\u90e8\u53d8\u91cf\u5bc4\u5b58\u5668EDI\u3001ESI\u548cEBX\uff0c\u5219\u7f16\u8bd1\u5668\u65e0\u987b\u5728\u51fd\u6570\u5e8f\u4e2d\u5bf9\u5176\u538b\u6808\uff0c\u4ee5\u4fbf\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\u3002</p> <p>\u53c2\u6570\u538b\u6808\u6307\u4ee4\u56e0\u7f16\u8bd1\u5668\u800c\u5f02\uff0c\u5982\u4e0b\u4e24\u79cd\u538b\u6808\u65b9\u5f0f\u57fa\u672c\u7b49\u6548\uff1a</p> <p>extern CdeclDemo(int w, int x, int y, intz);  //\u8c03\u7528CdeclDemo\u51fd\u6570</p> <p>CdeclDemo(1, 2, 3, 4);  //\u8c03\u7528CdeclDemo\u51fd\u6570</p> <p>\u538b\u6808\u65b9\u5f0f\u4e00 pushl 4\u00a0 //\u538b\u5165\u53c2\u6570z</p> <p>pushl 3\u00a0 //\u538b\u5165\u53c2\u6570y</p> <p>pushl 2\u00a0 //\u538b\u5165\u53c2\u6570x</p> <p>pushl 1\u00a0 //\u538b\u5165\u53c2\u6570w</p> <p>call CdeclDemo \u00a0//\u8c03\u7528\u51fd\u6570</p> <p>addl $16, %esp\u00a0 //\u6062\u590dESP\u539f\u503c\uff0c\u4f7f\u5176\u6307\u5411\u8c03\u7528\u524d\u4fdd\u5b58\u7684\u8fd4\u56de\u5730\u5740</p> <p>\u538b\u6808\u65b9\u5f0f\u4e8c</p> <p>subl\u00a0\u00a0 $16, %esp\u00a0//\u591a\u6b21\u8c03\u7528\u4ec5\u6267\u884c\u4e00\u904d</p> <p>movl\u00a0 $4, 12(%esp) //\u4f20\u9001\u53c2\u6570z\u81f3\u5806\u6808\u7b2c\u56db\u4e2a\u4f4d\u7f6e</p> <p>movl\u00a0 $3, 8(%esp) //\u4f20\u9001\u53c2\u6570y\u81f3\u5806\u6808\u7b2c\u4e09\u4e2a\u4f4d\u7f6e</p> <p>movl\u00a0 $2, 4(%esp) //\u4f20\u9001\u53c2\u6570x\u81f3\u5806\u6808\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e</p> <p>movl\u00a0 $1, (%esp) //\u4f20\u9001\u53c2\u6570w\u81f3\u5806\u6808\u6808\u9876</p> <p>call CdeclDemo \u00a0//\u8c03\u7528\u51fd\u6570</p> <p>\u4e24\u79cd\u538b\u6808\u65b9\u5f0f\u5747\u9075\u5faaC\u8c03\u7528\u7ea6\u5b9a\uff0c\u4f46\u65b9\u5f0f\u4e8c\u4e2d\u4e3b\u8c03\u51fd\u6570\u5728\u8c03\u7528\u8fd4\u56de\u540e\u5e76\u672a\u663e\u5f0f\u6e05\u7406\u5806\u6808\u7a7a\u95f4\u3002\u56e0\u4e3a\u5728\u88ab\u8c03\u51fd\u6570\u5e8f\u9636\u6bb5\uff0c\u7f16\u8bd1\u5668\u5728\u6808\u9876\u4e3a\u51fd\u6570\u53c2\u6570\u9884\u5148\u5206\u914d\u5185\u5b58\u7a7a\u95f4(sub\u6307\u4ee4)\u3002\u51fd\u6570\u53c2\u6570\u88ab\u590d\u5236\u5230\u6808\u4e2d(\u800c\u975e\u538b\u5165\u6808\u4e2d)\uff0c\u5e76\u672a\u4fee\u6539\u6808\u9876\u6307\u9488\uff0c\u6545\u8c03\u7528\u8fd4\u56de\u65f6\u4e3b\u8c03\u51fd\u6570\u4e5f\u65e0\u9700\u4fee\u6539\u6808\u9876\u6307\u9488\u3002gcc3.4(\u6216\u66f4\u9ad8\u7248\u672c)\u7f16\u8bd1\u5668\u91c7\u7528\u8be5\u6280\u672f\u5c06\u51fd\u6570\u53c2\u6570\u4f20\u9012\u81f3\u6808\u4e0a\uff0c\u76f8\u6bd4\u6808\u9876\u6307\u9488\u968f\u6bcf\u6b21\u53c2\u6570\u538b\u6808\u800c\u591a\u6b21\u4e0b\u79fb\uff0c\u4e00\u6b21\u6027\u8bbe\u7f6e\u597d\u6808\u9876\u6307\u9488\u66f4\u4e3a\u9ad8\u6548\u3002\u8bbe\u60f3\u8fde\u7eed\u8c03\u7528\u591a\u4e2a\u51fd\u6570\u65f6\uff0c\u65b9\u5f0f\u4e8c\u4ec5\u9700\u9884\u5148\u5206\u914d\u4e00\u6b21\u53c2\u6570\u5185\u5b58(\u5927\u5c0f\u8db3\u591f\u5bb9\u7eb3\u53c2\u6570\u5c3a\u5bf8\u548c\u6700\u5927\u7684\u51fd\u6570\u5373\u53ef)\uff0c\u540e\u7eed\u8c03\u7528\u65e0\u9700\u6bcf\u6b21\u90fd\u6062\u590d\u6808\u9876\u6307\u9488\u3002\u6ce8\u610f\uff0c\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u4e24\u79cd\u65b9\u5f0f\u5747\u4f7f\u6808\u9876\u6307\u9488\u6307\u5411\u51fd\u6570\u6700\u5de6\u8fb9\u7684\u53c2\u6570\u3002\u672c\u6587\u4e0d\u518d\u533a\u5206\u4e24\u79cd\u538b\u6808\u65b9\u5f0f\uff0c\"\u538b\u6808\"\u6216\"\u5165\u6808\"\u6240\u63d0\u4e4b\u5904\u5747\u6309\u76f8\u5e94\u6c47\u7f16\u4ee3\u7801\u7406\u89e3\uff0c\u82e5\u65e0\u6c47\u7f16\u5219\u6307\u65b9\u5f0f\u4e8c\u3002</p> <p>\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7f16\u8bd1\u5668\u751f\u6210\u7684\u51fd\u6570\u8c03\u7528\u8fdb\u5165/\u9000\u51fa\u6307\u4ee4\u5e8f\u5217\u5e76\u4e0d\u6309\u7167\u4ee5\u4e0a\u65b9\u5f0f\u8fdb\u884c\u3002\u4f8b\u5982\uff0c\u82e5C\u51fd\u6570\u58f0\u660e\u4e3astatic(\u53ea\u5728\u672c\u7f16\u8bd1\u5355\u5143\u5185\u53ef\u89c1)\u4e14\u51fd\u6570\u5728\u7f16\u8bd1\u5355\u5143\u5185\u88ab\u76f4\u63a5\u8c03\u7528\uff0c\u672a\u88ab\u663e\u793a\u6216\u9690\u5f0f\u53d6\u5730\u5740(\u5373\u6ca1\u6709\u4efb\u4f55\u51fd\u6570\u6307\u9488\u6307\u5411\u8be5\u51fd\u6570)\uff0c\u6b64\u65f6\u7f16\u8bd1\u5668\u786e\u4fe1\u8be5\u51fd\u6570\u4e0d\u4f1a\u88ab\u5176\u5b83\u7f16\u8bd1\u5355\u5143\u8c03\u7528\uff0c\u56e0\u6b64\u53ef\u968f\u610f\u4fee\u6539\u5176\u8fdb/\u51fa\u6307\u4ee4\u5e8f\u5217\u4ee5\u8fbe\u5230\u4f18\u5316\u76ee\u7684\u3002</p> <p>\u5c3d\u7ba1\u4f7f\u7528\u7684\u5bc4\u5b58\u5668\u540d\u5b57\u548c\u6307\u4ee4\u5728\u4e0d\u540c\u5904\u7406\u5668\u67b6\u6784\u4e0a\u6709\u6240\u4e0d\u540c\uff0c\u4f46\u521b\u5efa\u6808\u5e27\u7684\u57fa\u672c\u8fc7\u7a0b\u4e00\u81f4\u3002</p> <p>\u6ce8\u610f\uff0c\u6808\u5e27\u662f\u8fd0\u884c\u65f6\u6982\u5ff5\uff0c\u82e5\u7a0b\u5e8f\u4e0d\u8fd0\u884c\uff0c\u5c31\u4e0d\u5b58\u5728\u6808\u548c\u6808\u5e27\u3002\u4f46\u901a\u8fc7\u5206\u6790\u76ee\u6807\u6587\u4ef6\u4e2d\u5efa\u7acb\u51fd\u6570\u6808\u5e27\u7684\u6c47\u7f16\u4ee3\u7801(\u5c24\u5176\u662f\u51fd\u6570\u5e8f\u548c\u51fd\u6570\u8dcb\u8fc7\u7a0b)\uff0c\u5373\u4f7f\u51fd\u6570\u6ca1\u6709\u8fd0\u884c\uff0c\u4e5f\u80fd\u4e86\u89e3\u51fd\u6570\u7684\u6808\u5e27\u7ed3\u6784\u3002\u901a\u8fc7\u5206\u6790\u53ef\u786e\u5b9a\u5206\u914d\u5728\u51fd\u6570\u6808\u5e27\u4e0a\u7684\u5c40\u90e8\u53d8\u91cf\u7a7a\u95f4\u51c6\u786e\u503c\uff0c\u51fd\u6570\u4e2d\u662f\u5426\u4f7f\u7528\u5e27\u57fa\u6307\u9488\uff0c\u4ee5\u53ca\u8bc6\u522b\u51fd\u6570\u6808\u5e27\u4e2d\u5bf9\u53d8\u91cf\u7684\u6240\u6709\u5185\u5b58\u5f15\u7528\u3002</p> <p>\u7a0b\u5e8f\u5bc4\u5b58\u5668\u7ec4\u662f\u552f\u4e00\u80fd\u88ab\u6240\u6709\u51fd\u6570\u5171\u4eab\u7684\u8d44\u6e90\u3002\u867d\u7136\u67d0\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u51fd\u6570\u5728\u6267\u884c\uff0c\u4f46\u9700\u4fdd\u8bc1\u5f53\u67d0\u4e2a\u51fd\u6570\u8c03\u7528\u5176\u4ed6\u51fd\u6570\u65f6\uff0c\u88ab\u8c03\u51fd\u6570\u4e0d\u4f1a\u4fee\u6539\u6216\u8986\u76d6\u4e3b\u8c03\u51fd\u6570\u7a0d\u540e\u4f1a\u4f7f\u7528\u5230\u7684\u5bc4\u5b58\u5668\u503c\u3002\u56e0\u6b64\uff0cIA32\u91c7\u7528\u4e00\u5957\u7edf\u4e00\u7684\u5bc4\u5b58\u5668\u4f7f\u7528\u7ea6\u5b9a\uff0c\u6240\u6709\u51fd\u6570(\u5305\u62ec\u5e93\u51fd\u6570)\u8c03\u7528\u90fd\u5fc5\u987b\u9075\u5b88\u8be5\u7ea6\u5b9a\u3002 \u5bc4\u5b58\u5668 %eax\u3001%edx\u3001%ecx \u4e3a\u4e3b\u8c03\u51fd\u6570\u4fdd\u5b58\u5bc4\u5b58\u5668(caller-saved registers)\uff0c\u5f53\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u82e5\u4e3b\u8c03\u51fd\u6570\u5e0c\u671b\u4fdd\u6301\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u5219\u5fc5\u987b\u5728\u8c03\u7528\u524d\u663e\u5f0f\u5730\u5c06\u5176\u4fdd\u5b58\u5728\u6808\u4e2d\uff1b\u88ab\u8c03\u51fd\u6570\u53ef\u4ee5\u8986\u76d6\u8fd9\u4e9b\u5bc4\u5b58\u5668\uff0c\u800c\u4e0d\u4f1a\u7834\u574f\u4e3b\u8c03\u51fd\u6570\u6240\u9700\u7684\u6570\u636e\u3002 \u5bc4\u5b58\u5668%ebx\u3001%esi\u548c%edi\u4e3a\u88ab\u8c03\u51fd\u6570\u4fdd\u5b58\u5bc4\u5b58\u5668(callee-saved registers)\uff0c\u5373\u88ab\u8c03\u51fd\u6570\u5728\u8986\u76d6\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\u65f6\uff0c\u5fc5\u987b\u5148\u5c06\u5bc4\u5b58\u5668\u539f\u503c\u538b\u5165\u6808\u4e2d\u4fdd\u5b58\u8d77\u6765\uff0c\u5e76\u5728\u51fd\u6570\u8fd4\u56de\u524d\u4ece\u6808\u4e2d\u6062\u590d\u5176\u539f\u503c\uff0c\u56e0\u4e3a\u4e3b\u8c03\u51fd\u6570\u53ef\u80fd\u4e5f\u5728\u4f7f\u7528\u8fd9\u4e9b\u5bc4\u5b58 \u5728x86\u5904\u7406\u5668\u4e2d\uff0cEIP(Instruction Pointer)\u662f\u6307\u4ee4\u5bc4\u5b58\u5668\uff0c\u6307\u5411\u5904\u7406\u5668\u4e0b\u6761\u7b49\u5f85\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740(\u4ee3\u7801\u6bb5\u5185\u7684\u504f\u79fb\u91cf)\uff0c\u6bcf\u6b21\u6267\u884c\u5b8c\u76f8\u5e94\u6c47\u7f16\u6307\u4ee4EIP\u503c\u5c31\u4f1a\u589e\u52a0\u3002 ESP(Stack Pointer)\u662f\u5806\u6808\u6307\u9488\u5bc4\u5b58\u5668\uff0c\u5b58\u653e\u6267\u884c\u51fd\u6570\u5bf9\u5e94\u6808\u5e27\u7684\u6808\u9876\u5730\u5740(\u4e5f\u662f\u7cfb\u7edf\u6808\u7684\u9876\u90e8)\uff0c\u4e14\u59cb\u7ec8\u6307\u5411\u6808\u9876\uff1b EBP(Base Pointer)\u662f\u6808\u5e27\u57fa\u5740\u6307\u9488\u5bc4\u5b58\u5668\uff0c\u5b58\u653e\u6267\u884c\u51fd\u6570\u5bf9\u5e94\u6808\u5e27\u7684\u6808\u5e95\u5730\u5740\uff0c\u7528\u4e8eC\u8fd0\u884c\u5e93\u8bbf\u95ee\u6808\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u53c2\u6570\u3002</p>"},{"location":"linux/function-call-stack-in-c/#_6","title":"\u51fd\u6570\u8c03\u7528\u6808\u8fc7\u7a0b\u5206\u6790","text":"<p>\u51fd\u6570\u5728\u8c03\u7528\u7684\u65f6\u5019\u90fd\u662f\u5728\u6808\u7a7a\u95f4\u4e0a\u5f00\u8f9f\u4e00\u6bb5\u7a7a\u95f4\u4ee5\u4f9b\u51fd\u6570\u4f7f\u7528\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u901a\u7528\u6808\u5e27\u7684\u7ed3\u6784\u3002  \u5982\u56fe\u6240\u793a\uff0c\u6808\u662f\u7531\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u7684\u65b9\u5411\u751f\u957f\u7684\uff0c\u800c\u4e14\u6808\u6709\u5176\u6808\u9876\u548c\u6808\u5e95\uff0c\u5165\u6808\u51fa\u6808\u7684\u5730\u65b9\u5c31\u53eb\u505a\u6808\u9876\u3002</p> <p>\u5728x86\u7cfb\u7edf\u7684CPU\u4e2d\uff0crsp\u662f\u6808\u6307\u9488\u5bc4\u5b58\u5668\uff0c\u8fd9\u4e2a\u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u7740\u6808\u9876\u7684\u5730\u5740\u3002rbp\u4e2d\u5b58\u50a8\u7740\u6808\u5e95\u7684\u5730\u5740\u3002\u51fd\u6570\u6808\u7a7a\u95f4\u4e3b\u8981\u662f\u7531\u8fd9\u4e24\u4e2a\u5bc4\u5b58\u5668\u6765\u786e\u5b9a\u7684\u3002</p> <p>\u5f53\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u6808\u6307\u9488rsp\u53ef\u4ee5\u79fb\u52a8\uff0c\u6808\u6307\u9488\u548c\u5e27\u6307\u9488rbp\u4e00\u6b21\u53ea\u80fd\u5b58\u50a8\u4e00\u4e2a\u5730\u5740\uff0c\u6240\u4ee5\uff0c\u4efb\u4f55\u65f6\u5019\uff0c\u8fd9\u4e00\u5bf9\u6307\u9488\u6307\u5411\u7684\u662f\u540c\u4e00\u4e2a\u51fd\u6570\u7684\u6808\u5e27\u7ed3\u6784\u3002</p> <p>\u800c\u5e27\u6307\u9488rbp\u662f\u4e0d\u79fb\u52a8\u7684\uff0c\u8bbf\u95ee\u6808\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u7528-4(%rbp\uff09\u6216\u80058(%rbp)\u8bbf\u95ee%rbp\u6307\u9488\u4e0b\u9762\u6216\u8005\u4e0a\u9762\u7684\u5143\u7d20\u3002</p> <p>\u5728\u660e\u767d\u4e86\u8fd9\u4e9b\u4e4b\u540e\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\uff1a</p> <p><pre><code>#include\u00a0&lt;stdio.h&gt;  \n\nint\u00a0sum\u00a0(int\u00a0a,int\u00a0b)  {\n    int\u00a0c\u00a0=\u00a0a\u00a0+\u00a0b;  \n    return\u00a0c;  \n}  \n\nint\u00a0main()  {\n     int\u00a0x\u00a0=\u00a05,y\u00a0=\u00a010,z\u00a0=\u00a0;  \n     z\u00a0=\u00a0sum(x,y);  \n    \u00a0printf(\"%d\\r\\n\",z);  \n    \u00a0return\u00a0;  \n}\n</code></pre> \u53cd\u6c47\u7f16\u5982\u4e0b\uff0c\u4e0b\u9762\u6211\u4eec\u5c31\u5bf9\u7167\u6c47\u7f16\u4ee3\u7801\u4e00\u6b65\u4e00\u6b65\u5206\u6790\u4e0b\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u6808\u7684\u53d8\u5316\u3002 <pre><code>0000000000000000\u00a0&lt;sum&gt;:  \n\u00a0\u00a0\u00a0:\u00a055\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0push\u00a0\u00a0\u00a0%rbp\u00a0  \n\u00a0\u00a0\u00a01:\u00a048\u00a089\u00a0e5\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%rsp,%rbp  \n\u00a0\u00a0\u00a04:\u00a089\u00a07d\u00a0ec\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%edi,-x14(%rbp)\u00a0#\u00a0\u53c2\u6570\u4f20\u9012  \n\u00a0\u00a0\u00a07:\u00a089\u00a075\u00a0e8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%esi,-x18(%rbp)\u00a0#\u00a0\u53c2\u6570\u4f20\u9012  \n\u00a0\u00a0\u00a0a:\u00a08b\u00a055\u00a0ec\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0-x14(%rbp),%edx  \n\u00a0\u00a0\u00a0d:\u00a08b\u00a045\u00a0e8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0-x18(%rbp),%eax  \n\u00a0\u00a010:\u00a001\u00a0d0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0add\u00a0\u00a0\u00a0\u00a0%edx,%eax\u00a0  \n\u00a0\u00a012:\u00a089\u00a045\u00a0fc\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%eax,-x4(%rbp)\u00a0#\u00a0\u5c40\u90e8\u53d8\u91cf  \n\u00a0\u00a015:\u00a08b\u00a045\u00a0fc\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0-x4(%rbp),%eax\u00a0#\u00a0\u5b58\u50a8\u7ed3\u679c  \n\u00a0\u00a018:\u00a05d\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pop\u00a0\u00a0\u00a0\u00a0%rbp  \n\u00a0\u00a019:\u00a0c3\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0retq\u00a0\u00a0\u00a0  \n\n000000000000001a\u00a0&lt;main&gt;:  \n\u00a0\u00a01a:\u00a055\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0push\u00a0\u00a0\u00a0%rbp\u00a0#\u00a0\u4fdd\u5b58%rbp\u3002rbp\uff0c\u6808\u5e95\u7684\u5730\u5740  \n\u00a0\u00a01b:\u00a048\u00a089\u00a0e5\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%rsp,%rbp\u00a0#\u00a0\u8bbe\u7f6e\u65b0\u7684\u6808\u6307\u9488\u3002rsp \u6808\u6307\u9488\uff0c\u6307\u5411\u6808\u9876\u7684\u5730\u5740  \n\u00a0\u00a01e:\u00a048\u00a083\u00a0ec\u00a010\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sub\u00a0\u00a0\u00a0\u00a0$x10,%rsp\u00a0#\u00a0\u5206\u914d 16\u5b57\u8282\u6808\u7a7a\u95f4\u3002%rsp =\u00a0%rsp-16  \n\u00a0\u00a022:\u00a0c7\u00a045\u00a0f4\u00a005\u00a000\u00a000\u00a000\u00a0\u00a0movl\u00a0\u00a0\u00a0$x5,-xc(%rbp)\u00a0#\u00a0\u8d4b\u503c  \n\u00a0\u00a029:\u00a0c7\u00a045\u00a0f8\u00a0a\u00a000\u00a000\u00a000\u00a0\u00a0movl\u00a0\u00a0\u00a0$xa,-x8(%rbp)\u00a0#\u00a0\u8d4b\u503c  \n\u00a0\u00a030:\u00a0c7\u00a045\u00a0fc\u00a000\u00a000\u00a000\u00a000\u00a0\u00a0movl\u00a0\u00a0\u00a0$x0,-x4(%rbp)\u00a0#\u00a0\u8d4b\u503c  \n\u00a0\u00a037:\u00a08b\u00a055\u00a0f8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0-x8(%rbp),%edx\u00a0\u00a0  \n\u00a0\u00a03a:\u00a08b\u00a045\u00a0f4\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0-xc(%rbp),%eax\u00a0  \n\u00a0\u00a03d:\u00a089\u00a0d6\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%edx,%esi\u00a0#\u00a0\u53c2\u6570\u4f20\u9012\u00a0\uff0c\u4ece\u53f3\u5411\u5de6  \n\u00a0\u00a03f:\u00a089\u00a0c7\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%eax,%edi\u00a0#\u00a0\u53c2\u6570\u4f20\u9012  \n\u00a0\u00a041:\u00a0e8\u00a000\u00a000\u00a000\u00a000\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0callq\u00a0\u00a046\u00a0&lt;main+x2c&gt;\u00a0#\u00a0\u8c03\u7528sum  \n\u00a0\u00a046:\u00a089\u00a045\u00a0fc\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%eax,-x4(%rbp)\u00a0  \n\u00a0\u00a049:\u00a08b\u00a045\u00a0fc\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0-x4(%rbp),%eax\u00a0#\u00a0\u5b58\u50a8\u8ba1\u7b97\u7ed3\u679c  \n\u00a0\u00a04c:\u00a089\u00a0c6\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0%eax,%esi  \n\u00a0\u00a04e:\u00a048\u00a08d\u00a03d\u00a000\u00a000\u00a000\u00a000\u00a0\u00a0lea\u00a0\u00a0\u00a0\u00a0x0(%rip),%rdi\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0#\u00a055\u00a0&lt;main+x3b&gt;  \n\u00a0\u00a055:\u00a0b8\u00a000\u00a000\u00a000\u00a000\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0$x0,%eax  \n\u00a0\u00a05a:\u00a0e8\u00a000\u00a000\u00a000\u00a000\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0callq\u00a0\u00a05f\u00a0&lt;main+x45&gt;  \n\u00a0\u00a05f:\u00a0b8\u00a000\u00a000\u00a000\u00a000\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0$x0,%eax\u00a0  \n\u00a0\u00a064:\u00a0c9\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0leaveq\u00a0  \n\u00a0\u00a065:\u00a0c3\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0retq\n</code></pre> \u5728\u51fd\u6570\u88ab\u8c03\u7528\u4e4b\u524d\uff0c\u8c03\u7528\u8005\u4f1a\u4e3a\u8c03\u7528\u51fd\u6570\u505a\u51c6\u5907\u3002\u9996\u5148\uff0c\u51fd\u6570\u6808\u4e0a\u5f00\u8f9f\u4e8616\u5b57\u8282\u7684\u7a7a\u95f4\uff0c\u5b58\u50a8\u5b9a\u4e49\u76843\u4e2aint\u578b\u53d8\u91cf\uff0c\u5efa\u7acb\u4e86main\u51fd\u6570\u7684\u6808\u3002  \u63a5\u7740\uff0c\u4f1a\u7ed9\u4e09\u4e2a\u53d8\u91cf\u8fdb\u884c\u8d4b\u503c\u3002  \u4ee5\u4e0b4\u884c\u4ee3\u7801\u662f\u8fdb\u884c\u53c2\u6570\u4f20\u9012\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u662f\u51fd\u6570\u53c2\u6570\u662f\u5012\u5e8f\u4f20\u5165\u7684\uff1a\u5148\u4f20\u5165\u7b2cN\u4e2a\u53c2\u6570\uff0c\u518d\u4f20\u5165\u7b2cN-1\u4e2a\u53c2\u6570\uff08CDECL\u7ea6\u5b9a\uff09\u3002 <pre><code>mov\u00a0\u00a0\u00a0\u00a0-0x8(%rbp),%edx\u00a0\u00a0  \nmov\u00a0\u00a0\u00a0\u00a0-0xc(%rbp),%eax\u00a0  \nmov\u00a0\u00a0\u00a0\u00a0%edx,%esi\u00a0#\u00a0\u53c2\u6570\u4f20\u9012\u00a0\uff0c\u4ece\u53f3\u5411\u5de6  \nmov\u00a0\u00a0\u00a0\u00a0%eax,%edi\u00a0#\u00a0\u53c2\u6570\u4f20\u9012\n</code></pre> \u540e\uff0c\u4f1a\u6267\u884c\u5230call\u6307\u4ee4\u5904\uff0c\u8c03\u7528sum\u51fd\u6570\u3002</p> <p><pre><code>callq\u00a0\u00a046\u00a0&lt;main+0x2c&gt;\u00a0#\u00a0\u8c03\u7528sum \n</code></pre> \u8fdb\u5165sum\u51fd\u6570\u540e\uff0c\u6211\u4eec\u770b\u5230\u51fd\u6570\u7684\u524d\u4e24\u884c\uff1a <pre><code>push\u00a0\u00a0\u00a0%rbp\u00a0  \nmov\u00a0\u00a0\u00a0\u00a0%rsp,%rbp\n</code></pre> \u8fd9\u4e24\u6761\u6c47\u7f16\u6307\u4ee4\u7684\u542b\u4e49\u662f\uff1a\u9996\u5148\u5c06rbp\u5bc4\u5b58\u5668\u5165\u6808\uff0c\u7136\u540e\u5c06\u6808\u9876\u6307\u9488rsp\u8d4b\u503c\u7ed9rbp\u3002</p> <p>\u201cmov rbp rsp\u201d\u8fd9\u6761\u6307\u4ee4\u8868\u9762\u4e0a\u770b\u662f\u7528rsp\u8986\u76d6rbp\u539f\u6765\u7684\u503c\uff0c\u5176\u5b9e\u4e0d\u7136\u3002</p> <p>\u56e0\u4e3a\u7ed9rbp\u8d4b\u503c\u4e4b\u524d\uff0c\u539frbp\u503c\u5df2\u7ecf\u88ab\u538b\u6808\uff08\u4f4d\u4e8e\u6808\u9876\uff09\uff0c\u800c\u65b0\u7684rbp\u53c8\u6070\u6070\u6307\u5411\u6808\u9876\u3002\u6b64\u65f6rbp\u5bc4\u5b58\u5668\u5c31\u5df2\u7ecf\u5904\u4e8e\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u5730\u4f4d\u3002</p> <p>\u8be5\u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u7740\u6808\u4e2d\u7684\u4e00\u4e2a\u5730\u5740\uff08\u539frbp\u5165\u6808\u540e\u7684\u6808\u9876\uff09\uff0c\u4ece\u8be5\u5730\u5740\u4e3a\u57fa\u51c6\uff0c\u5411\u4e0a\uff08\u6808\u5e95\u65b9\u5411\uff09\u80fd\u83b7\u53d6\u8fd4\u56de\u5730\u5740\u3001\u53c2\u6570\u503c\uff0c\u5411\u4e0b\uff08\u6808\u9876\u65b9\u5411\uff09\u80fd\u83b7\u53d6\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u503c\uff0c\u800c\u8be5\u5730\u5740\u5904\u53c8\u5b58\u50a8\u7740\u4e0a\u4e00\u5c42\u51fd\u6570\u8c03\u7528\u65f6\u7684rbp\u503c\u3002</p> <p>\u4e00\u822c\u800c\u8a00\uff0c%rbp+4\u5904\u4e3a\u8fd4\u56de\u5730\u5740\uff0c%rbp+8\u5904\u4e3a\u4e2a\u53c2\u6570\u503c\uff08\u540e\u4e00\u4e2a\u5165\u6808\u7684\u53c2\u6570\u503c\uff0c\u6b64\u5904\u5047\u8bbe\u5176\u5360\u75284\u5b57\u8282\u5185\u5b58\uff09\uff0c%rbp-4\u5904\u4e3a\u4e2a\u5c40\u90e8\u53d8\u91cf\uff0c%rbp\u5904\u4e3a\u4e0a\u4e00\u5c42rbp\u503c\u3002  \u7531\u4e8erbp\u4e2d\u7684\u5730\u5740\u5904\u603b\u662f\u201c\u4e0a\u4e00\u5c42\u51fd\u6570\u8c03\u7528\u65f6\u7684rbp\u503c\u201d\uff0c\u800c\u5728\u6bcf\u4e00\u5c42\u51fd\u6570\u8c03\u7528\u4e2d\uff0c\u90fd\u80fd\u901a\u8fc7\u5f53\u65f6\u7684%rbp\u503c\u201c\u5411\u4e0a\uff08\u6808\u5e95\u65b9\u5411\uff09\u201d\u80fd\u83b7\u53d6\u8fd4\u56de\u5730\u5740\u3001\u53c2\u6570\u503c\uff0c\u201c\u5411\u4e0b\uff08\u6808\u9876\u65b9\u5411\uff09\u201d\u80fd\u83b7\u53d6\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u503c\u3002</p> <p>\u7d27\u63a5\u7740\u6267\u884c\u7684\u56db\u6761\u6307\u4ee4\u3002 <pre><code>mov\u00a0\u00a0\u00a0\u00a0%edi,-0x14(%rbp)\u00a0#\u00a0\u53c2\u6570\u4f20\u9012  \nmov\u00a0\u00a0\u00a0\u00a0%esi,-0x18(%rbp)\u00a0#\u00a0\u53c2\u6570\u4f20\u9012  \nmov\u00a0\u00a0\u00a0\u00a0-0x14(%rbp),%edx  \nmov\u00a0\u00a0\u00a0\u00a0-0x18(%rbp),%eax  \nadd\u00a0\u00a0\u00a0\u00a0%edx,%eax  \nmov\u00a0\u00a0\u00a0\u00a0%eax,-0x4(%rbp)\n</code></pre> \u4e0a\u8ff0\u6307\u4ee4\u901a\u8fc7rbp\u52a0\u504f\u79fb\u91cf\u7684\u65b9\u5f0f\u5c06main\u4f20\u9012\u7ed9sum\u7684\u4e24\u4e2a\u53c2\u6570\u4fdd\u5b58\u5728\u5f53\u524d\u6808\u5e27\u7684\u5408\u9002\u4f4d\u7f6e\uff0c\u7136\u540e\u53c8\u53d6\u51fa\u6765\u653e\u5165\u5bc4\u5b58\u5668\uff0c\u770b\u7740\u6709\u70b9\u513f\u591a\u6b64\u4e00\u4e3e\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728\u7f16\u8bd1\u65f6\u672a\u7ed9gcc\u6307\u5b9a\u4f18\u5316\u7ea7\u522b\uff0c\u800cgcc\u7f16\u8bd1\u7a0b\u5e8f\u65f6\uff0c\u9ed8\u8ba4\u4e0d\u505a\u4efb\u4f55\u4f18\u5316\uff0c\u6240\u4ee5\u770b\u8d77\u6765\u6bd4\u8f83\u5570\u55e6\u3002</p> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0csum\u7684\u4e24\u4e2a\u53c2\u6570\u548c\u8fd4\u56de\u503c\u90fd\u662fint\uff0c\u5728\u5185\u5b58\u4e2d\u53ea\u53604\u4e2a\u5b57\u8282\uff0c\u800c\u56fe\u4e2d\u6bcf\u4e2a\u6808\u5185\u5b58\u5355\u5143\u63098\u5b57\u8282\u5730\u5740\u8fb9\u754c\u8fdb\u884c\u4e86\u5bf9\u9f50\uff0c\u6240\u4ee5\u624d\u662f\u4e0b\u56fe\u4e2d\u8fd9\u4e2a\u6837\u5b50\u3002</p> <p></p> <p>\u518d\u6765\u770b\u7d27\u63a5\u7740\u7684\u4e09\u6761\u6307\u4ee4\u3002</p> <p><pre><code>add\u00a0\u00a0\u00a0\u00a0%edx,%eax\u00a0mov\u00a0\u00a0\u00a0\u00a0%eax,-0x4(%rbp)\u00a0#\u00a0\u5c40\u90e8\u53d8\u91cfmov\u00a0\u00a0\u00a0\u00a0-0x4(%rbp),%eax\u00a0#\u00a0\u5b58\u50a8\u7ed3\u679c\n</code></pre> \u4e0a\u8ff0\u6761\u6307\u4ee4\u8d1f\u8d23\u6267\u884c\u52a0\u6cd5\u8fd0\u7b97\u5e76\u5c06\u5e76\u5c06\u7ed3\u679c\u5b58\u5165eax\u4e2d\uff0c\u7b2c\u4e8c\u6761\u6307\u4ee4\u5c06eax\u4e2d\u7684\u503c\u5b58\u5165\u5c40\u90e8\u53d8\u91cfc\u6240\u5728\u7684\u5185\u5b58\uff0c\u7b2c\u4e09\u6761\u6307\u4ee4\u5c06\u5c40\u90e8\u53d8\u91cfc\u7684\u503c\u8bfb\u53d6\u5230eax\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u5c40\u90e8\u53d8\u91cfc\u88ab\u7f16\u8bd1\u5668\u5b89\u6392\u5230\u4e86%rbp -0x4\u8fd9\u4e2a\u5730\u5740\u5bf9\u5e94\u7684\u5185\u5b58\u4e2d\u3002  \u63a5\u4e0b\u6765\u7ee7\u7eed\u6267\u884c <pre><code>pop\u00a0%rbp  \nretq\n</code></pre> \u8fd9\u4e24\u6761\u6307\u4ee4\u7684\u529f\u80fd\u76f8\u5f53\u4e8e\u4e0b\u9762\u7684\u6307\u4ee4\uff1a <pre><code>mov\u00a0%rbp,%rsp  \npop\u00a0%rbp  \npop\u00a0%rip\n</code></pre> \u5373\u5728\u64cd\u4f5c\u4e0a\u9762\u4e24\u6761\u6307\u4ee4\u7684\u65f6\u5019\uff0c\u9996\u5148\u628arsp\u8d4b\u503c\uff0c\u5b83\u7684\u503c\u662f\u5b58\u50a8\u8c03\u7528\u51fd\u6570rbp\u7684\u503c\u7684\u5730\u5740\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u51fa\u6808\u64cd\u4f5c\uff0c\u6765\u7ed9rbp\u8d4b\u503c\uff0c\u6765\u627e\u56de\u8c03\u7528\u51fd\u6570\u7684rbp\u3002</p> <p>\u901a\u8fc7\u6808\u7684\u7ed3\u6784\uff0c\u53ef\u4ee5\u77e5\u9053\uff0crbp\u4e0a\u9762\u5c31\u662f\u8c03\u7528\u51fd\u6570\u8c03\u7528\u88ab\u8c03\u7528\u51fd\u6570\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\u5730\u5740\uff0c\u6240\u4ee5\u9700\u8981\u8d4b\u503c\u7ed9rip\uff0c\u6765\u627e\u56de\u8c03\u7528\u51fd\u6570\u91cc\u7684\u6307\u4ee4\u6267\u884c\u5730\u5740\u3002</p> <p>\u6574\u4e2a\u51fd\u6570\u8df3\u8f6c\u56demain\u7684\u65f6\u5019\uff0c\u4ed6\u7684rsp,rbp\u90fd\u4f1a\u53d8\u56de\u539f\u6765\u7684main\u51fd\u6570\u7684\u6808\u6307\u9488\uff0cC\u8bed\u8a00\u7a0b\u5e8f\u5c31\u662f\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u786e\u4fdd\u51fd\u6570\u7684\u8c03\u7528\u4e4b\u540e\uff0c\u8fd8\u80fd\u7ee7\u7eed\u6267\u884c\u539f\u6765\u7684\u7a0b\u5e8f\u3002</p> <p>\u51fd\u6570\u540e\u8fd4\u56de\u7684\u65f6\u5019\uff0c\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u8fd9\u6761\u6307\u4ee4\uff1a <pre><code>mov\u00a0\u00a0\u00a0\u00a0%eax,-0x4(%rbp)\u00a0\u00a0#\u00a0\u628asum\u51fd\u6570\u7684\u8fd4\u56de\u503c\u8d4b\u7ed9\u53d8\u91cfz\n</code></pre> \u4e0a\u8ff0\u6307\u4ee4\u5c06eax\u4e2d\u7684\u7ed3\u679c\u653e\u5165rbp \u00a0-0x4\u6240\u6307\u7684\u5185\u5b58\u4e2d\uff0c\u8fd9\u91cc\u4e5f\u662fmain\u7684\u5c40\u90e8\u53d8\u91cfz\u6240\u5728\u4f4d\u7f6e\u3002</p> <p>\u518d\u5f80\u540e\u7684\u6307\u4ee4\u5982\u4e0b\uff1a</p> <p><pre><code>mov\u00a0\u00a0\u00a0\u00a0%eax,-0x4(%rbp)\u00a0  \nmov\u00a0\u00a0\u00a0\u00a0-0x4(%rbp),%eax\u00a0#\u00a0\u8ba1\u7b97\u7ed3\u679c  \nmov\u00a0\u00a0\u00a0\u00a0%eax,%esi  \nmov\u00a0\u00a0\u00a0\u00a0%eax,%esi  \nlea\u00a0\u00a0\u00a0\u00a00x0(%rip),%rdi\u00a0\u00a0  \nmov\u00a0\u00a0\u00a0\u00a0$0x0,%eax  \ncallq\u00a0\u00a05f\u00a0&lt;main+0x45&gt;\n</code></pre> \u4e0a\u8ff0\u6307\u4ee4\u9996\u5148\u4e3aprintf\u51c6\u5907\u53c2\u6570\uff0c\u7136\u540e\u8c03\u7528printf\uff0c\u5177\u4f53\u8fc7\u7a0b\u548c\u8c03\u7528sum\u7684\u8fc7\u7a0b\u76f8\u4f3c\uff0c\u8ba9CPU\u76f4\u63a5\u6267\u884c\u5230main\u5012\u6570\u7b2c\u4e8c\u6761leave\u6307\u4ee4\u5904\u3002 <pre><code>mov\u00a0\u00a0\u00a0\u00a0$0x,%eax\n</code></pre> \u6307\u4ee4\u4f5c\u7528\u662f\u5c06main\u8fd4\u56de\u503c0\u653e\u5230\u5bc4\u5b58\u5668eax\uff0c\u7b49main\u8fd4\u56de\u540e\u8c03\u7528main\u53ef\u62ff\u5230\u8fd9\u4e2a\u503c\u3002</p> <p>\u6267\u884cleave\u6307\u4ee4\u76f8\u5f53\u4e8e\u6267\u884c\u5982\u4e0b\u4e24\u6761\u6307\u4ee4\uff1a <pre><code>mov\u00a0%rbp,\u00a0%rsp  \npop\u00a0%rbp\n</code></pre> leave\u6307\u4ee4\u9996\u5148\u5c06rbp\u7684\u503c\u590d\u5236\u7ed9rsp\uff0crsp\u5c31\u6307\u5411rbp\u6240\u6307\u7684\u6808\u5355\u5143\u3002\u4e4b\u540eleave\u6307\u4ee4\u5c06\u8be5\u6808\u5355\u5143\u7684\u503cpop\u7ed9rbp\uff0c\u5982\u6b64\uff0crsp\u548crbp\u5c31\u6062\u590d\u6210\u521a\u8fdb\u5165main\u65f6\u7684\u72b6\u6001\u3002</p> <p>CALL\u6307\u4ee4\u5185\u90e8\u5176\u5b9e\u8fd8\u6697\u542b\u4e86\u4e00\u4e2a\u5c06\u8fd4\u56de\u5730\u5740\uff08\u5373CALL\u6307\u4ee4\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\uff09\u538b\u6808\u7684\u52a8\u4f5c\uff08\u7531\u786c\u4ef6\u5b8c\u6210\uff09\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff0ccall\u6307\u4ee4\u6267\u884c\u65f6\uff0c\u5148\u628a\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u5165\u6808\uff0c\u518d\u8df3\u8f6c\u5230\u5bf9\u5e94\u51fd\u6570\u6267\u884c\u7684\u8d77\u59cb\u5904\u3002</p> <p>c\u8bed\u8a00\u8c03\u7528\u6808 \u51fd\u6570\u8c03\u7528\u6808\u5206\u6790 c\u8bed\u8a00\u8c03\u7528\u6808</p>"},{"location":"linux/linux%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","title":"Linux\u5185\u5b58\u6a21\u578b","text":"<p>stackflow\u5173\u4e8estack space\u7684\u89e3\u91ca</p> <p>\u4e00\u4e2a\u65b0\u7ebf\u7a0b\u7684\u6808\u7a7a\u95f4\u662f\u7531\u7236\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u8c03\u7528 <code>mmap(MAP_ANONYMOUS|MAP_STACK)</code>\u65b9\u6cd5\u521b\u5efa\uff0c\u5728\u5185\u5b58\u7684<code>memory map segment</code>\u4f4d\u7f6e\uff0c\u5982\u56fe\u4e2d\u6240\u793a\u3002\u53ef\u4ee5\u4f4d\u4e8e\u4e00\u4e2a\u5927\u7684<code>malloc()</code>\u80fd\u521b\u5efa\u7684\u4efb\u4f55\u5730\u65b9\u3002(glibc\u00a0<code>malloc(3)</code>\u00a0\u4f7f\u7528\u00a0<code>mmap(MAP_ANONYMOUS)</code>\u00a0\u5206\u914d\u5927\u7a7a\u95f4\u3002)</p> <p>(<code>MAP_STACK</code>\u00a0is currently a no-op, and exists in case some future architecture needs special handling)\u3002</p> <p>\u628a\u6307\u5411\u65b0\u7ebf\u7a0b\u6808\u7a7a\u95f4\u7684\u6307\u9488\u4f20\u7ed9 the\u00a0<code>clone(2)</code>\u00a0system call\uff0c\u8fd9\u91cc\u624d\u662f\u771f\u6b63\u521b\u5efa\u7ebf\u7a0b\u7684\u5730\u65b9\u3002(\u5c1d\u8bd5\u5728\u4e00\u4e2a\u591a\u7ebf\u7a0b\u7684\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u00a0<code>strace -f</code>\u00a0\u89c2\u5bdf)\uff0c\u53c2\u8003\u00a0\u901a\u8fc7raw Linux syscalls\u521b\u5efa\u65b0\u7ebf\u7a0b\u3002 \u66f4\u591a\u5173\u4e8e mmaping stacks\u7684\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003\u00a0this answer on a related question </p> <p><code>MAP_GROWSDOWN</code>\u00a0doesn't prevent another\u00a0<code>mmap()</code>\u00a0from picking the address right below the thread stack, so you can't depend on it to dynamically grow a small stack the way you can for the main thread's stack (where the kernel reserves the address space even though it's not mapped yet).</p> <p>So even though\u00a0<code>mmap(MAP_GROWSDOWN)</code>\u00a0was designed for allocating stacks,\u00a0it's so bad that Ulrich Drepper proposed removing it in 2.6.29. Also, note that your memory-map diagram is for a 32-bit kernel. A 64-bit kernel doesn't have to reserve any user virtual-address space for mapping kernel memory, so a 32-bit process running on an amd64 kernel can use the full 4GB of virtual address space. (Except for the low 64k by default (sysctl\u00a0<code>vm.mmap_min_addr = 65536</code>), so NULL-pointer dereference does actually fault. And\u00a0the top page is also reserved as error codes, not valid pointers.)</p>"},{"location":"linux/minimal-c/","title":"Minimal c","text":""},{"location":"linux/minimal-c/#c","title":"\u901a\u8fc7\u6784\u5efa\u6700\u5c0f\u7684c\u7a0b\u5e8f\uff0c\u80fd\u591f\u4e86\u89e3\u4ec0\u4e48\uff1f","text":"<p>\u8ba1\u7b97\u673a\u7684\u672c\u8d28\u662f\u72b6\u6001\u673a\uff0c\u7a0b\u5e8f\u662f\u6307\u4ee4\u7684\u96c6\u5408\u3002</p> <p><code>gcc -c hello.c</code> \u5c3d\u7ba1\u6709\u8b66\u544a\uff0c\u8fd8\u662f\u6267\u884c\u3002</p> <p><code>objdump -d hello.o</code>\u89c2\u5bdf\u4e8c\u8fdb\u5236\u6307\u4ee4\u3002</p> <p>c\u8bed\u8a00\u6267\u884c\u7684\u6b65\u9aa4\uff1a 1. \u9884\u5904\u7406\uff0c\u66ff\u6362\u5b8f\u3001\u5904\u7406\u6761\u4ef6\u7f16\u8bd1\u3001\u53bb\u9664\u6ce8\u91ca\u7b49\u3002 gcc -E hello.o  2. \u7f16\u8bd1\uff0c\u751f\u6210\u6c47\u7f16\u4ee3\u7801 gcc -x c -S hello.out 3. \u6c47\u7f16 gcc -c hello.s \u6216 as -s hello.o 4. \u94fe\u63a5 ld hello.o -e main -lc</p> <p>\u9884\u5904\u7406\uff08Preprocessing\uff09\uff1agcc\u9996\u5148\u4f1a\u8c03\u7528\u9884\u5904\u7406\u5668\uff08cpp\uff09\u5bf9\u6e90\u6587\u4ef6\u8fdb\u884c\u9884\u5904\u7406\uff0c\u5305\u62ec\u5b8f\u5c55\u5f00\u3001\u5934\u6587\u4ef6\u5305\u542b\u7b49\u64cd\u4f5c\u3002\u9884\u5904\u7406\u540e\u4f1a\u751f\u6210\u4e00\u4e2a\u7ecf\u8fc7\u9884\u5904\u7406\u7684\u4e2d\u95f4\u6587\u4ef6\uff08\u901a\u5e38\u4ee5.i\u6216.ii\u4e3a\u6269\u5c55\u540d\uff09\u3002</p> <p>\u7f16\u8bd1\uff08Compiling\uff09\uff1a\u63a5\u4e0b\u6765\uff0cgcc\u4f1a\u8c03\u7528\u7f16\u8bd1\u5668\uff08cc1\uff09\u5c06\u9884\u5904\u7406\u540e\u7684\u6587\u4ef6\u7f16\u8bd1\u6210\u6c47\u7f16\u4ee3\u7801\u3002\u7f16\u8bd1\u5668\u4f1a\u5bf9\u4ee3\u7801\u8fdb\u884c\u8bed\u6cd5\u89e3\u6790\u3001\u8bed\u4e49\u5206\u6790\uff0c\u5e76\u8fdb\u884c\u4f18\u5316\u3002\u7f16\u8bd1\u540e\u4f1a\u751f\u6210\u4e00\u4e2a\u6c47\u7f16\u4ee3\u7801\u6587\u4ef6\uff08\u901a\u5e38\u4ee5.s\u4e3a\u6269\u5c55\u540d\uff09\u3002</p> <p>\u6c47\u7f16\uff08Assembling\uff09\uff1agcc\u5c06\u8c03\u7528\u6c47\u7f16\u5668\uff08as\uff09\u5c06\u6c47\u7f16\u4ee3\u7801\u8f6c\u6362\u4e3a\u673a\u5668\u7801\u76ee\u6807\u6587\u4ef6\uff08\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff09\u3002\u8fd9\u4e2a\u76ee\u6807\u6587\u4ef6\u901a\u5e38\u4ee5.o\u4e3a\u6269\u5c55\u540d\u3002</p> <p>\u94fe\u63a5\uff08Linking\uff09\uff1a\u6700\u540e\uff0cgcc\u4f1a\u8c03\u7528\u94fe\u63a5\u5668\uff08ld\uff09\u5c06\u6240\u6709\u7f16\u8bd1\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u548c\u76f8\u5e94\u7684\u5e93\u6587\u4ef6\u8fdb\u884c\u94fe\u63a5\uff0c\u751f\u6210\u6700\u7ec8\u7684\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5171\u4eab\u5e93\u3002\u5728\u94fe\u63a5\u8fc7\u7a0b\u4e2d\uff0c\u94fe\u63a5\u5668\u4f1a\u5904\u7406\u7b26\u53f7\u89e3\u6790\u3001\u5730\u5740\u91cd\u5b9a\u4f4d\u3001\u5e93\u4f9d\u8d56\u7b49\u64cd\u4f5c\uff0c\u786e\u4fdd\u7a0b\u5e8f\u7684\u5404\u4e2a\u90e8\u5206\u80fd\u6b63\u786e\u5730\u8fde\u63a5\u8d77\u6765\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cgcc\u547d\u4ee4\u4f1a\u81ea\u52a8\u5904\u7406\u4e0a\u8ff0\u8fc7\u7a0b\uff0c\u5e76\u4f20\u9012\u9002\u5f53\u7684\u53c2\u6570\u7ed9\u5bf9\u5e94\u7684\u5de5\u5177\uff08\u9884\u5904\u7406\u5668\u3001\u7f16\u8bd1\u5668\u3001\u6c47\u7f16\u5668\u548c\u94fe\u63a5\u5668\uff09\u3002\u8fd9\u6837\u53ef\u4ee5\u7b80\u5316\u7528\u6237\u7684\u7f16\u8bd1\u6d41\u7a0b\u5e76\u9690\u85cf\u5e95\u5c42\u7ec6\u8282\u3002</p> <p>\u603b\u7ed3\u8d77\u6765\uff0cgcc\u6267\u884cld\u7684\u8fc7\u7a0b\u53ef\u4ee5\u6982\u62ec\u4e3a\uff1a\u9884\u5904\u7406 -&gt; \u7f16\u8bd1 -&gt; \u6c47\u7f16 -&gt; \u94fe\u63a5\u3002\u8fd9\u4e00\u8fc7\u7a0b\u5c06\u6e90\u6587\u4ef6\u8f6c\u6362\u4e3a\u6700\u7ec8\u7684\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5171\u4eab\u5e93\u3002</p> <p><pre><code>hello.o:     file format elf64-x86-64\n\nDisassembly of section .text:\n\n0000000000000000 &lt;main&gt;:\n   0:   f3 0f 1e fa             endbr64\n   4:   55                      push   %rbp    # \u5c06 %rbp \u5bc4\u5b58\u5668\u7684\u503c\u538b\u5165\u6808\u4e2d\n   5:   48 89 e5                mov    %rsp,%rbp    # \u7528\u4e8e\u5c06\u6808\u6307\u9488\u5bc4\u5b58\u5668 %rsp \u7684\u503c\u590d\u5236\u7ed9\u57fa\u6307\u9488\u5bc4\u5b58\u5668 %rbp\n   8:   48 8d 05 00 00 00 00    lea    0x0(%rip),%rax        # f &lt;main+0xf&gt; \u7528\u4e8e\u5c06 RIP \u76f8\u5bf9\u5bfb\u5740\u7684\u7ed3\u679c\u52a0\u8f7d\u5230 RAX \u5bc4\u5b58\u5668\u4e2d\n   f:   48 89 c7                mov    %rax,%rdi    # \u7528\u4e8e\u5c06\u5bc4\u5b58\u5668 %rax \u4e2d\u7684\u503c\u590d\u5236\u7ed9\u5bc4\u5b58\u5668 %rdi\n  12:   e8 00 00 00 00          call   17 &lt;main+0x17&gt;   # \u7528\u4e8e\u8c03\u7528\u4f4d\u4e8e\u504f\u79fb\u91cf 17 \u5904\u7684\u4ee3\u7801\n  17:   b8 00 00 00 00          mov    $0x0,%eax\n  1c:   5d                      pop    %rbp\n  1d:   c3                      ret\n  ```\n\n\ngcc -S hello.c\nas -s \n\nld -lc hello.o -e main\nobjdump -d hello.o\n\n\n\u901a\u8fc7\u4e09\u6761\u6307\u4ee4\u3002\n</code></pre> ld\u4f5c\u4e3a\u4e00\u4e2a\u5f3a\u5927\u4e14\u7075\u6d3b\u7684\u94fe\u63a5\u5668\uff0c\u5177\u6709\u8bb8\u591a\u53c2\u6570\u9009\u9879\u4ee5\u6ee1\u8db3\u4e0d\u540c\u7684\u94fe\u63a5\u9700\u6c42\u3002\u4e0b\u9762\u5217\u4e3e\u4e86\u4e00\u4e9b\u5e38\u7528\u7684ld\u53c2\u6570\uff1a</p> <p>-o \uff1a\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u7684\u540d\u79f0\u3002 \uff1a\u8f93\u5165\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u53ef\u4ee5\u662f\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u6216\u5171\u4eab\u5e93\u3002 -L \uff1a\u6dfb\u52a0\u989d\u5916\u7684\u5e93\u6587\u4ef6\u641c\u7d22\u8def\u5f84\u3002 -l \uff1a\u94fe\u63a5\u6307\u5b9a\u7684\u5e93\u6587\u4ef6\u3002 -rpath \uff1a\u6307\u5b9a\u8fd0\u884c\u65f6\u5e93\u641c\u7d22\u8def\u5f84\u3002 -dynamic-linker \uff1a\u6307\u5b9a\u52a8\u6001\u94fe\u63a5\u5668\uff08\u8fd0\u884c\u65f6\u52a0\u8f7d\u7a0b\u5e8f\uff09\u3002 -nostdlib\uff1a\u7981\u6b62\u4f7f\u7528\u6807\u51c6\u7cfb\u7edf\u5e93\u3002 -static\uff1a\u5f3a\u5236\u9759\u6001\u94fe\u63a5\uff0c\u4e0d\u4f7f\u7528\u5171\u4eab\u5e93\u3002 -Bstatic\uff1a\u4ec5\u5728\u540e\u7eed\u5e93\u6587\u4ef6\u4e2d\u4f7f\u7528\u9759\u6001\u94fe\u63a5\u3002 -Bdynamic\uff1a\u4ec5\u5728\u540e\u7eed\u5e93\u6587\u4ef6\u4e2d\u4f7f\u7528\u52a8\u6001\u94fe\u63a5\u3002 -T"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/","title":"\u6587\u4ef6IO\u548c\u6807\u51c6IO","text":""},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#io","title":"\u7b2c\u4e00\u90e8\u5206\uff1a\u6587\u4ef6I/O","text":"<p>\u6587\u4ef6 I/O \u7531 POSIX.1 \u548c Single UNIX Specification \u6807\u51c6\u5b9a\u4e49\uff0c\u4e0d\u662fISO C\u7684\u7ec4\u6210\u90e8\u5206\u3002</p> <p>\u6587\u4ef6 I/O \u901a\u5e38\u79f0\u4e3a\u4e0d\u5e26\u7f13\u51b2\u7684I/O\uff08unbuffered I/O\uff09\uff0c\u4e0d\u5e26\u7f13\u51b2\u662f\u6307\u6bcf\u4e2aread\u548cwrite\u90fd\u76f4\u63a5\u8c03\u7528\u5185\u6838\u4e2d\u7684\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u3002</p> <p>UNIX\u7cfb\u7edf\u4e2d\u7684\u5927\u591a\u6570\u6587\u4ef6I/O\u53ea\u9700\u8981\u7528\u52305\u4e2a\u51fd\u6570\uff1aopen\u3001read\u3001write\u3001lseek\u3001close\uff0c\u4e0d\u540c\u7684\u7f13\u51b2\u533a\u957f\u5ea6\u4f1a\u5bf9read\u548cwrite\u7684\u6548\u7387\u4ea7\u751f\u5f71\u54cd\u3002</p> <p>\u6587\u4ef6 I/O \u6d89\u53ca\u5230\u5728\u591a\u4e2a\u8fdb\u7a0b\u95f4\u5171\u4eab\u6587\u4ef6\uff0c\u539f\u5b50\u64cd\u4f5c\u5341\u5206\u91cd\u8981\uff0c\u5c06\u8ba8\u8bba\u5728\u591a\u4e2a\u8fdb\u7a0b\u95f4\u5982\u4f55\u5171\u4eab\u6587\u4ef6\uff0c\u4ee5\u53ca\u6240\u6d89\u53ca\u7684\u5185\u6838\u6709\u5173\u6570\u636e\u7ed3\u6784\uff0cdup\u3001fcntl\u3001sync\u3001fsync\u548cioctl\u51fd\u6570\u3002</p>"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#_1","title":"\u6587\u4ef6\u63cf\u8ff0\u7b26","text":"<p>\u6240\u6709\u7684\u6587\u4ef6I/O\u64cd\u4f5c\u90fd\u662f\u56f4\u7ed5\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u5728\u5f62\u5f0f\u4e0a\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u662f\u4e00\u4e2a\u7d22\u5f15\u503c\uff0c\u6307\u5411\u5185\u6838\u4e3a\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u6240\u7ef4\u62a4\u7684\u8be5\u8fdb\u7a0b\u6253\u5f00\u6587\u4ef6\u7684\u8bb0\u5f55\u8868\u3002\u5f53\u7a0b\u5e8f\u6253\u5f00\u4e00\u4e2a\u73b0\u6709\u6587\u4ef6\u6216\u8005\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\u65f6\uff0c\u5185\u6838\u5411\u8fdb\u7a0b\u8fd4\u56de\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002 \u6bcf\u4e2aUnix\u8fdb\u7a0b\uff08\u9664\u4e86\u53ef\u80fd\u7684\u5b88\u62a4\u8fdb\u7a0b\uff09\u5e94\u5747\u6709\u4e09\u4e2a\u6807\u51c6\u7684POSIX\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5bf9\u5e94\u4e8e\u4e09\u4e2a\u6807\u51c6\u6d41\uff1a</p> <ul> <li>STDIN_FILENO</li> <li>STDOUT_FILENO</li> <li>STDERR_FILENO</li> </ul>"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#_2","title":"\u6587\u4ef6\u8bfb\u5199\u76f8\u5173\u51fd\u6570","text":""},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#open-openat","title":"open() \u548c openat() \u51fd\u6570","text":"<pre><code>#include &lt;fcntl.h&gt;\n\nint open(const char *path, int oflag, ... /* mode_t mode */);\nint openat(int f d, const char *path, int oflag, ... /* mode_t mode */ );\n</code></pre> <ul> <li>path \u8868\u793a\u8981\u6253\u5f00\u6216\u8981\u521b\u5efa\u7684\u6587\u4ef6\u8def\u5f84\uff1b</li> <li>oflag \u8868\u793a\u6253\u5f00\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u5e38\u7528\u7684\u6709 O_RDONLY\u200b\u3001O_WRONLY\u3001O_RDWR\u7b49\u3002</li> <li>mode_t mode \u65b0\u6587\u4ef6\u7684\u8bbf\u95ee\u6743\u9650\u4f4d\uff0c\u65b0\u521b\u5efa\u6587\u4ef6\uff08oflag\u4e3aO_CREAT\uff09\u65f6\u7528\u5230\u3002</li> </ul> <p>\u9664\u6b64\u4e4b\u5916\uff0copenat() \u6bd4open()\u591a\u4e86\u4e00\u4e2afd\u53c2\u6570\uff0c\u6709\u4e09\u79cd\u7528\u6cd5\uff1a \uff081\uff09path\u4e3a\u662f\u7edd\u5bf9\u8def\u5f84\uff0cfd\u53c2\u6570\u88ab\u5ffd\u7565\uff0c\u6b64\u65f6openat\u51fd\u6570\u5c31\u76f8\u5f53\u4e8eopen\u51fd\u6570\u3002 \uff082\uff09path\u4e3a\u76f8\u5bf9\u8def\u5f84\u540d\uff0cfd\u53c2\u6570\u6307\u51fa\u4e86\u76f8\u5bf9\u8def\u5f84\u540d\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u5f00\u59cb\u5730\u5740\uff0c\u901a\u8fc7\u6253\u5f00\u76f8\u5bf9\u8def\u5f84\u540d\u6240\u5728\u7684\u76ee\u5f55\u6765\u83b7\u53d6\u3002 \uff083\uff09path\u4e3a\u76f8\u5bf9\u8def\u5f84\uff0cfd\u53c2\u6570\u5177\u6709\u7279\u6b8a\u503c AT_FDCWD\uff0c\u6b64\u65f6\uff0c\u8def\u5f84\u540d\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\u83b7\u53d6\u3002</p>"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#creat","title":"creat() \u51fd\u6570","text":"<p><pre><code>#include &lt;fcntl.h&gt;\n\nint creat(const char *path, mode_t mode);\n</code></pre> \u7b49\u6548\u4e8e <code>open(path, O_WRONLY\uff5cO_CREAT\uff5cO_TRUNC, mode)</code> \uff0c\u5728\u65e9\u671f\u7684UNIX\u7cfb\u7edf\u7248\u672c\u4e2d\uff0copen\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ea\u80fd\u662f0\u30011\u62162\u3002\u65e0\u6cd5\u6253\u5f00\u4e00\u4e2a\u5c1a\u672a\u5b58\u5728\u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u9700\u8981\u53e6\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528creat\u4ee5\u521b\u5efa\u65b0\u6587\u4ef6\u3002\u73b0\u5728\uff0copen\u51fd\u6570\u63d0\u4f9b\u4e86\u9009\u9879O_CREAT\u548cO_TRUNC\uff0c\u4e8e\u662f\u4e5f\u5c31\u4e0d\u518d\u9700\u8981\u5355\u72ec\u7684creat\u51fd\u6570\u3002</p>"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#close","title":"close() \u51fd\u6570","text":"<p><pre><code>#include &lt;unistd.h&gt;\n\nint close (int fd);\n</code></pre> \u5173\u95ed\u4e00\u4e2a\u6587\u4ef6\u5e76\u4e14\u91ca\u653e\u8be5\u8fdb\u7a0b\u52a0\u5728\u8be5\u6587\u4ef6\u4e0a\u7684\u6240\u6709\u8bb0\u5f55\u9501\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u7ec8\u6b62\u65f6\uff0c\u5185\u6838\u81ea\u52a8\u5173\u95ed\u5b83\u6240\u6709\u7684\u6253\u5f00\u6587\u4ef6\u3002\u5f88\u591a\u7a0b\u5e8f\u90fd\u5229\u7528\u4e86\u8fd9\u4e00\u529f\u80fd\u800c\u4e0d\u663e\u5f0f\u5730\u7528close\u5173\u95ed\u6253\u5f00\u6587\u4ef6\u3002</p>"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#lseek","title":"lseek() \u51fd\u6570","text":""},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#read","title":"read() \u51fd\u6570","text":""},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#write","title":"write() \u51fd\u6570","text":""},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#io_1","title":"\u7f13\u51b2\u533a\u5927\u5c0f\u5bf9I/O\u6548\u7387\u7684\u5f71\u54cd","text":""},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#_3","title":"\u6587\u4ef6\u5171\u4eab\u548c\u539f\u5b50\u64cd\u4f5c\u53ca\u76f8\u5173\u51fd\u6570","text":""},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#io_2","title":"\u7b2c\u4e8c\u90e8\u5206\uff1a\u6807\u51c6I/O","text":"<p>\u6807\u51c6I/O\u5e93\u7531ISO C\u6807\u51c6\u5b9a\u4e49\uff0cSingle UNIX Specification \u5bf9 ISO C \u6807\u51c6\u8fdb\u884c\u4e86\u6269\u5145\u3002</p> <p>\u6807\u51c6I/O\u5e93\u5904\u7406\u5f88\u591a\u7ec6\u8282\uff0c\u5982\u7f13\u51b2\u533a\u5206\u914d\u3001\u4ee5\u4f18\u5316\u7684\u5757\u957f\u5ea6\u6267\u884cI/O\u7b49\u3002\u8fd9\u4e9b\u5904\u7406\u4f7f\u7528\u6237\u4e0d\u5fc5\u62c5\u5fc3\u5982\u4f55\u9009\u62e9\u4f7f\u7528\u6b63\u786e\u7684\u5757\u957f\u5ea6\uff08\u59823.9\u8282\u4e2d\u6240\u8ff0\uff09</p>"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#file","title":"\u6d41\u548cFILE\u5bf9\u8c61","text":"<p>\u6240\u6709\u7684\u6807\u51c6I/O\u64cd\u4f5c\u90fd\u662f\u56f4\u7ed5\u6d41\uff08stream\uff09\u8fdb\u884c\u7684\uff0c\u4f7f\u7528\u6807\u51c6\u5e93\u6253\u5f00\u6216\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u65f6\uff0c\u7cfb\u7edf\u5c06\u4e00\u4e2a\u6d41\u4e0e\u4e00\u4e2a\u6587\u4ef6\u76f8\u5173\u8054\u3002</p> <p>\u5bf9\u4e8eASCII\u5b57\u7b26\u96c6\uff0c\u4e00\u4e2a\u5b57\u7b26\u7528\u4e00\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u5bf9\u4e8e\u56fd\u9645\u5b57\u7b26\u96c6\uff0c\u4e00\u4e2a\u5b57\u7b26\u53ef\u7528\u591a\u4e2a\u5b57\u8282\u8868\u793a\u3002\u6807\u51c6I/O\u6587\u4ef6\u6d41\u53ef\u7528\u4e8e\u5355\u5b57\u8282\u6216\u591a\u5b57\u8282\uff08\u201c\u5bbd\u201d\uff09\u5b57\u7b26\u96c6\u3002</p> <p>\u6d41\u7684\u5b9a\u5411\uff08stream's orientation\uff09\u51b3\u5b9a\u4e86\u6240\u8bfb\u3001\u5199\u7684\u5b57\u7b26\u662f\u5355\u5b57\u8282\u8fd8\u662f\u591a\u5b57\u8282\u7684\u3002\u5f53\u4e00\u4e2a\u6d41\u6700\u521d\u88ab\u521b\u5efa\u65f6\uff0c\u5b83\u5e76\u6ca1\u6709\u5b9a\u5411\u3002\u5728\u672a\u5b9a\u5411\u7684\u6d41\u4e0a\u4f7f\u7528\u591a\u5b57\u8282 I/O \u51fd\u6570\uff0c\u6d41\u7684\u5b9a\u5411\u5c06\u8bbe\u7f6e\u4e3a\u5bbd\u5b9a\u5411\u7684\uff1b\u4f7f\u7528\u5355\u5b57\u8282I/O\u51fd\u6570\uff0c\u5219\u6d41\u7684\u5b9a\u5411\u8bbe\u4e3a\u5b57\u8282\u5b9a\u5411\u7684\u3002</p> <p>\u53ea\u6709\u4e24\u4e2a\u51fd\u6570\u53ef\u6539\u53d8\u6d41\u7684\u5b9a\u5411\uff0cfreopen\u51fd\u6570\u6e05\u9664\u4e00\u4e2a\u6d41\u7684\u5b9a\u5411\uff1bfwide\u51fd\u6570\u53ef\u7528\u4e8e\u8bbe\u7f6e\u6d41\u7684\u5b9a\u5411\u3002</p> <p>\u5bf9\u4e00\u4e2a\u8fdb\u7a0b\u9884\u5b9a\u4e49\u4e86 3 \u4e2a\u6d41\uff0c\u5206\u522b\u662f\uff1a\u6807\u51c6\u8f93\u5165\u3001\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u3002\u8fd9\u4e9b\u6d41\u5f15\u7528\u7684\u6587\u4ef6\u4e0e\u4e4b\u524d\u63d0\u5230\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26 STDIN_FILENO\u3001STDOUT_FILENO \u548c STDERR_FILENO \u6240\u5f15\u7528\u7684\u6587\u4ef6\u76f8\u540c\u3002 \u8fd93\u4e2a\u6807\u51c6 I/O \u6d41\u901a\u8fc7\u9884\u5b9a\u4e49\u6587\u4ef6\u6307\u9488 stdin\u3001stdout \u548c stderr \u52a0\u4ee5\u5f15\u7528\u3002\u8fd93\u4e2a\u6587\u4ef6\u6307\u9488\u5b9a\u4e49\u5728\u5934\u6587\u4ef6\u4e2d\u3002"},{"location":"linux/%E6%96%87%E4%BB%B6IO%E5%92%8C%E6%A0%87%E5%87%86IO/#_4","title":"\u7b2c\u4e09\u90e8\u5206\uff1a\u6587\u4ef6\u548c\u76ee\u5f55","text":""},{"location":"linux/%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E6%98%A0%E5%B0%84/","title":"\u865a\u62df\u5730\u5740\u6620\u5c04","text":"<p>\u865a\u62df\u5185\u5b58\u6620\u5c04 \u8ba1\u7b97\u673a\u7cfb\u7edf\u6982\u8ff0</p>"},{"location":"linux/%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/","title":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b","text":""},{"location":"linux/%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#fork","title":"fork()","text":"<p>https://cloud.tencent.com/developer/article/1805658 https://blog.csdn.net/Shreck66/article/details/47039937 https://wangjunstf.github.io/2021/11/09/linux-xu-ni-nei-cun-xi-tong-nei-cun-ying-she-fork-execve-malloc-free-dong-tai-nei-cun-fen-pei-yu-shi-fang/ https://wangjunstf.github.io/2021/11/09/linux-xu-ni-nei-cun-xi-tong-nei-cun-ying-she-fork-execve-malloc-free-dong-tai-nei-cun-fen-pei-yu-shi-fang/</p> <p>\u5b9e\u9645\u4e0a\uff0c\u9664\u4e860\u53f7\u8fdb\u7a0b\uff0c\u5176\u4ed6\u7684\u6240\u6709\u8fdb\u7a0b\u65e0\u8bba\u662f\u5185\u6838\u7ebf\u7a0b\u8fd8\u662f\u666e\u901a\u7684\u7528\u6237\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u90fd\u662ffork\u51fa\u6765\u7684\uff0c\u800c\u521b\u5efa\u8fdb\u7a0b\u662f\u5185\u6838\u6240\u505a\u7684\u4e8b\u60c5\uff0c\u8981\u4e48\u5728\u5185\u6838\u7a7a\u95f4\u76f4\u63a5\u521b\u5efa\u51fa\u6240\u8c13\u7684\u5185\u6838\u7ebf\u7a0b\uff0c\u8981\u4e48\u662f\u901a\u8fc7fork\uff0cclone\u8fd9\u6837\u7684\u7cfb\u7edf\u8c03\u7528\u9677\u5165\u5185\u6838\u7a7a\u95f4\u6765\u521b\u5efa\u3002\u5bf9\u4e8e\u5185\u6838\u7ebf\u7a0b\u6ca1\u6709\u5f02\u5e38\u7ea7\u522b\u7684\u5207\u6362\uff0c\u6784\u5efa\u597d\u8c03\u5ea6\u76f8\u5173\u57fa\u7840\u6570\u636e\u7ed3\u6784\u65f6\u5c31\u53ef\u4ee5\u5728\u7b2c\u4e00\u6b21\u53c2\u4e0e\u8c03\u5ea6\u7684\u65f6\u5019\u6267\u884c\u4ed6\u7684\u6267\u884c\u51fd\u6570\uff0c\u4efb\u52a1\u5207\u6362\u7684\u65f6\u5019\u4e5f\u4e0d\u9700\u8981\u8fdb\u884c\u5730\u5740\u7a7a\u95f4\u5207\u6362\u3002\u800c\u5bf9\u4e8e\u7528\u6237\u4efb\u52a1\u6765\u8bf4\uff0c\u9700\u8981\u5f02\u5e38\u7ea7\u522b\u7684\u5207\u6362\uff08\u4e5f\u662f\u4e00\u79cd\u4e0a\u4e0b\u6587\u5207\u6362\uff09\uff0c\u4efb\u52a1\u5207\u6362\u7684\u65f6\u5019\u751a\u81f3\u8fd8\u9700\u8981\u5207\u6362\u5730\u5740\u7a7a\u95f4\u3002</p> <p>fork()\u4f1a\u521b\u5efa\u4e00\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u5728\u5b50\u8fdb\u7a0b\u4e2d\uff0cfork\u8fd4\u56de0\uff0c\u5728\u7236\u8fdb\u7a0b\u4e2d\uff0cfork()\u8fd4\u56de\u65b0\u521b\u5efa\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0bID\uff0c\u5982\u679c\u51fa\u73b0\u9519\u8bef\uff0cfork\u8fd4\u56de\u4e00\u4e2a\u8d1f\u503c\u3002</p> <p>\u5f15\u7528\u4e00\u4f4d\u7f51\u53cb\u7684\u8bdd\u6765\u89e3\u91cafpid\u7684\u503c\u4e3a\u4ec0\u4e48\u5728\u7236\u5b50\u8fdb\u7a0b\u4e2d\u4e0d\u540c\u3002\u201c\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u94fe\u8868\uff0c\u8fdb\u7a0b\u5f62\u6210\u4e86\u94fe\u8868\uff0c\u7236\u8fdb\u7a0b\u7684fpid(p \u610f\u5473point)\u6307\u5411\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0bid, \u56e0\u4e3a\u5b50\u8fdb\u7a0b\u6ca1\u6709\u5b50\u8fdb\u7a0b\uff0c\u6240\u4ee5\u5176fpid\u4e3a0. fork\u51fa\u9519\u53ef\u80fd\u6709\u4e24\u79cd\u539f\u56e0\uff1a 1\uff09\u5f53\u524d\u7684\u8fdb\u7a0b\u6570\u5df2\u7ecf\u8fbe\u5230\u4e86\u7cfb\u7edf\u89c4\u5b9a\u7684\u4e0a\u9650\uff0c\u8fd9\u65f6errno\u7684\u503c\u88ab\u8bbe\u7f6e\u4e3aEAGAIN\u3002 2\uff09\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\uff0c\u8fd9\u65f6errno\u7684\u503c\u88ab\u8bbe\u7f6e\u4e3aENOMEM \u521b\u5efa\u65b0\u8fdb\u7a0b\u6210\u529f\u540e\uff0c\u7cfb\u7edf\u4e2d\u51fa\u73b0\u4e24\u4e2a\u57fa\u672c\u5b8c\u5168\u76f8\u540c\u7684\u8fdb\u7a0b\uff0c\u8fd9\u4e24\u4e2a\u8fdb\u7a0b\u6267\u884c\u6ca1\u6709\u56fa\u5b9a\u7684\u5148\u540e\u987a\u5e8f\uff0c\u54ea\u4e2a\u8fdb\u7a0b\u5148\u6267\u884c\u8981\u770b\u7cfb\u7edf\u7684\u8fdb\u7a0b\u8c03\u5ea6\u7b56\u7565\u3002 \u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2a\u72ec\u7279\uff08\u4e92\u4e0d\u76f8\u540c\uff09\u7684\u8fdb\u7a0b\u6807\u8bc6\u7b26\uff08process ID\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7getpid\uff08\uff09\u51fd\u6570\u83b7\u5f97\uff0c\u8fd8\u6709\u4e00\u4e2a\u8bb0\u5f55\u7236\u8fdb\u7a0bpid\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u901a\u8fc7getppid\uff08\uff09\u51fd\u6570\u83b7\u5f97\u53d8\u91cf\u7684\u503c\u3002</p>"},{"location":"math/%E5%BE%AE%E7%A7%AF%E5%88%86/","title":"\u5fae\u79ef\u5206","text":"<p>\u9ad8\u7b49\u6570\u5b66\u4e2ddy\u7684d\u7684\u542b\u4e49  </p> <p>\u56de\u7b54\u57fa\u4e8eQuora\u56de\u7b54\uff1a https://www.quora.com/What-does-dy-mean-in-calculus</p> <p>dy\u4e2d\u7684d\u5168\u79f0<code>differential</code>\uff0c\u4ee3\u8868y\u8fd9\u4e2a\u53d8\u91cf\u7684\u5f88\u5c0f\u7684\u53d8\u5316\u3002\u540c\u7406\uff0cdx\u4e2d\u7684d\u662f\u6307x\u8fd9\u4e2a\u53d8\u91cf\u7684\u5f88\u5c0f\u7684\u53d8\u5316\u3002 \u6700\u5148\u53d1\u660e\u8fd9\u79cd\u7b26\u53f7\u7684\u662f\u5fb7\u56fd\u6570\u5b66\u5bb6\u6208\u7279\u5f17\u91cc\u5fb7\u00b7\u83b1\u5e03\u5c3c\u8328\u3002\u4ed6\u4e0e\u725b\u987f\u5148\u540e\u72ec\u7acb\u53d1\u660e\u4e86\u5fae\u79ef\u5206\uff0c\u5e76\u4e14\u662f\u4ed6\u5728\u81ea\u5df1\u7684\u5bfc\u6570\u7684\u5b9a\u4e49\u4e2d\u63d0\u51fa\u4e86dy/dx\u8fd9\u4e2a\u6bd4\u503c\u3002  </p> <p>\u7136\u540e\u968f\u7740\u5386\u53f2\u63a8\u8fdb\uff0cdy/dx\u4e2dd\u4ee3\u8868differential\u8fd9\u5c42\u610f\u601d\u9010\u6e10\u88ab\u629b\u5f03\u3002dx\u4ee3\u8868\u4e00\u4e2a\u8d8b\u8fd1\u4e8e0\u7684\u5b9e\u6570\uff08\u6709\u65f6\u5199\u4f5ch\uff09\uff0cdy\u7684\u610f\u4e49\u5219\u6f14\u5316\u4e3adx\u7684\u503c\u4e58\u4e0a\u5bfc\u6570\u3002</p> <p>\u53e6\uff1a\u6211\u770b\u5230\u4e86\u76ee\u524d\u4e3a\u6b62\u6700\u9ad8\u8d5e\u7684\u7b54\u6848\uff0cd\u4ee3\u8868Differentiation\u6211\u89c9\u5f97\u662f\u4e0d\u591f\u51c6\u786e\u7684\uff0c\u4f46\u4e5f\u53ea\u662f\u611f\u89c9\uff0c\u5982\u679c\u80fd\u6ce8\u660e\u51fa\u5904\u5c31\u66f4\u597d\u4e86\u3002 \u5176\u6b21\u662f\u5173\u4e8e\u8fd0\u7b97\u7b26\u53f7\u7684\u6bd4\u55bb\uff0c\u8bc4\u8bba\u91cc\u63d0\u5230\u4e86\u8fd9\u6837\u65b9\u4fbf\u7406\u89e3\u4f46\u662f\u4e0d\u591f\u51c6\u786e\u3002 \u9644\u4e0a\u53e6\u4e00\u4e2aQuora\u7b54\u6848 https://www.quora.com/What-does-the-d-stand-for-in-dy-dx</p> <p>\u5927\u81f4\u7ffb\u8bd1\uff1ad\u5728dy/dx\u4e2d\u672c\u8eab\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u80fd\u7528\u6765\u5f53\u8fd0\u7b97\u7b26\u53f7\u7684\u662fd/dx\u3002dy/dx\u4e0d\u662f\u6307dy\u9664\u4ee5dx(dy by dx)\uff0c\u800c\u662f\u6307\u6c42y\u5173\u4e8ex\u7684\u5bfc\u6570(d/dx of y)\u3002 \u4ee5\u4e0a\u3002</p>"},{"location":"math/%E6%A2%AF%E5%BA%A6%E7%AE%97%E6%B3%95%E7%9A%84%E9%80%9A%E4%BF%97%E7%90%86%E8%A7%A3/","title":"\u68af\u5ea6\u7b97\u6cd5\u7684\u901a\u4fd7\u7406\u89e3","text":"<p>\u5047\u8bbe\u6709\u4e00\u5143\u51fd\u6570\\(f(x)=x^2\\)</p> <p>\u81ea\u53d8\u91cf\u53ea\u6709\u4e24\u4e2a\u65b9\u5411\uff0c\u671d\u53f3\u8fd0\u52a8\uff0c\u51fd\u6570\u503c\u589e\u52a0\uff0c\u79f0\u4e3a\u68af\u5ea6\u65b9\u5411\\(\\nabla f(x)\\)\uff1b\u671d\u5de6\u8fd0\u52a8\uff0c\u51fd\u6570\u503c\u51cf\u5c11\uff0c\u79f0\u4e3a\u68af\u5ea6\u65b9\u5411\u7684\u53cd\u65b9\u5411\\(-\\nabla f(x)\\)\u3002</p> <p>\u68af\u5ea6\uff1a                      \\(\\nabla f(x)=2x\\) \u521d\u59cb\u503c\uff1a                   \\(x_0=10\\) \u5b66\u4e60\u7387\uff08\u6b65\u957f\uff09\uff1a    \\(\\eta=0.2\\) \u7ec8\u6b62\u6761\u4ef6\uff1a               \\(\\| \\nabla f(x) \\| &lt;= 0.01\\)</p> <p>\u63a8\u5bfc\uff1a \\(x_1=x_0-\\eta~\\nabla f(x_0)\\) \\(x_1=6\\) \\(\\| \\nabla f(x_0) \\| = 12\\) \\(x_2=x_1-\\eta~\\nabla f(x_1)\\) \\(x_2=3.6\\) \\(\\| \\nabla f(x_1) \\| = 7.2\\) \\(x_3=x_2-\\eta~\\nabla f(x_2)\\) \\(x_3=2.16\\) \\(\\| \\nabla f(x_2) \\| = 4.32\\) \\(x_4=x_3-\\eta~\\nabla f(x_3)\\) \\(x_4=1.3\\) \\(\\| \\nabla f(x_3) \\| = 2.59\\) ... \\(x_{15}=x_{14}-\\eta~\\nabla f(x_{14})\\) \\(x_{15}=0.005\\) \\(\\| \\nabla f(x_{15}) \\| = 0.01\\)</p> <p>\u95ee\u9898\u4e00\uff1a\u51cf\u53bb\\(\\eta~\\nabla f(x)\\) \u662f\u4ec0\u4e48\u610f\u601d\uff1f \u4ece\u5fae\u5206\u7684\u89d2\u5ea6\u770b\uff0c\\(\\nabla f(x)\\) \u662f\u5bfc\u6570\uff0c\u8868\u793a\u5c40\u90e8\u5fae\u5c0f\u7684\u53d8\u5316\u7387\uff0c\u8fd9\u4e2a\u53d8\u5316\u7387\u4e58\u4ee5\u5b66\u4e60\u7387\uff08\u6b65\u957f\uff09\uff0c\u5c31\u8868\u793a\u6cbf\u7740\u5207\u7ebf\u65b9\u5411\u524d\u8fdb\u7684\u8ddd\u79bb\u3002</p> <p>\u68af\u5ea6\u4e0b\u964d\u6cd5\u6709\u4e00\u4e2a\u6700\u6838\u5fc3\u7684\u70b9\uff0c\u6211\u89c9\u5f97\u5927\u5bb6\u90fd\u6ca1\u6709\u5173\u6ce8\u5230\uff0c\u800c\u4e14\u4f3c\u4e4e\u4e0d\u8bba\u5728\u54ea\u6211\u90fd\u770b\u4e0d\u5230\u6709\u4eba\u8ba8\u8bba\u8fd9\u4e2a\u3002 \u6211\u60f3\u65b0\u4eba\u770b\u5230\u5728\u51f9\u7684\u4e8c\u6b21\u51fd\u6570\u56fe\u50cf\u4e0a\u5e94\u7528\u68af\u5ea6\u4e0b\u964d\u65f6\u5fc3\u91cc\u80af\u5b9a\u6709\u7591\u95ee\u3002\u6211\u5df2\u7ecf\u80fd\u591f\u6839\u636e\u51fd\u6570\u56fe\u50cf\u6216\u8005\u5df2\u7ecf\u63a2\u7d22\u7684\u70b9\u7684\u4f4d\u7f6e\u80fd\u591f\u6a21\u7cca\u5730\u627e\u5230\u8bef\u5dee\u51fd\u6570\u6700\u4f4e\u70b9\u7684\u4f4d\u7f6e\uff0c\u751a\u81f3\u53ef\u4ee5\u4f7f\u7528\u516c\u5f0f\u6c42\u70b9\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u8fed\u4ee3\u8bb8\u591a\u904d\uff1f \u4e8b\u5b9e\u4e0a\uff0c\u6839\u636e\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u6240\u8868\u793a\u51fa\u6765\u7684\u51fd\u6570\uff0c\u4e0e\u771f\u5b9e\u8bef\u5dee\u51fd\u6570\u7684\u51fd\u6570\u56fe\u50cf\u53ef\u80fd\u76f8\u53bb\u751a\u8fdc(\u8fd9\u624d\u662f\u5173\u952e\u70b9)\u3002\u6211\u4ee5\u524d\u505a\u8fc7\u5b9e\u9a8c\uff0c\u5982\u679c\u8ba4\u4e3a\u6a21\u578b\u6240\u8868\u793a\u7684\u51fd\u6570\u5373\u4e3a\u771f\u5b9e\u8bef\u5dee\u51fd\u6570\u4e00\u6837\uff0c\u90a3\u4e48\u6a21\u578b\u6700\u7ec8\u5c06\u65e0\u6cd5\u88ab\u4f18\u5316\u3002\u5982\u679c\u6bcf\u6b21\u4f18\u5316\uff0c\u91c7\u7528\u4e8c\u6b21\u63a2\u6d4b\u6cd5(\u5373\u5728\u5f53\u524d\u4f4d\u7f6e\u5206\u522b\u6a21\u62df\u5bf9\u5b66\u4e60\u7387\u7ffb2\u7684i\u6b21\u65b9\u500d\u8fdb\u884c\u68af\u5ea6\u4e0b\u964d\uff0c\u9009\u53d6\u4f18\u5316\u540e\u8bef\u5dee\u51fd\u6570\u503c\u6700\u5c0f\u7684\u5b66\u4e60\u7387\u8fdb\u884c\u5b9e\u9645\u4f18\u5316\u3002\u61d2\u5f97\u5728\u6700\u4f18\u533a\u95f4\u91cc\u5bfb\u627e\u6700\u4f18\u70b9\u4e86\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u4e8c\u6b21\u63a2\u6d4b\u6cd5\uff0c\u540c\u6837\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u627e\u5230\u6700\u4f18\u70b9)\uff0c\u5c06\u6a21\u578b\u4f18\u5316\u5230\u4e00\u4e2a\u8f83\u4e3a\u63a5\u8fd1\u5f53\u524d\u8bef\u5dee\u51fd\u6570\u503c\u6700\u4f4e\u70b9\u7684\u70b9\uff0c\u90a3\u4e48\u6700\u7ec8\u7ed3\u679c\u5c31\u5c31\u662f\u5b66\u4e60\u7387\u5e38\u5e38\u8981\u7ffb\u51e0\u5343\u51e0\u4e07\u500d\uff0c\u8bef\u5dee\u503c\u8d8a\u6765\u8d8a\u5927\u3002 \u4e3e\u4e0b\u5c71\u7684\u4f8b\u5b50\u6765\u8bf4\u4eba\u8bdd\u3002\u6bcf\u5411\u5c71\u4e0b\u8d70\u4e00\u5c0f\u6b65\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\u8eab\u8fb9\u5c71\u5f62\u53c8\u6709\u5927\u53d8\u52a8\uff0c\u539f\u5148\u6700\u4f4e\u70b9\u7684\u4f4d\u7f6e\u73b0\u5728\u53c8\u4e0d\u77e5\u9053\u8dd1\u5230\u54ea\u4e2a\u659c\u5761\u4e0a\u53bb\u4e86\u3002\u5982\u679c\u4f60\u6bcf\u6b21\u90fd\u5927\u8de8\u6b65\uff0c\u751a\u81f3\u4e00\u4e0b\u5c31\u8de8\u5230\u5c71\u8c37(\u5b9e\u9645\u4e0a\u8fd9\u662f\u53ef\u884c\u7684\uff0c\u53ea\u4e0d\u8fc7\u90a3\u4e2a\u8c37\u5e95\u662f\u5047\u8c37\u5e95)\uff0c\u90a3\u4e48\u4f18\u5316\u5b8c\u4e00\u6b21\u540e\u5c71\u5f62\u53d1\u751f\u53d8\u5316\uff0c\u4f60\u53c8\u5230\u9ad8\u5904\u53bb\u4e86\u3002\u6700\u7ec8\u7ed3\u679c\u5c31\u662f\u4f60\u6839\u672c\u5230\u4e0d\u4e86\u5c71\u8c37\u3002\u5982\u679c\u6bcf\u6b21\u53ea\u8d70\u4e00\u5c0f\u6b65\uff0c\u5c3d\u7ba1\u4f60\u770b\u5230\u7684\u5c71\u5f62\u4e0d\u65ad\u53d8\u5316\uff0c\u4f46\u5e45\u5ea6\u5e76\u4e0d\u662f\u5f88\u5267\u70c8\u3002\u957f\u671f\u6765\u770b\uff0c\u8bef\u5dee\u51fd\u6570\u7ed9\u4e88\u7684\u542f\u53d1\u5f0f\u4fe1\u606f\u8fd8\u662f\u8db3\u591f\u4f60\u8d70\u5230\u8c37\u5e95\u7684\u3002 \u4e3a\u4ec0\u4e48\u8d70\u4e00\u6b65\u540e\u5c71\u5f62\u4f1a\u53d8\u5316\uff1f\u56e0\u4e3a\u6a21\u578b\u6839\u636e\u68af\u5ea6\u4e0b\u964d\u6cd5\u4f18\u5316\u540e\uff0c\u6a21\u578b\u53c2\u6570\u53d8\u5316\uff0c\u8bef\u5dee\u51fd\u6570\u4e5f\u8ddf\u7740\u53d8\u3002\u800c\u6240\u8c13\u5c71\u5f62\uff0c\u5c31\u662f\u8bef\u5dee\u51fd\u6570\u7684\u56fe\u5f62\u3002\u6a21\u578b\u6240\u8868\u8fbe\u51fa\u7684\u8bef\u5dee\u51fd\u6570\u5e76\u975e\u771f\u5b9e\u8bef\u5dee\u51fd\u6570\uff0c\u771f\u5b9e\u8bef\u5dee\u51fd\u6570\u662f\u4e0d\u5bb9\u6613\u77e5\u9053\u7684\u3002\u6bcf\u8d70\u4e00\u6b65\u4f60\u770b\u5230\u7684\u5c71\u5f62\u90fd\u5c06\u53d8\u5316\uff0c\u800c\u4f60\u53ef\u80fd\u59cb\u7ec8\u90fd\u65e0\u6cd5\u770b\u5230\u8fd9\u5ea7\u5c71\u672c\u6765\u7684\u9762\u8c8c\u3002 \u8fd9\u4e9b\u5b9e\u9a8c\u662f\u5f88\u4e45\u524d\u505a\u7684\uff0c\u7ec6\u8282\u4e0d\u592a\u8bb0\u5f97\u4e86\uff0c\u5982\u679c\u8868\u8fbe\u6709\u4e0d\u51c6\u786e\u7684\u5730\u65b9\u8fd8\u671b\u6307\u6b63\u3002</p>"},{"location":"math/%E6%A6%82%E7%8E%87%E8%AE%BA/","title":"\u6982\u7387\u8bba","text":"<p>\u6982\u7387\u8bba\u7684\u516c\u7406\u7cfb\u7edf\u3002</p>"},{"location":"math/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/","title":"\u7ebf\u6027\u4ee3\u6570","text":"<p>\u6807\u91cf\u3001\u5411\u91cf\u3001\u77e9\u9635\u3001\u5f20\u91cf\u3001\u8fd0\u7b97\u3001\u8303\u6570 \u8bf4\u660e\u7684\u662f\uff0c\u4e0a\u9762\u7684\u540d\u8bcd\u90fd\u662f\u5728\u7ebf\u4ee3\u4e2d\u7684\u540d\u8bcd\uff0c\u5728\u8fd9\u4e2a\u8bed\u5883\u5185</p>"},{"location":"math/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/#_1","title":"\u6807\u91cf","text":"<p>\u4ec5\u5305\u542b\u4e00\u4e2a\u6570\u5b57\u7684\u91cf\uff0c\u79f0\u4e3a\u6807\u91cf\uff08scalar\uff09\uff0c\u7531\u666e\u901a\u5c0f\u5199\u5b57\u6bcd\u6807\u8bc6\uff08\\(x\u3001y\u3001z\\)\uff09\u3002\u540c\u65f6\uff0c\u6807\u91cf\u4e5f\u662f\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u7684\u5f20\u91cf\u3002</p>"},{"location":"math/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/#_2","title":"\u5411\u91cf","text":"<p>\u7531\u6807\u91cf\u7ec4\u6210\u7684\u5217\u8868\uff0c\u901a\u5e38\u8bb0\u4e3a\u7c97\u4f53\u3001\u5c0f\u5199\u7684\u5b57\u6bcd\uff08\\(\\mathbf{x\u3001y\u3001x}\\)\uff09\uff0c\u5411\u91cf\u662f\u4e00\u7ef4\u7684\u5f20\u91cf\u3002 \u5927\u91cf\u6587\u732e\u8ba4\u4e3a\u5217\u5411\u91cf\u662f\u5411\u91cf\u7684\u9ed8\u8ba4\u65b9\u5411\uff0c\u5728\u672c\u4e66\u4e2d\u4e5f\u662f\u5982\u6b64\u3002</p>"},{"location":"math/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/#_3","title":"\u77e9\u9635","text":"<p>\u901a\u5e38\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u6807\u8bc6\u77e9\u9635\uff08\\({X\u3001Y\u3001Z}\\)\uff09\uff0c\u4f7f\u7528\\({A}\\in {R}^{m\\times n}\\)</p>"},{"location":"math/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/#_4","title":"\u5f20\u91cf","text":"<p>\u901a\u5e38\u4f7f\u7528\u7c97\u4f53\u3001\u5927\u5199\u5b57\u6bcd\u6807\u8bc6\uff08\\(\\mathbf {\\textsf {X,Y,Z}}\\)\uff09</p> <p>\u5f20\u91cf\u7684\u57fa\u672c\u6027\u8d28\uff1a - \u4efb\u4f55\u5143\u7d20\u7684\u4e00\u5143\u8fd0\u7b97\u90fd\u4e0d\u4f1a\u6539\u53d8\u5176\u5f62\u72b6 - \u7ed9\u5b9a\u5177\u6709\u76f8\u540c\u5f62\u72b6\u7684\u4efb\u610f\u4e24\u4e2a\u5f20\u91cf\uff0c\u4efb\u4f55\u6309\u5143\u7d20\u4e8c\u5143\u8fd0\u7b97\u7684\u7ed3\u679c\u90fd\u5c06\u662f\u76f8\u540c\u5f62\u72b6\u7684\u5f20\u91cf\u3002     - \u52a0\u6cd5     - Hadamard\u79ef\uff0c\u901a\u5e38\u7528\\(\\odot\\)\u8868\u793a - \u964d\u7ef4 - \u70b9\u79ef \u76f8\u540c\u4f4d\u7f6e\u7684\u6309\u5143\u7d20\u4e58\u79ef\u7684\u548c\uff0c\u53ef\u4ee5\u901a\u8fc7\u6267\u884c\u6309\u5143\u7d20\u4e58\u6cd5\uff0c\u7136\u540e\u6c42\u548c\u6765\u8868\u793a\u4e24\u4e2a\u5411\u91cf\u7684\u70b9\u79ef\u3002</p> <ul> <li>\u77e9\u9635-\u5411\u91cf\u79ef \\(\\mathbf{Ax}\\)</li> <li>\u77e9\u9635-\u77e9\u9635\u4e58\u6cd5</li> <li>\u8303\u6570</li> </ul> <p>\u5411\u91cf\u7684\u6c42\u5bfc\u95ee\u9898</p> <p>\u5411\u91cf\u5bf9\u5411\u91cf\u6c42\u5bfc</p> <p>\u5012\u4e09\u89d2\u7684\u542b\u4e49 Nabla\u7b97\u5b50</p> <p>\u77e9\u9635\u6c42\u5bfc\u516c\u5f0f</p> <p>\u673a\u5668\u5b66\u4e60\u6570\u5b66\u57fa\u7840\u4e4b\u77e9\u9635\u6c42\u5bfc</p>"},{"location":"math/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/#_5","title":"\u6807\u91cf\u5bf9\u5411\u91cf\u6c42\u5bfc","text":"<p>\u5047\u8bbe\u4e00\u4e2a\u51fd\u6570 \\(f(x)=X^TX\\) \u5176\u4e2d \\(\\small{X}\\normalsize{=[x_1,x_2]^T}\\)\u3002\u7136\u540e\uff0c\u6211\u4eec\u9488\u5bf9x\u7684\u6bcf\u4e2a\u5143\u7d20\u8ba1\u7b97\u5bfc\u6570\uff0c\u7ed3\u679c\u662f\\(2X^T\\)</p> <p>\u5148\u4ecb\u7ecd\u5411\u91cf\u7684\u4e24\u79cd\u8fd0\u7b97\uff0c\u4e00\u4e2a\u884c\u5411\u91cf\u4e58\u4ee5\u4e00\u4e2a\u5217\u5411\u91cf\u79f0\u4f5c\u5411\u91cf\u7684\u5185\u79ef\uff0c\u53c8\u53eb\u4f5c\u70b9\u79ef\uff0c\u7ed3\u679c\u662f\u4e00\u4e2a\u6570\uff1b</p> <p>\u4e00\u4e2a\u5217\u5411\u91cf\u4e58\u4ee5\u4e00\u4e2a\u884c\u5411\u91cf\u79f0\u4f5c\u5411\u91cf\u7684\u5916\u79ef\uff0c\u5916\u79ef\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u514b\u7f57\u5185\u514b\u79ef\uff0c\u7ed3\u679c\u662f\u4e00\u4e2a\u77e9\u9635\uff0c</p> <p>\u77e9\u9635&amp;\u5411\u91cf\u7684\u6c42\u5bfc\u65b9\u6cd5\u63a8\u5bfc\u53ca\u5e38\u7528\u516c\u5f0f\u603b\u7ed3\u548c\u8bc1\u660e(\u4e00)</p> <p>\u5411\u91cf\u5bf9\u5411\u91cf\u6c42\u5bfc\u7684\u65f6\u5019\u9700\u8981\u8003\u8651\u662fnumerator layout\u8fd8\u662fdenominator layout\uff0c\u6240\u4ee5\u65e2\u53ef\u4ee5\u662fW\u4e5f\u53ef\u4ee5\u662fW.T\uff0c\u4e0d\u8fc7\u4e00\u822c\u91c7\u7528\u540e\u8005</p> <p>\u987a\u5e8f\u9605\u8bfb\uff1a \u77e9\u9635\u6c42\u5bfc\u7684\u672c\u8d28\u4e0e\u5206\u5b50\u5e03\u5c40\u3001\u5206\u6bcd\u5e03\u5c40\u7684\u672c\u8d28 \u77e9\u9635\u6c42\u5bfc\u516c\u5f0f\u7684\u6570\u5b66\u63a8\u5bfc \u57fa\u7840\u7bc7 \u77e9\u9635\u6c42\u5bfc\u516c\u5f0f\u7684\u6570\u5b66\u63a8\u5bfc-\u8fdb\u9636\u7bc7</p>"},{"location":"post/freeswitch/1%20%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/","title":"1 \u5b89\u88c5\u8bf4\u660e","text":"<p>\u53c2\u8003\u8d44\u6599\uff1a freeswitch\u4e2d\u6587\u6587\u6863 freeswitch\u548cunimrcp\u96c6\u6210 freeswitch mod_unimrcp\u5b98\u65b9\u6587\u6863 \u6700\u5168FreeSwitch 1.10.9 Linux\u901a\u7528\u7f16\u8bd1\u90e8\u7f72\u6559\u7a0b xswitch\u6559\u7a0b FreeSWITCH \u9ad8\u53ef\u7528\u90e8\u7f72\u4e0e\u4e91\u539f\u751f\u96c6\u7fa4\u90e8\u7f72 \u200bFreeSWITCH\u89c6\u9891\u4f1a\u8bae\u201c\u6807\u51c6\u201d\u89e3\u51b3\u65b9\u6848 MRCP\u5728\u7f8e\u56e2\u8bed\u97f3\u4ea4\u4e92\u4e2d\u7684\u5b9e\u8df5\u548c\u5e94\u7528</p> <p>freeswitch\u7684\u5b98\u65b9\u5b89\u88c5\u6587\u6863\u63a8\u8350\u4f7f\u7528debian\u7cfb\u7edf\uff0c\u8fd9\u91cc\u4f7f\u7528docker\u7684<code>debian:bullseye</code>\u955c\u50cf\u3002</p> <p>freeswitch1.10.4\u53ca\u4e4b\u540e\u7684\u7248\u672cfreeswitch\u5b98\u65b9\u5c06spandsp \u548c sofia-sip\u5355\u62ce\u51fa\u6765\u4e86\uff0c\u9700\u8981\u5355\u72ec\u62c9\u4ee3\u7801\u7f16\u8bd1\uff0c\u5982\u679c\u662f\u7f16\u8bd11.10.4\u4e4b\u524d\u7684freeswitch\u4e0d\u5fc5\u5355\u72ec\u62c9spandsp\u548csofia-sip\u7684\u4ee3\u7801\uff0c\u76f4\u63a5\u7f16\u8bd1\u5373\u53ef\u3002</p> <p>\u5404\u7248\u672c\u8bf4\u660efreeswitch release notes \uff0c\u8fd9\u91cc\u5b89\u88c5 1.10.9</p> <ul> <li> <p>https://github.com/freeswitch/sofia-sip   https://github.com/freeswitch/spandsp   https://github.com/freeswitch/mod_unimrcp</p> </li> <li> <p>\u6700\u65b0\u7684<code>mod_verto</code>\u6a21\u5757\u4e5f\u9700\u8981<code>libks</code>\uff0c\u6e90\u4ee3\u7801\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u5730\u5740\u83b7\u53d6\uff1a</p> </li> <li> <p>https://github.com/signalwire/libks</p> </li> <li> <p>\u53ef\u4ee5\u53c2\u8003\u00a0http://www.freeswitch.org.cn/Makefile\u00a0\u4ee5\u786e\u5b9a\u4f60\u7684\u5e73\u53f0\u4e0a\u5e94\u8be5\u5b89\u88c5\u54ea\u4e9b\u5305\u3002\u5f53\u7136\uff0c\u8be5\u6587\u4ef6\u4e0d\u662f\u6c38\u8fdc\u80fd\u4fdd\u8bc1\u6700\u65b0\u7684</p> </li> </ul> <p>mod_av \u5bf9\u97f3\u89c6\u9891\u6a21\u5757\u8fdb\u884c\u4e86\u6269\u5c55 mod_verto\u63d0\u4f9b\u4e86\u5bf9webRTC\u7684\u652f\u6301</p> <pre><code>docker run -it debian:bullseye\n\nsed -i 's/deb.debian.org/mirrors.ustc.edu.cn/g' /etc/apt/sources.list\n\napt-get update\n\napt-get install \\\n    build-essential cmake automake autoconf 'libtool-bin|libtool' pkg-config \\\n    libssl-dev zlib1g-dev libdb-dev unixodbc-dev libncurses5-dev libexpat1-dev libgdbm-dev bison erlang-dev libtpl-dev libtiff5-dev uuid-dev \\\n    libpcre3-dev libedit-dev libsqlite3-dev libcurl4-openssl-dev nasm \\\n    libogg-dev libspeex-dev libspeexdsp-dev \\\n    libldns-dev \\\n    python3-dev \\\n    libavformat-dev libswscale-dev libavresample-dev \\\n    liblua5.2-dev \\\n    libopus-dev \\\n    libpq-dev \\\n    libsndfile1-dev libflac-dev libogg-dev libvorbis-dev\n\necho \"/usr/local/lib\" &gt;&gt; /etc/ld.so.conf\necho \"/usr/lib/x86_64-linux-gnu\" &gt;&gt; /etc/ld.so.conf\nldconfig\n\ncd /usr/local/src\n\n# \u8bbe\u7f6egithub\u4ee3\u7406\ngit config --global url.\"https://ghproxy.com/https://github.com\".insteadOf \"https://github.com\"\n\n\ngit clone https://github.com/signalwire/libks\n\ngit clone https://github.com/freeswitch/sofia-sip\n\n#tag 20230804 install \ngit clone https://github.com/freeswitch/spandsp\ncd spandsp/\ngit reset --hard 67d2455efe02e7ff0d897f3fd5636fed4d54549e\n\n\ncurl -o freeswitch-1.10.9.-release.tar.gz https://files.freeswitch.org/releases/freeswitch/freeswitch-1.10.9.-release.tar.gz\nmv freeswitch-1.10.9.-release freeswitch\nrm -rf freeswitch-1.10.9.-release.tar.gz\n\n# /usr/lib/libks2.so\n# /usr/lib/pkgconfig/libks2.pc\n# /usr/include/libks2\ncd libks/\ncmake .\nmake\nmake install\n\n#tag /usr/local/lib\ncd ../sofia-sip/\n./bootstrap.sh\n./configure\nmake\nmake install\n\n#tag  /usr/local/lib\ncd ../spandsp/\n./bootstrap.sh\n./configure\nmake\nmake install\n\nldconfig\n\n#tag \ncd ../freeswitch/\n\n# \u53d6\u6d88mod_maridb \u6ce8\u91ca\nsed -i '/mod_signalwire/s/^/#/' /usr/local/src/freeswitch/modules.conf\nsed -i '/mod_av/s/^/#/' /usr/local/src/freeswitch/modules.conf\nsed -i '/mod_verto/s/^/#/' /usr/local/src/freeswitch/modules.conf\n\n# \u5982\u679c\u662fgithub\u62c9\u7684\u4ee3\u7801\u6709\u8fd9\u4e00\u6b65\uff0c\u5982\u679c\u662f\u4e0b\u8f7dtar\u5305\u89e3\u538b\u7684\u6ca1\u6709\u8fd9\u4e00\u6b65\n# ./bootstrap.sh\n./configure\nmake\nmake install\n\nsed -i '/mod_av/s|.*|&lt;!-- &amp; --&gt;|' /usr/local/freeswitch/conf/autoload_configs/modules.conf.xml\nsed -i '/mod_verto/s|.*|&lt;!-- &amp; --&gt;|' /usr/local/freeswitch/conf/autoload_configs/modules.conf.xml\nsed -i '/mod_signalwire/s|.*|&lt;!-- &amp; --&gt;|' /usr/local/freeswitch/conf/autoload_configs/modules.conf.xml\n\n# \u5b89\u88c5unimrcp\u76f8\u5173\u6a21\u5757\ncd /usr/local/src\nwget https://www.unimrcp.org/project/component-view/unimrcp-deps-1-6-0-tar-gz/download -O unimrcp-deps-1.6.0.tar.gz\ntar xvzf unimrcp-deps-1.6.0.tar.gz\n\ncd unimrcp-deps-1.6.0\n\n# /usr/local/apr/lib\ncd libs/apr\n./configure --prefix=/usr/local/apr\nmake\nmake install \n\necho \"/usr/local/apr/lib\" &gt;&gt; /etc/ld.so.conf\nldconfig\n\ncd ..\ncd apr-util\n./configure --with-apr=/usr/local/src/unimrcp-deps-1.6.0/libs/apr --prefix=/usr/local/apr\nmake\nmake install\nldconfig\n\n#  /usr/local/unimrcp/lib\ncd /usr/local/src\ngit clone https://github.com/unispeech/unimrcp.git\ncd unimrcp\n./bootstrap\n./configure\nmake\nmake install\n\n#  /usr/local/freeswitch/mod\ngit clone https://github.com/freeswitch/mod_unimrcp.git\ncd mod_unimrcp\nexport PKG_CONFIG_PATH=/usr/local/freeswitch/lib/pkgconfig:/usr/local/unimrcp/lib/pkgconfig\n./bootstrap.sh\n./configure\nmake\nmake install\ncd ..\n\napt-get install supervisor\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6bd5\u3002</p> <p>\u95ee\u9898\uff1a 1. \u6700\u65b0\u7248\u672c spandsp  make\u7f16\u8bd1\u9519\u8bef https://github.com/signalwire/freeswitch/issues/2158</p> <p>freeswitch\u5b89\u88c5\u5b8c\u4e4b\u540e\uff1a</p> <pre><code>----------------------------------------------------------------------\nLibraries have been installed in:\n   /usr/local/freeswitch/mod\n\nIf you ever happen to want to link against installed libraries\nin a given directory, LIBDIR, you must either use libtool, and\nspecify the full pathname of the library, or use the '-LLIBDIR'\nflag during linking and do at least one of the following:\n   - add LIBDIR to the 'LD_LIBRARY_PATH' environment variable\n     during execution\n   - add LIBDIR to the 'LD_RUN_PATH' environment variable\n     during linking\n   - use the '-Wl,-rpath -Wl,LIBDIR' linker flag\n   - have your system administrator add LIBDIR to '/etc/ld.so.conf'\n\nSee any operating system documentation about shared libraries for\nmore information, such as the ld(1) and ld.so(8) manual pages.\n----------------------------------------------------------------------\nmake[5]: Leaving directory '/usr/local/src/freeswitch/src/mod/xml_int/mod_xml_scgi'\nmake[4]: Leaving directory '/usr/local/src/freeswitch/src/mod/xml_int/mod_xml_scgi'\nmake[3]: Leaving directory '/usr/local/src/freeswitch/src/mod'\nmake[3]: Entering directory '/usr/local/src/freeswitch/src'\nmake[4]: Entering directory '/usr/local/src/freeswitch/src'\nmake[4]: Nothing to be done for 'install-exec-am'.\nmake[4]: Nothing to be done for 'install-data-am'.\nmake[4]: Leaving directory '/usr/local/src/freeswitch/src'\nmake[3]: Leaving directory '/usr/local/src/freeswitch/src'\nmake[2]: Leaving directory '/usr/local/src/freeswitch/src'\nMaking install in build\nmake[2]: Entering directory '/usr/local/src/freeswitch/build'\n +---------- FreeSWITCH install Complete ----------+\n + FreeSWITCH has been successfully installed.     +\n +                                                 +\n +       Install sounds:                           +\n +       (uhd-sounds includes hd-sounds, sounds)   +\n +       (hd-sounds includes sounds)               +\n +       ------------------------------------      +\n +                make cd-sounds-install           +\n +                make cd-moh-install              +\n +                                                 +\n +                make uhd-sounds-install          +\n +                make uhd-moh-install             +\n +                                                 +\n +                make hd-sounds-install           +\n +                make hd-moh-install              +\n +                                                 +\n +                make sounds-install              +\n +                make moh-install                 +\n +                                                 +\n +       Install non english sounds:               +\n +       replace XX with language                  +\n +       (ru : Russian)                            +\n +       (fr : French)                             +\n +       ------------------------------------      +\n +                make cd-sounds-XX-install        +\n +                make uhd-sounds-XX-install       +\n +                make hd-sounds-XX-install        +\n +                make sounds-XX-install           +\n +                                                 +\n +       Upgrade to latest:                        +\n +       ----------------------------------        +\n +                make current                     +\n +                                                 +\n +       Rebuild all:                              +\n +       ----------------------------------        +\n +                make sure                        +\n +                                                 +\n +       Install/Re-install default config:        +\n +       ----------------------------------        +\n +                make samples                     +\n +                                                 +\n +                                                 +\n +       Additional resources:                     +\n +       ----------------------------------        +\n +       https://www.freeswitch.org                +\n +       https://freeswitch.org/confluence         +\n +       https://freeswitch.org/jira               +\n +       http://lists.freeswitch.org               +\n +                                                 +\n +       irc.freenode.net / #freeswitch            +\n +                                                 +\n +       Register For ClueCon:                     +\n +       ----------------------------------        +\n +       https://www.cluecon.com                   +\n +                                                 +\n +-------------------------------------------------+\n</code></pre> <p>freeswitch \u73af\u5883\u914d\u7f6e</p> <p>\u7981\u7528ipv6</p> <p>cd sip_profiles/ mv external-ipv6.xml external-ipv6.xml.bak mv internal-ipv6.xml internal-ipv6.xml.bak</p> <p>\u7f16\u8f91/usr/local/freeswitch/conf/autoload_configs/modules.conf.xml\uff0c\u53bb\u6389\u6ce8\u91ca\u7b26\u53f7\uff0c\u5982\u679c\u6ca1\u6709\u53d1\u73b0\u5bf9\u5e94\u6a21\u5757\uff0c\u5219\u6dfb\u52a0 load module=\"mod_unimrcp\"</p> <p>\u521b\u5efaunimrcp.conf.xml\u6587\u4ef6</p> <pre><code>\n</code></pre> <p>cd .. mkdir mrcp_profiles</p> <p>ERROR: Failed to set SCHED_FIFO scheduler (Operation not permitted) ERROR: Could not set nice level</p> <p>[ERR] switch_vpx.c:1832 no codecs in vp8 [ERR] switch_vpx.c:1832 no codecs in vp9 [ERR] switch_vpx.c:1832 no codecs in conference-vp8</p> <p>[ERR] mod_event_socket.c:2962 Cannot get information about IP address :: \u66f4\u6539event_socket.conf.xml ip \u8bbe\u7f6e\u4e3a 0.0.0.0</p> <p>[ERR] switch_vpx.c:1832 no codecs in vp8 [ERR] switch_vpx.c:1832 no codecs in vp9 [ERR] switch_vpx.c:1832 no codecs in conference-vp8</p> <p>freeswitch\u8de8nat\u8bbe\u7f6e</p> <p>\u914d\u7f6e\u4f7f\u7528odbc\u8fde\u63a5mysql <pre><code># \u67e5\u770b\u4fe1\u606f\nfind / -name \"*odbc*\"\n# \u67e5\u770b\u914d\u7f6e\u4fe1\u606f\nodbcinst -j\n\nunixODBC 2.3.6\nDRIVERS............: /etc/odbcinst.ini\nSYSTEM DATA SOURCES: /etc/odbc.ini\nFILE DATA SOURCES..: /etc/ODBCDataSources\nUSER DATA SOURCES..: /root/.odbc.ini\nSQLULEN Size.......: 8\nSQLLEN Size........: 8\nSQLSETPOSIROW Size.: 8\n</code></pre></p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/","title":"2 \u4f7f\u7528\u8bf4\u660e","text":""},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_1","title":"\u7ebf\u8def\u5bf9\u63a5\u65b9\u5f0f","text":""},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#fxo","title":"\u7535\u8bdd\u7ebf\u5bf9\u63a5\u2014\u2014FXO\u7f51\u5173","text":"<p>\u5411\u8fd0\u8425\u5546\u7533\u8bf7\u4e86\u53f7\u7801\uff0c\u8fd0\u8425\u5546\u901a\u8fc7\u642d\u5efa\u4e00\u4e9b\u8bbe\u5907\uff0c\u6700\u540e\u662f\u666e\u901a\u7535\u8bdd\u7ebf\u7684\u65b9\u5f0f\u7275\u5165\u5230\u673a\u623f\u3002\u7535\u8bdd\u7ebf\u5c31\u9700\u8981\u4f7f\u7528FXO\u7f51\u5173\u624d\u80fd\u63a5\u5165\u5230\u547c\u53eb\u7cfb\u7edf\u3002\u7535\u8bdd\u7ebf\u63d2\u5165FXO\u7f51\u5173\uff0c\u901a\u8fc7\u7f51\u7edc\u4e0e\u547c\u53eb\u4e2d\u5fc3\u8fde\u63a5\uff0c\u5b9e\u73b0\u8c03\u7528\u7535\u8bdd\u7ebf\u547c\u5165\u547c\u51fa\u3002</p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#goip","title":"\u624b\u673a\u5361\u2014\u2014GOIP\u7f51\u5173","text":"<p>\u548c\u7535\u8bdd\u7ebf\u65b9\u5f0f\u4e00\u6837\uff0c\u53ea\u662f\u63a5\u5165\u8bbe\u5907\u4e0d\u540c\u3002\u7528\u6237\u7533\u8bf7\u4e86\u4e00\u6279\u624b\u673a\u5361\uff0c\u5361\u63d2\u5728GOIP\u7f51\u5173\u91cc\u9762\uff0c\u901a\u8fc7\u7f51\u7edc\u4e0e\u547c\u53eb\u4e2d\u5fc3\u8fde\u63a5\uff0c\u5b9e\u73b0\u8c03\u7528\u7535\u8bdd\u7ebf\u547c\u5165\u547c\u51fa\u3002</p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#2me1","title":"2M\u4e2d\u7ee7\u7ebf\u2014\u2014E1\u4e2d\u7ee7\u7f51\u5173","text":"<p>\u548c\u4e0a\u97622\u79cd\u65b9\u5f0f\u4e00\u6837\uff0c\u8fd9\u79cd\u7ebf\u8def\u4e5f\u662f\u8fd0\u8425\u5546\u901a\u8fc7\u5b89\u88c5\u4e00\u4e9b\u8bbe\u5907\u5230\u673a\u623f\uff0c\u6700\u7ec8\u7275\u51fa\u6765\u7684\u662f2\u4e2a\u8f6c\u6362\u5934\uff08BNC\u63d2\u5934\uff0c\u53c8\u53ebQ9\u5934\uff0c\u662f\u4e00\u79cd\u6807\u51c6\u7684\u540c\u8f74\u7535\u7f06\u8fde\u63a5\u5668\uff09\u3002\u9700\u8981\u4e00\u53f0E1\u4e2d\u7ee7\u7f51\u5173\u8fdb\u884c\u548c\u7cfb\u7edf\u5bf9\u63a5\u3002\u4e0d\u540c\u7684\u662f\uff0c\u4e0a\u97622\u79cd\u65b9\u5f0f\uff0c\u4e00\u6839\u7535\u8bdd\u7ebf\u6216\u8005\u4e00\u5f20\u624b\u673a\u5361\u90fd\u53ea\u6709\u4e00\u4e2a\u5e76\u53d1\uff08\u5c31\u662f\u540c\u65f6\u4e00\u4e2a\u53f7\u7801\u53ea\u80fd\u4e00\u4e2a\u547c\u51fa\u6216\u8005\u547c\u5165\uff09\u3002\u4f46\u662f\u4e00\u6761\u4e2d\u7ee7\u7ebf\u5c31\u5177\u670930\u4e2a\u5e76\u53d1\u7684\u80fd\u529b\u3002\u56e0\u4e3a\u540c\u8f74\u7535\u7f06\u662f\u4e00\u79cd\u5c4f\u853d\u7535\u7f06\uff0c\u6709\u4f20\u9001\u8ddd\u79bb\u957f\u3001\u4fe1\u53f7\u7a33\u5b9a\u7684\u4f18\u70b9\u3002</p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#sip","title":"SIP\u7ebf\u8def\u2014\u2014\u670d\u52a1\u5668","text":"<p>\u8fd9\u79cd\u5c31\u662f\u5e02\u9762\u4e0a\u4e13\u4e1a\u505a\u7ebf\u8def\u7684\u516c\u53f8\uff0c\u96c6\u5408\u4e86\u5f88\u591a\u79cd\u7ebf\u8def\u5230\u4ed6\u4eec\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e0a\u3002\u8fd9\u79cd\u4e0d\u9700\u8981\u4efb\u4f55\u8bbe\u5907\u5bf9\u63a5\uff0c\u7ebf\u8def\u65b9\u4f1a\u7ed9\u4ed6\u4eec\u7684\u670d\u52a1\u5668ip\u548c\u4e00\u4e9b\u9a8c\u8bc1\u7ed9\u7528\u6237\u3002\u7cfb\u7edf\u901a\u8fc7\u7f51\u7edc\u5e76\u901a\u8fc7\u9a8c\u8bc1\u76f4\u63a5\u5411\u4ed6\u4eec\u670d\u52a1\u5668\u53d1\u8d77\u547c\u53eb\u3002\u8fd9\u79cd\u65b9\u5f0f\u6700\u8282\u7ea6\u6210\u672c\uff0c\u4f46\u662f\u5916\u547c\u53f7\u7801\u4e0d\u56fa\u5b9a\uff0c\u4e0d\u662f\u81ea\u5df1\u7684\u7ebf\u8def\uff0c\u4e0d\u786e\u5b9a\u56e0\u7d20\u5f88\u591a\uff0c\u5916\u547c\u6545\u969c\u7387\u6bd4\u8f83\u9ad8\uff0c\u63a5\u901a\u7387\u8f83\u4f4e\u3002 30B+D \u6216 ISDN-PRI </p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#ims","title":"IMS\u7ebf\u8def\u2014\u2014\u670d\u52a1\u5668","text":"<p>ims\u5176\u5b9e\u5c31\u662f\u8fd0\u8425\u5546\u7684sip\u7ebf\u8def\u3002\u4e0a\u9762\u5e02\u9762\u4e0a\u7b2c\u4e09\u65b9\u7684sip\u7ebf\u8def\u53ea\u8981\u670d\u52a1\u5668\u53ef\u4ee5\u4e0a\u7f51\u5c31\u53ef\u4ee5\u5bf9\u63a5\uff0c\u4f46\u662f\u8fd0\u8425\u5546\u7684sip\u7ebf\u8def\u9700\u8981\u8fd0\u8425\u5546\u6307\u5b9a\u7684ip\u624d\u53ef\u4ee5\u5bf9\u63a5\u3002\u7528\u6237\u5411\u8fd0\u8425\u5546\u7533\u8bf7\u7ebf\u8def\u540e\uff0c\u8fd0\u8425\u5546\u4f1a\u7275\u4e00\u6761\u7f51\u7edc\u7ebf\u8def\u8fdb\u6765\uff0c\u53ef\u80fd\u662f\u5149\u732b\u6216\u8005\u5176\u4ed6\u7f51\u7edc\u8bbe\u5907\uff0c\u4f1a\u5206\u914d\u4e00\u4e2a\u56fa\u5b9aip\u3002\u5149\u732b\u6216\u8005\u5176\u4ed6\u7f51\u7edc\u8bbe\u5907\u901a\u8fc7\u7f51\u7ebf\u8fde\u63a5\u5230\u670d\u52a1\u5668\u7684\u7f51\u53e3\uff0c\u56fa\u5b9aip\u914d\u7f6e\u5728\u670d\u52a1\u5668\u7f51\u53e3\uff0c\u7cfb\u7edf\u901a\u8fc7\u8fd9\u4e2a\u7f51\u53e3\u5411\u8fd0\u8425\u5546\u8fdb\u884c\u5bf9\u63a5\u548c\u547c\u53eb\u3002\u8fd9\u4e2a\u65b9\u5f0f\u5c31\u9700\u8981\u670d\u52a1\u5668\u786c\u4ef6\u67092\u4e2a\u7f51\u53e3\uff0c\u4e00\u4e2a\u7f51\u53e3\u662f\u670d\u52a1\u5668\u8bbf\u95ee\u7684ip\uff0c\u4e00\u4e2a\u662f\u5bf9\u63a5\u7ebf\u8def\u7684\u8fd0\u8425\u5546ip\u3002</p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#dialplan","title":"Dialplan","text":"<p>dialplan\u7531\u591a\u4e2acontext\u7ec4\u6210\uff0c\u6bcf\u4e2acontext\u6709\u591a\u4e2aextension\u3002\u5982\u679c\u628a\u6574\u4e2aDialplan\u770b\u4f5c\u4e00\u5f20\u8def\u7531\u8868\u7684\u8bdd\uff0cContext\u5c31\u76f8\u5f53\u4e8e\u8def\u7531\u8868\u9879\u4e2d\u4e0d\u540c\u7684\u903b\u8f91\u5206\u7ec4\uff0cextension\u76f8\u5f53\u4e8e\u8def\u7531\u8868\u4e2d\u7684\u8868\u9879\u3002</p> <p>\u4e00\u4e2adialplan\u7684\u5b8c\u6574\u7ed3\u6784\uff1a <pre><code>&lt;?xml\u00a0version=\"1.0\"?&gt;\n&lt;document\u00a0type=\"freeswitch/xml\"&gt;\n\u00a0\u00a0\u00a0\u00a0&lt;section\u00a0name=\"dialplan\"\u00a0description=\"Regex/XML\u00a0Dialplan\"&gt;\n    \u00a0\u00a0\u00a0\u00a0&lt;context\u00a0name=\"default\"&gt;\n        \u00a0\u00a0\u00a0\u00a0&lt;extension\u00a0name=\"Test\u00a0Extension\"&gt;\n        \u00a0\u00a0\u00a0\u00a0&lt;/extension&gt;\n    \u00a0\u00a0\u00a0\u00a0&lt;/context&gt;\n\u00a0\u00a0\u00a0\u00a0&lt;/section&gt;\n&lt;/document&gt;\n</code></pre></p> <p>\u7cfb\u7edf\u9ed8\u8ba4\u63d0\u4f9b\u7684\u914d\u7f6e\u6587\u4ef6\u5305\u542b\u4e09\u4e2aContext\uff0c\u5206\u522b\u662fdefault\u3001features\u548cpublic\u3002default\u662f\u9ed8\u8ba4\u7684Dialplan\uff0c\u4e00\u822c\u6765\u8bf4\u6ce8\u518c\u7528\u6237\u90fd\u53ef\u4ee5\u901a\u8fc7\u5b83\u6765\u6253\u7535\u8bdd\uff0c\u5982\u62e8\u6253\u5176\u4ed6\u5206\u673a\u6216\u5916\u90e8\u7535\u8bdd\u7b49\u3002 public\u4e00\u822c\u7528\u4e8e\u63a5\u6536\u5916\u6765\u547c\u53eb\uff0c\u56e0\u4e3a\u4ece\u5916\u90e8\u8fdb\u6765\u7684\u547c\u53eb\u662f\u4e0d\u53ef\u4fe1\u7684\uff0c\u6240\u4ee5\u8981\u8fdb\u884c\u66f4\u4e25\u683c\u7684\u63a7\u5236\u3002</p> <p>\u5728default\u548cpublic\u4e2d\uff0c\u53c8\u901a\u8fc7include\u9884\u5904\u7406\u6307\u4ee4\u5206\u522b\u52a0\u5165\u4e86default\u548cinclude\u76ee\u5f55\u4e2d\u7684\u6240\u6709.xml\u6587\u4ef6\u3002\u8fd9\u4e9b\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u4ec5\u5305\u542b\u4e00\u4e9b\u989d\u5916\u7684Extension\u3002\u7531\u4e8eDialplan\u5728\u5904\u7406\u7684\u65f6\u5019\u662f\u4e00\u5b9a\u7684\u987a\u5e8f\u8fdb\u884c\u7684\uff0c\u6240\u4ee5\u4e00\u5b9a\u8981\u6ce8\u610f\u8fd9\u4e9b\u6587\u4ef6\u7684\u88c5\u5165\u987a\u5e8f\u3002\u901a\u5e38\u8fd9\u4e9b\u6587\u4ef6\u90fd\u662f\u6309\u6587\u4ef6\u540d\u6392\u5e8f\u7684\uff0c\u598200_\u300101_\u7b49\u7b49\u3002\u5982\u679c\u4f60\u60f3\u6dfb\u52a0\u65b0\u7684Extension\uff0c\u53ef\u4ee5\u5728\u8fd9\u4e9b\u76ee\u5f55\u91cc\u521b\u5efa\u6587\u4ef6\u3002\u4f46\u8981\u6ce8\u610f\uff0c\u8fd9\u4e9b\u6587\u4ef6\u7684\u4f18\u5148\u7ea7\u4e00\u822c\u6bd4\u76f4\u63a5\u5199\u5728default.xml\u6216public\u3001xml\u4e2d\u8981\u4f4e\uff08\u53d6\u51b3\u4e8einclude\u8bed\u53e5\u7684\u4f4d\u7f6e\uff09\u3002</p> <p>FreeSWITCH\u63d0\u4f9b\u4e86\u7b80\u5355\u7684API\u53ef\u4ee5\u6d4b\u8bd5\u4f60\u5199\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u5426\u6b63\u786e\uff0c\u53ea\u9700\u8981\u5728\u547d\u4ee4\u884c\u4e0a\u8f93\u5165\u201cregex\u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32|\u6b63\u5219\u8868\u8fbe\u5f0f\u201d\u5373\u53ef\uff0c\u5982\uff08\u8fd4\u56detrue\u8868\u793a\u5339\u914d\uff09\uff1a <pre><code>freeswitch&gt;\u00a0regex\u00a01234\u00a0|\u00a0\\d{4}  \ntrue  \nfreeswitch&gt;\u00a0regex\u00a01234\u00a0|\u00a0\\d{5}  \nfalse  \n</code></pre></p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_2","title":"\u901a\u9053\u53d8\u91cf","text":"<p>\u5728FreeSWITCH\u4e2d\uff0c\u6bcf\u4e00\u6b21\u547c\u53eb\u90fd\u7531\u4e00\u6761\u6216\u591a\u6761\u201c\u817f\u201d\uff08Call Leg\uff09\u7ec4\u6210\uff0c\u4e00\u6761\u817f\u53c8\u79f0\u4e3a\u4e00\u4e2aChannel\uff08\u901a\u9053\uff09\uff0c\u6bcf\u4e00\u4e2aChannel\u90fd\u6709\u5f88\u591a\u5c5e\u6027\uff0c\u7528\u4e8e\u6807\u8bc6Channel\u7684\u72b6\u6001\u3001\u6027\u80fd\u7b49\uff0c\u8fd9\u4e9b\u5c5e\u6027\u79f0\u4e3aChannel Variable\uff08\u901a\u9053\u53d8\u91cf\uff09\uff0c\u53ef\u7b80\u5199\u4e3aChannel Var\u3001Chan Var\u6216Var\u3002</p> <p>\u901a\u8fc7info app\uff0c\u67e5\u770b\u6240\u6709\u7684\u901a\u9053\u53d8\u91cf\u3002 <pre><code>&lt;extension\u00a0name=\"Show\u00a0Channel\u00a0Variable\"&gt;  \n\u00a0\u00a0\u00a0\u00a0&lt;condition\u00a0field=\"destination_number\"\u00a0expression=\"^1235|info$\"&gt; \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;action\u00a0application=\"info\"\u00a0data=\"\"/&gt;  \n\u00a0\u00a0\u00a0\u00a0&lt;/condition&gt;  \n&lt;/extension&gt;\n</code></pre></p> <p>\u6240\u6709\u7684\u901a\u9053\u53d8\u91cf\u90fd\u53ef\u4ee5\u5728Dialplan\u4e2d\u8bbf\u95ee\u3002 <pre><code>&lt;extension\u00a0name=\"Accessing\u00a0Channel\u00a0Variable\"&gt;  \n\u00a0\u00a0&lt;condition\u00a0field=\"destination_number\"\u00a0expression=\"^1236(\\d+)$\"&gt;  \n\u00a0\u00a0\u00a0\u00a0&lt;action\u00a0application=\"log\"\u00a0data=\"INFO\u00a0I\u00a0know\u00a0you\u00a0called\u00a0${destination_number}\"/&gt;  \n\u00a0\u00a0\u00a0\u00a0&lt;action\u00a0application=\"log\"\u00a0data=\"INFO\u00a0Last\u00a0few\u00a0digits\u00a0is\u00a0$1\"/&gt;\n\u00a0\u00a0\u00a0\u00a0&lt;action\u00a0application=\"log\"\u00a0data=\"ERR\u00a0just\u00a0jocking\u00a0:)\"/&gt;  \n\u00a0\u00a0\u00a0\u00a0&lt;action\u00a0application=\"hangup\"/&gt;  \n\u00a0\u00a0&lt;/condition&gt;  \n&lt;/extension&gt;\n</code></pre></p> <p>\u65e2\u7136\u6211\u4eec\u5728info App\u7684\u8f93\u51fa\u91cc\u6ca1\u770b\u5230destination_number\u8fd9\u4e00\u53d8\u91cf\uff0c\u90a3\u4e3a\u4ec0\u4e48\u6211\u4eec\u53ef\u4ee5\u5f15\u7528\u5b83\u5462\uff1f\u5b83\u5230\u5e95\u662f\u4ece\u54ea\u91cc\u6765\u7684\uff1f\u662f\u8fd9\u6837\u7684\uff1a\u5b83\u5728info\u4e2d\u7684\u8f93\u51fa\u662fCaller-Destination-Number\uff0c\u4f46\u4f60\u5728\u5f15\u7528\u7684\u65f6\u5019\u5c31\u9700\u8981\u4f7f\u7528destination_number\u3002\u8fd8\u6709\u4e00\u4e9b\u53d8\u91cf\uff0c\u5728info\u4e2d\u7684\u8f93\u51fa\u662fvariable_xxxx\uff0c\u5982variable_domain_name\uff0c\u800c\u5b9e\u9645\u5f15\u7528\u65f6\u8981\u53bb\u6389\u201cvariable_\u201d\u524d\u7f00\u3002\u4e0d\u8981\u7d27\u5f20\uff0c\u8fd9\u91cc\u6709\u4e00\u4efd\u7b80\u660e\u7684\u5bf9\u7167\u8868\uff08\u89c1\u88686-2\uff09\u3002\u5b8c\u6574\u7684\u5bf9\u7167\u8868\u8bf7\u53c2\u89c1\uff1a https://developer.signalwire.com/freeswitch/FreeSWITCH-Explained/Dialplan/Channel-Variables_16352493/#Info_Application_Variable_Names</p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_3","title":"\u6d4b\u8bd5\u6761\u4ef6","text":"<p>\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u770b\u5230\u4e86\u6700\u7b80\u5355\u7684\u6d4b\u8bd5\u6761\u4ef6 <code>&lt;condition field=\"destination_number\"expression=\"^1234$\"&gt;</code> \u5b83\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u6d4b\u8bd5\u4e00\u4e2a\u53d8\u91cf\u662f\u5426\u6ee1\u8db3\u9884\u8bbe\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\u5927\u90e8\u5206\u7684\u6d4b\u8bd5\u90fd\u662f\u9488\u5bf9\u88ab\u53eb\u53f7\u7801\uff08destination_number\uff09\u7684\uff0c\u4f46\u4f60\u4e5f\u53ef\u4ee5\u5bf9\u5176\u4ed6\u53d8\u91cf\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5982IP\u5730\u5740\uff08\u6ce8\u610f\u7531\u4e8e\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u201c.\u201d\u5177\u6709\u7279\u6b8a\u610f\u4e49\uff0c\u6240\u6709\u9700\u8981\u7528\u201c\\\u201d\u8fdb\u884c\u8f6c\u4e49\uff09\u5c31\u53ef\u8fd9\u6837\u6d4b\u8bd5\uff1a <code>&lt;condition\u00a0field=\"network_addr\"\u00a0expression=\"^192\\.168\\.7\\.7$\"&gt;</code></p>"},{"location":"post/freeswitch/2%20%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_4","title":"\u5de5\u4f5c\u673a\u5236\u6df1\u5165\u5256\u6790","text":"<p>\u5f53\u65b0\u5efa\uff08NEW\uff09\u4e00\u4e2aChannel\u65f6\uff0c\u5b83\u9996\u5148\u4f1a\u8fdb\u884c\u521d\u59cb\u5316\uff08INIT\uff09\uff0c\u7136\u540e\u8fdb\u5165\u8def\u7531\uff08ROUTING\uff09\u9636\u6bb5\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u67e5\u627e\u89e3\u6790Dialplan\u7684\u9636\u6bb5\u3002\u5728\u8fd9\u91cc\uff0c\u8981\u6ce8\u610f\u4e00\u4e2a\u4e13\u95e8\u7684\u672f\u8bed\u2014\u2014Hunting\uff08\u5728\u4f20\u7edf\u7684\u4ea4\u6362\u673a\u91cc\uff0c\u5b83\u8bd1\u4e3a\u9009\u7ebf\uff0c\u5728\u8fd9\u91cc\u6211\u5c31\u8bd1\u4e3a\u9009\u8def\u5427\uff09\u3002\u627e\u5230\u5408\u9002\u7684\u8def\u7531\u5165\u53e3\u540e\uff0cHunting\u4f1a\u6267\u884c\uff08EXECUTE\uff09\u4e00\u7cfb\u5217\u52a8\u4f5c\uff0c\u6700\u540e\u65e0\u8bba\u54ea\u4e00\u65b9\u6302\u673a\uff0c\u90fd\u4f1a\u8fdb\u5165\u6302\u673a\uff08HANGUP\uff09\u9636\u6bb5\u3002\u540e\u9762\u7684\u62a5\u544a\uff08REPORTING\uff09\u9636\u6bb5\u4e00\u822c\u7528\u4e8e\u8fdb\u884c\u7edf\u8ba1\u3001\u8ba1\u8d39\u7b49\uff0c\u6700\u540e\u5c06Channel\u9500\u6bc1\uff08DESTROY\uff09\uff0c\u91ca\u653e\u7cfb\u7edf\u8d44\u6e90\u3002</p> <p>\u5728EXECUTE\u72b6\u6001\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u8f6c\u79fb\uff08Transfer\uff0c\u8be5\u8f6c\u79fb\u8ddf\u6211\u4eec\u901a\u5e38\u8bf4\u7684\u547c\u53eb\u8f6c\u79fb\u4e0d\u592a\u4e00\u6837\uff09\uff0c\u5b83\u53ef\u4ee5\u8f6c\u79fb\u5230\u540c\u4e00context\u4e0b\u5176\u4ed6\u7684extension\uff0c\u6216\u8005\u8f6c\u79fb\u5230\u5176\u4ed6context\u4e0b\u7684extension\uff0c\u4f46\u65e0\u8bba\u53d1\u751f\u54ea\u79cd\u8f6c\u79fb\uff0c\u90fd\u4f1a\u91cd\u65b0\u8fdb\u884c\u8def\u7531\uff0c\u4e5f\u5c31\u662f\u91cd\u65b0\u8fdb\u5165ROUTING\u9636\u6bb5\uff08\u56fe6-1\u4e2d\u865a\u7ebf\u90e8\u5206\uff09\uff0c\u91cd\u65b0Hunt Dialplan\u3002</p> <p>\u4e00\u5b9a\u8981\u8bb0\u4f4fROUTING\u548cEXECUTE\u662f\u5c5e\u4e8e\u4e24\u4e2a\u4e0d\u540c\u9636\u6bb5\u7684\uff0c\u53ea\u6709ROUTING\u5b8c\u6bd5\u540e\u624d\u4f1a\u8fdb\u884cEXECUTE\u9636\u6bb5\u7684\u64cd\u4f5c\u3002\u5f53\u4e00\u4e2aChannel\u8fdb\u5165ROUTING\u9636\u6bb5\u65f6\uff0c\u5b83\u9996\u5148\u4f1a\u5230\u8fbeDialplan\uff08\u82f1\u6587\u53ebHit the Dialplan\uff09\uff0c\u7136\u540e\u5bf9\u9884\u8bbe\u7684Dialplan\u8fdb\u884c\u89e3\u6790\uff08\u662f\u7684\uff0c\u6bcf\u4e2a\u7535\u8bdd\u90fd\u4f1a\u91cd\u65b0\u89e3\u6790Dialplan\uff09\uff0c\u89e3\u6790Dialplan\u7684\u8fd9\u4e00\u8fc7\u7a0b\u79f0\u4e3aParsing\u6216Hunting\u3002\u89e3\u6790\u5b8c\u6bd5\uff08\u6210\u529f\uff09\u540e\uff0c\u4f1a\u5f97\u5230\u4e00\u4e9bAction\uff0c\u7136\u540eChannel\u8fdb\u5165EXECUTE\u9636\u6bb5\uff0c\u4f9d\u6b21\u6267\u884c\u6240\u6709\u7684Action\u3002</p> <p>\u5728\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\uff08\u8bd5\u60f3\u4e00\u4e0b\u524d\u9762\u7684\u4f8b\u5b50\uff09\uff0c\u5728Dialplan\u7684Hunting\u9636\u6bb5\uff0c\u4e00\u65e6\u6839\u636e\u524d\u9762\u4ecb\u7ecd\u7684condition\u5339\u914d\u89c4\u5219\u627e\u5230\u5bf9\u5e94\u7684extension\uff0c\u5c31\u6267\u884c\u76f8\u5e94\u7684Action\uff0c\u800c\u4e0d\u4f1a\u518d\u7ee7\u7eed\u67e5\u627e\u5176\u4ed6\u7684extension\u4e86\uff0c\u4e0d\u7ba1\u540e\u9762\u7684extension\u662f\u5426\u6709\u53ef\u80fd\u5339\u914d\u3002</p> <p>\u4f46\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0cDialplan\u4e2d\u4f1a\u6709\u591a\u4e2aextension\u6ee1\u8db3\u5339\u914d\u89c4\u5219\uff0c\u800c\u6211\u4eec\u5e0c\u671b\u6240\u6709\u5bf9\u5e94\u7684Action\u90fd\u80fd\u5f97\u5230\u6267\u884c\uff0c\u8fd9\u65f6\u6211\u4eec\u5c31\u8981\u4f7f\u7528continue=\"true\"\u53c2\u6570\u4e86\u3002</p> <p>\u5728Hunting\u9636\u6bb5\uff0c\u5982\u679c\u53d1\u73b0\u5e26\u6709inline\u7684Action\uff0cFreeSWITCH\u4fbf\u4f1a\u76f4\u63a5\u6267\u884c\u5b83\uff0c\u800c\u4e0d\u7528\u7b49\u5230EXECUT\u9636\u6bb5\u3002</p>"},{"location":"post/freeswitch/3%20%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%85%8D%E7%BD%AE/","title":"3 \u8d1f\u8f7d\u5747\u8861\u914d\u7f6e","text":"<p>kamailio\u955c\u50cf\u62c9\u53d6 <pre><code>docker pull kamailio/kamailio-ci:5.5.2-alpine\n# host\u6a21\u5f0f\u542f\u52a8 --rm \u9000\u51fa\u5bb9\u5668\u540e\u5c31\u5220\u9664\ndocker run --net=host --name kamailio --rm kamailio/kamailio-ci:5.5.2-alpine\n</code></pre></p> <p>kamailio\u7684docker-compose\u914d\u7f6e <pre><code>version: \"3.3\"\n\nservices:\n  kb-kam:\n    container_name: kb-kam\n    image: kamailio/kamailio-ci:5.5.2-alpine\n    # build:\n    #   context: .\n    # restart: always\n    env_file: .env\n    stdin_open: true\n    tty: true\n    # command: [\"/bin/sh\"]\n    privileged: true\n    cap_add:\n      - NET_ADMIN\n      - SYS_ADMIN\n    entrypoint:\n      - /bin/sh\n      # - /start-kam.sh\n    volumes:\n      - ../etc:/usr/local/etc/kamailio\n      - ../etc:/etc/kamailio\n      - ../start-kam.sh:/start-kam.sh\n    networks:\n      - kamailio-example\n    ports:\n      - \"${KAM_SIP_PORT}:${KAM_SIP_PORT}\"\n      - \"${KAM_SIP_PORT}:${KAM_SIP_PORT}/udp\"\n      - \"${KAM_SIP_TLS_PORT}:${KAM_SIP_TLS_PORT}\"\n\nnetworks:\n  kamailio-example:\n    external: true\n</code></pre></p> <p>2 \u53c2\u6570\u914d\u7f6e freeswitch\u4e2d\u4fee\u6539vars.xml\u53c2\u6570 <code>\uff1cX-PRE-PROCESS cmd=\"set\" data=\"domain=sip.example.com\"/\uff1e</code> \u6539\u4e3aKAMA\u7684\u670d\u52a1\u5668\u5730\u5740\u3002</p> <p><code>&lt;param name=\"auto-create-schemas\" value=\"false\"/&gt;</code></p> <p>kamailio\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e kamaililo\u96c6\u6210\u8d1f\u8f7d\u5747\u8861</p>"},{"location":"post/golang/","title":"Index","text":"<p>golang\u4e2d\u5305\u540d\u4e0e\u8def\u5f84\u7684\u5173\u7cfb\uff1a - import\u540e\u9762\u7684\u662f\u76ee\u5f55\uff08\u5305\u6240\u5728\u7edd\u5bf9\u6216\u76f8\u5bf9\u8def\u5f84\uff09 - \u5305\u540d\u548c\u76ee\u5f55\u540d\u6ca1\u6709\u5173\u7cfb\uff0c\u4f46\u662f\u5305\u540d\u6700\u597d\u4e0e\u76ee\u5f55\u540d\u76f8\u540c - \u540c\u4e00\u4e2a\u76ee\u5f55\u4e0b\u6700\u591a\u53ea\u80fd\u6709\u4e00\u79cd\u5305\u540d  </p> <p>Go \u5305\u7684\u6982\u5ff5</p> <ol> <li>\u628a\u76f8\u540c\u7684\u529f\u80fd\u653e\u5230\u4e00\u4e2a\u76ee\u5f55\uff0c\u79f0\u4e4b\u4e3a\u5305</li> <li>\u5305\u53ef\u4ee5\u88ab\u5176\u4ed6\u7684\u5305\u5f15\u7528</li> <li>main\u5305\u7528\u6765\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6bcf\u4e2a\u7a0b\u5e8f\u53ea\u6709\u4e00\u4e2amain\u5305</li> <li>\u5305\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u590d\u7528\u6027 Go \u5305 \u7684\u7279\u5f81 \u4e00\u4e2a\u6587\u4ef6\u5939\u4e0b\u53ea\u80fd\u6709\u4e00\u4e2apackage\u3002</li> </ol> <p>\u2022 import\u540e\u9762\u7684\u5176\u5b9e\u662fGOPATH\u5f00\u59cb\u7684\u76f8\u5bf9\u76ee\u5f55\u8def\u5f84\uff0c\u5305\u62ec\u6700\u540e\u4e00\u6bb5\u3002\u4f46\u7531\u4e8e\u4e00\u4e2a\u76ee\u5f55\u4e0b\u53ea\u80fd\u6709\u4e00\u4e2apackage\uff0c\u6240\u4ee5import\u4e00\u4e2a\u8def\u5f84\u5c31\u7b49\u4e8e\u662fimport\u4e86\u8fd9\u4e2a\u8def\u5f84\u4e0b\u7684\u5305\u3002 \u2022 \u6ce8\u610f\uff0c\u8fd9\u91cc\u6307\u7684\u662f\u201c\u76f4\u63a5\u5305\u542b\u201d\u7684go\u6587\u4ef6\u3002\u5982\u679c\u6709\u5b50\u76ee\u5f55\uff0c\u90a3\u4e48\u5b50\u76ee\u5f55\u7684\u7236\u76ee\u5f55\u662f\u5b8c\u5168\u4e24\u4e2a\u5305\u3002   </p> <p>\u2022 \u6bd4\u5982\u4f60\u5b9e\u73b0\u4e86\u4e00\u4e2a\u8ba1\u7b97\u5668package\uff0c\u540d\u53ebcalc\uff0c\u4f4d\u4e8ecalc\u76ee\u5f55\u4e0b\uff1b\u4f46\u53c8\u60f3\u7ed9\u522b\u4eba\u4e00\u4e2a\u4f7f\u7528\u8303\u4f8b\uff0c\u4e8e\u662f\u5728calc\u4e0b\u53ef\u4ee5\u5efa\u4e2aexample\u5b50\u76ee\u5f55\uff08calc/example/\uff09\uff0c\u8fd9\u4e2a\u5b50\u76ee\u5f55\u91cc\u6709\u4e2aexample.go\uff08calc/example/example.go\uff09\u3002\u6b64\u65f6\uff0cexample.go\u53ef\u4ee5\u662fmain\u5305\uff0c\u91cc\u9762\u8fd8\u53ef\u4ee5\u6709\u4e2amain\u51fd\u6570\u3002</p> <p>\u4e00\u4e2apackage\u7684\u6587\u4ef6\u4e0d\u80fd\u5728\u591a\u4e2a\u6587\u4ef6\u5939\u4e0b\u3002 \u5728 Golang \u7684\u6587\u6863\u4e2d\uff0cLanguage Specification \u9875\u9762\uff0cPackage clause \u4e0b\uff0c\u6307\u660e\u4e86 A set of files sharing the same PackageName form the implementation of a package. An implementation may require that all source files for a package inhabit the same directory.\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u5305\u6240\u6709\u7684\u6587\u4ef6\uff0c\u5fc5\u987b\u4f4d\u4e8e\u540c\u4e00\u4e2a\u76ee\u5f55\u4e0b</p> <p>\u2022 \u5982\u679c\u591a\u4e2a\u6587\u4ef6\u5939\u4e0b\u6709\u91cd\u540d\u7684package\uff0c\u5b83\u4eec\u5176\u5b9e\u662f\u5f7c\u6b64\u65e0\u5173\u7684package\u3002 \u2022 \u5982\u679c\u4e00\u4e2ago\u6587\u4ef6\u9700\u8981\u540c\u65f6\u4f7f\u7528\u4e0d\u540c\u76ee\u5f55\u4e0b\u7684\u540c\u540dpackage\uff0c\u9700\u8981\u5728import\u8fd9\u4e9b\u76ee\u5f55\u65f6\u4e3a\u6bcf\u4e2a\u76ee\u5f55\u6307\u5b9a\u4e00\u4e2apackage\u7684\u522b\u540d\u3002 \u5305\u540d\u81ea\u7136\u53ef\u4ee5\u548c\u6587\u4ef6\u5939\u540d\u4e0d\u4e00\u6837\uff0c\u6bd5\u7adf\u4e00\u4e2a\u662f\u5bfc\u5165\u8def\u5f84\uff0c\u4e00\u4e2a\u662f\u5305\u540d \u4f46\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a\uff0c\u8fd9\u6837\u5bb9\u6613\u9020\u6210\u8c03\u7528\u8fd9\u4e2a\u5305\u7684\u4eba\uff0c\u65e0\u6cd5\u5feb\u901f\u77e5\u9053\u8fd9\u4e2a\u5305\u7684\u540d\u79f0\u662f\u4ec0\u4e48 \u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4e0d\u7528\u76ee\u5f55\u540d\u4f5c\u4e3a\u5305\u540d\uff0c\u6211\u60f3\u4e5f\u6b63\u5982\u5927\u5bb6\u6240\u8bf4\uff0c\u4e3a\u4e86\u907f\u514d\u76ee\u5f55\u4e2d\u51fa\u73b0\u5947\u602a\u7684\u5b57\u7b26\uff0c\u4e5f\u4e3a\u4e86\u8c03\u7528\u8005\u65b9\u4fbf\u4f7f\u7528 \u5728 Golang \u7684\u6587\u6863\u4e2d\uff0c Language Specification \u9875\u9762\uff0cImport declarations \u4e0b\uff0c\u6709\u8fd9\u6837\u7684\u8bf4\u660e \u5728Go \u8bed\u8a00\u89c4\u8303\u5b98\u65b9\u6587\u6863\u4e2d\u6709\u5bf9PackageName\u548cImportPath\u7684\u5177\u4f53\u63cf\u8ff0\uff1a ImportDecl       = \"import\" ( ImportSpec | \"(\" { ImportSpec \";\" } \")\" ) . ImportSpec       = [ \".\" | PackageName ] ImportPath . ImportPath       = string_lit . The PackageName is used in qualified identifiers to access exported identifiers of the package within the importing source file. It is declared in the file block. If the PackageName is omitted, it defaults to the identifier specified in the package clause of the imported package. If an explicit period (.) appears instead of a name, all the package\u2019s exported identifiers declared in that package\u2019s package block will be declared in the importing source file\u2019s file block and must be accessed without a qualifier. \u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u6267\u884c\u5bfc\u5165\u7684\u65f6\u5019\uff0c\u82e5\u4e0d\u624b\u52a8\u5b9a\u4e49\u5305\u540d\uff0c\u5219\u4ece\u5bfc\u5165\u8def\u5f84\u7684\u6e90\u7801\u6587\u4ef6\u4e2d\u7684 package \u884c\u83b7\u53d6\u5305\u540d\uff0c\u4e5f\u5373\u76ee\u5f55\u540d\u548c\u5305\u540d\u6ca1\u6709\u76f4\u63a5\u7684\u5173\u7cfb\u3002 \u7ed3\u8bba 1\u3001import \u5bfc\u5165\u7684\u53c2\u6570\u662f\u8def\u5f84\uff0c\u800c\u975e\u5305\u540d\u3002 2\u3001\u5c3d\u7ba1\u4e60\u60ef\u5c06\u5305\u540d\u548c\u76ee\u5f55\u540d\u4fdd\u8bc1\u4e00\u81f4\uff0c\u4f46\u8fd9\u4e0d\u662f\u5f3a\u5236\u89c4\u5b9a\uff1b 3\u3001\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u5305\u6210\u5458\u65f6\uff0c\u4f7f\u7528\u5305\u540d\u800c\u975e\u76ee\u5f55\u540d\uff1b 4\u3001\u540c\u4e00\u76ee\u5f55\u4e0b\uff0c\u6240\u6709\u6e90\u6587\u4ef6\u5fc5\u987b\u4f7f\u7528\u76f8\u540c\u7684\u5305\u540d\u79f0\uff08\u56e0\u4e3a\u5bfc\u5165\u65f6\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u5728\u641c\u7d22\u8def\u5f84\u4e0b\uff0c\u5305\u5fc5\u987b\u6709\u552f\u4e00\u8def\u5f84\uff0c\u4f46\u65e0\u987b\u662f\u552f\u4e00\u540d\u5b57\uff09\uff1b 5\u3001\u81f3\u4e8e\u6587\u4ef6\u540d\uff0c\u66f4\u6ca1\u5565\u9650\u5236\uff08\u6269\u5c55\u540d\u4e3a.go\uff09;</p> <p>\u9519\u8bef\u5904\u7406</p> <p>\u5ffd\u7565\u9519\u8bef</p>"},{"location":"post/grpc/","title":"Index","text":"<p>go-grpc\u6559\u7a0b</p> <p>java-grpc\u6559\u7a0b</p> <p>\u5b98\u65b9\u6559\u7a0b</p> <p>grpc\u957f\u8fde\u63a5</p> <p>grpc disconnection/reconnection</p> <p>grpc retry policy</p>"},{"location":"post/kafka/listener/","title":"Listener","text":"<p>Kafka Listeners - Explained</p> <p>This question comes up on StackOverflow and such places a lot, so here\u2019s something to try and help.</p> <p>tl;dr : You need to set <code>advertised.listeners</code> (or <code>KAFKA_ADVERTISED_LISTENERS</code> if you\u2019re using Docker images) to the external address (host/IP) so that clients can correctly connect to it. Otherwise they\u2019ll try to connect to the internal host address\u2013and if that\u2019s not reachable then problems ensue.</p> <p>Put another way, courtesy of Spencer Ruport:</p> <p><code>LISTENERS</code> are what interfaces Kafka binds to. <code>ADVERTISED_LISTENERS</code> are how clients can connect.</p> <p></p> <p>In this post I\u2019ll talk about why this is necessary, and then show how to do it, based on a couple of scenarios - Docker, and AWS.</p>"},{"location":"post/kafka/listener/#is-anyone-listening","title":"Is anyone listening?","text":"<p>Kafka is a distributed system. Data is read from &amp; written to the Leader for a given partition, which could be on any of the brokers in a cluster. When a client (producer/consumer) starts, it will request metadata about which broker is the leader for a partition\u2014and it can do this from any broker. The metadata returned will include the endpoints available for the Leader broker for that partition, and the client will then use those endpoints to connect to the broker to read/write data as required.</p> <p>It\u2019s these endpoints that cause people trouble. On a single machine, running \u2018bare metal\u2019 (no VMs, no Docker), everything might be the hostname (or just <code>localhost</code>) and it\u2019s easy. But once you move into more complex networking setups, and multiple nodes, you have to pay more attention to it.</p> <p>Let\u2019s assume you have more than one network. This could be things like:</p> <ul> <li>Docker internal network(s) plus host machine</li> <li>Brokers in the cloud (eg. AWS EC2), and on-premises machines locally (or even in another cloud)</li> </ul> <p>You need to tell Kafka how the brokers can reach each other, but also make sure that external clients (producers/consumers) can reach the broker they need to.</p> <p>The key thing is that when you run a client, the broker you pass to it is *just where it\u2019s going to go and get the metadata about brokers in the cluster from*. The actual host &amp; IP that it will connect to for reading/writing data is based on *the data that the broker passes back in that initial connection*\u2014even if it\u2019s just a single node and the broker returned is the same as the one connected to.</p> <p>For configuring this correctly, you need to understand that Kafka brokers can have multiple listeners. A listener is a combination of</p> <ol> <li>Host/IP</li> <li>Port</li> <li>Protocol</li> </ol> <p>Let\u2019s check out some config. Often the protocol is used for the listener name too, but here let\u2019s make it nice and clear by using abstract names for the listeners:</p> <pre><code>KAFKA_LISTENERS: LISTENER_BOB://kafka0:29092,LISTENER_FRED://localhost:9092\nKAFKA_ADVERTISED_LISTENERS: LISTENER_BOB://kafka0:29092,LISTENER_FRED://localhost:9092\nKAFKA_LISTENER_SECURITY_PROTOCOL_MAP: LISTENER_BOB:PLAINTEXT,LISTENER_FRED:PLAINTEXT\nKAFKA_INTER_BROKER_LISTENER_NAME: LISTENER_BOB\n</code></pre> <p>I\u2019m using the Docker config names\u2014the equivalents if you\u2019re configuring <code>server.properties</code> directly (e.g. on AWS etc) are shown indented in the following list</p> <ul> <li><code>KAFKA_LISTENERS</code></li> </ul> <p>is a comma-separated list of listeners, and the host/ip and port to which Kafka binds to on which to listen. For more complex networking this might be an IP address associated with a given network interface on a machine. The default is 0.0.0.0, which means listening on all interfaces.</p> <ul> <li> <p><code>listeners</code></p> </li> <li> <p><code>KAFKA_ADVERTISED_LISTENERS</code></p> </li> </ul> <p>is a comma-separated list of listeners with their the host/ip and port. This is the metadata that\u2019s passed back to clients.</p> <ul> <li> <p><code>advertised.listeners</code></p> </li> <li> <p><code>KAFKA_LISTENER_SECURITY_PROTOCOL_MAP</code></p> </li> </ul> <p>defines key/value pairs for the security protocol to use, per listener name.</p> <ul> <li><code>listener.security.protocol.map</code></li> </ul> <p>Note: The script that configures the Docker image uses the listener name to determine whether to include the SSL configuration items. If you want to use SSL, you need to include SSL in your listener name (e.g. <code>LISTENER_BOB_SSL</code>). Thanks to Russ Sayers for pointing this out.</p> <p>Kafka brokers communicate between themselves, usually on the internal network (e.g. Docker network, AWS VPC, etc). To define which listener to use, specify <code>KAFKA_INTER_BROKER_LISTENER_NAME</code> (<code>inter.broker.listener.name</code>). The host/IP used must be accessible from the broker machine to others.</p> <p>Kafka clients may well not be local to the broker\u2019s network, and this is where the additional listeners come in.</p> <p>Each listener will, when connected to, report back the address on which it can be reached. The address on which you reach a broker depends on the network used. If you\u2019re connecting to the broker from an internal network it\u2019s going to be a different host/IP than when connecting externally.</p> <p>When connecting to a broker, the listener that will be returned to the client will be the listener to which you connected (based on the port).</p> <p><code>kafkacat</code> is a useful tool for exploring this. Using <code>-L</code> you can see the metadata for the listener to which you connected. Based on the same listener config as above (<code>LISTENER_BOB</code> / <code>LISTENER_FRED</code>), check out the respective entries for <code>broker 0 at</code>: -</p> <ul> <li>Connecting on port 9092 (which we map as <code>LISTENER_FRED</code>), the broker\u2019s address is given back as <code>localhost</code></li> </ul> <pre><code>  $ kafkacat -b kafka0:9092 \\\n             -L\n  Metadata for all topics (from broker -1: kafka0:9092/bootstrap):\n  1 brokers:\n    broker 0 at localhost:9092\n</code></pre> <ul> <li>Connecting on port 29092 (which we map as <code>LISTENER_BOB</code>), the broker\u2019s address is given back as <code>kafka0</code>:</li> </ul> <pre><code>  $ kafkacat -b kafka0:29092 \\\n             -L\n  Metadata for all topics (from broker 0: kafka0:29092/0):\n  1 brokers:\n    broker 0 at kafka0:29092\n</code></pre> <p>You can also use <code>tcpdump</code> to examine the traffic from a client connecting to the broker, and spot the hostname that\u2019s returned from the broker.</p>"},{"location":"post/kafka/listener/#why-can-i-connect-to-the-broker-but-the-client-still-fails","title":"Why can I connect to the broker, but the client still fails?","text":"<p>tl;dr Even if you can make the initial connection to the broker, the address returned in the metadata may still be for a hostname that is not accessible from your client.</p> <p>Let\u2019s walk this through step by step.</p> <ol> <li>We\u2019ve got a broker on AWS. We want to send a message to it from our laptop. We know the external hostname for the EC2 instance (<code>ec2-54-191-84-122.us-west-2.compute.amazonaws.com</code>). We\u2019ve created the necessary entry in the security group to open the broker\u2019s port to our inbound traffic. We do smart things like checking that our local machine can connect to the port on the AWS instance:</li> </ol> <pre><code> $ nc -vz ec2-54-191-84-122.us-west-2.compute.amazonaws.com 9092\n found 0 associations\n found 1 connections:\n     1:  flags=82&lt;CONNECTED,PREFERRED&gt;\n   outif utun5\n   src 172.27.230.23 port 53352\n   dst 54.191.84.122 port 9092\n   rank info not available\n   TCP aux info available\n\n Connection to ec2-54-191-84-122.us-west-2.compute.amazonaws.com port 9092 [tcp/XmlIpcRegSvc] succeeded!\n</code></pre> <p>Things are looking good! We run:</p> <pre><code> echo \"test\"|kafka-console-producer --broker-list ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092 --topic test\n</code></pre> <p>Now\u2026what happens next?</p> <ol> <li> <p>Our laptop resolves <code>ec2-54-191-84-122.us-west-2.compute.amazonaws.com</code> successfully (to the IP address 54.191.84.122), and connects to the AWS machine on port 9092</p> </li> <li> <p>The broker receives the inbound connection on port 9092. It returns the metadata to the client, with the hostname <code>ip-172-31-18-160.us-west-2.compute.internal</code> because this is the host name of the broker and the default value for <code>listeners</code>.</p> </li> <li> <p>The client the tries to send data to the broker using the metadata it was given. Since <code>ip-172-31-18-160.us-west-2.compute.internal</code> is not resolvable from the internet, it fails.</p> </li> </ol> <pre><code> $ echo \"test\"|kafka-console-producer --broker-list ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092 --topic test\n &gt;&gt;[2018-07-30 15:08:41,932] ERROR Error when sending message to topic test with key: null, value: 4 bytes with error: (org.apache.kafka.clients.producer.internals.ErrorLoggingCallback)\n org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s) for test-0: 1547 ms has passed since batch creation plus linger time\n</code></pre> <ol> <li>Puzzled, we try the same thing from the broker machine itself:</li> </ol> <pre><code> $ echo \"foo\"|kafka-console-producer --broker-list ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092 --topic test\n &gt;&gt;\n $ kafka-console-consumer --bootstrap-server ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092 --topic test --from-beginning\n foo\n</code></pre> <p>It works fine! That\u2019s because we are connecting to port 9092, which is configured as the internal listener, and thus reports back its hostname as <code>ip-172-31-18-160.us-west-2.compute.internal</code> which is resolvable from the broker machine (since it\u2019s its own hostname!)</p> <ol> <li>We can make life even easier by using <code>kafkacat</code>. Using the <code>-L</code> flag we can see the metadata returned by the broker:</li> </ol> <pre><code> $ kafkacat -b ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092 -L\n Metadata for all topics (from broker -1: ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092/bootstrap):\n 1 brokers:\n   broker 0 at ip-172-31-18-160.us-west-2.compute.internal:9092\n</code></pre> <p>Clear as day, the internal hostname is returned. This also makes this seemingly-confusing error make a lot more sense\u2014connecting to one hostname, getting a lookup error on another:</p> <pre><code> $ kafkacat -b ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092 -C -t test\n % ERROR: Local: Host resolution failure: ip-172-31-18-160.us-west-2.compute.internal:9092/0: Failed to resolve 'ip-172-31-18-160.us-west-2.compute.internal:9092': nodename nor servname provided, or not known\n</code></pre> <p>Here we\u2019re using <code>kafkacat</code> in consumer mode (<code>-C</code>) from our local machine to try and read from the topic. As before, because we\u2019re getting the internal listener hostname back from the broker in the metadata, the client cannot resolve that hostname to read/write from.</p>"},{"location":"post/kafka/listener/#i-saw-a-stackoverflow-answer-suggesting-to-just-update-my-hosts-fileisnt-that-easier","title":"I saw a StackOverflow answer suggesting to just update my hosts file\u2026isn\u2019t that easier?","text":"<p>This is nothing more than a hack to workaround a mis-configuration, instead of actually fixing it.</p> <p>If the broker is reporting back a hostname to which the client cannot connect, then hardcoding the hostname/IP combo into the local <code>/etc/hosts</code> may seem a nice fix. But this is a very brittle and manual solution. What happens when the IP changes, when you move hosts and forget to take the little hack with you, when other people want to do the same?</p> <p>Much better is to understand and actually fix the <code>advertised.listeners</code> setting for your network.</p>"},{"location":"post/kafka/listener/#howto-connecting-to-kafka-on-docker","title":"HOWTO: Connecting to Kafka on Docker","text":"<p>Run within Docker, you will need to configure two listeners for Kafka:</p> <ol> <li>Communication within the Docker network. This could be inter-broker communication (i.e. between brokers), and between other components running in Docker such as Kafka Connect, or third-party clients or producers.</li> </ol> <p>For these comms, we need to use the hostname of the Docker container(s). Each Docker container on the same Docker network will use the hostname of the Kafka broker container to reach it</p> <ol> <li>Non-Docker network traffic. This could be clients running local on the Docker host machine, for example. The assumption is that they will connect on <code>localhost</code>, to a port exposed from the Docker container.</li> </ol> <p>Here\u2019s the docker-compose snippet:</p> <pre><code>[\u2026]\n\n\nkafka0:\n    image: \"confluentinc/cp-enterprise-kafka:5.2.1\"\n    ports:\n      - '9092:9092'\n      - '29094:29094'\n    depends_on:\n      - zookeeper\n    environment:\n      [\u2026]\n      # For more details see See https://rmoff.net/2018/08/02/kafka-listeners-explained/\n      KAFKA_LISTENERS: LISTENER_BOB://kafka0:29092,LISTENER_FRED://kafka0:9092,LISTENER_ALICE://kafka0:29094\n      KAFKA_ADVERTISED_LISTENERS: LISTENER_BOB://kafka0:29092,LISTENER_FRED://localhost:9092,LISTENER_ALICE://never-gonna-give-you-up:29094\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: LISTENER_BOB:PLAINTEXT,LISTENER_FRED:PLAINTEXT,LISTENER_ALICE:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: LISTENER_BOB\n[\u2026]\n</code></pre> <ul> <li>Clients within the Docker network connect using listener \u201cBOB\u201d, with port 29092 and hostname <code>kafka0</code>. In doing so, they get back the hostname <code>kafka0</code> to which to connect. Each docker container will resolve <code>kafka0</code> using Docker\u2019s internal network, and be able to reach the broker.</li> <li>Clients external to the Docker network connect using listener \u201cFRED\u201d, with port 9092 and hostname <code>localhost</code>. Port 9092 is exposed by the Docker container and so available to connect to. When clients connect, they are given the hostname <code>localhost</code> for the broker\u2019s metadata, and so connect to this when reading/writing data.</li> <li>The above configuration would not handle the scenario in which a client external to Docker and external to the host machine wants to connect. This is because neither <code>kafka0</code> (the internal Docker hostname) or <code>localhost</code> (the loopback address for the Docker host machine) would be resolvable.</li> </ul>"},{"location":"post/kafka/listener/#howto-connecting-to-kafka-on-awsiaas","title":"HOWTO: Connecting to Kafka on AWS/IaaS","text":"<p>I\u2019m naming AWS because it\u2019s what the majority of people use, but this applies to any IaaS/Cloud solution.</p> <p>Exactly the same concepts apply here as with Docker. The main difference is that whilst with Docker the external connections may well be just on localhost (as above), with Cloud-hosted Kafka (such as on AWS) the external connection will be from a machine not local to to the broker and which will need to be able to connect to the broker.</p> <p>A further complication is that whilst Docker networks are heavily segregated from the host\u2019s, on IaaS often the external hostname is resolvable internally, making it hit and miss when you may actually encounter these problems.</p> <p>There are two approaches, depending on whether the external address through which you\u2019re going to connect to the broker is also resolvable locally to all of the brokers on the network (e.g VPC).</p>"},{"location":"post/kafka/listener/#option-1-external-address-is-resolvable-locally","title":"Option 1 - external address IS resolvable locally","text":"<p>You can get by with one listener here. The existing listener, called <code>PLAINTEXT</code>, just needs overriding to set the advertised hostname (i.e. the one that is passed to inbound clients)</p> <pre><code>advertised.listeners=PLAINTEXT://ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092\n</code></pre> <p>Now connections both internally and externally will use <code>ec2-54-191-84-122.us-west-2.compute.amazonaws.com</code> for connecting. Because <code>ec2-54-191-84-122.us-west-2.compute.amazonaws.com</code> can be resolved both locally and externally, things work fine.</p>"},{"location":"post/kafka/listener/#option-2-external-address-is-not-resolvable-locally","title":"Option 2 - external address is NOT resolvable locally","text":"<p>You will need to configure two listeners for Kafka:</p> <ol> <li>Communication within the AWS network (VPC). This could be inter-broker communication (i.e. between brokers), and between other components running in the VPC such as Kafka Connect, or third-party clients or producers.</li> </ol> <p>For these comms, we need to use the internal IP of the EC2 machine (or hostname, if DNS is configured).</p> <ol> <li>External AWS traffic. This could be testing connectivity from a laptop, or simply from machines not hosted in Amazon. In both cases, the external IP of the instance needs to be used (or hostname, if DNS is configured).</li> </ol> <p></p> <p>Here\u2019s an example configuration:</p> <pre><code>listeners=INTERNAL://0.0.0.0:19092,EXTERNAL://0.0.0.0:9092\nlistener.security.protocol.map=INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT\nadvertised.listeners=INTERNAL://ip-172-31-18-160.us-west-2.compute.internal:19092,EXTERNAL://ec2-54-191-84-122.us-west-2.compute.amazonaws.com:9092\ninter.broker.listener.name=INTERNAL\n</code></pre>"},{"location":"post/kafka/listener/#exploring-listeners-with-docker","title":"Exploring listeners with Docker","text":"<p>Take a look at https://github.com/rmoff/kafka-listeners. This includes a docker-compose to bring up a Zookeeper instance along with Kafka broker configured with several listeners.</p> <ul> <li>Listener <code>BOB</code> (port 29092) for internal traffic on the Docker network</li> </ul> <pre><code>  $ docker-compose exec kafkacat \\\n          kafkacat -b kafka0:29092 \\\n          -L\n  Metadata for all topics (from broker 0: kafka0:29092/0):\n  1 brokers:\n    broker 0 at kafka0:29092\n</code></pre> <ul> <li>Listener <code>FRED</code> (port 9092) for traffic from the Docker-host machine (<code>localhost</code>)</li> </ul> <pre><code>  $ docker-compose exec kafkacat \\\n          kafkacat -b kafka0:9092 \\\n                  -L\n  Metadata for all topics (from broker -1: kafka0:9092/bootstrap):\n  1 brokers:\n    broker 0 at localhost:9092\n</code></pre> <ul> <li>Listener <code>ALICE</code> (port 29094) for traffic from outside, reaching the Docker host on the DNS name <code>never-gonna-give-you-up</code></li> </ul> <pre><code>  $ docker run -t --network kafka-listeners_default \\\n              confluentinc/cp-kafkacat \\\n              kafkacat -b kafka0:29094 \\\n                      -L\n  Metadata for all topics (from broker -1: kafka0:29094/bootstrap):\n  1 brokers:\n    broker 0 at never-gonna-give-you-up:29094\n</code></pre>"},{"location":"post/kafka/listener/#redux","title":"Redux","text":"<p>I recently referenced this post in a StackOverflow answer I gave, and re-articulated the solution. If you\u2019re still not quite following, check it out and maybe second time around I\u2019ll have explained it better:)</p>"},{"location":"post/kafka/listener/#references","title":"References","text":"<ul> <li>https://kafka.apache.org/documentation/#brokerconfigs</li> <li>https://cwiki.apache.org/confluence/display/KAFKA/KIP-103%3A+Separation+of+Internal+and+External+traffic</li> <li>https://cwiki.apache.org/confluence/display/KAFKA/KIP-2+-+Refactor+brokers+to+allow+listening+on+multiple+ports+and+IPs</li> <li>https://cwiki.apache.org/confluence/display/KAFKA/Multiple+Listeners+for+Kafka+Brokers</li> <li>https://stackoverflow.com/questions/42998859/kafka-server-configuration-listeners-vs-advertised-listeners</li> </ul> <p>kafka\u5185\u5916\u7f51\u914d\u7f6e</p> <p>kafka listeners\u548cadvertised\u914d\u7f6e</p> <p>kafka\u7684listeners\u548cadvertised.listeners\uff0c\u914d\u7f6e\u5185\u5916\u7f51\u5206\u6d41</p> <p>Kafka SASL \u7528\u6237\u8ba4\u8bc1\u673a\u5236</p> <p>docker-compose\u914d\u7f6e</p> <pre><code>version: \"2\"\n\nservices:\n  kafka:\n    container_name: kafka0\n    image: docker.io/bitnami/kafka:3.4.1\n    restart: always\n    user: root\n    networks:\n      - app\n    ports:\n      - 9092:9092\n    volumes:\n      - /volumes/kafka:/bitnami/kafka  \n    environment:\n      - BITNAMI_DEBUG=true\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_ENABLE_KRAFT=yes\n      - KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true\n      - KAFKA_KRAFT_CLUSTER_ID=ZGI1NTk0YmY3NzVjNDk5MD\n      - KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=1\n      - KAFKA_CFG_GROUP_INITIAL_REBALANCE_DELAY_MS=100\n\n      - KAFKA_CFG_PROCESS_ROLES=broker,controller\n      - KAFKA_CFG_LISTENERS=INNER://kafka0:19092,CONTROLLER://0.0.0.0:9093,EXTERNAL://0.0.0.0:9092\n      - KAFKA_CFG_ADVERTISED_LISTENERS=INNER://kafka0:19092,EXTERNAL://172.16.220.100:9092\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=INNER:PLAINTEXT,CONTROLLER:PLAINTEXT,EXTERNAL:SASL_PLAINTEXT\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=INNER\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\n\n      - KAFKA_CFG_SASL_ENABLED_MECHANISMS=PLAIN\n      - KAFKA_CFG_SASL_MECHANISM_INTER_BROKER_PROTOCOL=PLAIN\n      - KAFKA_CFG_SASL_MECHANISM_CONTROLLER_PROTOCOL=PLAIN\n      - KAFKA_CFG_LISTENER_NAME_EXTERNAL_PLAIN_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"admin\" password=\"2023\" user_admin=\"2023\";\n      - KAFKA_CFG_LISTENER_NAME_CONTROLLER_PLAIN_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"admin\" password=\"2023\" user_admin=\"2023\";\n\n  kafkasetup:\n    image: docker.io/bitnami/kafka:3.4.1\n    depends_on:\n      - kafka\n    networks:\n      - app\n    restart: \"no\"\n    entrypoint: [ \"bash\", \"-c\", \"sleep 10 &amp;&amp; kafka-topics.sh --create --topic kraft-test --partitions 3 --replication-factor 1 --bootstrap-server kafka:19092 &amp;&amp; kafka-topics.sh --create --topic T_gj_sgsxtddp_indicator --partitions 3 --replication-factor 1 --bootstrap-server kafka:19092 &amp;&amp; kafka-topics.sh --create --topic T_gj_sgsxtddp_alarm --partitions 3 --replication-factor 1 --bootstrap-server kafka:19092\"]    \n\nnetworks:\n  app: bridge\n</code></pre> <p>\u9879\u76eemavan\u4f9d\u8d56</p> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>springboot kafka\u914d\u7f6e</p> <pre><code>spring:\n  kafka:\n    bootstrap-servers: 172.16.220.100:9092\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\n      retries: 0\n      acks: 1\n      batch-size: 200\n      buffer-memory: 5242880\n    consumer:\n      group-id: consumer-group\n      enable-auto-commit: true\n      auto-commit-interval: 1000\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n    properties:\n      security:\n        protocol: SASL_PLAINTEXT\n      sasl:\n        mechanism: PLAIN\n        jaas:\n          config: 'org.apache.kafka.common.security.plain.PlainLoginModule required username=\"admin\" password=\"2023\";'\n</code></pre>"},{"location":"post/kafka/log/","title":"Log","text":"<p>kafka\u65e5\u5fd7\u5220\u9664</p> <p>\u8bf4\u660e\uff1a \u6240\u7528\u7684Kafka\u7248\u672c\u4e3a\uff1akafka_2.12-1.1.0\uff1b \u672c\u6587\u4e2d\u6240\u8c08\u53ca\u7684\u201c\u65e5\u5fd7\u201d\u662f\u6307Kafka\u7684\u6570\u636e\u7f13\u5b58\uff1b \u672c\u6587\u4e2d\u6240\u6709\u7684\u914d\u7f6e\u9879\uff0c\u5747\u4f4d\u4e8ekafka_2.12-1.1.0/config/server.properties\u6587\u4ef6\u4e2d\uff1b \u4e3a\u63cf\u8ff0\u65b9\u4fbf\uff0c\u5047\u8bbe\uff1alog.dirs=/data/kafka-logs\uff0c\u5373\u65e5\u5fd7\u6587\u4ef6\u4fdd\u5b58\u5728/data/kafka-logs\u8def\u5f84\u4e0b\uff1b\u6709\u4e00\u4e2atopic\u540d\u79f0\u4e3atest001\uff0cpartition\u4e3a3\u3002 1.Kafka\u65e5\u5fd7\u7559\u5b58\u7c7b\u578b \u76ee\u524d\uff0cKafka\u7684\u65e5\u5fd7\u7559\u5b58\u7c7b\u578b\u67092\u79cd\uff1a</p> <p>delete compact \u672c\u6587\u53ea\u6d89\u53cadelete\u673a\u5236\u3002</p> <ol> <li>Kafka\u65e5\u5fd7\u7559\u5b58\u673a\u5236 \u76ee\u524d\uff0cKafka\u7684\u65e5\u5fd7\u7559\u5b58\u673a\u5236\u4e00\u5171\u67093\u79cd\uff1a</li> </ol> <p>\u57fa\u4e8e\u7a7a\u95f4\u7ef4\u5ea6 \u57fa\u4e8e\u65f6\u95f4\u7ef4\u5ea6 \u57fa\u4e8e\u8d77\u59cb\u4f4d\u79fb\u7ef4\u5ea6 \u672c\u6587\u53ea\u6d89\u53ca\u524d2\u79cd\u673a\u5236\u3002</p> <p>3.\u57fa\u4e8e\u6587\u4ef6\u65f6\u95f4\u7684\u65e5\u5fd7\u7559\u5b58\u7b56\u7565 \u53ef\u914d\u7f6e\u7684\u53c2\u6570\u5982\u4e0b\uff1a</p> <p>\u6570\u636e\u7559\u5b58\u65f6\u95f4\uff087\u5929\uff09\uff1alog.retention.hours=168 \u68c0\u67e5\u95f4\u9694\u65f6\u95f4\uff085\u5206\u949f\uff09\uff1alog.retention.check.interval.ms=300000 \u6bcf\u4e2a\u65e5\u5fd7\u6587\u4ef6\u5927\u5c0f\uff081GB\uff09\uff1alog.segment.bytes=1073741824 \u6267\u884c\u5b9e\u9645\u5220\u9664\u64cd\u4f5c\u7684\u95f4\u9694\u65f6\u95f4\uff0815\u79d2\uff09\uff1alog.cleaner.backoff.ms=15000 \u4ee5\u4e0a\u7684\u914d\u7f6e\uff0c\u662f\u9488\u5bf9\u6240\u6709topic\u7684\u6bcf\u4e00\u4e2apartition\uff0c\u5373\u5168\u5c40\u8bbe\u7f6e\u3002\u4e5f\u53ef\u4ee5\u9488\u5bf9\u4e2a\u522b\u7684topic\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\uff0c\u672c\u6587\u4e0d\u4f5c\u4ecb\u7ecd\u3002\u4ee5\u4e0a\u914d\u7f6e\u7684\u4f5c\u7528\u5982\u4e0b\uff1a</p> <p>\u5728/data/kafka-logs/test001-0\u8def\u5f84\u4e0b\uff0c\u4f1a\u6709\u591a\u4e2a\u540e\u7f00\u4e3a.log\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u4e14\u5927\u5c0f\u90fd\u4e3a1GB\uff08\u9664\u6700\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\u5916\uff09</p> <p>\u6709\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u6bcf5\u5206\u949f\u4f1a\u68c0\u67e5\u4e00\u6b21\u662f\u5426\u6709\u65e5\u5fd7\u6587\u4ef6\u7684\u201c\u6700\u5927\u65f6\u95f4\u6233\u201d\u4e0e\u5f53\u524d\u65f6\u95f4\u7684\u5dee\u503c\u8d85\u8fc7\u4e867\u5929\uff0c\u5982\u679c\u6709\uff0c\u5219\u5c06\u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u540e\u7f00\u52a0\u4e0a.delete</p> <p>\u8fd8\u6709\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u6bcf15\u79d2\u4f1a\u68c0\u67e5\u4e00\u6b21\u662f\u5426\u6709\u6807\u8bb0\u4e3a.delete\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u5982\u679c\u6709\uff0c\u5219\u6267\u884c\u5220\u9664\u64cd\u4f5c</p> <p>4.\u57fa\u4e8e\u6587\u4ef6\u5927\u5c0f\u7684\u65e5\u5fd7\u7559\u5b58\u7b56\u7565 \u53ef\u914d\u7f6e\u7684\u53c2\u6570\u5982\u4e0b\uff1a</p> <p>\u6587\u4ef6\u6240\u5360\u7a7a\u95f4\u7684\u9608\u503c\uff082GB\uff09\uff1alog.retention.bytes=2147483648 \u68c0\u67e5\u95f4\u9694\u65f6\u95f4\uff085\u5206\u949f\uff09\uff1alog.retention.check.interval.ms=300000 \u6bcf\u4e2a\u65e5\u5fd7\u6587\u4ef6\u5927\u5c0f\uff081GB\uff09\uff1alog.segment.bytes=1073741824 \u6267\u884c\u5b9e\u9645\u5220\u9664\u64cd\u4f5c\u7684\u95f4\u9694\u65f6\u95f4\uff0815\u79d2\uff09\uff1alog.cleaner.backoff.ms=15000 \u4ee5\u4e0a\u7684\u914d\u7f6e\uff0c\u662f\u9488\u5bf9\u6240\u6709topic\u7684\u6bcf\u4e00\u4e2apartition\uff0c\u5373\u5168\u5c40\u8bbe\u7f6e\u3002\u4e5f\u53ef\u4ee5\u9488\u5bf9\u4e2a\u522b\u7684topic\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\uff0c\u672c\u6587\u4e0d\u4f5c\u4ecb\u7ecd\u3002\u4ee5\u4e0a\u914d\u7f6e\u7684\u4f5c\u7528\u5982\u4e0b\uff1a</p> <p>\u5728/data/kafka-logs/test001-0\u8def\u5f84\u4e0b\uff0c\u4f1a\u6709\u591a\u4e2a\u540e\u7f00\u4e3a.log\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u4e14\u5927\u5c0f\u90fd\u4e3a1GB\uff08\u9664\u6700\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\u5916\uff09</p> <p>\u6709\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u6bcf5\u5206\u949f\u4f1a\u7edf\u8ba1\u4e00\u6b21\u5f53\u524d\u8def\u5f84\u4e0b\u6240\u6709\u65e5\u5fd7\u6587\u4ef6\u5927\u5c0f\uff0c\u5982\u679c\u603b\u5927\u5c0f\u8d85\u8fc7\u9608\u503c\uff082GB\uff09\u7684\u90e8\u5206\u591a\u4e8e\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u5927\u5c0f\uff081GB\uff09\uff0c\u5219\u5c06\u6700\u65e9\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u540e\u7f00\u52a0\u4e0a.delete</p> <p>\u8fd8\u6709\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u6bcf15\u79d2\u4f1a\u68c0\u67e5\u4e00\u6b21\u662f\u5426\u6709\u6807\u8bb0\u4e3a.delete\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u5982\u679c\u6709\uff0c\u5219\u6267\u884c\u5220\u9664\u64cd\u4f5c</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff1a \u2003 \u2003\u65e5\u5fd7\u6587\u4ef6\u5927\u5c0f\u4e3a1GB\uff0c\u5f53\u524d\u8def\u5f84\u4e0b(/data/kafka-logs/test001-0)\u67093\u4e2a\u65e5\u5fd7\u6587\u4ef6\uff0c\u5206\u522b\u4e3a1GB\u30011GB\u3001100MB\uff0c\u663e\u7136100MB\u7684\u65e5\u5fd7\u6587\u4ef6\u4e3a\u7cfb\u7edf\u6b63\u5728\u4f7f\u7528\u7684\u3002\u6b64\u65f6\uff0c\u82e5\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u5f00\u59cb\u7edf\u8ba1\uff0c\u5219\u603b\u5927\u5c0f\u4e3a2GB+100MB\uff0c\u7531\u4e8e\u9608\u503c\u8bbe\u4e3a2GB\uff0c\u5219\u8d85\u8fc7\u9608\u503c\u7684\u90e8\u5206\u4e3a100MB\uff0c\u800c100MB\u5c0f\u4e8e1GB\uff08\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u5927\u5c0f\uff09\uff0c\u6240\u4ee5\u6b64\u65f6\u4e0d\u4f1a\u6709\u4efb\u4f55\u6587\u4ef6\u88ab\u6807\u8bb0\u4e3a.delete\uff0c\u4e5f\u4e0d\u4f1a\u6709\u4efb\u4f55\u6587\u4ef6\u88ab\u5220\u9664\u3002 \u2003 \u2003\u4ee5\u6b64\u7c7b\u63a8\uff0c\u5728\u7b2c3\u4e2a\u65e5\u5fd7\u6587\u4ef6\u8fbe\u52301GB\u4e4b\u524d\uff0c\u90fd\u662f\u8fd9\u79cd\u60c5\u51b5\u3002 \u2003 \u2003\u5f53\u7b2c3\u4e2a\u65e5\u5fd7\u6587\u4ef6\u8fbe\u52301GB\uff0c\u5e76\u5f00\u59cb\u5199\u7b2c4\u4e2a\u65e5\u5fd7\u6587\u4ef6\u65f6\uff08\u5047\u8bbe\u5f53\u524d\u5927\u5c0f\u4e3a200KB\uff09\uff0c\u82e5\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u5f00\u59cb\u7edf\u8ba1\uff0c\u5219\u603b\u5927\u5c0f\u4e3a3GB+200KB\uff0c\u8d85\u8fc7\u9608\u503c\u7684\u90e8\u5206\u4e3a1GB+100KB\uff0c\u5df2\u7ecf\u5927\u4e8e\u4e861GB\uff0c\u6240\u4ee5\u6700\u65e9\u7684\u65e5\u5fd7\u6587\u4ef6\u4f1a\u88ab\u6807\u8bb0\u4e3a.delete\uff0c\u518d\u8fc715\u79d2\u4e4b\u540e\uff0c\u7b2c\u4e8c\u4e2a\u7a0b\u5e8f\u4f1a\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5220\u9664\u3002</p> <p>5.\u603b\u7ed3 \u57fa\u4e8e\u6587\u4ef6\u65f6\u95f4\u548c\u57fa\u4e8e\u6587\u4ef6\u5927\u5c0f\u7684\u4e24\u79cd\u7559\u5b58\u7b56\u7565\uff0c\u9700\u8981\u5206\u522b\u8bbe\u7f6elog.retention.hours\u548clog.retention.bytes\u4e24\u4e2a\u53c2\u6570\u3002 \u8bbe\u7f6e\u4e86\u54ea\u4e2a\u53c2\u6570\uff0c\u5219\u54ea\u79cd\u7b56\u7565\u751f\u6548\uff0c\u5982\u679c\u540c\u65f6\u90fd\u8bbe\u7f6e\u4e86\uff0c\u5219\u54ea\u4e2a\u6761\u4ef6\u5148\u6ee1\u8db3\uff0c\u54ea\u4e2a\u7b56\u7565\u751f\u6548\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c \u4ee5\u4e0a\u7684\u914d\u7f6e\u5bf9\u6bcf\u4e2atopic\u7684\u6bcf\u4e2apartition\u90fd\u6709\u6548\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u4e00\u4e2atopic\u6709\u591a\u4e2apartition\uff0c\u5219\u6bcf\u4e2apartition\u7684\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\u4e0b\u90fd\u6267\u884c\u4e0a\u8ff0\u7b56\u7565\u3002\u56e0\u6b64\uff0c\u5728\u5b9e\u9645\u914d\u7f6e\u65f6\uff0c\u4e00\u5b9a\u8981\u628apartition\u7684\u6570\u91cf\u8003\u8651\u8fdb\u53bb\uff01</p> <p>\u53c2\u8003\u8d44\u6599 Kafka\u5b66\u4e60\u7b14\u8bb0\u4e4bKafka\u65e5\u5fd7\u5220\u51fa\u7b56\u7565 kafka log.retention.bytes Kafka\u4e3b\u8981\u53c2\u6570\u8be6\u89e3 what is the difference between log.cleaner.delete.retention.ms and log.retention.ms in Kafka</p>"},{"location":"springcloud/feign/","title":"Feign\u914d\u7f6e","text":""},{"location":"springcloud/feign/#httpclient","title":"\u4fee\u6539HttpClient","text":"<p>OpenFeign\u9ed8\u8ba4\u4f7f\u7528jdk\u81ea\u5e26\u7684HttpURLConnection\uff0c\u6211\u4eec\u77e5\u9053HttpURLConnection\u6ca1\u6709\u8fde\u63a5\u6c60\u3001\u6027\u80fd\u548c\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u5982\u679c\u91c7\u7528\u9ed8\u8ba4\uff0c\u5f88\u53ef\u80fd\u4f1a\u9047\u5230\u6027\u80fd\u95ee\u9898\u5bfc\u81f4\u7cfb\u7edf\u6545\u969c\u3002</p> <p>https://blog.csdn.net/hkk666123/article/details/113964715 https://www.51cto.com/article/674466.html https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/</p>"},{"location":"%E5%89%8D%E7%AB%AF/Javascript%20Info/","title":"Javascript Info","text":"<p>the main features of <code>localStorage</code> : Shared between all tabs and windows from the same origin. The data does not expire. It remains after the browser restart and even OS reboot.</p> <p>the features of <code>sessionStorage</code>  : - The\u00a0<code>sessionStorage</code>\u00a0exists only within the current browser tab.     - Another tab with the same page will have a different storage.     - But it is shared between iframes in the same tab (assuming they come from the same origin). - The data survives page refresh, but not closing/opening the tab.</p>"},{"location":"%E5%89%8D%E7%AB%AF/Puppeteer%20%E6%95%99%E7%A8%8B/","title":"Puppeteer \u6559\u7a0b","text":"<p>\u5976\u5976\u90fd\u80fd\u8f7b\u677e\u5165\u95e8\u7684 Puppeteer \u6559\u7a0b</p> <p>page.on\u662fPuppeteer\u5e93\u4e2dPage\u5bf9\u8c61\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u7528\u4e8e\u6ce8\u518c\u548c\u76d1\u542c\u4e0d\u540c\u7c7b\u578b\u7684\u4e8b\u4ef6\u3002\u901a\u8fc7page.on\u65b9\u6cd5\uff0c\u60a8\u53ef\u4ee5\u4e3aPage\u5bf9\u8c61\u6ce8\u518c\u4ee5\u4e0b\u7c7b\u578b\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff1a</p> <p>'console': \u5f53\u9875\u9762\u4e2d\u7684console\u5bf9\u8c61\u89e6\u53d1\u4e8b\u4ef6\u65f6\uff0c\u6bd4\u5982\u8c03\u7528console.log\u3001console.error\u7b49\u65b9\u6cd5\u65f6\u3002 'dialog': \u5f53\u9875\u9762\u5f39\u51fa\u5bf9\u8bdd\u6846\u65f6\uff0c\u6bd4\u5982alert\u3001confirm\u3001prompt\u7b49\u3002 'error': \u5f53\u9875\u9762\u4e2d\u53d1\u751fJavaScript\u9519\u8bef\u65f6\u3002 'pageerror': \u5f53\u9875\u9762\u4e2d\u53d1\u751f\u672a\u6355\u83b7\u7684JavaScript\u9519\u8bef\u65f6\u3002 'request': \u5f53\u9875\u9762\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\u65f6\u3002 'response': \u5f53\u9875\u9762\u63a5\u6536\u5230\u7f51\u7edc\u54cd\u5e94\u65f6\u3002 'requestfailed': \u5f53\u9875\u9762\u4e2d\u7684\u8bf7\u6c42\u5931\u8d25\u65f6\u3002 'requestfinished': \u5f53\u9875\u9762\u4e2d\u7684\u8bf7\u6c42\u5b8c\u6210\u65f6\u3002 'domcontentloaded': \u5f53\u9875\u9762\u7684DOMContentLoaded\u4e8b\u4ef6\u89e6\u53d1\u65f6\u3002 'load': \u5f53\u9875\u9762\u7684load\u4e8b\u4ef6\u89e6\u53d1\u65f6\u3002 'frameattached': \u5f53\u9875\u9762\u4e2d\u7684iframe\u88ab\u9644\u52a0\u65f6\u3002 'framedetached': \u5f53\u9875\u9762\u4e2d\u7684iframe\u88ab\u79fb\u9664\u65f6\u3002 'framenavigated': \u5f53\u9875\u9762\u4e2d\u7684iframe\u5bfc\u822a\u5230\u65b0\u7684URL\u65f6\u3002 'load': \u5f53\u9875\u9762\u7684load\u4e8b\u4ef6\u89e6\u53d1\u65f6\u3002 'close': \u5f53\u9875\u9762\u5173\u95ed\u65f6\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528page.on\u65b9\u6cd5\u76d1\u542cconsole\u4e8b\u4ef6\uff1a</p> <pre><code>const puppeteer = require('puppeteer');\n\n(async () =&gt; {\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n\n  page.on('console', (message) =&gt; {\n    console.log(`Console message: ${message.text()}`);\n  });\n\n  await page.goto('https://example.com');\n  await page.evaluate(() =&gt; {\n    console.log('Hello, world!');\n  });\n\n  await browser.close();\n})();\n</code></pre> <p>\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6ce8\u518c\u548c\u76d1\u542c\u5176\u4ed6\u7c7b\u578b\u7684\u4e8b\u4ef6\uff0c\u4f7f\u7528\u76f8\u5e94\u7684\u4e8b\u4ef6\u7c7b\u578b\u5b57\u7b26\u4e32\u4f5c\u4e3apage.on\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u7136\u540e\u63d0\u4f9b\u76f8\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u51fd\u6570\u3002</p> <p>\u5728page.on('request', handler)\u200b\u200b\u4e2d\uff0chandler\u200b\u200b\u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7528\u4e8e\u5904\u7406\u9875\u9762\u53d1\u8d77\u7684\u8bf7\u6c42\u3002\u5f53\u9875\u9762\u53d1\u8d77\u8bf7\u6c42\u65f6\uff0chandler\u200b\u200b\u5c06\u88ab\u8c03\u7528\uff0c\u5e76\u63a5\u6536\u4e00\u4e2aRequest\u200b\u200b\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002</p> <p>\u5728Request\u200b\u200b\u5bf9\u8c61\u4e2d\uff0c\u6709\u4e00\u4e2aresourceType\u200b\u200b\u5c5e\u6027\uff0c\u8868\u793a\u8bf7\u6c42\u7684\u8d44\u6e90\u7c7b\u578b\u3002resourceType\u200b\u200b\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u6807\u8bc6\u8bf7\u6c42\u7684\u8d44\u6e90\u7c7b\u578b\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684resourceType\u200b\u200b\u7c7b\u578b\uff1a</p> <ol> <li>\u200b'document'\u200b\u200b: HTML\u6587\u6863\u3002</li> <li>\u200b'stylesheet'\u200b\u200b: \u6837\u5f0f\u8868\u3002</li> <li>\u200b'image'\u200b\u200b: \u56fe\u50cf\u6587\u4ef6\u3002</li> <li>\u200b'media'\u200b\u200b: \u5a92\u4f53\u6587\u4ef6\uff0c\u5982\u97f3\u9891\u6216\u89c6\u9891\u3002</li> <li>\u200b'font'\u200b\u200b: \u5b57\u4f53\u6587\u4ef6\u3002</li> <li>\u200b'script'\u200b\u200b: JavaScript\u811a\u672c\u6587\u4ef6\u3002</li> <li>\u200b'xhr'\u200b\u200b: XMLHttpRequest\u8bf7\u6c42\u3002</li> <li>\u200b'fetch'\u200b\u200b: Fetch\u8bf7\u6c42\u3002</li> <li>\u200b'websocket'\u200b\u200b: WebSocket\u8fde\u63a5\u3002</li> <li>\u200b'manifest'\u200b\u200b: \u7f51\u9875\u6e05\u5355\u6587\u4ef6\u3002</li> <li>\u200b'other'\u200b\u200b: \u5176\u4ed6\u7c7b\u578b\u7684\u8d44\u6e90\u3002</li> </ol> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u68c0\u67e5Request\u200b\u200b\u5bf9\u8c61\u7684resourceType\u200b\u200b\u5c5e\u6027\u6765\u786e\u5b9a\u8bf7\u6c42\u7684\u8d44\u6e90\u7c7b\u578b\uff0c\u5e76\u6839\u636e\u9700\u8981\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528page.on\u200b\u200b\u65b9\u6cd5\u76d1\u542c\u7279\u5b9a\u8d44\u6e90\u7c7b\u578b\u7684\u8bf7\u6c42\uff1a</p> <pre><code>const puppeteer = require('puppeteer');\n\n(async () =&gt; {\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n\n  page.on('request', (request) =&gt; {\n    if (request.resourceType() === 'image') {\n      console.log(`Image request URL: ${request.url()}`);\n    }\n  });\n\n  await page.goto('https://example.com');\n\n  await browser.close();\n})();\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u6ce8\u518c\u4e86\u4e00\u4e2arequest\u200b\u200b\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u5f53\u9875\u9762\u53d1\u8d77\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u8bf7\u6c42\u7684\u8d44\u6e90\u7c7b\u578b\u662f'image'\u200b\u200b\uff0c\u5219\u5c06\u8bf7\u6c42\u7684URL\u6253\u5370\u5230\u63a7\u5236\u53f0\u4e0a\u3002</p> <p>\u901a\u8fc7\u68c0\u67e5Request\u200b\u200b\u5bf9\u8c61\u7684resourceType\u200b\u200b\u5c5e\u6027\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u5904\u7406\u7279\u5b9a\u7c7b\u578b\u7684\u8bf7\u6c42\u3002</p> <p>XHR\u8bf7\u6c42\u4e0eFetch\u8bf7\u6c42\u7684\u533a\u522b\uff1a</p> <p>XHR\uff08XMLHttpRequest\uff09\u548cFetch\u90fd\u662f\u7528\u4e8e\u5728Web\u6d4f\u89c8\u5668\u4e2d\u53d1\u8d77HTTP\u8bf7\u6c42\u7684\u6280\u672f\uff0c\u4f46\u5b83\u4eec\u4e4b\u95f4\u6709\u4e00\u4e9b\u91cd\u8981\u7684\u533a\u522b\u3002\u4ee5\u4e0b\u662fXHR\u8bf7\u6c42\u548cFetch\u8bf7\u6c42\u4e4b\u95f4\u7684\u4e3b\u8981\u533a\u522b\uff1a</p> <ol> <li>API \u8bbe\u8ba1\u548c\u7528\u6cd5\uff1aXHR\u662f\u5728\u65e9\u671f\u7684Web\u5f00\u53d1\u4e2d\u5f15\u5165\u7684\uff0c\u5b83\u7684API\u76f8\u5bf9\u8f83\u4e3a\u590d\u6742\u3002\u5b83\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u3001\u4e8b\u4ef6\u76d1\u542c\u5668\u548c\u72b6\u6001\u7801\u6765\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0cFetch\u662fES6\u4e2d\u5f15\u5165\u7684\u65b0API\uff0c\u5b83\u4f7f\u7528\u4e86Promise\u548cResponse\u5bf9\u8c61\uff0c\u63d0\u4f9b\u4e86\u66f4\u7b80\u6d01\u3001\u73b0\u4ee3\u5316\u7684API\u8bbe\u8ba1\u3002</li> <li>\u8fd4\u56de\u503c\uff1aXHR\u7684responseText\u200b\u200b\u5c5e\u6027\u5305\u542b\u54cd\u5e94\u7684\u6587\u672c\u5185\u5bb9\uff0cresponseXML\u200b\u200b\u5c5e\u6027\u5305\u542b\u54cd\u5e94\u7684XML\u6587\u6863\u3002\u800cFetch\u901a\u8fc7\u8fd4\u56de\u4e00\u4e2aPromise\u6765\u5904\u7406\u54cd\u5e94\uff0c\u5e76\u5c06\u54cd\u5e94\u89e3\u6790\u4e3a\u4e00\u4e2aResponse\u5bf9\u8c61\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528Response\u5bf9\u8c61\u4e0a\u7684\u65b9\u6cd5\uff08\u5982text()\u200b\u200b\u3001json()\u200b\u200b\u3001blob()\u200b\u200b\u7b49\uff09\u6765\u83b7\u53d6\u54cd\u5e94\u7684\u5185\u5bb9\u3002</li> <li>\u9ed8\u8ba4\u884c\u4e3a\uff1aXHR\u8bf7\u6c42\u4f1a\u81ea\u52a8\u53d1\u9001\u5f53\u524d\u9875\u9762\u7684Cookies\u548cHTTP\u8eab\u4efd\u9a8c\u8bc1\u4fe1\u606f\uff0c\u800cFetch\u8bf7\u6c42\u9ed8\u8ba4\u4e0d\u4f1a\u53d1\u9001Cookies\u548c\u8eab\u4efd\u9a8c\u8bc1\u4fe1\u606f\uff0c\u9700\u8981\u624b\u52a8\u914d\u7f6e\u3002</li> <li>\u8de8\u57df\u8bf7\u6c42\uff1aXHR\u8bf7\u6c42\u53d7\u5230\u540c\u6e90\u7b56\u7565\u7684\u9650\u5236\uff0c\u9700\u8981\u914d\u7f6eCORS\uff08\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff09\u4ee5\u8fdb\u884c\u8de8\u57df\u8bf7\u6c42\u3002Fetch\u8bf7\u6c42\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u652f\u6301\u8de8\u57df\u8bf7\u6c42\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528CORS\u5934\u90e8\u6765\u8fdb\u4e00\u6b65\u63a7\u5236\u8de8\u57df\u8bf7\u6c42\u7684\u884c\u4e3a\u3002</li> <li>\u53d6\u6d88\u8bf7\u6c42\uff1aXHR\u53ef\u4ee5\u4f7f\u7528abort()\u200b\u200b\u65b9\u6cd5\u53d6\u6d88\u6b63\u5728\u8fdb\u884c\u7684\u8bf7\u6c42\uff0c\u800cFetch\u76ee\u524d\u6ca1\u6709\u76f4\u63a5\u63d0\u4f9b\u53d6\u6d88\u8bf7\u6c42\u7684\u65b9\u6cd5\u3002\u4f46\u53ef\u4ee5\u4f7f\u7528\u63a7\u5236\u5668\uff08AbortController\uff09\u548c\u4fe1\u53f7\uff08AbortSignal\uff09\u6765\u5b9e\u73b0\u7c7b\u4f3c\u7684\u529f\u80fd\u3002</li> </ol> <p>\u603b\u7684\u6765\u8bf4\uff0cFetch\u63d0\u4f9b\u4e86\u66f4\u7b80\u6d01\u3001\u73b0\u4ee3\u5316\u7684API\u8bbe\u8ba1\uff0c\u5e76\u4e14\u5728\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u548c\u54cd\u5e94\u5904\u7406\u65b9\u9762\u66f4\u52a0\u7075\u6d3b\u3002\u7136\u800c\uff0cXHR\u4ecd\u7136\u5728\u4e00\u4e9b\u65e7\u7684Web\u5e94\u7528\u7a0b\u5e8f\u548c\u5e93\u4e2d\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5e76\u4e14\u5177\u6709\u66f4\u5e7f\u6cdb\u7684\u6d4f\u89c8\u5668\u652f\u6301\u3002\u9009\u62e9\u4f7f\u7528XHR\u8fd8\u662fFetch\u53d6\u51b3\u4e8e\u60a8\u7684\u7279\u5b9a\u9700\u6c42\u548c\u76ee\u6807\u6d4f\u89c8\u5668\u73af\u5883\u3002</p> <p>\u5728 Puppeteer \u4e2d\uff0cProtocol.Network.ResourceTiming\u200b\u200b \u662f\u4e00\u4e2a\u8868\u793a\u8d44\u6e90\u65f6\u95f4\u4fe1\u606f\u7684\u5bf9\u8c61\u3002\u5b83\u5305\u542b\u4e86\u4e0e\u7f51\u7edc\u8bf7\u6c42\u76f8\u5173\u7684\u65f6\u95f4\u6570\u636e\uff0c\u4f8b\u5982\u53d1\u8d77\u8bf7\u6c42\u7684\u65f6\u95f4\u3001\u63a5\u6536\u5230\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u65f6\u95f4\u3001\u5b8c\u6210\u8bf7\u6c42\u7684\u65f6\u95f4\u7b49\u3002</p> <p>\u200bProtocol.Network.ResourceTiming\u200b\u200b \u5bf9\u8c61\u7684\u5c5e\u6027\u5982\u4e0b\uff1a</p> <ul> <li>\u200bstartTime\u200b\u200b\uff1a\u8d44\u6e90\u8bf7\u6c42\u5f00\u59cb\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200bdomainLookupStart\u200b\u200b\uff1a\u57df\u540d\u89e3\u6790\u5f00\u59cb\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200bdomainLookupEnd\u200b\u200b\uff1a\u57df\u540d\u89e3\u6790\u7ed3\u675f\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200bconnectStart\u200b\u200b\uff1a\u5efa\u7acb\u8fde\u63a5\u5f00\u59cb\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200bconnectEnd\u200b\u200b\uff1a\u5efa\u7acb\u8fde\u63a5\u7ed3\u675f\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200bsecureConnectionStart\u200b\u200b\uff1a\u5b89\u5168\u8fde\u63a5\u5f00\u59cb\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200brequestStart\u200b\u200b\uff1a\u53d1\u9001\u8bf7\u6c42\u5f00\u59cb\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200bresponseStart\u200b\u200b\uff1a\u63a5\u6536\u5230\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u65f6\u95f4\u6233\u3002</li> <li>\u200bresponseEnd\u200b\u200b\uff1a\u63a5\u6536\u5b8c\u6574\u54cd\u5e94\u7684\u65f6\u95f4\u6233\u3002</li> </ul> <p>\u8fd9\u4e9b\u65f6\u95f4\u6233\u662f\u76f8\u5bf9\u4e8e\u9875\u9762\u5bfc\u822a\u5f00\u59cb\u7684\u65f6\u95f4\u6765\u8ba1\u7b97\u7684\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002\u901a\u8fc7\u5206\u6790\u8fd9\u4e9b\u65f6\u95f4\u6570\u636e\uff0c\u60a8\u53ef\u4ee5\u4e86\u89e3\u8d44\u6e90\u8bf7\u6c42\u7684\u5404\u4e2a\u9636\u6bb5\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u4ee5\u53ca\u7f51\u7edc\u6027\u80fd\u65b9\u9762\u7684\u6307\u6807\u3002</p> <p>\u8981\u83b7\u53d6\u8d44\u6e90\u7684\u65f6\u95f4\u4fe1\u606f\uff0c\u53ef\u4ee5\u901a\u8fc7 HTTPRequest\u200b\u200b \u5bf9\u8c61\u7684 timing()\u200b\u200b \u65b9\u6cd5\u6765\u83b7\u5f97\u3002\u4f8b\u5982\uff1a</p> <pre><code>const request = /* \u83b7\u53d6\u5230\u7684 HTTPRequest \u5bf9\u8c61 */;\nconst timing = await request.timing();\nconsole.log(timing);\n</code></pre> <p>\u200btiming\u200b\u200b \u5bf9\u8c61\u5c06\u5305\u542b Protocol.Network.ResourceTiming\u200b\u200b \u7684\u5c5e\u6027\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u83b7\u53d6\u8d44\u6e90\u65f6\u95f4\u4fe1\u606f\u9700\u8981\u542f\u7528 Network Tracing\uff08\u7f51\u7edc\u8ddf\u8e2a\uff09\u529f\u80fd\uff0c\u4ee5\u53ca\u786e\u4fdd\u5728\u8bf7\u6c42\u5b8c\u6210\u540e\u83b7\u53d6\u65f6\u95f4\u4fe1\u606f\u3002\u8be6\u7ec6\u7684\u542f\u7528\u7f51\u7edc\u8ddf\u8e2a\u7684\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003\u4e4b\u524d\u63d0\u4f9b\u7684\u5173\u4e8e\u542f\u7528 Network Tracing \u7684\u56de\u7b54\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/","title":"Javascript\u4e8b\u4ef6\u76d1\u63a7","text":"<p>\u4ecb\u7ecd\u5b8c\u4e0a\u9762\u4e09\u4e2a\u4e8b\u4ef6\u89e6\u53d1\u9636\u6bb5\uff0c\u6211\u4eec\u6765\u770b\u4e0b\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u6240\u6709\u4ecb\u7ecd\u4e8b\u4ef6\u7684\u6587\u7ae0\u90fd\u4f1a\u8bf4\uff0c\u5728\u4f7f\u7528 addEventListener\u200b\u200b \u51fd\u6570\u6765\u76d1\u542c\u4e8b\u4ef6\u65f6\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u8bbe\u7f6e\u4e3a false\u200b\u200b\uff0c\u8fd9\u6837\u76d1\u542c\u4e8b\u4ef6\u65f6\u53ea\u4f1a\u76d1\u542c\u5192\u6ce1\u9636\u6bb5\u53d1\u751f\u7684\u4e8b\u4ef6\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3a IE \u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5728\u6355\u83b7\u9636\u6bb5\u76d1\u542c\u4e8b\u4ef6\uff0c\u4e3a\u4e86\u7edf\u4e00\u800c\u8bbe\u7f6e\u7684\uff0c\u6bd5\u7adf IE \u6d4f\u89c8\u5668\u7684\u4efd\u989d\u662f\u4e0d\u53ef\u5ffd\u7565\u7684\u3002</p> <p>IE \u6d4f\u89c8\u5668\u5728\u4e8b\u4ef6\u8fd9\u65b9\u9762\u4e0e\u6807\u51c6\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u5dee\u5f02\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u9762\u96c6\u4e2d\u4ecb\u7ecd\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#event-delegate","title":"\u4f7f\u7528\u4e8b\u4ef6\u4ee3\u7406\uff08Event Delegate\uff09\u63d0\u5347\u6027\u80fd","text":"<p>\u56e0\u4e3a\u4e8b\u4ef6\u6709\u5192\u6ce1\u673a\u5236\uff0c\u6240\u6709\u5b50\u8282\u70b9\u7684\u4e8b\u4ef6\u90fd\u4f1a\u987a\u7740\u7236\u7ea7\u8282\u70b9\u8dd1\u56de\u53bb\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u76d1\u542c\u7236\u7ea7\u8282\u70b9\u6765\u5b9e\u73b0\u76d1\u542c\u5b50\u8282\u70b9\u7684\u529f\u80fd\uff0c\u8fd9\u5c31\u662f\u4e8b\u4ef6\u4ee3\u7406\u3002</p> <p>\u4f7f\u7528\u4e8b\u4ef6\u4ee3\u7406\u4e3b\u8981\u6709\u4e24\u4e2a\u4f18\u52bf\uff1a</p> <ol> <li>\u51cf\u5c11\u4e8b\u4ef6\u7ed1\u5b9a\uff0c\u63d0\u5347\u6027\u80fd\u3002\u4e4b\u524d\u4f60\u9700\u8981\u7ed1\u5b9a\u4e00\u5806\u5b50\u8282\u70b9\uff0c\u800c\u73b0\u5728\u4f60\u53ea\u9700\u8981\u7ed1\u5b9a\u4e00\u4e2a\u7236\u8282\u70b9\u5373\u53ef\u3002\u51cf\u5c11\u4e86\u7ed1\u5b9a\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u7684\u6570\u91cf\u3002</li> <li>\u52a8\u6001\u53d8\u5316\u7684 DOM \u7ed3\u6784\uff0c\u4ecd\u7136\u53ef\u4ee5\u76d1\u542c\u3002\u5f53\u4e00\u4e2a DOM \u52a8\u6001\u521b\u5efa\u4e4b\u540e\uff0c\u4e0d\u4f1a\u5e26\u6709\u4efb\u4f55\u4e8b\u4ef6\u76d1\u542c\uff0c\u9664\u975e\u4f60\u91cd\u65b0\u6267\u884c\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\uff0c\u800c\u4f7f\u7528\u4e8b\u4ef6\u76d1\u542c\u65e0\u987b\u62c5\u5fe7\u8fd9\u4e2a\u95ee\u9898\u3002</li> </ol> <p>\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u4e3a\u4e86\u7b80\u4fbf\uff0c\u6211\u4f7f\u7528 jQuery \u6765\u5b9e\u73b0\u666e\u901a\u4e8b\u4ef6\u7ed1\u5b9a\u548c\u4e8b\u4ef6\u4ee3\u7406\u3002\u6211\u7684\u76ee\u6807\u662f\u76d1\u542c\u6240\u6709 a\u200b\u200b \u94fe\u63a5\u7684\u5355\u51fb\u4e8b\u4ef6\uff0c.ul1\u200b\u200b \u662f\u5e38\u89c4\u7684\u4e8b\u4ef6\u7ed1\u5b9a\u65b9\u6cd5\uff0cjQuery \u4f1a\u5faa\u73af\u6bcf\u4e00\u4e2a .ul &gt; a\u200b\u200b \u7ed3\u6784\u5e76\u7ed1\u5b9a\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002.ul2\u200b\u200b \u5219\u662f\u4e8b\u4ef6\u76d1\u542c\u7684\u65b9\u6cd5\uff0cjQuery \u53ea\u4e3a .ul2\u200b\u200b \u7ed3\u6784\u7ed1\u5b9a\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\uff0c\u56e0\u4e3a .ul2\u200b\u200b \u4e0b\u9762\u53ef\u80fd\u4f1a\u6709\u5f88\u591a\u65e0\u5173\u8282\u70b9\u4e5f\u4f1a\u89e6\u53d1click\u200b\u200b \u4e8b\u4ef6\uff0c\u6240\u4ee5\u6211\u5728 on\u200b\u200b \u51fd\u6570\u91cc\u4f20\u9012\u4e86\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u53ea\u76d1\u542c a\u200b\u200b \u5b50\u8282\u70b9\u7684\u4e8b\u4ef6\u3002</p> <p>\u5b83\u4eec\u90fd\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4f46\u662f\u5f53\u6211\u52a8\u6001\u521b\u5efa\u65b0 DOM \u7ed3\u6784\u7684\u65f6\u5019\uff0c\u7b2c\u4e00\u4e2a ul\u200b\u200b \u95ee\u9898\u5c31\u51fa\u73b0\u4e86\uff0c\u65b0\u521b\u5efa\u7ed3\u6784\u867d\u7136\u8fd8\u662f.ul1 &gt; a\u200b\u200b\uff0c\u4f46\u662f\u6ca1\u6709\u7ed1\u5b9a\u4e8b\u4ef6\uff0c\u6240\u4ee5\u65e0\u6cd5\u6267\u884c\u56de\u8c03\u51fd\u6570\u3002\u800c\u7b2c\u4e8c\u4e2a ul\u200b\u200b \u5de5\u4f5c\u7684\u5f88\u597d\uff0c\u56e0\u4e3a\u70b9\u51fb\u65b0\u521b\u5efa\u7684 DOM \uff0c\u5b83\u7684\u4e8b\u4ef6\u4f1a\u5192\u6ce1\u5230\u7236\u7ea7\u8282\u70b9\u8fdb\u884c\u5904\u7406\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u539f\u751f\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e8b\u4ef6\u4ee3\u7406\uff0c\u9700\u8981\u6ce8\u610f\u8fc7\u6ee4\u975e\u76ee\u6807\u8282\u70b9\uff0c\u53ef\u4ee5\u901a\u8fc7 id\u3001class \u6216\u8005 tagname \u7b49\u7b49\uff0c\u4f8b\u5982\uff1a</p> <pre><code>element.addEventListener('click', function(event) {\n    // \u5224\u65ad\u662f\u5426\u662f a \u8282\u70b9\n    if ( event.target.tagName == 'A' ) {\n        // a \u7684\u4e00\u4e9b\u4ea4\u4e92\u64cd\u4f5c\n    }\n}, false);\n</code></pre>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#stoppropagation","title":"\u505c\u6b62\u4e8b\u4ef6\u5192\u6ce1\uff08stopPropagation\uff09","text":"<p>\u6240\u6709\u7684\u4e8b\u60c5\u90fd\u4f1a\u6709\u5bf9\u7acb\u9762\uff0c\u4e8b\u4ef6\u7684\u5192\u6ce1\u9636\u6bb5\u867d\u7136\u770b\u8d77\u6765\u5f88\u597d\uff0c\u4e5f\u4f1a\u6709\u4e0d\u9002\u5408\u7684\u573a\u6240\u3002\u6bd4\u8f83\u590d\u6742\u7684\u5e94\u7528\uff0c\u7531\u4e8e\u4e8b\u4ef6\u76d1\u542c\u6bd4\u8f83\u590d\u6742\uff0c\u53ef\u80fd\u4f1a\u5e0c\u671b\u53ea\u76d1\u542c\u53d1\u751f\u5728\u5177\u4f53\u8282\u70b9\u7684\u4e8b\u4ef6\u3002\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u505c\u6b62\u4e8b\u4ef6\u5192\u6ce1\u3002</p> <p>\u505c\u6b62\u4e8b\u4ef6\u5192\u6ce1\u9700\u8981\u4f7f\u7528\u4e8b\u4ef6\u5bf9\u8c61\u7684 stopPropagation\u200b\u200b \u65b9\u6cd5\uff0c\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>element.addEventListener('click', function(event) {\n    event.stopPropagation();\n}, false);\n</code></pre> <p>\u5728\u4e8b\u4ef6\u76d1\u542c\u7684\u56de\u8c03\u51fd\u6570\u91cc\uff0c\u4f1a\u4f20\u9012\u4e00\u4e2a\u53c2\u6570\uff0c\u8fd9\u5c31\u662f Event\u200b\u200b \u5bf9\u8c61\uff0c\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u8c03\u7528 stopPropagation\u200b\u200b \u65b9\u6cd5\u5373\u53ef\u505c\u6b62\u4e8b\u4ef6\u5192\u6ce1\u3002\u4e3e\u4e2a\u505c\u6b62\u4e8b\u4ef6\u5192\u6ce1\u7684\u5e94\u7528\u5b9e\u4f8b\uff1a</p> <p>JS Bin</p> <p>\u5728\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u6709\u4e00\u4e2a\u5f39\u51fa\u5c42\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5f39\u51fa\u5c42\u4e0a\u505a\u4efb\u4f55\u64cd\u4f5c\uff0c\u4f8b\u5982 click\u200b\u200b \u7b49\u3002\u5f53\u6211\u4eec\u60f3\u5173\u6389\u8fd9\u4e2a\u5f39\u51fa\u5c42\uff0c\u5728\u5f39\u51fa\u5c42\u5916\u9762\u7684\u4efb\u610f\u7ed3\u6784\u4e2d\u70b9\u51fb\u5373\u53ef\u5173\u6389\u3002\u5b83\u9996\u5148\u5bf9 document\u200b\u200b \u8282\u70b9\u8fdb\u884c click\u200b\u200b \u4e8b\u4ef6\u76d1\u542c\uff0c\u6240\u6709\u7684 click\u200b\u200b \u4e8b\u4ef6\uff0c\u90fd\u4f1a\u8ba9\u5f39\u51fa\u5c42\u9690\u85cf\u6389\u3002\u540c\u6837\u7684\uff0c\u6211\u4eec\u5728\u5f39\u51fa\u5c42\u4e0a\u9762\u7684\u5355\u51fb\u64cd\u4f5c\u4e5f\u4f1a\u5bfc\u81f4\u5f39\u51fa\u5c42\u9690\u85cf\u3002\u4e4b\u540e\u6211\u4eec\u5bf9\u5f39\u51fa\u5c42\u4f7f\u7528\u505c\u6b62\u4e8b\u4ef6\u5192\u6ce1\uff0c\u6390\u65ad\u4e86\u5355\u51fb\u4e8b\u4ef6\u8fd4\u56de document\u200b\u200b \u7684\u5192\u6ce1\u8def\u7ebf\uff0c\u8fd9\u6837\u5728\u5f39\u51fa\u5c42\u7684\u64cd\u4f5c\u5c31\u4e0d\u4f1a\u88ab document\u200b\u200b \u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u76d1\u542c\u5230\u3002</p> <p>\u66f4\u591a\u5173\u4e8e Event\u200b\u200b \u5bf9\u8c61\u7684\u4e8b\u60c5\uff0c\u6211\u4eec\u4f1a\u5728\u4e0b\u9762\u4ecb\u7ecd\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#event","title":"\u4e8b\u4ef6\u7684 Event \u5bf9\u8c61","text":"<p>\u5f53\u4e00\u4e2a\u4e8b\u4ef6\u88ab\u89e6\u53d1\u7684\u65f6\u5019\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff08Event Object\uff09\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u91cc\u9762\u5305\u542b\u4e86\u4e00\u4e9b\u6709\u7528\u7684\u5c5e\u6027\u6216\u8005\u65b9\u6cd5\u3002\u4e8b\u4ef6\u5bf9\u8c61\u4f1a\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9\u6211\u4eec\u7684\u6bc1\u6389\u51fd\u6570\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4ee3\u7801\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5370\u51fa\u8fd9\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff1a</p> <pre><code>&lt;button&gt;\u6253\u5370 Event Object&lt;/button&gt;\n&lt;script&gt;\n    var btn = document.getElementsByTagName('button');\n    btn[0].addEventListener('click', function(event) {\n        console.log(event);\n    }, false);\n&lt;/script&gt;\n</code></pre> <p>\u5c31\u53ef\u4ee5\u770b\u5230\u4e00\u5806\u5c5e\u6027\u5217\u8868\uff1a</p> <p>\u200b\u200b</p> <p>\u4e8b\u4ef6\u5bf9\u8c61\u5305\u62ec\u5f88\u591a\u6709\u7528\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u9f20\u6807\u5728\u5c4f\u5e55\u4e0a\u7684\u5750\u6807\u3001\u88ab\u89e6\u53d1\u7684 DOM \u8be6\u7ec6\u4fe1\u606f\u3001\u4ee5\u53ca\u4e0a\u56fe\u6700\u4e0b\u9762\u7ee7\u627f\u8fc7\u6765\u7684\u505c\u6b62\u5192\u6ce1\u65b9\u6cd5\uff08stopPropagation\uff09\u3002\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u6bd4\u8f83\u5e38\u7528\u7684\u51e0\u4e2a\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#typestring","title":"\u200btype\u200b\u200b(string)","text":"<p>\u4e8b\u4ef6\u7684\u540d\u79f0\uff0c\u6bd4\u5982 \u201cclick\u201d\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#targetnode","title":"\u200btarget\u200b\u200b(node)","text":"<p>\u4e8b\u4ef6\u8981\u89e6\u53d1\u7684\u76ee\u6807\u8282\u70b9\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#bubbles-boolean","title":"\u200bbubbles\u200b\u200b (boolean)","text":"<p>\u8868\u660e\u8be5\u4e8b\u4ef6\u662f\u5426\u662f\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u7684\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#preventdefault-function","title":"\u200bpreventDefault\u200b\u200b (function)","text":"<p>\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u7981\u6b62\u4e00\u5207\u9ed8\u8ba4\u7684\u884c\u4e3a\uff0c\u4f8b\u5982\u70b9\u51fb a\u200b\u200b \u6807\u7b7e\u65f6\uff0c\u4f1a\u6253\u5f00\u4e00\u4e2a\u65b0\u9875\u9762\uff0c\u5982\u679c\u4e3a a\u200b\u200b \u6807\u7b7e\u76d1\u542c\u4e8b\u4ef6 click\u200b\u200b\u540c\u65f6\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u5219\u4e0d\u4f1a\u6253\u5f00\u65b0\u9875\u9762\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#stoppropagation-function","title":"\u200bstopPropagation\u200b\u200b (function)","text":"<p>\u505c\u6b62\u5192\u6ce1\uff0c\u4e0a\u9762\u6709\u63d0\u5230\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#stopimmediatepropagation-function","title":"\u200bstopImmediatePropagation\u200b\u200b (function)","text":"<p>\u4e0e stopPropagation\u200b\u200b \u7c7b\u4f3c\uff0c\u5c31\u662f\u963b\u6b62\u89e6\u53d1\u5176\u4ed6\u76d1\u542c\u51fd\u6570\u3002\u4f46\u662f\u4e0e stopPropagation\u200b\u200b \u4e0d\u540c\u7684\u662f\uff0c\u5b83\u66f4\u52a0 \u201c\u5f3a\u529b\u201d\uff0c\u963b\u6b62\u9664\u4e86\u76ee\u6807\u4e4b\u5916\u7684\u4e8b\u4ef6\u89e6\u53d1\uff0c\u751a\u81f3\u963b\u6b62\u9488\u5bf9\u540c\u4e00\u4e2a\u76ee\u6807\u8282\u70b9\u7684\u76f8\u540c\u4e8b\u4ef6\uff0cDemo\uff1ahttp://jsfiddle.net/yujiangshui/ju2ujmzp/2/\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#cancelable-boolean","title":"\u200bcancelable\u200b\u200b (boolean)","text":"<p>\u8fd9\u4e2a\u5c5e\u6027\u8868\u660e\u8be5\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 event.preventDefault\u200b\u200b \u65b9\u6cd5\u6765\u7981\u7528\u9ed8\u8ba4\u884c\u4e3a\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#eventphase-number","title":"\u200beventPhase\u200b\u200b (number)","text":"<p>\u8fd9\u4e2a\u5c5e\u6027\u7684\u6570\u5b57\u8868\u793a\u5f53\u524d\u4e8b\u4ef6\u89e6\u53d1\u5728\u4ec0\u4e48\u9636\u6bb5\u3002none\uff1a0\uff1b\u6355\u83b7\uff1a1\uff1b\u76ee\u6807\uff1a2\uff1b\u5192\u6ce1\uff1a3\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#pagex-pagey-number","title":"\u200bpageX\u200b\u200b \u548c pageY\u200b\u200b (number)","text":"<p>\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8868\u793a\u89e6\u53d1\u4e8b\u4ef6\u65f6\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u9875\u9762\u7684\u5750\u6807\u3002Demo\uff1ahttp://api.jquery.com/event.pagex/\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#istrusted-boolean","title":"\u200bisTrusted\u200b\u200b (boolean)","text":"<p>\u8868\u660e\u8be5\u4e8b\u4ef6\u662f\u6d4f\u89c8\u5668\u89e6\u53d1\uff08\u7528\u6237\u771f\u5b9e\u64cd\u4f5c\u89e6\u53d1\uff09\uff0c\u8fd8\u662f JavaScript \u4ee3\u7801\u89e6\u53d1\u7684\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#jquery","title":"jQuery \u4e2d\u7684\u4e8b\u4ef6","text":"<p>\u5982\u679c\u4f60\u5728\u5199\u6587\u7ae0\u6216\u8005 Demo\uff0c\u4e3a\u4e86\u7b80\u5355\uff0c\u4f60\u5f53\u7136\u53ef\u4ee5\u7528\u4e0a\u9762\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\uff0c\u4ee5\u53ca\u90a3\u4e9b\u4e8b\u4ef6\u5bf9\u8c61\u63d0\u4f9b\u7684\u65b9\u6cd5\u7b49\u3002\u4f46\u5728\u5b9e\u9645\u4e2d\uff0c\u6709\u4e00\u4e9b\u65b9\u6cd5\u548c\u5c5e\u6027\u662f\u6709\u517c\u5bb9\u6027\u95ee\u9898\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u4f1a\u4f7f\u7528 jQuery \u6765\u6d88\u9664\u517c\u5bb9\u6027\u95ee\u9898\u3002</p> <p>\u4e0b\u9762\u7b80\u5355\u7684\u6765\u8bf4\u4e00\u4e0b jQuery \u4e2d\u4e8b\u4ef6\u7684\u57fa\u7840\u64cd\u4f5c\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_1","title":"\u7ed1\u5b9a\u4e8b\u4ef6\u548c\u4e8b\u4ef6\u4ee3\u7406","text":"<p>\u5728 jQuery \u4e2d\uff0c\u63d0\u4f9b\u4e86\u8bf8\u5982 click()\u200b\u200b \u8fd9\u6837\u7684\u8bed\u6cd5\u7cd6\u6765\u7ed1\u5b9a\u5bf9\u5e94\u4e8b\u4ef6\uff0c\u4f46\u662f\u8fd9\u91cc\u63a8\u8350\u7edf\u4e00\u4f7f\u7528 on()\u200b\u200b \u6765\u7ed1\u5b9a\u4e8b\u4ef6\u3002\u8bed\u6cd5\uff1a</p> <pre><code>.on( events [, selector ] [, data ], handler )\n</code></pre> <p>\u200bevents\u200b\u200b \u5373\u4e3a\u4e8b\u4ef6\u7684\u540d\u79f0\uff0c\u4f60\u53ef\u4ee5\u4f20\u9012\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6765\u5b9e\u73b0\u4e8b\u4ef6\u4ee3\u7406\uff0c\u5177\u4f53\u6587\u6863.on() \u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#event-object","title":"\u5904\u7406\u8fc7\u517c\u5bb9\u6027\u7684\u4e8b\u4ef6\u5bf9\u8c61\uff08Event Object\uff09","text":"<p>\u4e8b\u4ef6\u5bf9\u8c61\u6709\u4e9b\u65b9\u6cd5\u7b49\u4e5f\u6709\u517c\u5bb9\u6027\u5dee\u5f02\uff0cjQuery \u5c06\u5176\u5c01\u88c5\u5904\u7406\uff0c\u5e76\u63d0\u4f9b\u8ddf\u6807\u51c6\u4e00\u76f4\u7684\u547d\u540d\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u5728 jQuery \u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u4e2d\u8bbf\u95ee\u539f\u6765\u7684\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u9700\u8981\u4f7f\u7528 event.originalEvent\u200b\u200b\uff0c\u5b83\u6307\u5411\u539f\u751f\u7684\u4e8b\u4ef6\u5bf9\u8c61\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#trigger","title":"\u89e6\u53d1\u4e8b\u4ef6 trigger\u200b\u200b \u65b9\u6cd5","text":"<p>\u70b9\u51fb\u67d0\u4e2a\u7ed1\u5b9a\u4e86 click\u200b\u200b \u4e8b\u4ef6\u7684\u8282\u70b9\uff0c\u81ea\u7136\u4f1a\u89e6\u53d1\u8be5\u8282\u70b9\u7684 click\u200b\u200b \u4e8b\u4ef6\uff0c\u4ece\u800c\u6267\u884c\u5bf9\u5e94\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u200btrigger\u200b\u200b \u65b9\u6cd5\u53ef\u4ee5\u6a21\u62df\u89e6\u53d1\u4e8b\u4ef6\uff0c\u6211\u4eec\u5355\u51fb\u53e6\u4e00\u4e2a\u8282\u70b9 elementB\uff0c\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>$(elementB).on('click', function(){\n    $(elementA).trigger( \"click\" );\n});\n</code></pre> <p>\u6765\u89e6\u53d1 elementA \u8282\u70b9\u7684\u5355\u51fb\u76d1\u542c\u56de\u8c03\u51fd\u6570\u3002\u8be6\u60c5\u8bf7\u770b\u6587\u6863 .trigger()\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_2","title":"\u4e8b\u4ef6\u8fdb\u9636\u8bdd\u9898","text":""},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#ie","title":"IE \u6d4f\u89c8\u5668\u7684\u5dee\u5f02\u548c\u517c\u5bb9\u6027\u95ee\u9898","text":"<p>IE \u6d4f\u89c8\u5668\u5c31\u662f\u7279\u7acb\u72ec\u884c\uff0c\u5b83\u5bf9\u4e8e\u4e8b\u4ef6\u7684\u64cd\u4f5c\u4e0e\u6807\u51c6\u6709\u4e00\u4e9b\u5dee\u5f02\u3002\u4e0d\u8fc7 IE \u6d4f\u89c8\u5668\u73b0\u5728\u4e5f\u5f00\u59cb\u6162\u6162\u52aa\u529b\u6539\u9020\uff0c\u8ba9\u6d4f\u89c8\u5668\u53d8\u5f97\u66f4\u52a0\u6807\u51c6\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#ie_1","title":"IE \u4e0b\u7ed1\u5b9a\u4e8b\u4ef6","text":"<p>\u5728 IE \u4e0b\u9762\u7ed1\u5b9a\u4e00\u4e2a\u4e8b\u4ef6\u76d1\u542c\uff0c\u5728 IE9- \u65e0\u6cd5\u4f7f\u7528\u6807\u51c6\u7684 addEventListener\u200b\u200b \u51fd\u6570\uff0c\u800c\u662f\u4f7f\u7528\u81ea\u5bb6\u7684attachEvent\u200b\u200b\uff0c\u5177\u4f53\u7528\u6cd5\uff1a</p> <pre><code>element.attachEvent(&lt;event-name&gt;, &lt;callback&gt;);\n</code></pre> <p>\u5176\u4e2d <code>&lt;event-name&gt;</code>\u200b\u200b\u53c2\u6570\u9700\u8981\u6ce8\u610f\uff0c\u5b83\u9700\u8981\u4e3a\u4e8b\u4ef6\u540d\u79f0\u6dfb\u52a0 on\u200b\u200b \u524d\u7f00\uff0c\u6bd4\u5982\u6709\u4e2a\u4e8b\u4ef6\u53eb click\u200b\u200b\uff0c\u6807\u51c6\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u76d1\u542c click\u200b\u200b\uff0cIE \u8fd9\u91cc\u9700\u8981\u76d1\u542c onclick\u200b\u200b\u3002</p> <p>\u53e6\u4e00\u4e2a\uff0c\u5b83\u6ca1\u6709\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u53ea\u652f\u6301\u76d1\u542c\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u7684\u4e8b\u4ef6\uff0c\u6240\u4ee5\u4e3a\u4e86\u7edf\u4e00\uff0c\u5728\u4f7f\u7528\u6807\u51c6\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u7684\u65f6\u5019\uff0c\u7b2c\u4e09\u53c2\u6570\u4f20\u9012 false\u3002</p> <p>\u5f53\u7136\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5728 IE9 \u5df2\u7ecf\u88ab\u629b\u5f03\uff0c\u5728 IE11 \u5df2\u7ecf\u88ab\u79fb\u9664\u4e86\uff0cIE \u4e5f\u5728\u6162\u6162\u53d8\u597d\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#ie-event","title":"IE \u4e2d Event \u5bf9\u8c61\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9","text":"<p>IE \u4e2d\u5f80\u56de\u8c03\u51fd\u6570\u4e2d\u4f20\u9012\u7684\u4e8b\u4ef6\u5bf9\u8c61\u4e0e\u6807\u51c6\u4e5f\u6709\u4e00\u4e9b\u5dee\u5f02\uff0c\u4f60\u9700\u8981\u4f7f\u7528 window.event\u200b\u200b \u6765\u83b7\u53d6\u4e8b\u4ef6\u5bf9\u8c61\u3002\u6240\u4ee5\u4f60\u901a\u5e38\u4f1a\u5199\u51fa\u4e0b\u9762\u4ee3\u7801\u6765\u83b7\u53d6\u4e8b\u4ef6\u5bf9\u8c61\uff1a</p> <pre><code>event = event || window.event\n</code></pre> <p>\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u4e8b\u4ef6\u5c5e\u6027\u6709\u5dee\u522b\uff0c\u6bd4\u5982\u6bd4\u8f83\u5e38\u7528\u7684 event.target\u200b\u200b \u5c5e\u6027\uff0cIE \u4e2d\u6ca1\u6709\uff0c\u800c\u662f\u4f7f\u7528 event.srcElement\u200b\u200b\u6765\u4ee3\u66ff\u3002\u5982\u679c\u4f60\u7684\u56de\u8c03\u51fd\u6570\u9700\u8981\u5904\u7406\u89e6\u53d1\u4e8b\u4ef6\u7684\u8282\u70b9\uff0c\u90a3\u4e48\u9700\u8981\u5199\uff1a</p> <pre><code>node = event.srcElement || event.target;\n</code></pre> <p>\u5e38\u89c1\u7684\u5c31\u662f\u8fd9\u70b9\uff0c\u66f4\u7ec6\u8282\u7684\u4e0d\u518d\u591a\u8bf4\u3002\u5728\u6982\u5ff5\u5b66\u4e60\u4e2d\uff0c\u6211\u4eec\u6ca1\u5fc5\u8981\u4e3a\u4e0d\u6807\u51c6\u7684\u4e1c\u897f\u652f\u4ed8\u5b66\u4e60\u6210\u672c\uff1b\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u7c7b\u5e93\u5df2\u7ecf\u5e2e\u6211\u4eec\u5c01\u88c5\u597d\u8fd9\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\u3002\u53ef\u559c\u7684\u662f IE \u6d4f\u89c8\u5668\u73b0\u5728\u4e5f\u5f00\u59cb\u4e0d\u65ad\u5411\u6807\u51c6\u8fdb\u6b65\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_3","title":"\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u7684\u4f5c\u7528\u57df\u95ee\u9898","text":"<p>\u4e0e\u4e8b\u4ef6\u7ed1\u5b9a\u5728\u4e00\u8d77\u7684\u56de\u8c03\u51fd\u6570\u4f5c\u7528\u57df\u4f1a\u6709\u95ee\u9898\uff0c\u6211\u4eec\u6765\u770b\u4e2a\u4f8b\u5b50\uff1a</p> <p>Events in JavaScript: Removing event listeners</p> <p>\u56de\u8c03\u51fd\u6570\u8c03\u7528\u7684 user.greeting\u200b\u200b \u51fd\u6570\u4f5c\u7528\u57df\u5e94\u8be5\u662f\u5728 user\u200b\u200b \u4e0b\u7684\uff0c\u672c\u671f\u671b\u8f93\u51fa My name is Bob\u200b\u200b \u7ed3\u679c\u5374\u8f93\u51fa\u4e86My name is undefined\u200b\u200b\u3002\u8fd9\u662f\u56e0\u4e3a\u4e8b\u4ef6\u7ed1\u5b9a\u51fd\u6570\u65f6\uff0c\u8be5\u51fd\u6570\u4f1a\u4ee5\u5f53\u524d\u5143\u7d20\u4e3a\u4f5c\u7528\u57df\u6267\u884c\u3002\u4e3a\u4e86\u8bc1\u660e\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u5f53\u524d element\u200b\u200b \u6dfb\u52a0\u5c5e\u6027\uff1a</p> <pre><code>element.firstname = 'jiangshui';\n</code></pre> <p>\u518d\u6b21\u70b9\u51fb\uff0c\u53ef\u4ee5\u6b63\u786e\u5f39\u51fa My name is jiangshui\u200b\u200b\u3002\u90a3\u4e48\u6211\u4eec\u6765\u89e3\u51b3\u4e00\u4e0b\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_4","title":"\u4f7f\u7528\u533f\u540d\u51fd\u6570","text":"<p>\u6211\u4eec\u4e3a\u56de\u8c03\u51fd\u6570\u5305\u88f9\u4e00\u5c42\u533f\u540d\u51fd\u6570\u3002</p> <p>Events in JavaScript: Removing event listeners</p> <p>\u5305\u88f9\u4e4b\u540e\uff0c\u867d\u7136\u533f\u540d\u51fd\u6570\u7684\u4f5c\u7528\u57df\u88ab\u6307\u5411\u4e8b\u4ef6\u89e6\u53d1\u5143\u7d20\uff0c\u4f46\u6267\u884c\u7684\u5185\u5bb9\u5c31\u50cf\u76f4\u63a5\u8c03\u7528\u4e00\u6837\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4f5c\u7528\u57df\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#bind","title":"\u4f7f\u7528 bind \u65b9\u6cd5","text":"<p>\u4f7f\u7528\u533f\u540d\u51fd\u6570\u662f\u6709\u7f3a\u9677\u7684\uff0c\u6bcf\u6b21\u8c03\u7528\u90fd\u5305\u88f9\u8fdb\u533f\u540d\u51fd\u6570\u91cc\u9762\uff0c\u589e\u52a0\u4e86\u5197\u4f59\u4ee3\u7801\u7b49\uff0c\u6b64\u5916\u5982\u679c\u60f3\u4f7f\u7528removeEventListener\u200b\u200b \u89e3\u9664\u7ed1\u5b9a\uff0c\u8fd8\u9700\u8981\u518d\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\u5f15\u7528\u3002Function\u200b\u200b \u7c7b\u578b\u63d0\u4f9b\u4e86 bind\u200b\u200b \u65b9\u6cd5\uff0c\u53ef\u4ee5\u4e3a\u51fd\u6570\u7ed1\u5b9a\u4f5c\u7528\u57df\uff0c\u65e0\u8bba\u51fd\u6570\u5728\u54ea\u91cc\u8c03\u7528\uff0c\u90fd\u4e0d\u4f1a\u6539\u53d8\u5b83\u7684\u4f5c\u7528\u57df\u3002\u901a\u8fc7\u5982\u4e0b\u8bed\u53e5\u7ed1\u5b9a\u4f5c\u7528\u57df\uff1a</p> <pre><code>user.greeting = user.greeting.bind(user);\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff1a</p> <pre><code>element.addEventListener('click', user.greeting);\n</code></pre>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_5","title":"\u5e38\u7528\u4e8b\u4ef6\u548c\u6280\u5de7","text":"<p>\u7528\u6237\u7684\u64cd\u4f5c\u6709\u5f88\u591a\u79cd\uff0c\u6240\u4ee5\u6709\u5f88\u591a\u4e8b\u4ef6\u3002\u4e3a\u4e86\u5f00\u53d1\u65b9\u4fbf\uff0c\u6d4f\u89c8\u5668\u53c8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4e8b\u4ef6\uff0c\u6240\u4ee5\u6709\u5f88\u591a\u5f88\u591a\u7684\u4e8b\u4ef6\u3002\u8fd9\u91cc\u53ea\u4ecb\u7ecd\u51e0\u79cd\u5e38\u7528\u7684\u4e8b\u4ef6\u548c\u4f7f\u7528\u6280\u5de7\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#load","title":"\u200bload\u200b\u200b","text":"<p>\u200bload\u200b\u200b \u4e8b\u4ef6\u5728\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\u65f6\u89e6\u53d1\u3002\u8fd9\u4e2a\u8d44\u6e90\u53ef\u4ee5\u662f\u56fe\u7247\u3001CSS \u6587\u4ef6\u3001JS \u6587\u4ef6\u3001\u89c6\u9891\u3001document \u548c window \u7b49\u7b49\u3002</p> <p>\u6bd4\u8f83\u5e38\u7528\u7684\u5c31\u662f\u76d1\u542c window \u7684 load\u200b\u200b \u4e8b\u4ef6\uff0c\u5f53\u9875\u9762\u5185\u6240\u6709\u8d44\u6e90\u5168\u90e8\u52a0\u8f7d\u5b8c\u6210\u4e4b\u540e\u5c31\u4f1a\u89e6\u53d1\u3002\u6bd4\u5982\u7528 JS \u5bf9\u56fe\u7247\u4ee5\u53ca\u5176\u4ed6\u8d44\u6e90\u5904\u7406\uff0c\u6211\u4eec\u5728 load\u200b\u200b \u4e8b\u4ef6\u4e2d\u89e6\u53d1\uff0c\u53ef\u4ee5\u4fdd\u8bc1 JS \u4e0d\u4f1a\u5728\u8d44\u6e90\u672a\u52a0\u8f7d\u5b8c\u6210\u5c31\u5f00\u59cb\u5904\u7406\u8d44\u6e90\u5bfc\u81f4\u62a5\u9519\u3002</p> <p>\u540c\u6837\u7684\uff0c\u4e5f\u53ef\u4ee5\u76d1\u542c\u56fe\u7247\u7b49\u5176\u4ed6\u8d44\u6e90\u52a0\u8f7d\u60c5\u51b5\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#beforeunload","title":"\u200bbeforeunload\u200b\u200b","text":"<p>\u5f53\u6d4f\u89c8\u8005\u5728\u9875\u9762\u4e0a\u7684\u8f93\u5165\u6846\u8f93\u5165\u4e00\u4e9b\u5185\u5bb9\u65f6\uff0c\u672a\u4fdd\u5b58\u3001\u8bef\u64cd\u4f5c\u5173\u6389\u7f51\u9875\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8f93\u5165\u4fe1\u606f\u4e22\u5931\u3002</p> <p>\u5f53\u6d4f\u89c8\u8005\u8f93\u5165\u4fe1\u606f\u4f46\u672a\u4fdd\u5b58\u65f6\u5173\u6389\u7f51\u9875\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb\u76d1\u542c\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u4f8b\u5982\uff1a</p> <pre><code>window.addEventListener(\"beforeunload\", function( event ) {\n    event.returnValue = \"\u653e\u5f03\u5f53\u524d\u672a\u4fdd\u5b58\u5185\u5bb9\u800c\u5173\u95ed\u9875\u9762\uff1f\";\n});\n</code></pre> <p>\u8fd9\u65f6\u5019\u8bd5\u56fe\u5173\u95ed\u7f51\u9875\u7684\u65f6\u5019\uff0c\u4f1a\u5f39\u7a97\u963b\u6b62\u64cd\u4f5c\uff0c\u70b9\u51fb\u786e\u8ba4\u4e4b\u540e\u624d\u4f1a\u5173\u95ed\u3002\u5f53\u7136\uff0c\u5982\u679c\u6ca1\u6709\u5fc5\u8981\uff0c\u5c31\u4e0d\u8981\u76d1\u542c\uff0c\u4e0d\u8981\u4ee5\u4e3a\u4f7f\u7528\u5b83\u53ef\u4ee5\u4e3a\u4f60\u7559\u4f4f\u6d4f\u89c8\u8005\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#resize","title":"\u200bresize\u200b\u200b","text":"<p>\u5f53\u8282\u70b9\u5c3a\u5bf8\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u901a\u5e38\u7528\u5728 window \u4e0a\uff0c\u8fd9\u6837\u53ef\u4ee5\u76d1\u542c\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u53d8\u5316\u3002\u901a\u5e38\u7528\u5728\u590d\u6742\u5e03\u5c40\u548c\u54cd\u5e94\u5f0f\u4e0a\u3002</p> <p>\u5e38\u89c1\u7684\u89c6\u5dee\u6eda\u52a8\u6548\u679c\u7f51\u7ad9\u4ee5\u53ca\u540c\u7c7b\u6bd4\u8f83\u590d\u6742\u7684\u5e03\u5c40\u7f51\u7ad9\uff0c\u5f80\u5f80\u4f7f\u7528 JavaScript \u6765\u8ba1\u7b97\u5c3a\u5bf8\u3001\u4f4d\u7f6e\u3002\u5982\u679c\u7528\u6237\u8c03\u6574\u6d4f\u89c8\u5668\u5927\u5c0f\uff0c\u5c3a\u5bf8\u3001\u4f4d\u7f6e\u4e0d\u968f\u7740\u6539\u53d8\u5219\u4f1a\u51fa\u73b0\u9519\u4f4d\u60c5\u51b5\u3002\u5728 window \u4e0a\u76d1\u542c\u8be5\u4e8b\u4ef6\uff0c\u89e6\u53d1\u65f6\u8c03\u7528\u8ba1\u7b97\u5c3a\u5bf8\u3001\u4f4d\u7f6e\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u6d4f\u89c8\u5668\u7684\u5927\u5c0f\u6765\u91cd\u65b0\u8ba1\u7b97\u3002</p> <p>\u4f46\u9700\u8981\u6ce8\u610f\u4e00\u70b9\uff0c\u5f53\u6d4f\u89c8\u5668\u53d1\u751f\u4efb\u610f\u53d8\u5316\u90fd\u4f1a\u89e6\u53d1 resize\u200b\u200b \u4e8b\u4ef6\uff0c\u54ea\u6015\u662f\u7f29\u5c0f 1px \u7684\u6d4f\u89c8\u5668\u5bbd\u5ea6\uff0c\u8fd9\u6837\u8c03\u6574\u6d4f\u89c8\u5668\u65f6\u4f1a\u89e6\u53d1\u5927\u91cf\u7684 resize\u200b\u200b \u4e8b\u4ef6\uff0c\u4f60\u7684\u56de\u8c03\u51fd\u6570\u5c31\u4f1a\u88ab\u5927\u91cf\u7684\u6267\u884c\uff0c\u5bfc\u81f4\u53d8\u5361\u3001\u5d29\u6e83\u7b49\u3002</p> <p>\u4f60\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570 throttle \u6216\u8005 debounce \u6280\u5de7\u6765\u8fdb\u884c\u4f18\u5316\uff0cthrottle \u65b9\u6cd5\u5927\u4f53\u601d\u8def\u5c31\u662f\u5728\u67d0\u4e00\u6bb5\u65f6\u95f4\u5185\u65e0\u8bba\u591a\u6b21\u8c03\u7528\uff0c\u53ea\u6267\u884c\u4e00\u6b21\u51fd\u6570\uff0c\u5230\u8fbe\u65f6\u95f4\u5c31\u6267\u884c\uff1bdebounce \u65b9\u6cd5\u5927\u4f53\u601d\u8def\u5c31\u662f\u5728\u67d0\u4e00\u6bb5\u65f6\u95f4\u5185\u7b49\u5f85\u662f\u5426\u8fd8\u4f1a\u91cd\u590d\u8c03\u7528\uff0c\u5982\u679c\u4e0d\u4f1a\u518d\u8c03\u7528\uff0c\u5c31\u6267\u884c\u51fd\u6570\uff0c\u5982\u679c\u8fd8\u6709\u91cd\u590d\u8c03\u7528\uff0c\u5219\u4e0d\u6267\u884c\u7ee7\u7eed\u7b49\u5f85\u3002\u5173\u4e8e\u5b83\u4eec\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff0c\u6211\u540e\u9762\u4f1a\u4ecb\u7ecd\u4e00\u4e0b\u53d1\u8868\u5728\u6211\u7684\u535a\u5ba2\u4e0a\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#error","title":"\u200berror\u200b\u200b","text":"<p>\u5f53\u6211\u4eec\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25\u6216\u8005\u52a0\u8f7d\u6210\u529f\u4f46\u662f\u53ea\u52a0\u8f7d\u4e00\u90e8\u5206\u800c\u65e0\u6cd5\u4f7f\u7528\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1 error\u200b\u200b \u4e8b\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u76d1\u542c\u8be5\u4e8b\u4ef6\u6765\u63d0\u793a\u4e00\u4e2a\u53cb\u597d\u7684\u62a5\u9519\u6216\u8005\u8fdb\u884c\u5176\u4ed6\u5904\u7406\u3002\u6bd4\u5982 JS \u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff0c\u5219\u63d0\u793a\u5c1d\u8bd5\u5237\u65b0\uff1b\u56fe\u7247\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\uff0c\u5728\u56fe\u7247\u4e0b\u9762\u63d0\u793a\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u7b49\u3002\u8be5\u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1\u3002\u56e0\u4e3a\u5b50\u8282\u70b9\u52a0\u8f7d\u5931\u8d25\uff0c\u5e76\u4e0d\u610f\u5473\u7740\u7236\u8282\u70b9\u52a0\u8f7d\u5931\u8d25\uff0c\u6240\u4ee5\u4f60\u7684\u5904\u7406\u51fd\u6570\u5fc5\u987b\u7cbe\u786e\u7ed1\u5b9a\u5230\u76ee\u6807\u8282\u70b9\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5bf9\u4e8e\u8be5\u4e8b\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 addEventListener\u200b\u200b \u7b49\u8fdb\u884c\u76d1\u542c\uff0c\u4f46\u662f\u6709\u65f6\u5019\u4f1a\u51fa\u73b0\u5931\u6548\u60c5\u51b5\uff08\u770b\u8fd9\u4e2a\u4f8b\u5b50\uff09\uff0c\u8fd9\u662f\u56e0\u4e3a error\u200b\u200b \u4e8b\u4ef6\u90fd\u89e6\u53d1\u8fc7\u4e86\uff0c\u4f60\u7684 JS \u76d1\u542c\u5904\u7406\u4ee3\u7801\u8fd8\u6ca1\u6709\u52a0\u8f7d\u8fdb\u6765\u6267\u884c\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u7528\u5185\u8054\u6cd5\u66f4\u597d\u4e00\u4e9b\uff1a</p> <pre><code>&lt;img src=\"not-found.jpg\" onerror=\"doSomething\" /&gt;\n</code></pre> <p>\u5982\u679c\u8fd8\u6709\u5176\u4ed6\u5e38\u7528\u4e8b\u4ef6\uff0c\u6b22\u8fce\u7559\u8a00\u8865\u5145\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#javascript","title":"\u7528 JavaScript \u6a21\u62df\u89e6\u53d1\u5185\u7f6e\u4e8b\u4ef6","text":"<p>\u5185\u7f6e\u7684\u4e8b\u4ef6\u4e5f\u53ef\u4ee5\u88ab JavaScript \u6a21\u62df\u89e6\u53d1\uff0c\u6bd4\u5982\u4e0b\u9762\u51fd\u6570\u6a21\u62df\u89e6\u53d1\u5355\u51fb\u4e8b\u4ef6\uff1a</p> <pre><code>function simulateClick() {\n  var event = new MouseEvent('click', {\n    'view': window,\n    'bubbles': true,\n    'cancelable': true\n  });\n  var cb = document.getElementById('checkbox'); \n  var canceled = !cb.dispatchEvent(event);\n  if (canceled) {\n    // A handler called preventDefault.\n    alert(\"canceled\");\n  } else {\n    // None of the handlers called preventDefault.\n    alert(\"not canceled\");\n  }\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u8fd9\u4e2a Demo \u6765\u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_6","title":"\u81ea\u5b9a\u4e49\u4e8b\u4ef6","text":"<p>\u6211\u4eec\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6765\u5b9e\u73b0\u66f4\u7075\u6d3b\u7684\u5f00\u53d1\uff0c\u4e8b\u4ef6\u7528\u597d\u4e86\u53ef\u4ee5\u662f\u4e00\u4ef6\u5f88\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u57fa\u4e8e\u4e8b\u4ef6\u7684\u5f00\u53d1\u6709\u5f88\u591a\u4f18\u52bf\uff08\u540e\u9762\u4ecb\u7ecd\uff09\u3002</p> <p>\u4e0e\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u7684\u51fd\u6570\u6709 Event\u200b\u200b\u3001CustomEvent\u200b\u200b \u548c dispatchEvent\u200b\u200b\u3002</p> <p>\u76f4\u63a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u4f7f\u7528 Event\u200b\u200b \u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>var event = new Event('build');\n// Listen for the event.\nelem.addEventListener('build', function (e) { ... }, false);\n// Dispatch the event.\nelem.dispatchEvent(event);\n</code></pre> <p>\u200bCustomEvent\u200b\u200b \u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u66f4\u9ad8\u5ea6\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u9644\u5e26\u4e00\u4e9b\u6570\u636e\uff0c\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>var myEvent = new CustomEvent(eventname, options);\n</code></pre> <p>\u5176\u4e2d options \u53ef\u4ee5\u662f\uff1a</p> <pre><code>{\n    detail: {\n        ...\n    },\n    bubbles: true,\n    cancelable: false\n}\n</code></pre> <p>\u5176\u4e2d detail\u200b\u200b \u53ef\u4ee5\u5b58\u653e\u4e00\u4e9b\u521d\u59cb\u5316\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u5728\u89e6\u53d1\u7684\u65f6\u5019\u8c03\u7528\u3002\u5176\u4ed6\u5c5e\u6027\u5c31\u662f\u5b9a\u4e49\u8be5\u4e8b\u4ef6\u662f\u5426\u5177\u6709\u5192\u6ce1\u7b49\u7b49\u529f\u80fd\u3002</p> <p>\u5185\u7f6e\u7684\u4e8b\u4ef6\u4f1a\u7531\u6d4f\u89c8\u5668\u6839\u636e\u67d0\u4e9b\u64cd\u4f5c\u8fdb\u884c\u89e6\u53d1\uff0c\u81ea\u5b9a\u4e49\u7684\u4e8b\u4ef6\u5c31\u9700\u8981\u4eba\u5de5\u89e6\u53d1\u3002dispatchEvent\u200b\u200b \u51fd\u6570\u5c31\u662f\u7528\u6765\u89e6\u53d1\u67d0\u4e2a\u4e8b\u4ef6\uff1a</p> <pre><code>element.dispatchEvent(customEvent);\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5728 element \u4e0a\u9762\u89e6\u53d1 customEvent \u8fd9\u4e2a\u4e8b\u4ef6\u3002\u7ed3\u5408\u8d77\u6765\u7528\u5c31\u662f\uff1a</p> <pre><code>// add an appropriate event listener\nobj.addEventListener(\"cat\", function(e) { process(e.detail) });\n// create and dispatch the event\nvar event = new CustomEvent(\"cat\", {\"detail\":{\"hazcheeseburger\":true}});\nobj.dispatchEvent(event);\n</code></pre> <p>\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u9700\u8981\u6ce8\u610f\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u800c\u4f7f\u7528 jQuery \u5c31\u7b80\u5355\u591a\u4e86\uff1a</p> <pre><code>// \u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\n$(element).on('myCustomEvent', function(){});\n// \u89e6\u53d1\u4e8b\u4ef6\n$(element).trigger('myCustomEvent');\n</code></pre> <p>\u6b64\u5916\uff0c\u4f60\u8fd8\u53ef\u4ee5\u5728\u89e6\u53d1\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u65f6\u4f20\u9012\u66f4\u591a\u53c2\u6570\u4fe1\u606f\uff1a</p> <pre><code>$( \"p\" ).on( \"myCustomEvent\", function( event, myName ) {\n  $( this ).text( myName + \", hi there!\" );\n});\n$( \"button\" ).click(function () {\n  $( \"p\" ).trigger( \"myCustomEvent\", [ \"John\" ] );\n});\n</code></pre> <p>\u66f4\u8be6\u7ec6\u7684\u7528\u6cd5\u8bf7\u770b Introducing Custom Events\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_7","title":"\u5728\u5f00\u53d1\u4e2d\u5e94\u7528\u4e8b\u4ef6","text":"<p>\u5f53\u6211\u4eec\u64cd\u4f5c\u67d0\u4e00\u4e2a DOM\uff0c\u53d1\u51fa\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u53e6\u4e00\u4e2a\u5730\u65b9\u5199\u4ee3\u7801\u6355\u83b7\u8fd9\u4e2a\u4e8b\u4ef6\u6267\u884c\u5904\u7406\u903b\u8f91\u3002\u89e6\u53d1\u64cd\u4f5c\u548c\u6355\u83b7\u5904\u7406\u64cd\u4f5c\u662f\u5206\u5f00\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u7279\u6027\u6765\u5bf9\u7a0b\u5e8f\u89e3\u8026\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_8","title":"\u7528\u4e8b\u4ef6\u89e3\u8026","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6574\u4e2a\u7684\u529f\u80fd\uff0c\u5206\u5272\u6210\u72ec\u7acb\u7684\u5c0f\u529f\u80fd\uff0c\u6bcf\u4e2a\u5c0f\u529f\u80fd\u7ed1\u5b9a\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u7531\u4e00\u4e2a\u201c\u63a7\u5236\u5668\u201d\u8d1f\u8d23\u6839\u636e\u6761\u4ef6\u89e6\u53d1\u67d0\u4e2a\u4e8b\u4ef6\u3002\u8fd9\u6837\uff0c\u5728\u5916\u9762\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u8c03\u7528\u5bf9\u5e94\u529f\u80fd\uff0c\u4f7f\u5176\u66f4\u52a0\u7075\u6d3b\u3002</p> <p>\u200b\u200b</p> <p>\u5728\u300a\u57fa\u4e8e MVC \u7684 JavaScript Web \u5bcc\u5e94\u7528\u5f00\u53d1\u300b\u4e00\u4e66\u4e2d\uff0c\u6709\u66f4\u52a0\u5177\u4f53\u7684\u5b9e\u4f8b\uff0c\u6709\u5174\u8da3\u7684\u670b\u53cb\u53ef\u4ee5\u4e70\u672c\u770b\u770b\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#publishsubscribe","title":"\u53d1\u5e03\uff08Publish\uff09\u548c\u8ba2\u9605\uff08Subscribe\uff09\u6a21\u5f0f","text":"<p>\u9488\u5bf9\u4e0a\u9762\u8fd9\u79cd\u7528\u6cd5\uff0c\u7ee7\u7eed\u62bd\u8c61\u4e00\u4e0b\uff0c\u5c31\u662f\u53d1\u5e03\u548c\u8ba2\u9605\u5f00\u53d1\u6a21\u5f0f\u3002\u6b63\u5982\u5176\u540d\uff0c\u8fd9\u79cd\u6a21\u5f0f\u6709\u4e24\u4e2a\u89d2\u8272\uff1a\u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\uff0c\u6b64\u5916\u6709\u4e00\u6761\u4fe1\u9053\uff0c\u53d1\u5e03\u8005\u88ab\u89e6\u53d1\u5f80\u8fd9\u4e2a\u4fe1\u9053\u91cc\u9762\u53d1\u4fe1\uff0c\u8ba2\u9605\u8005\u4ece\u8fd9\u4e2a\u4fe1\u9053\u91cc\u9762\u6536\u4fe1\uff0c\u5982\u679c\u6536\u5230\u7279\u5b9a\u4fe1\u4ef6\u5219\u6267\u884c\u67d0\u4e2a\u5bf9\u5e94\u7684\u903b\u8f91\u3002\u8fd9\u6837\uff0c\u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u4e4b\u95f4\u662f\u5b8c\u5168\u89e3\u8026\u7684\uff0c\u53ea\u6709\u4e00\u6761\u4fe1\u9053\u8fde\u63a5\u3002\u8fd9\u6837\u5c31\u975e\u5e38\u5bb9\u6613\u6269\u5c55\uff0c\u4e5f\u4e0d\u4f1a\u5f15\u5165\u989d\u5916\u7684\u4f9d\u8d56\u3002</p> <p>\u8fd9\u6837\u5982\u679c\u9700\u8981\u6dfb\u52a0\u65b0\u529f\u80fd\uff0c\u53ea\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u8ba2\u9605\u8005\uff08\u53ca\u5176\u6267\u884c\u903b\u8f91\uff09\uff0c\u76d1\u542c\u4fe1\u9053\u4e2d\u67d0\u4e00\u7c7b\u65b0\u7684\u4fe1\u4ef6\u3002\u518d\u5728\u5e94\u7528\u4e2d\u901a\u8fc7\u53d1\u5e03\u8005\u53d1\u9001\u4e00\u7c7b\u65b0\u7684\u4fe1\u4ef6\u5373\u53ef\u3002</p> <p>\u5177\u4f53\u5b9e\u73b0\uff0c\u8fd9\u91cc\u63a8\u8350 cowboy \u5f00\u53d1\u7684 Tiny Pub Sub\uff0c\u901a\u8fc7 jQuery \u5b9e\u73b0\uff0c\u975e\u5e38\u7b80\u6d01\u76f4\u89c2\uff0cjQuery \u592a\u8d5e\u3002\u4ee3\u7801\u5c31\u8fd9\u51e0\u884c\uff1a</p> <pre><code>(function($) {\n  var o = $({});\n  $.subscribe = function() {\n    o.on.apply(o, arguments);\n  };\n  $.unsubscribe = function() {\n    o.off.apply(o, arguments);\n  };\n  $.publish = function() {\n    o.trigger.apply(o, arguments);\n  };\n}(jQuery));\n</code></pre> <p>\u5b9a\u4e49\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u4fe1\u9053\uff0c\u7136\u540e\u63d0\u4f9b\u4e86\u4e09\u4e2a\u65b9\u6cd5\uff0c\u8ba2\u9605\u8005\u3001\u53d6\u6d88\u8ba2\u9605\u3001\u53d1\u5e03\u8005\u3002</p>"},{"location":"%E5%89%8D%E7%AB%AF/javascript%E4%BA%8B%E4%BB%B6%E7%9B%91%E6%8E%A7/#_9","title":"\u603b\u7ed3\u548c\u6269\u5c55\u9605\u8bfb","text":"<p>\u4e8b\u4ef6\u6709\u5173\u7684\u57fa\u7840\u77e5\u8bc6\u57fa\u672c\u5c31\u8fd9\u4e9b\uff0c\u66f4\u591a\u7684\u8fd8\u6709\u5f85\u4f60\u7ee7\u7eed\u6316\u6398\u3002\u672c\u6587\u8d44\u6599\u53c2\u8003\u548c\u63a8\u8350\u6269\u5c55\u9605\u8bfb\u5982\u4e0b\uff08\u611f\u8c22\u4ed6\u4eec\uff09\uff1a</p> <ul> <li>DOM-Level-3-Events</li> <li>Event on MDN</li> <li>Events of jQuery</li> <li>Introducing Custom Events</li> <li>An Introduction To DOM Events</li> <li>\u300a\u57fa\u4e8e MVC \u7684 JavaScript Web \u5bcc\u5e94\u7528\u5f00\u53d1\u300b</li> <li>https://ld246.com/article/1582987084602 \u8bb2\u7684\u6bd4\u8f83\u597d</li> </ul> <p>https://juejin.cn/post/6844903834075021326</p> <p>https://zh.javascript.info/bubbling-and-capturing</p> <p>https://cloud.tencent.com/developer/article/1920879</p> <p>\u5728 JavaScript \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u59d4\u6258\u6765\u76d1\u542c\u9875\u9762\u4e0a\u6240\u6709\u5143\u7d20\u7684\u70b9\u51fb\u4e8b\u4ef6\u3002\u4e8b\u4ef6\u59d4\u6258\u662f\u4e00\u79cd\u5229\u7528\u4e8b\u4ef6\u5192\u6ce1\u7684\u6280\u672f\uff0c\u5c06\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u9644\u52a0\u5230\u9875\u9762\u4e0a\u7684\u4e00\u4e2a\u7236\u5143\u7d20\uff0c\u5e76\u901a\u8fc7\u68c0\u6d4b\u4e8b\u4ef6\u5192\u6ce1\u662f\u5426\u53d1\u751f\u5728\u67d0\u4e2a\u5b50\u5143\u7d20\u4e0a\u6765\u786e\u5b9a\u662f\u5426\u9700\u8981\u6267\u884c\u5904\u7406\u7a0b\u5e8f\u3002</p> <pre><code>document.addEventListener(\"click\", function(event) {\n  console.log(\"Clicked on an element:\", event.target);\n}, true);\n// \u6216\u8005\nwindow.addEventListener(\"click\", function(e){\n    console.log(e.target.tagName);\n});\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5c06\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u9644\u52a0\u5230\u6574\u4e2a\u9875\u9762\uff0c\u5e76\u5728\u4efb\u610f\u5143\u7d20\u88ab\u70b9\u51fb\u65f6\u6253\u5370\u4e8b\u4ef6\u76ee\u6807\u3002</p> <p>https://segmentfault.com/q/1010000009266553</p>"},{"location":"%E5%89%8D%E7%AB%AF/pnpm%E6%95%99%E7%A8%8B/","title":"Pnpm\u6559\u7a0b","text":"<p>pnpm\u5b98\u65b9\u6587\u6863</p> <pre><code># \u5168\u5c40\u5b89\u88c5\nnpm install pnpm -g\n\n# \u67e5\u770b\u6e90\npnpm config get registry \n# \u5207\u6362\u6dd8\u5b9d\u6e90\npnpm config set registry https://registry.npmmirror.com/\n\n# \u4f7f\u7528\npnpm install &lt;package&gt;\npnpm i &lt;package&gt;\npnpm add &lt;package&gt;    # -S  \u9ed8\u8ba4\u5199\u5165dependencies\npnpm add -D    # -D devDependencies\npnpm add -g    # \u5168\u5c40\u5b89\u88c5\n\n# \u79fb\u9664\npnpm remove &lt;package&gt;                  \npnpm remove &lt;package&gt; --global        \n\n# \u66f4\u65b0\u6240\u6709\u4f9d\u8d56\u9879\npnpm up      \npnpm upgrade &lt;package&gt;\npnpm upgrade &lt;package&gt; --global\n\n# \u5b89\u88c5\u5b8c\u8bb0\u5f97\u91cd\u542f\u4e0b\u73af\u5883\u4f7f\u5176\u751f\u6548\n# windows\u73af\u5883\u4e0d\u597d\u6574\u5c31\u76f4\u63a5\u91cd\u542f\uff0c\u91cd\u542f\u540e\u6307\u5b9a\u76ee\u5f55\u4f1a\u751f\u6548\npnpm config set store-dir E:/pnpmStore\n\n\n# \u4e00\u4e9b\u9700\u8981node-gyp\u7684\u5305\u4e00\u5b9a\u8981\u8bb0\u5f97\u5b89\u88c5\u597d\n\n# \u5728\u7cfb\u7edf\u4e0a\u7981\u6b62\u4f7f\u7528\u811a\u672c\u89e3\u51b3\u65b9\u6cd5\n# \u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884cpower shell\nset-executionpolicy remotesigned\n</code></pre> npm \u547d\u4ee4 pnpm \u7b49\u6548 \u200bnpm install\u200b\u200b\u200b \u200bpnpm install\u200b\u200b\u200b \u200bnpm i pkg\u200b\u200b\u200b pnpm add pkg\u200b\u200b\u200b npm run cmd\u200b\u200b pnpm cmd\u200b\u200b \u95ee\u9898\uff1a <ol> <li>\u5b89\u88c5electron \u6267\u884c node install.js \u62a5\u9519 RequestError: read ECONNRESET</li> </ol> <pre><code>pnpm config set ELECTRON_MIRROR http://npm.taobao.org/mirrors/electron/\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Presto/","title":"Presto","text":"<p>Presto\u76f8\u5173\u7684\u8bba\u6587\u4e2d\u63d0\u5230\u4e86\u4e00\u4e9b\u6982\u5ff5\uff0c\u5176\u4e2d\u6bd4\u8f83\u91cd\u8981\u7684\u51e0\u4e2a\u5982\u4e0b\uff1a \u6570\u636e\u6e90\u8fde\u63a5\u5668(Connector)\uff1a\u5982\u679c\u60f3\u8ba9Presto\u80fd\u591f\u4ece\u67d0\u4e2a\u5b58\u50a8\u7cfb\u7edf\u3001\u6d88\u606f\u961f\u5217\u3001\u6587\u4ef6\u62c9\u53d6\u3001API\u8fdb\u884c\u6570\u636e\u5e76\u53d1\u67e5\u8be2\uff0c\u9700\u8981\u5b9e\u73b0\u5bf9\u5e94\u7684\u8fde\u63a5\u5668\u3002\u57fa\u672c\u4e0a\u4efb\u4f55\u53ef\u4ee5\u63d0\u4f9b\u6570\u636e\u7684\u6570\u636e\u6e90\u90fd\u53ef\u4ee5\u901a\u8fc7\u8fde\u63a5\u5668\u7684\u62bd\u8c61\u63a5\u5165Presto\u3002 \u6570\u636e\u76ee\u5f55(Catalog)\uff1a\u6570\u636e\u76ee\u5f55\u662f\u4e00\u4e2a\u903b\u8f91\u6982\u5ff5\u3002\u5728Presto\u4e2d\u5b9a\u4e49\u6570\u636e\u76ee\u5f55\u65f6\uff0c\u9700\u8981\u4e3a\u5176\u6307\u5b9a\u4e00\u79cd\u6570\u636e\u6e90\u8fde\u63a5\u5668\uff0c\u5e76\u901a\u8fc7\u76f8\u5173\u7684\u914d\u7f6e\u6307\u5b9a\u5982\u4f55\u8fde\u63a5\u4e0a\u5bf9\u5e94\u7684\u6570\u636e\u6e90\u3002\u6570\u636e\u76ee\u5f55\u4e0e\u6570\u636e\u6e90\u8fde\u63a5\u5668\u662f\u591a\u5bf9\u4e00\u7684\u5173\u7cfb\u3002 \u6570\u636e\u5e93(Schema)\uff1a\u8fd9\u4e2a\u6982\u5ff5\u53ef\u4ee5\u7b49\u540c\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u4e2d\u7684\u6570\u636e\u5e93\u7684\u6982\u5ff5\u3002\u4e00\u4e2a\u6570\u636e\u76ee\u5f55\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u6570\u636e\u5e93\u3002 \u6570\u636e\u8868(Table)\uff1a\u8fd9\u4e2a\u6982\u5ff5\u53ef\u4ee5\u7b49\u540c\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8868\u7684\u6982\u5ff5\u3002\u4e00\u4e2a\u6570\u636e\u5e93\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u6570\u636e\u8868\u3002  </p> <p>\u5728Presto\u7684\u67b6\u6784\u4e2d\u6709\u4e24\u79cd\u8282\u70b9\uff1a \u96c6\u7fa4\u534f\u8c03\u8282\u70b9(Coordinator)\uff0c\u8d1f\u8d23\u63a5\u6536SQL\u67e5\u8be2\u8bf7\u6c42\u3001\u89e3\u6790SQL\u3001\u751f\u6210\u548c\u4f18\u5316\u6267\u884c\u8ba1\u5212\u3001\u751f\u6210\u548c\u8c03\u5ea6\u4efb\u52a1(Task)\u5230\u67e5\u8be2\u6267\u884c\u8282\u70b9\u4e0a\u3002\u96c6\u7fa4\u534f\u8c03\u8282\u70b9\u5c06\u4e00\u4e2a\u5b8c\u6574\u7684\u67e5\u8be2\u62c6\u5206\u6210\u591a\u4e2a\u67e5\u8be2\u6267\u884c\u9636\u6bb5(Stage)\uff0c\u6bcf\u4e2a\u9636\u6bb5\u62c6\u5206\u51fa\u591a\u4e2a\u53ef\u4ee5\u5e76\u884c\u7684\u4efb\u52a1\u3002 \u96c6\u7fa4\u6267\u884c\u8282\u70b9(Worker)\uff0c\u8d1f\u8d23\u6267\u884c\u96c6\u7fa4\u534f\u8c03\u8282\u70b9\u53d1\u7ed9\u5b83\u7684\u4efb\u52a1\uff0c\u6709\u90e8\u5206\u4efb\u52a1\u8d1f\u8d23\u5230\u5916\u90e8\u5b58\u50a8\u7cfb\u7edf\u62c9\u53d6\u6570\u636e\uff0c\u8fd9\u90e8\u5206\u4efb\u52a1\u4f1a\u5148\u6267\u884c\uff0c\u4e4b\u540e\u518d\u6267\u884c\u90a3\u4e9b\u8d1f\u8d23\u8ba1\u7b97\u7684\u4efb\u52a1\u3002\u4ece\u56fe1-7\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u62c9\u53d6\u6570\u636e\u7684\u4efb\u52a1\u662f\u5728\u53f3\u4fa7\u4e24\u4e2a\u96c6\u7fa4\u6267\u884c\u8282\u70b9\u4e0a\u6267\u884c\u7684\uff0c\u8d1f\u8d23\u8ba1\u7b97\u7684\u4efb\u52a1\u662f\u5728\u5de6\u4fa7\u4e00\u4e2a\u96c6\u7fa4\u6267\u884c\u8282\u70b9\u4e0a\u6267\u884c\u7684\u3002  </p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Presto/#odsoperational-data-store","title":"ODS\uff08Operational\u00a0Data\u00a0Store\uff0c\u64cd\u4f5c\u6570\u636e\u5b58\u50a8\uff09","text":"<ul> <li>\u5b9a\u4e49\uff1aODS\u00a0\u662f\u4e00\u4e2a\u7528\u4e8e\u5b58\u50a8\u6765\u81ea\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u7684\u6570\u636e\u7684\u6570\u636e\u5e93\uff0c\u901a\u5e38\u7528\u4e8e\u652f\u6301\u65e5\u5e38\u64cd\u4f5c\u548c\u51b3\u7b56\u3002</li> <li>\u7279\u70b9\uff1a</li> <li>\u6570\u636e\u901a\u5e38\u662f\u5b9e\u65f6\u6216\u8fd1\u5b9e\u65f6\u7684\uff0c\u53cd\u6620\u5f53\u524d\u7684\u4e1a\u52a1\u72b6\u6001\u3002</li> <li>\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u6574\u5408\uff0c\u63d0\u4f9b\u4e00\u4e2a\u7edf\u4e00\u7684\u89c6\u56fe\uff0c\u4fbf\u4e8e\u540e\u7eed\u5206\u6790\u3002</li> <li>\u6570\u636e\u7ed3\u6784\u76f8\u5bf9\u7b80\u5355\uff0c\u901a\u5e38\u4e0d\u8fdb\u884c\u590d\u6742\u7684\u8f6c\u6362\u548c\u6e05\u6d17\u3002</li> </ul>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Presto/#dwdata-warehouse","title":"DW\uff08Data\u00a0Warehouse\uff0c\u6570\u636e\u4ed3\u5e93\uff09","text":"<ul> <li>\u5b9a\u4e49\uff1aDW\u00a0\u662f\u4e00\u4e2a\u7528\u4e8e\u5b58\u50a8\u5386\u53f2\u6570\u636e\u7684\u7cfb\u7edf\uff0c\u4e13\u95e8\u8bbe\u8ba1\u7528\u4e8e\u652f\u6301\u5206\u6790\u548c\u62a5\u544a\u3002</li> <li>\u7279\u70b9\uff1a</li> <li>\u6570\u636e\u901a\u5e38\u662f\u7ecf\u8fc7\u6e05\u6d17\u3001\u8f6c\u6362\u548c\u6574\u5408\u7684\uff0c\u9002\u5408\u8fdb\u884c\u590d\u6742\u7684\u67e5\u8be2\u548c\u5206\u6790\u3002</li> <li>DW\u00a0\u901a\u5e38\u91c7\u7528\u661f\u578b\u6216\u96ea\u82b1\u578b\u6a21\u578b\uff0c\u652f\u6301\u591a\u7ef4\u5206\u6790\u3002</li> <li>\u6570\u636e\u66f4\u65b0\u9891\u7387\u8f83\u4f4e\uff0c\u901a\u5e38\u662f\u6279\u91cf\u52a0\u8f7d\uff08\u5982\u6bcf\u65e5\u3001\u6bcf\u5468\uff09\u3002</li> </ul>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/Presto/#dmdata-mart","title":"DM\uff08Data\u00a0Mart\uff0c\u6570\u636e\u96c6\u5e02\uff09","text":"<ul> <li>\u5b9a\u4e49\uff1aDM \u662f\u4e00\u4e2a\u9488\u5bf9\u7279\u5b9a\u4e1a\u52a1\u7ebf\u6216\u90e8\u95e8\u7684\u6570\u636e\u4ed3\u5e93\u5b50\u96c6\uff0c\u901a\u5e38\u7528\u4e8e\u6ee1\u8db3\u7279\u5b9a\u7684\u5206\u6790\u9700\u6c42\u3002</li> <li>\u7279\u70b9\uff1a</li> <li>\u6570\u636e\u91cf\u76f8\u5bf9\u8f83\u5c0f\uff0c\u4e13\u6ce8\u4e8e\u7279\u5b9a\u4e3b\u9898\uff08\u5982\u9500\u552e\u3001\u8d22\u52a1\u7b49\uff09\u3002</li> <li>\u53ef\u4ee5\u4ece DW\u00a0\u4e2d\u63d0\u53d6\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4ece ODS \u4e2d\u83b7\u53d6\u3002</li> <li>\u8bbe\u8ba1\u4e0a\u66f4\u7075\u6d3b\uff0c\u4fbf\u4e8e\u5feb\u901f\u54cd\u5e94\u7279\u5b9a\u4e1a\u52a1\u9700\u6c42\u3002</li> </ul> <p>![[assets/Pasted image 20250515213107.png]]</p> <p>\u73b0\u5728\u6574\u4e2aOLAP\u9886\u57df\u7684\u8bbe\u8ba1\u5b9e\u73b0\uff0c\u8fd8\u662f\u57fa\u4e8e20\u5e74\u524d\u7684VLDB\u3001SIGMOID\u7684\u57fa\u7840\u7406\u8bba\u3002</p> <p>\u4f7f\u7528Spark Streaming\u6216Flink Streaming\u5c06\u6570\u636e\u5199\u5165Hive\uff1b\u53ea\u7528Hive Metastore\u5b58\u50a8\u5e93\u3001\u8868\u3001\u5b57\u6bb5\u8fd9\u4e9b\u5143\u6570\u636e\uff0c\u4e0d\u4f7f\u7528Hive MapReduce\u505a\u67e5\u8be2\uff1b\u5bf9\u4e8e\u6709\u4f4e\u5ef6\u8fdf\u8981\u6c42\u7684\u67e5\u8be2\u4f7f\u7528Presto\u4f5c\u4e3a\u8ba1\u7b97\u5f15\u64ce\uff0c\u5ef6\u8fdf\u8981\u6c42\u4e0d\u9ad8\u7684\u67e5\u8be2\u4f7f\u7528Spark SQL\u4f5c\u4e3a\u79bb\u7ebf\u8ba1\u7b97\u5f15\u64ce\uff0c\u90e8\u5206\u516c\u53f8\u8fd8\u5229\u7528Alluxio\u505aHDFS cache\u6765\u52a0\u5febPresto\u67e5\u8be2\u901f\u5ea6\u3002</p> <p>\u5e38\u89c1\u7684\u6570\u4ed3\u6570\u636e\u6a21\u578b\u6709\u4e24\u79cd\uff1a\u5373Inmon\u7684\u5173\u7cfb\u6570\u636e\u6a21\u578b\u4e0eKimball\u7684\u7ef4\u5ea6\u6570\u636e\u6a21\u578b\u3002\u5173\u7cfb\u6570\u636e\u6a21\u578b\u5f3a\u8c03\u6570\u636e\u6a21\u578b\u8bbe\u8ba1\u8005\u5bf9\u4f01\u4e1a\u7684\u4e1a\u52a1\u6709\u8f83\u4e3a\u5168\u9762\u7684\u8ba4\u77e5\uff0c\u80fd\u591f\u7ad9\u5728\u5168\u5c40\u7684\u89d2\u5ea6\u8bbe\u8ba1\u51fa\u9075\u5faa\u8303\u5f0f\u7684\u6570\u636e\u6a21\u578b\u3002\u7ef4\u5ea6\u6570\u636e\u6a21\u578b\u5f3a\u8c03\u5c06\u4e1a\u52a1\u8fc7\u7a0b\u6620\u5c04\u4e3a\u7ef4\u5ea6\u4e0e\u4e8b\u5b9e\uff0c\u5e76\u5206\u4e3a\u7ef4\u5ea6\u8868\u4e0e\u4e8b\u5b9e\u8868\uff0c\u4e0d\u8981\u6c42\u5bf9\u4f01\u4e1a\u4e1a\u52a1\u6709\u6574\u4f53\u8ba4\u8bc6\uff0c\u8ffd\u6c42\u5feb\u901f\u8fed\u4ee3\u6570\u636e\u6a21\u578b\u3002\u4e0b\u9762\u5bf9\u4e0a\u9762\u6d89\u53ca\u7684\u51e0\u4e2a\u5173\u952e\u672f\u8bed\u8fdb\u884c\u89e3\u8bfb\u3002  </p> <p>\u6570\u636e\u6a21\u578b\uff1a \u4e1a\u52a1\u8fc7\u7a0b\uff1a\u4f01\u4e1a\u5f00\u5c55\u4e1a\u52a1\u65f6\u53d1\u751f\u7684\u4e1a\u52a1\u6d41\u7a0b\uff0c\u5982\u7535\u5546\u9886\u57df\u4e2d\u7684\u4e0b\u5355\u3001\u652f\u4ed8\u3001\u9001\u8d27\u3001\u786e\u8ba4\u6536\u8d27\u7b49\u3002 \u7ef4\u5ea6\uff1a\u7ef4\u5ea6\u8868\u8fbe\u7684\u662f\u4e1a\u52a1\u8fc7\u7a0b\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u4fe1\u606f\uff0c\u5982\u4e0b\u5355\u65f6\u95f4\u3001\u4e0b\u5355APP\u3001\u7528\u6237ID\u7b49\u3002\u7ef4\u5ea6\u8868\u4e2d\u5b58\u50a8\u7684\u662f\u7ef4\u5ea6\u4fe1\u606f\uff0c\u5e76\u4e14\u4f1a\u5b58\u5728\u591a\u4e2a\u7ef4\u5ea6\u8868\uff0c\u5982\u7528\u6237\u7ef4\u5ea6\u4fe1\u606f\u8868\uff08\u5305\u542b\u7528\u6237ID\u3001\u7528\u6237\u6635\u79f0\u3001\u7528\u6237\u5e74\u9f84\u7b49\uff09\u200b\u3001\u5546\u54c1\u7ef4\u5ea6\u4fe1\u606f\u8868\uff08\u5305\u542b\u5546\u54c1ID\u3001\u5546\u54c1\u540d\u79f0\u3001\u5546\u54c1\u5176\u4ed6\u5c5e\u6027\u7b49\uff09\u200b\u3002 \u4e8b\u5b9e\uff1a\u4e8b\u5b9e\u8868\u8fbe\u7684\u662f\u4e1a\u52a1\u8fc7\u7a0b\u4e2d\u7684\u5177\u4f53\u5ea6\u91cf\uff0c\u5982\u8d2d\u4e70\u6570\u91cf\u3001\u8ba2\u5355\u91d1\u989d\u7b49\u3002\u4e8b\u5b9e\u8868\u4e2d\u5b58\u50a8\u7684\u662f\u5404\u4e2a\u7ef4\u5ea6ID\u4ee5\u53ca\u5404\u4e2a\u4e8b\u5b9e\u7684\u5ea6\u91cf\u503c\u3002</p> <p>TPC-DS Data Model\u6570\u636e\u6a21\u578b\u4ecb\u7ecd TPC-DS Data Model\u91c7\u7528\u7684\u662f\u4e1a\u754c\u5e38\u7528\u7684Kimball\u7ef4\u5ea6\u5efa\u6a21\u65b9\u5f0f\u3002\u672c\u8282\u4f1a\u5bf9\u5176\u7b80\u8981\u4ecb\u7ecd\u3002\u5bf9\u8fd9\u90e8\u5206\u611f\u5174\u8da3\u7684\u8bfb\u8005\uff0c\u8bf7\u53c2\u8003\u300a\u6570\u636e\u4ed3\u5e93\u5de5\u5177\u7bb1\u300b\u548c\u300a\u963f\u91cc\u5df4\u5df4\u5927\u6570\u636e\u4e4b\u8def\u300b\u200b\u3002</p> <p>\u5143\u6570\u636e\u4e0e\u5206\u5e03\u5f0f\u534f\u8c03\u6a21\u5757\u4e2d\u6d89\u53ca\u7684\u8282\u70b9\u670d\u52a1\u53d1\u73b0\u3001\u9009\u4e3b\u3001\u5143\u6570\u636e\u5b58\u50a8\u8fd9\u4e9b\u9700\u6c42\uff0c\u8981\u4e48\u4f9d\u8d56\u5916\u90e8\u7ec4\u4ef6\uff08\u5982Zookeeper\u6216\u4f01\u4e1a\u5185\u5176\u4ed6\u7c7b\u4f3c\u7ec4\u4ef6\uff09\u200b\uff0c\u8981\u4e48\u501f\u52a9\u5206\u5e03\u5f0f\u4e00\u81f4\u6027\u534f\u8bae\uff08\u5982Paxos\u3001Raft\uff09\u81ea\u7814\u5b9e\u73b0\u3002</p> <p>\u5b83\u7684\u67e5\u8be2\u6267\u884c\u8fc7\u7a0b\u53ef\u4ee5\u62c6\u89e3\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u3002 \u7b2c\u4e00\u6b65\uff1a\u63a5\u6536SQL\u67e5\u8be2\u8bf7\u6c42\u3002 \u7b2c\u4e8c\u6b65\uff1a\u8fdb\u884c\u8bcd\u6cd5\u4e0e\u8bed\u6cd5\u5206\u6790\uff08\u751f\u6210AST\uff09\u200b\u3002 \u7b2c\u4e09\u6b65\uff1a\u521b\u5efa\u548c\u542f\u52a8QueryExecution\u3002\u7b2c\u56db\u6b65\uff1a\u8fdb\u884c\u8bed\u4e49\u5206\u6790(Analysis)\uff0c\u751f\u6210\u521d\u59cb\u6267\u884c\u8ba1\u5212\u3002 \u7b2c\u4e94\u6b65\uff1a\u4f18\u5316\u6267\u884c\u8ba1\u5212\uff0c\u751f\u6210\u4f18\u5316\u540e\u7684\u6267\u884c\u8ba1\u5212\u3002 \u7b2c\u516d\u6b65\uff1a\u5c06\u903b\u8f91\u6267\u884c\u8ba1\u5212\u6811\u62c6\u5206\u4e3a\u591a\u68f5\u5b50\u6811\uff08\u67e5\u8be2\u6267\u884c\u9636\u6bb5\uff09\u200b\u3002 \u7b2c\u4e03\u6b65\uff1a\u521b\u5efaSqlStageExecution\uff08\u67e5\u8be2\u6267\u884c\u9636\u6bb5\uff09\u200b\u3002 \u7b2c\u516b\u6b65\uff1a\u5728\u67e5\u8be2\u6267\u884c\u9636\u6bb5\u8c03\u5ea6HttpRemoteTask\u5e76\u5206\u53d1\u5230Presto\u67e5\u8be2\u6267\u884c\u8282\u70b9\u3002 \u7b2c\u4e5d\u6b65\uff1a\u5728\u591a\u4e2aPresto\u67e5\u8be2\u6267\u884c\u8282\u70b9\u4e0a\u6267\u884c\u4efb\u52a1\u5e76\u4ea7\u51fa\u67e5\u8be2\u7ed3\u679c\u3002 \u7b2c\u5341\u6b65\uff1a\u5206\u6279\u8fd4\u56de\u67e5\u8be2\u8ba1\u7b97\u7ed3\u679c\u5e76\u8fd4\u7ed9SQL\u5ba2\u6237\u7aef\u3002</p> <p>![[assets/Pasted image 20250520234118.png]]</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/","title":"Wsl2","text":""},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_1","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code># \u67e5\u770b\u53ef\u7528\u53d1\u884c\u7248\nwsl --list --online\nwsl -l -o\n\n# \u67e5\u770b\u5df2\u5b89\u88c5\u53d1\u884c\u7248\nwsl --list --verbose\nwsl -l -v\n\n# \u5b89\u88c5\u53d1\u884c\u7248\nwsl --install -d &lt;\u53d1\u884c\u7248\u540d\u79f0&gt;\n\n# \u5173\u673a\nwsl --shutdown\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_2","title":"\u8fc1\u79fb\u547d\u4ee4","text":"<pre><code>wsl --shutdown\nwsl --export Ubuntu-22.04 D:\\\\wsl2\\\\images\\\\Ubuntu-22.04.tar\nwsl --unregister Ubuntu-22.04\nwsl --import Ubuntu-22.04 D:\\\\wsl2\\\\data D:\\\\wsl2\\\\images\\\\Ubuntu-22.04.tar\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#root","title":"\u8bbe\u7f6e\u9ed8\u8ba4root\u767b\u5f55","text":"<pre><code>vim /etc/wsl.conf\n#======\n[user]\ndefault=root\n#======\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_3","title":"\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5730\u5740\u680f\u8f93\u5165\u00a0<code>%UserProfile%</code>\u00a0\u56de\u8f66\uff0c\u5728\u8be5\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a.wslconfig\u7684\u6587\u4ef6\uff1a <pre><code>[wsl2]\nmemory=32GB\nswap=8GB\nswapfile=D:\\\\wsl2\\\\data\\\\swap.vhdx\nprocessors=16\n#localhostForwarding=false    # \u955c\u50cf\u7f51\u7edc\u914d\u7f6e\u6a21\u5f0f\u4e0b\uff0c\u8f6c\u53d1\u65e0\u6548\n\n[experimental]\nautoMemoryReclaim=gradual    # \u5f00\u542f\u81ea\u52a8\u56de\u6536\u5185\u5b58\uff0c\u53ef\u5728 gradual, dropcache, disabled \u4e4b\u95f4\u9009\u62e9\nnetworkingMode=mirrored      # \u5f00\u542f\u955c\u50cf\u7f51\u7edc\ndnsTunneling=true            # \u5f00\u542f DNS Tunneling\nfirewall=false                # \u5f00\u542f Windows \u9632\u706b\u5899\nautoProxy=true               # \u5f00\u542f\u81ea\u52a8\u540c\u6b65\u4ee3\u7406\nsparseVhd=true               # \u5f00\u542f\u81ea\u52a8\u91ca\u653e WSL2 \u865a\u62df\u786c\u76d8\u7a7a\u95f4\n</code></pre></p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_4","title":"\u6587\u4ef6\u5b58\u50a8","text":"<p>\u5728\u5b58\u50a8 WSL \u9879\u76ee\u6587\u4ef6\u65f6\uff1a - \u4f7f\u7528 Linux \u6587\u4ef6\u7cfb\u7edf\u6839\u76ee\u5f55\uff1a<code>\\\\wsl$\\&lt;DistroName&gt;\\home\\&lt;UserName&gt;\\Project</code> - \u4e0d\u662f Windows \u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\uff1a<code>C:\\Users\\&lt;UserName&gt;\\Project</code>\u00a0\u6216\u00a0<code>/mnt/c/Users/&lt;UserName&gt;/Project$</code></p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_5","title":"\u5b9a\u65f6\u6e05\u7406\u5185\u5b58","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u5b9a\u65f6\u4efb\u52a1\u5b9a\u671f\u6e05\u7406\u5185\u5b58\uff0c\u7f16\u8f91crontab\u8bbe\u7f6e\u6bcf\u5c0f\u65f6\u91ca\u653e\u4e00\u6b21\u5185\u5b58\uff1a</p> <pre><code>crontab -e\n0 */1 * * * echo 3 &gt; /proc/sys/vm/drop_caches\n</code></pre> <p>\u8bbe\u7f6e\u540e\u53f0\u542f\u52a8</p> <p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5141\u8bb8\u7528\u6237\u6267\u884c\u6240\u6709\u547d\u4ee4\u800c\u4e0d\u9700\u8981\u5bc6\u7801\uff1a</p> <pre><code>sudo bash -c \"echo '$USER ALL=(ALL) NOPASSWD: ALL' &gt;/etc/sudoers.d/$USER\"\n</code></pre> <p>\u5728Windows\u5f00\u673a\u542f\u52a8\u6587\u4ef6\u5939\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u4ee5.vbs\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>set ws=wscript.CreateObject(\"wscript.shell\")\nws.run \"wsl -d Ubuntu\", 0\n</code></pre> <p>\u8981\u5feb\u901f\u8fdb\u5165\u5f00\u673a\u542f\u52a8\u6587\u4ef6\u5939\uff0c\u53ef\u4ee5\u6309Windows+R\uff0c\u7136\u540e\u8f93\u5165\u00a0<code>shell:startup</code>\u3002\u4f60\u53ef\u80fd\u8fd8\u4f1a\u7528\u5230\u00a0<code>taskschd.msc</code>\u3002</p> <p>\u8bbe\u7f6eUbuntu\u5185\u7684\u5e94\u7528\u5f00\u673a\u81ea\u542f</p> <p>\u5728WSL\u7cfb\u7edf\u5185\u65b0\u5efa\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>vim /etc/wsl.conf\n###\n[boot]\nsystemd=true\n###\n</code></pre> <p>\u7136\u540e\u5f00\u542fUbuntu\u7684\u5f00\u673a\u542f\u52a8\u670d\u52a1\uff1a</p> <pre><code>systemctl status rc-local\n</code></pre> <p>\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>cat &lt;&lt;EOF &gt;/etc/rc.local\n# !/bin/sh -e\n#\n# rc.local\n#\n# This script is executed at the end of each multiuser runlevel.\n# Make sure that the script will \"exit 0\" on success or any other\n# value on error.\n#\n# In order to enable or disable this script just change the execution\n# bits.\n#\n# By default this script does nothing.\nexit 0\nEOF\n</code></pre> <p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u811a\u672c\u53ef\u6267\u884c\u5e76\u542f\u7528\uff1a</p> <pre><code>chmod +x /etc/rc.local\nsystemctl enable --now rc-local\n</code></pre> <p>\u65e0\u89c6\u8b66\u544a\u5373\u53ef\uff1a</p> <pre><code>systemctl status rc-local.service\n</code></pre> <p>\u4fee\u6539\u00a0<code>/etc/rc.local</code>\u00a0\u91cc\u7684\u5185\u5bb9\u5373\u53ef\u8ba9\u4f60\u7684Ubuntu\u5e94\u7528\u5f00\u673a\u542f\u52a8\u3002</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_6","title":"\u5176\u4ed6\u7684\u4e00\u4e9b\u5fc5\u8981\u914d\u7f6e\uff1a","text":""},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#root_1","title":"\u8bbe\u7f6eroot\u5bc6\u7801\uff0c\u5f00\u673a\u5fc5\u5907","text":"<pre><code>sudo passwd root\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_7","title":"\u66f4\u65b0\u7cfb\u7edf","text":"<pre><code>su -\napt-get update &amp;&amp; apt-get upgrade\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#wsl2-ubuntu-openssh-server","title":"WSL2 Ubuntu \u5b89\u88c5openssh-server","text":"<pre><code>sudo apt update\nsudo apt install openssh-server\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#wsl2-systemd","title":"WSL2 \u542f\u7528systemd","text":"<p>\u5728/etc\u76ee\u5f55\u4e0b\u65b0\u5efawsl.conf\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u7f16\u8f91\u8be5\u914d\u7f6e\u6587\u4ef6\uff1a</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#ubuntu","title":"Ubuntu","text":"<pre><code>sudo vi /etc/wsl.conf\n</code></pre> <p>\u8f93\u5165\u5185\u5bb9\uff1a</p> <pre><code>[boot]\nsystemd=true\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#windows","title":"Windows","text":"<p>\u5728 Windows PowerShell(\u7ba1\u7406\u5458)\u4e2d\u8fd0\u884c\uff1a</p> <pre><code>wsl --shutdown\n</code></pre> <p>\u518d\u91cd\u65b0\u6253\u5f00 Ubuntu\uff0c\u4f7f WSL \u5f7b\u5e95\u91cd\u65b0\u542f\u52a8\u4ee5\u4fbf\u542f\u7528 systemd\u3002\u7136\u540e\u5728 WSL \u4e2d\u8fd0\u884c\uff1a</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#ssh","title":"\u8ba9\u4f60\u7684ssh\u5f00\u673a\u81ea\u542f","text":"<pre><code>systemctl enable ssh\nsystemctl start ssh\n</code></pre> <p>\u8bf7\u6ce8\u610f\u4f60\u7684ssh\u7684\u767b\u5f55\u5b89\u5168\uff0c\u6309\u7167\u4f60\u7684\u5b89\u5168\u4e60\u60ef\u914d\u7f6e\u5373\u53ef\u3002</p> <p>\u6e05\u7406\u78c1\u76d8\u7a7a\u95f4</p> <p>\u5728 Linux \u4e0b\u56de\u6536\u6587\u4ef6\u7cfb\u7edf\u4e0a\u6240\u6709\u672a\u4f7f\u7528\u7684\u5757\uff1a</p> <pre><code>sudo fstrim /\n</code></pre> <p>\u5bf9\u4e8e Win10 \u4e13\u4e1a\u7248\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u538b\u7f29 WSL \u865a\u62df\u673a\u5360\u7528\u7a7a\u95f4\uff1a</p> <pre><code>wsl --shutdown\noptimize-vhd -Path \"{\u5b89\u88c5\u4f4d\u7f6e\\\\ext4.vhdx}\" -Mode full\n</code></pre> <p>\u5bf9\u4e8e\u5bb6\u5ead\u7248\uff1a</p> <pre><code>wsl --shutdown\ndiskpart\n# \u6253\u5f00\u65b0\u7684 Diskpart \u7a97\u53e3select vdisk file=\"{\u5b89\u88c5\u4f4d\u7f6e\\\\ext4.vhdx}\"\nattach vdisk readonly\ncompact vdisk\ndetach vdisk\nexit\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/wsl2/#_8","title":"\u8fdb\u4e00\u6b65\u5b66\u4e60","text":"<p>\u5b66\u5b8c\u4ee5\u4e0a\u57fa\u7840\u5185\u5bb9\u540e\uff0c\u4f60\u53ef\u80fd\u4f1a\u611f\u5174\u8da3\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u5982\u4f55\u5728WSL2\u5185\u8fd0\u884c\u5927\u6a21\u578b\uff0c\u5982\u90e8\u7f72\u672c\u5730\u7684ollama\u6216\u543e\u7687\u7684GPT\uff1b</li> <li>\u5982\u4f55\u8ba9\u4f60\u7684\u672c\u5730\u6a21\u578b\u5728\u5916\u7f51\u968f\u65f6\u53ef\u8bbf\u95ee\uff0c\u5982\u90e8\u7f72Tailscale\u6216ZeroTrust\uff1b</li> <li>\u8fd8\u6709\u54ea\u4e9b\u6709\u8da3\u7684\u573a\u666f\u53ef\u4ee5\u63a2\u7d22\uff1f</li> </ul> <p>\u5199\u4e86\u8fd9\u4e48\u591a\uff0c\u7ed9\u4e2a\u8d5e\uff0c\u5347\u4e2a\u4e09\u7ea7\u4e0d\u8fc7\u5206\u5427\uff01</p> <p>Update\uff1a\u5173\u4e8e\u8bc4\u8bba\u91cc\u63d0\u5230\u7684\u7f51\u7edc\u914d\u7f6e\u95ee\u9898\uff0cNAT\u6a21\u5f0f\uff08WSL2\u9ed8\u8ba4\uff09\u4e0b\u5df2\u6ee1\u8db3\u9700\u8981\uff0c\u6709\u66f4\u591a\u9700\u6c42\u7684\u8bf7\u53c2\u770b\u5e95\u90e8\u53c2\u8003\u8d44\u65993\u7684\u5185\u5bb9</p> <p>https://linux.do/t/topic/132043</p> <p>https://dowww.spencerwoo.com/</p> <p>https://www.cnblogs.com/wswind/p/17201979.html</p> <p>https://learn.microsoft.com/zh-cn/windows/wsl/install</p> <p>https://www.sxrhhh.top/blog/2023/12/14/connect-to-wsl/#_4</p> <p>https://learn.microsoft.com/zh-cn/windows/wsl/wsl-config#wslconf</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/","title":"\u5b66\u4e60\u6307\u5357","text":"<p>Spark \u5feb\u901f\u5165\u95e8 Spark\u5165\u95e8\u6307\u5357</p> <p>hive\u6570\u4ed3 flume kafka stream</p> <p>mpp\u67b6\u6784</p> <p>OLAP\uff1apresto \u5b58\u50a8\uff1aclickhouse \u5b9e\u65f6\u8ba1\u7b97\uff1aflink \u79bb\u7ebf\u8ba1\u7b97\uff1aspark</p> <p>OLAP\uff1a\u8054\u673a\u5206\u6790\u5904\u7406 OLTP\uff1a\u8054\u673a\u4e8b\u52a1\u5904\u7406</p> <p>OLAP\u5f15\u64ce\uff1aOLAP\u5f15\u64ce\u4e2d\u7684SQL\u89e3\u6790\u5668\u3001\u4f18\u5316\u5668\u3001\u8c03\u5ea6\u5668\u3001\u6267\u884c\u5668 \u5e38\u89c1\u7684OLAP\u5f15\u64ce\uff1aHive\u3001SparkSQL\u3001FlinkSQL\u3001ClickHouse</p> <p>\u9605\u8bfbSIGMOD\u3001VLDB\u3001ICDE\u82f1\u6587\u6587\u732e\uff1aSIGMOD\u3001VLDB\u53caICDE\u662f\u6570\u636e\u5e93\u65b9\u5411\u7684\u4e09\u5927\u9876\u7ea7\u4f1a\u8bae\u3002</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink-deploy/","title":"Flink deploy","text":"<p>\u96c6\u7fa4\u89c4\u5212</p> <pre><code># \u4e0b\u8f7d\nwget https://dist.apache.org/repos/dist/release/flink/flink-1.20.0/flink-1.20.0-bin-scala_2.12.tgz\n# \u89e3\u538b\ntar\u00a0-zxvf\u00a0flink-1.17.1-bin-scala_2.12.tgz\u00a0-C\u00a0/home/flink/\n# \u4fee\u6539\u914d\u7f6e\ncd /home/flink/flink-1.20.0/conf\nvim flink-conf.yaml\n</code></pre> <p>\u4fee\u6539\u5185\u5bb9\u5982\u4e0b\uff1a</p> <p>::: code-group ```yaml [flink-conf.yaml]</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink-deploy/#jobmanager","title":"JobManager\u8282\u70b9\u5730\u5740.","text":"<p>jobmanager.rpc.address:\u00a0node01 jobmanager.bind-host:\u00a00.0.0.0 rest.address:\u00a0node01 rest.bind-address:\u00a00.0.0.0</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink-deploy/#taskmanager","title":"TaskManager\u8282\u70b9\u5730\u5740.\u9700\u8981\u914d\u7f6e\u4e3a\u5f53\u524d\u673a\u5668\u540d","text":"<p>taskmanager.bind-host:\u00a00.0.0.0 taskmanager.host:\u00a0node01 <pre><code>```yaml [works]\n# vim works\nnode01\nnode02\nnode03\n</code></pre></p> <p>```yaml [masters]</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink-deploy/#vim-masters","title":"vim masters","text":"<p>node01:8081 ``` :::</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/","title":"flink","text":"<p>\u6d41\u5904\u7406\u6846\u67b6\u7ecf\u5386\u4e863\u4ee3\u7684\u66f4\u65b0\u8fed\u4ee3\uff0c\u5927\u6570\u636e\u5904\u7406\u4e5f\u968f\u4e4b\u7ecf\u5386\u4e86\u4eceLambda\u67b6\u6784\u5230Kappa\u67b6\u6784\u7684\u6f14\u8fdb\u3002</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/#lambda","title":"Lambda\u67b6\u6784","text":"<p>Lambda\u67b6\u6784\u4e3b\u8981\u5206\u4e3a3\u90e8\u5206\uff1a\u6279\u5904\u7406\u5c42\u3001\u6d41\u5904\u7406\u5c42\u548c\u5728\u7ebf\u670d\u52a1\u5c42\u3002</p> <p></p> <p>\u6570\u636e\u6d41\u6765\u81eaKafka\u8fd9\u6837\u7684\u6d88\u606f\u961f\u5217\u3002</p> <p>\u6279\u5904\u7406\u5c42\uff0c\u6570\u636e\u6d41\u9996\u5148\u4f1a\u88ab\u6301\u4e45\u5316\u4fdd\u5b58\u5230\u6279\u5904\u7406\u6570\u636e\u4ed3\u5e93\u4e2d\uff0c\u79ef\u7d2f\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u518d\u4f7f\u7528\u6279\u5904\u7406\u5f15\u64ce\u6765\u8fdb\u884c\u8ba1\u7b97\u3002\u8fd9\u4e2a\u79ef\u7d2f\u65f6\u95f4\u53ef\u4ee5\u662f\u4e00\u5c0f\u65f6\u3001\u4e00\u5929\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u6708\u3002\u5904\u7406\u7ed3\u679c\u6700\u540e\u5bfc\u5165\u4e00\u4e2a\u53ef\u4f9b\u5728\u7ebf\u5e94\u7528\u7cfb\u7edf\u67e5\u8be2\u7684\u6570\u636e\u5e93\u4e0a\u3002 \u6279\u5904\u7406\u5c42\u4e2d\u7684\u6279\u5904\u7406\u6570\u636e\u4ed3\u5e93\u53ef\u4ee5\u662fHDFS\u3001Amazon S3\u6216\u5176\u4ed6\u6570\u636e\u4ed3\u5e93\uff0c\u6279\u5904\u7406\u5f15\u64ce\u53ef\u4ee5\u662fMapReduce\u6216Spark\u3002</p> <p>\u6d41\u5904\u7406\uff0c\u4f1a\u5bfc\u81f4\u7528\u6237\u5fc5\u987b\u7b49\u5f85\u5f88\u4e45\u624d\u80fd\u83b7\u53d6\u8ba1\u7b97\u7ed3\u679c\uff0c\u4e00\u822c\u6709\u51e0\u5c0f\u65f6\u7684\u5ef6\u8fdf\u3002\u7535\u5546\u6570\u636e\u5206\u6790\u90e8\u95e8\u53ea\u80fd\u67e5\u770b\u524d\u4e00\u5929\u7684\u7edf\u8ba1\u5206\u6790\u7ed3\u679c\uff0c\u65e0\u6cd5\u83b7\u53d6\u5f53\u524d\u7684\u7ed3\u679c\uff0c\u8fd9\u5bf9\u5b9e\u65f6\u51b3\u7b56\u6765\u8bf4\u662f\u4e00\u4e2a\u5de8\u5927\u7684\u65f6\u95f4\u9e3f\u6c9f\uff0c\u5f88\u53ef\u80fd\u5bfc\u81f4\u7ba1\u7406\u8005\u9519\u8fc7\u6700\u4f73\u51b3\u7b56\u65f6\u673a\u3002\u56e0\u6b64\uff0c\u5728\u6279\u5904\u7406\u5c42\u7684\u57fa\u7840\u4e0a\uff0cLambda\u67b6\u6784\u589e\u52a0\u4e86\u4e00\u4e2a\u6d41\u5904\u7406\u5c42\uff0c\u7528\u6237\u884c\u4e3a\u65e5\u5fd7\u4f1a\u5b9e\u65f6\u6d41\u5165\u6d41\u5904\u7406\u5c42\uff0c\u6d41\u5904\u7406\u5f15\u64ce\u751f\u6210\u9884\u5904\u7406\u7ed3\u679c\uff0c\u5e76\u5bfc\u5165\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u5206\u6790\u4eba\u5458\u53ef\u4ee5\u67e5\u770b\u524d\u4e00\u5c0f\u65f6\u6216\u524d\u51e0\u5206\u949f\u5185\u7684\u6570\u636e\u7ed3\u679c\uff0c\u8fd9\u5927\u5927\u589e\u5f3a\u4e86\u6574\u4e2a\u7cfb\u7edf\u7684\u5b9e\u65f6\u6027\u3002\u4f46\u6570\u636e\u6d41\u4f1a\u6709\u4e8b\u4ef6\u4e71\u5e8f\u7b49\u95ee\u9898\uff0c\u4f7f\u7528\u65e9\u671f\u7684\u6d41\u5904\u7406\u5f15\u64ce\uff0c\u53ea\u80fd\u5f97\u5230\u4e00\u4e2a\u8fd1\u4f3c\u51c6\u786e\u7684\u8ba1\u7b97\u7ed3\u679c\uff0c\u76f8\u5f53\u4e8e\u727a\u7272\u4e86\u4e00\u5b9a\u7684\u51c6\u786e\u6027\u6765\u6362\u53d6\u5b9e\u65f6\u6027\u3002</p>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/#kappa","title":"Kappa\u67b6\u6784","text":"<p>Kafka\u7684\u521b\u59cb\u4eba\u6770\u00b7\u514b\u96f7\u666e\u65af\u8ba4\u4e3a\u5728\u5f88\u591a\u573a\u666f\u4e0b\uff0c\u7ef4\u62a4\u4e00\u5957Lambda\u67b6\u6784\u7684\u5927\u6570\u636e\u5904\u7406\u5e73\u53f0\u8017\u65f6\u8017\u529b\uff0c\u4e8e\u662f\u63d0\u51fa\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u6ca1\u6709\u5fc5\u8981\u7ef4\u62a4\u4e00\u4e2a\u6279\u5904\u7406\u5c42\uff0c\u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u6d41\u5904\u7406\u5c42\u5373\u53ef\u6ee1\u8db3\u9700\u6c42\u3002</p> <p>The main <code>useData()</code> API can be used to access site, theme, and page data for the current page. It works in both <code>.md</code> and <code>.vue</code> files:</p> <pre><code>&lt;script setup&gt;\nimport { useData } from 'vitepress'\n\nconst { theme, page, frontmatter } = useData()\n&lt;/script&gt;\n\n## Results\n\n### Theme Data\n&lt;pre&gt;{{ theme }}&lt;/pre&gt;\n\n### Page Data\n&lt;pre&gt;{{ page }}&lt;/pre&gt;\n\n### Page Frontmatter\n&lt;pre&gt;{{ frontmatter }}&lt;/pre&gt;\n</code></pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/#results","title":"Results","text":""},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/#theme-data","title":"Theme Data","text":"<pre>{{ theme }}</pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/#page-data","title":"Page Data","text":"<pre>{{ page }}</pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/#page-frontmatter","title":"Page Frontmatter","text":"<pre>{{ frontmatter }}</pre>"},{"location":"%E5%A4%A7%E6%95%B0%E6%8D%AE/flink/flink/#more","title":"More","text":"<p>Check out the documentation for the full list of runtime APIs.</p>"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/Drawing%202025-05-08%2021.55.45.excalidraw/","title":"Drawing 2025 05 08 21.55.45.excalidraw","text":"<p>\u26a0  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. \u26a0 You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'</p>","tags":["excalidraw"]},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/Drawing%202025-05-08%2021.55.45.excalidraw/#excalidraw-data","title":"Excalidraw Data","text":"","tags":["excalidraw"]},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/Drawing%202025-05-08%2021.55.45.excalidraw/#text-elements","title":"Text Elements","text":"<p>vehicle ^eBnsnwyI</p> <p>T-Box ^PnsYGAjJ</p> <p>TSP ^Lgktr36Y</p> <p>%%</p>","tags":["excalidraw"]},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/Drawing%202025-05-08%2021.55.45.excalidraw/#drawing","title":"Drawing","text":"<p><pre><code>N4KAkARALgngDgUwgLgAQQQDwMYEMA2AlgCYBOuA7hADTgQBuCpAzoQPYB2KqATLZMzYBXUtiRoIACyhQ4zZAHoFAc0JRJQgEYA6bGwC2CgF7N6hbEcK4OCtptbErHALRY8RMpWdx8Q1TdIEfARcZgRmBShcZQUebQBGeO0ABho6IIR9BA4oZm4AbXAwUDBSiBJuCABHXAAZAA0AaQAFWoBZAHVlbAApADV40g5GgFEYDoBWNNLIWERKwOwojmVg\n\n6bLMbmceAHYknYn+MphuZO0AFgBmA+SdgDYeAE5Lx/OJy/ieQ6LIChJ1bjxS4TbR3MF7A5PJ53AAcMKOkEkCEIymk3DuZzBYImd3Or3i52Sd3iCIg1lW4lQyVJzCgpDYAGsEABhNj4NikSoAYniCF5vPWkE0uGwDOU9KEHGIrPZnIkXM0PAAZjxNJpBRAlYR8PgAMqwNYSQQeDW0+lMjr/SSnbTfGYQM2MhD6mCG9DGiqkiWojjhPJoEk/CBsOAi\n\ntQnAPJalB8XCOAASWI/tQ+QAuqSleQsonuBwhDrSYQpVhKrhUl7hFLfcxkyV7XNKZcfgBfGkIBDEQF3F4wiYwx590mMFjsLgBoE7IdMVicABynDE3B4yR4517j1750LzAAIhkoB3uEqCGFSZpK8QRsEsjlk4UZsUfmUG5UD5goIKyhUJAgAEIcZgOAoGB4wgJ9mx+dMgyEOBiFwA9OwDHZzjuPYoQHPZSSIDgGVzfN8CwthRUPNBj3wMIilbIo60\n\ngb90D/ACgJAjUXwkN8P1JTY0G2S5zm0PY7gmDcJniW5zh4PggwjVBLjuBJknOeJcU+YFgQJUk/mIAE0GJW1Hn0gkJgmW4YU+O0yiRFE0TQZdSXJN1o3tR0mRlDluX5PkkDPEUxQlKVXLldA6WsZhQ0CHINS1HUXTdB02U9INnIQS0tOtGyaTpJ0YspOKTQrPxJGrZNA3tEMw1gQEo1JWMYMTO8oPtTNcGzRDUDzAsgyLYgSwkXB4g1PziCKvCOqc\n\n9tWphHggU+GEUKnEdOG4WaSrKYcZw4ecOEXcc1weFCJi3Trd33EjUDI08g3PSVL2vbJcgKBqyhguCEMBZDUM+R4ngmTCg2w3C0Hagi/qIplWvOhBSXYypGEkcw1i9SgABUsA/CRYfhrygyVTgoF1QgjEpJSM1xgAxZrtWk+Eg3YgBBIhlDHdAxByJgNWHKBzAIemUSZiBzxkAwNT0HJcCLJgcwkGoGhadoul6AYhlGcYplJDkUSLAgUffGGEDh7A\n\nEaDXAhCgNgACVwgJyk6SESG/vFgAJZFUTR1Aki+Sijho8pWogUg7gZYghAAVQAfUaXUACsAEV4zgChf1py4GTNu48ih+AcsWZYKQ1LjUG2c4+IJV5khxN4lJ2GFLlJaSQWJHFZPeS4JPEsuNKtJazmSfSppeZdeNMx5SUsl3uEuRyynsylJ4ETKXLZNz5Q8gVvNFGr/MXwLoHIACwruyLtT1A0co9TsMvNZLO7QM5zLny/ssqM+BuEH0/UBNXQ2w\n\ncNKtniAaoTEmB6GYswIElm1fChZiz5zJDwF+11hpoBorMTO48WxtlOkCD4GI+yXGpvaNao5ARwkkgQ6co5NrbTdl9PBbw6Hbj3MEV6pETx23tFdKUV5Mh3TvE+ZBKD5hsVRp+WivtmgAQAJoAHFaaRx6GBB8EEZiPUgM9eCmD3poS+hhFakB/ojWBvadkxFwasM9tRTqYjJEyLkSxVBQidacS2BJOSPdHj3FMqhRSOJSHHEqqCeIjdBKXBbquZcd\n\n8ICaW0qgK42h9L6TwY8XEs1rgRNHtZXgf9p6nAvk6AK7lPKr0uj5De0ot6vl3qFXA4UOLYyPo/I08Vz6JXnlfVKS5clMgae6Jp8C341g/kGMq38KqRj/gAuqwDsagPAUDKB3UYG4EuPAqs79AaQMSuNdE9x4imR4A8ea603r7MORQhcRMHhKVhDcBhJ1THkTYWUDhN1uG3imfaNRzC3aaM+t9X6RiiwAwgaNMoxiwZHlYVDYREgkbOF/GwTYiMKD\n\na1dhAWF8LEXY1xvjQmXYSY5HJvoSmS0oXvh5ozSoLMDycnmpzdw5K+ZEuIMQQ29oRZRHFqQcBfsA5BzDhHGOccE5JxTmnDU6t/Ba2hegdFCKNTG1NhbVguK0A20eXox2zsMnuwmOY0o3s6IQGwDAO4EiECR0kAAeSkUqXUkg2gUA6MHXUO4JhVHoHYwR6Bs7ZKcdxL4fEnjxB2C3KuMJkjrkOvaaSzhRJyWDTsCNy5iT3AOPgsoUS0puxXKCcEwa\n\nJjoVhOmxEWrXYoW0CEkJn0SF7NknZFYDlOksnKcvQpWN2ElMGvk+USolTYEeP2w+0UT5P16U2lK0Tb5Nu6blBK9pvSFTWW7T+5VpKiXGRKQB9UQHNTAa1OZnVoGlnOCsoaS7kHQHsTJdBmzMGyRCWuV4dxTmLQDMZXRDByFznOYCK4PAYQ7EA6JW5TDToQzPBeLhN57poHvDMfhl6vXQGEQiL8vtajKAZHSWSEiFEzCUaUFREBPkaJQmhUyu0In6\n\nPWSCvRoMwNmNKFRfVljKgYaw6QHDnqcrQz9QXKa8bcFGXI48IkvjIAxueCkUS4kjKoQeHcAcHd2k2Tki8fS3Zrj9jE2k0tS4skNpnk27t6AeRto1MKdeXaW1BUqfvCKGZ6kjsaXlFpl8J1ZvEw6VpM7n75X6cVFdIy11VRjJuyZsGiNNRagY+ZPV0C4FVkGQaiDgWGLKGEU6u1RNiefUGQhr63ZTSjatL9G0f06RXKuFSf9CDHVA/ci67DIO3TeZ\n\nF0kJHWrBrIzNAkMJBJYUBbFkGJiIUPNJaipGupmgDWRtKtF03IrYqtnirFBKKb4CphNhllK7ps1pVzfAO2JBMpZe2so7Kxa+i5b7Y1przVWptXah1TqXVuo9WrUgGsOBSp1jCxbdkTbm0tiq1AarBu+idlZV2Oq9WPntIagttMYRKjNrTDo3HXwoaDPnWNlwK24OuISHgvFUm124D9CtElHjBueJNFu4llPRJhPxeJAGdjaOubp6H+n625xvsZmz\n\nEAzMeQs52i8Jnhe9v7YOxzw7XSnzHW5p0HmbQRKSr5pX87X6LoGQGILP8xnVXC0A9r0zd2zI2Qjo9vU7intSwesap1q6CWrlpl9TMa75bK5Qi5VdAOif6yBhAXzweXRa68mDaWOuwXUV1n5Qaq404h0Cx3oL6ONfVchv76BZvIvm0tnIOKLn4qgIS4laBi3Z6gMd5me2aXe9IHS7mDM+amzgMLXGV2Jb7qt2UCVmt8AosqPKoHSqVuqtILbCHCAo\n\ndjwDNoD2THwANTJHAOA+p1HcDrNAJEWRKgMzREcBghAEAJ3F9dSXXJe036VOsI1IganxgPPofUl8r8r3Ow/0gT+X+/gv5vLKNyNLgOo8PftgI/ndM/pkKTE5grqOq5hdpATkNAa/q0qrjfLaMfhAT/lAS/m/llM5j0ogZADgb/pkGbDrqlitN/uQfoJal/IbtmpPLQXgTAWTBtltkUKwSgS/qTMtqDsTNwWQWwfoCirXkavXuAcgVAKgZvk3rTD/\n\nmwBQEiLgL3iCjwbIS/iMFKIofSCoSEL7NUvodIbgbwZkHocoUjFen7BePfswNgPSDqPUNwIpPjomtXFcMZH2EJCVg6I4WyPgLhmgB8PsHsj9A8M8K8O8MfkYGwELEgvlgQLbEuHDpoagZQQgkurYddPfuKCQMXrztwfkcQPqAgB3mgOZP/F9sQG0GwN1DobgJoMEJnsfiUSZt7PCvgL7KQMoMKAABRTSTi8DBrUAjHDG3wACUGoFsyg+Y1SCwfRu\n\nAgxE8YxJO1IvAqxVIto0xaRIhRerSDBnMnAyYaemooCFsxYX2Kw2+QY2QTRLR3AYebKRAFRYOU+WeP2++k+0+QyJs2E1sHxaRdgkcCASwzAuoP2cAdRDRP2zRDG423BIonMjASM8R+Atx9YNhYQwQSwRCpIEBtIBg1hXqaedGo2LCiJjU9Ir+GQeJhW4Gf0oQNeeJqJ6JBilE4AzGmo2o4Q2+EEzYQAA\n</code></pre> %%</p>","tags":["excalidraw"]},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/","title":"\u77e5\u8bc6\u56fe\u8c31","text":"<pre><code>graph LR\n    A[\u8f66\u5185\u8bbe\u5907] --&gt; B[T-Box]\n    B --&gt; C[\u8f66\u5382 TSP \u5e73\u53f0]\n    C --&gt; D[\u624b\u673a App]\n    C --&gt; E[\u6570\u636e\u5e73\u53f0]\n    C --&gt; F[\u653f\u5e9c\u76d1\u7ba1\u5e73\u53f0]\n\n    style A fill:#e3f2fd,stroke:#90caf9,stroke-width:2px\n    style B fill:#fff3e0,stroke:#ffb74d,stroke-width:2px\n    style C fill:#e8f5e9,stroke:#81c784,stroke-width:2px\n    style D fill:#f3e5f5,stroke:#ba68c8,stroke-width:2px\n    style E fill:#ede7f6,stroke:#9575cd,stroke-width:2px\n    style F fill:#fffde7,stroke:#fff176,stroke-width:2px\n</code></pre> \u9879\u76ee T-Box \uff08Telematics Box\uff09 TSP \uff08Telematics Service Platform\uff09 \u4f4d\u7f6e \u8f66\u8f7d\u786c\u4ef6\uff0c\u5b89\u88c5\u5728\u8f66\u8f86\u5185\u90e8 \u4e91\u7aef\u7cfb\u7edf\uff0c\u90e8\u7f72\u5728\u8f66\u5382/\u670d\u52a1\u5546\u7684\u670d\u52a1\u5668 \u672c\u8d28 \u8f66\u8f7d\u901a\u4fe1\u63a7\u5236\u5668\uff0c\u7c7b\u4f3c\u201c\u8c03\u5236\u89e3\u8c03\u5668\u201d\u6216\u201c\u7f51\u5173\u201d \u540e\u53f0\u670d\u52a1\u5e73\u53f0\uff0c\u5904\u7406\u6570\u636e\u3001\u63d0\u4f9b\u63a5\u53e3\u3001\u505a\u4e1a\u52a1\u903b\u8f91 \u4f5c\u7528 \u91c7\u96c6\u8f66\u8f86\u6570\u636e\u3001\u53d1\u9001\u6d88\u606f\u3001\u6267\u884c\u8fdc\u7a0b\u6307\u4ee4 \u7ba1\u7406\u8f66\u8f86\u6570\u636e\u3001\u7528\u6237\u6570\u636e\u3001\u53d1\u9001\u6307\u4ee4\u3001\u4e0e\u5916\u90e8\u5bf9\u63a5 \u529f\u80fd\u4e3e\u4f8b \u5b9a\u4f4d\u4e0a\u4f20\u3001\u6545\u969c\u4e0a\u62a5\u3001\u63a5\u6536OTA\u3001\u8fdc\u7a0b\u63a7\u5236\u8f66\u95e8 \u7528\u6237\u767b\u5f55\u3001\u8f66\u8f86\u7ed1\u5b9a\u3001\u8f68\u8ff9\u5c55\u793a\u3001OTA\u7b56\u7565\u4e0b\u53d1 \u534f\u8bae \u652f\u6301\u79c1\u6709/\u6807\u51c6\u534f\u8bae\uff08\u5982 GB/T 32960\uff09 \u63a5\u6536TBox\u534f\u8bae\u5e76\u89e3\u6790\u3001\u4e5f\u4f1a\u66b4\u9732HTTP/MQTT\u7b49\u63a5\u53e3 \u5f00\u53d1\u91cd\u70b9 \u5d4c\u5165\u5f0f\u5f00\u53d1\u3001CAN\u901a\u4fe1\u3001\u65e0\u7ebf\u901a\u4fe1\uff08LTE/5G\uff09 \u540e\u7aef\u5f00\u53d1\u3001\u6570\u636e\u5904\u7406\u3001\u63a5\u53e3\u5b89\u5168\u3001\u6307\u4ee4\u961f\u5217\u7ba1\u7406 <p>\u4e13\u4e1a\u672f\u8bed\uff1a EE\u67b6\u6784\uff0c\u6c7d\u8f66\u7535\u5b50\u7535\u6c14\u67b6\u6784 ECU Electronic Control Unit\uff0c\u7535\u5b50\u63a7\u5236\u5668\u5355\u5143 T-BOX   telematics box\uff0c\u8fdc\u7a0b\u901a\u4fe1\u6a21\u5757 CAN Controller Area Network\uff0c\u63a7\u5236\u5668\u533a\u57df\u7f51\u7edc\uff0c\u603b\u7ebf\u534f\u8bae\u4e4b\u4e00 LIN \u603b\u7ebf\u534f\u8bae\u4e4b\u4e00\uff0c\u4e32\u884c\u901a\u8baf\u7f51\u7edc FlexRay \u603b\u7ebf\u534f\u8bae\u4e4b\u4e00\uff0c\u4e00\u79cd\u65f6\u95f4\u89e6\u53d1\u5f0f\u7684\u603b\u7ebf\u7cfb\u7edf ADAS    Advanced Driver Assistance Systems\uff0c\u9ad8\u7ea7\u9a7e\u9a76\u8f85\u52a9\u7cfb\u7edf BCM \u6c7d\u8f66\u8f66\u8eab\u63a7\u5236\u6a21\u5757 VCU \u6574\u8f66\u63a7\u5236\u5668 ACU \u81ea\u52a8\u9a7e\u9a76\u57df\u63a7\u5236\u5668 HeadUnit\uff1a\u8f66\u8f7d\u5a31\u4e50\u4fe1\u606f\u7cfb\u7edf\uff0c\u7b80\u79f0HU\u6216HUT TSP Telematics Service Provider\uff0c\u6c7d\u8f66\u8fdc\u7a0b\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u8f66\u8054\u7f51\u670d\u52a1\u5e73\u53f0 TBOX\uff1aTelematics Box\uff0c\u7b80\u79f0TBOX\uff08T\u76d2\uff09\uff0cTBOX\u4e3b\u8981\u7528\u4e8e\u91c7\u96c6\u8f66\u8f86\u6570\u636e\u4e0eTSP\u5e73\u53f0\u5b9e\u65f6\u901a\u4fe1\uff0c\u6570\u636e\u4e0a\u62a5\uff0c\u4eba\u8f66\u4ea4\u4e92\u3002 SMS\uff1a\u77ed\u4fe1\u5e73\u53f0\u3002 GBCENTER\uff1a\u56fd\u6807\u5e73\u53f0\u6216\u5730\u6807\u5e73\u53f0\u7684\u7b80\u79f0\u3002</p> <p>I-Call\uff1a\u63d0\u4f9b\u8d44\u8baf\uff0c\u4e00\u952e\u5bfc\u822a\u7b49\u3002 B-Call\uff1a\u63d0\u4f9b\u9053\u8def\u6551\u63f4\u670d\u52a1\u3002 E-Call\uff1a\u63d0\u4f9b\u7d27\u6025\u6551\u63f4\u670d\u52a1\u3002 VIN\uff1a\u8f66\u8f86\u8bc6\u522b\u7801\uff0c\u7b80\u79f0\u8f66\u67b6\u53f7\u3002 IMSI\uff1aSIM\u5361\u670d\u52a1\u8bc6\u522b\u53f7\uff0c\u7528\u6765\u8bc6\u522bSIM\u5361\u5165\u7f51\u670d\u52a1\u7684\u6807\u8bc6\u3002 ICCID\uff1aSIM\u5361\u786c\u4ef6\u8bc6\u522b\u53f7\uff0c\u7528\u6765\u8bc6\u522bSIM\u5361\u7684\u786c\u4ef6\u3002 IMEI\uff1aTBOX\u7684\u552f\u4e00\u8bbe\u5907\u8bc6\u522b\u7801\uff0c\u7528\u4e8e\u533a\u5206TBOX\u8bbe\u5907\u3002</p> <p>![[assets/Pasted image 20250508220704.png]]![[assets/Pasted image 20250508220857.png]]</p> <p>https://www.iotsec-zone.com/article/367</p> \u534f\u8bae \u662f\u5426\u5e38\u7528 \u4f7f\u7528\u573a\u666f \u4f18\u70b9 \u7f3a\u70b9 \u2705 MQTT \u2b50\u2b50\u2b50\u2b50\uff08\u6700\u5e38\u7528\uff09 \u5b9e\u65f6\u901a\u4fe1\u3001\u72b6\u6001\u4e0a\u62a5\u3001\u8fdc\u7a0b\u6307\u4ee4 \u8f7b\u91cf\u3001\u652f\u6301\u957f\u8fde\u63a5\u3001\u4f4e\u529f\u8017\u3001QoS\u4fdd\u969c \u4e8c\u8fdb\u5236\u534f\u8bae\u8c03\u8bd5\u4e0d\u4fbf\uff0c\u9700\u4e13\u7528\u5ba2\u6237\u7aef\u5de5\u5177 \u2705 TCP \u2b50\u2b50 \u81ea\u5b9a\u4e49\u534f\u8bae\u7684\u57fa\u7840\uff08\u5c24\u5176\u662f\u65e9\u671fTSP\u7cfb\u7edf\uff09 \u7075\u6d3b\u3001\u53ef\u5b9a\u5236\u3001\u6027\u80fd\u597d \u65e0\u6807\u51c6\u7ed3\u6784\uff0c\u9700\u81ea\u884c\u8bbe\u8ba1\u4f1a\u8bdd\u7ba1\u7406\u7b49 \u2705 HTTPS \u2b50\u2b50 \u8bbe\u5907\u6ce8\u518c\u3001\u8865\u53d1\u6570\u636e\u3001\u5347\u7ea7\u7b49\u975e\u5b9e\u65f6\u64cd\u4f5c \u5b89\u5168\uff08TLS\uff09\uff0c\u8c03\u8bd5\u65b9\u4fbf\uff0c\u6d4f\u89c8\u5668\u517c\u5bb9 \u5efa\u8fde\u6162\u3001\u901a\u4fe1\u9891\u7e41\u65f6\u6548\u7387\u4f4e\u3001\u529f\u8017\u9ad8 \u573a\u666f \u63a8\u8350\u534f\u8bae \u7406\u7531 \u5b9e\u65f6\u72b6\u6001\u4e0a\u62a5 / \u6307\u4ee4\u63a8\u9001 MQTT \u957f\u8fde\u63a5\u4f4e\u5ef6\u8fdf\uff0c\u652f\u6301 QoS\uff0c\u5e7f\u6cdb\u9002\u7528\u4e8e\u8f66\u8054\u7f51 \u5927\u6587\u4ef6\u4f20\u8f93\uff08\u5982 OTA \u5347\u7ea7\uff09 HTTPS \u4f20\u8f93\u53ef\u9760\u3001\u6613\u90e8\u7f72 CDN\uff0c\u652f\u6301\u65ad\u70b9\u7eed\u4f20 \u9996\u6b21\u6ce8\u518c / \u9274\u6743 / \u914d\u7f6e\u62c9\u53d6 HTTPS \u5b89\u5168\u4e14\u53ea\u9700\u5076\u5c14\u8fde\u63a5 \u5b9a\u5236\u8001\u5e73\u53f0\u6216\u65e0 MQTT \u7f51\u5173\u7684\u7cfb\u7edf TCP \u5141\u8bb8\u5382\u5546\u5b8c\u5168\u5b9a\u5236\u534f\u8bae\u683c\u5f0f\uff0c\u4f46\u9700\u989d\u5916\u5f00\u53d1\u89e3\u6790\u903b\u8f91 \u9879\u76ee CAN \u603b\u7ebf TCP \u534f\u8bae \u5b9a\u4e49 \u63a7\u5236\u5668\u5c40\u57df\u7f51\u534f\u8bae\uff08Controller Area Network\uff09 \u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff08Transmission Control Protocol\uff09 \u5de5\u4f5c\u5c42\u7ea7 \u7269\u7406\u5c42 + \u6570\u636e\u94fe\u8def\u5c42 \u4f20\u8f93\u5c42\uff08TCP/IP \u56db\u5c42\u6a21\u578b\uff09 \u5e94\u7528\u573a\u666f \u6c7d\u8f66\u5185\u3001\u5de5\u4e1a\u81ea\u52a8\u5316\u3001\u673a\u5668\u4eba \u4e92\u8054\u7f51\u901a\u4fe1\uff08\u6d4f\u89c8\u5668\u3001APP\u3001Web\u670d\u52a1\u5668\uff09 \u4f20\u8f93\u65b9\u5f0f \u5e7f\u64ad\u5f0f\uff08\u6240\u6709\u8282\u70b9\u63a5\u6536\uff09\uff0c\u65e0\u8fde\u63a5 \u9762\u5411\u8fde\u63a5\uff0c\u4e00\u5bf9\u4e00\u53ef\u9760\u901a\u4fe1 \u5e26\u5bbd \u901a\u5e38 \u2264 1 Mbps\uff08CAN FD \u53ef\u63d0\u5347\uff09 \u53d6\u51b3\u4e8e\u7f51\u7edc\u73af\u5883\uff0810Mbps ~ Gbps\uff09 \u5178\u578b\u901a\u4fe1 \u8f66\u5185 ECU \u4e4b\u95f4\u4f20\u611f\u5668/\u63a7\u5236\u5668\u6570\u636e\u4f20\u8f93 \u7f51\u9875\u52a0\u8f7d\u3001\u804a\u5929\u6d88\u606f\u3001\u89c6\u9891\u6d41\u4f20\u8f93\u7b49"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#can-tcpmqtt-tsp","title":"\ud83d\ude97 CAN \u2192 \u7f51\u5173 \u2192 TCP/MQTT \u2192 TSP \u901a\u4fe1\u94fe\u8def\u603b\u89c8\u56fe","text":"<p>less</p> <p>\u590d\u5236\u7f16\u8f91</p> <p><code>[ \u5404\u7c7bECU ]    |    \u2193\uff08CAN\u603b\u7ebf\uff09 [ \u8f66\u8f7d\u7f51\u5173\uff08T-Box\uff09 ]    |    \u2193\uff08TCP/MQTT/HTTPS\uff09 [ TSP\u4e91\u5e73\u53f0 ]</code></p>"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#_1","title":"\ud83d\udd0d \u4e00\u3001\u89d2\u8272\u8bf4\u660e","text":"\u89d2\u8272 \u8bf4\u660e ECU \u53d1\u52a8\u673a/\u8f66\u8eab/\u7a7a\u8c03\u7b49\u63a7\u5236\u5668\uff0c\u5de5\u4f5c\u5728 CAN \u7f51\u7edc\u4e2d T-Box/\u7f51\u5173 \u8fde\u63a5 CAN \u603b\u7ebf\uff0c\u6536\u96c6\u6570\u636e\u5e76\u4e0a\u4f20\u5230\u4e91\uff08TSP\uff09 TSP \u4e91\u7aef\u5e73\u53f0\uff0c\u63a5\u6536\u6570\u636e\u3001\u505a\u8fdc\u7a0b\u63a7\u5236\u3001OTA\u3001\u76d1\u63a7\u7b49"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#_2","title":"\ud83d\udd04 \u4e8c\u3001\u8be6\u7ec6\u6d41\u7a0b","text":""},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#1-can","title":"\ud83d\ude98 1. \u8f66\u5185 CAN \u7f51\u7edc\u91c7\u96c6\u6570\u636e","text":"<ul> <li> <p>\u6bcf\u4e2a ECU \u5468\u671f\u6027\u5e7f\u64ad\u81ea\u5df1\u7684\u72b6\u6001\uff0c\u5982\uff1a</p> <ul> <li> <p>\u53d1\u52a8\u673a ECU \u2192 \u53d1\u8f6c\u901f\u6570\u636e\uff1b</p> </li> <li> <p>\u7535\u6c60\u7ba1\u7406 ECU \u2192 \u53d1\u7535\u538b/\u6e29\u5ea6\u6570\u636e\uff1b</p> </li> </ul> </li> <li> <p>\u8fd9\u4e9b\u6570\u636e\u90fd\u662f CAN \u62a5\u6587\uff08ID + Data\uff09\u3002</p> </li> </ul>"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#2-t-box-can","title":"\ud83d\udce6 2. T-Box \u4f5c\u4e3aCAN \u7f51\u5173","text":"<ul> <li> <p>T-Box \u8fde\u63a5\u5230 CAN \u603b\u7ebf\uff1b</p> </li> <li> <p>\u4f7f\u7528\u9a71\u52a8\u7a0b\u5e8f\uff08\u5982 SocketCAN \u6216\u4e13\u7528 MCU \u9a71\u52a8\uff09\u76d1\u542c\u6240\u6709 CAN \u62a5\u6587\uff1b</p> </li> <li> <p>\u901a\u8fc7 DBC \u6587\u4ef6\uff08\u534f\u8bae\u5b9a\u4e49\uff09\u89e3\u6790\u62a5\u6587\u6210\u53ef\u8bfb\u53c2\u6570\uff1b</p> <p>makefile</p> <p>\u590d\u5236\u7f16\u8f91</p> <p><code>0x100: vehicle_speed = 80 km/h 0x205: battery_voltage = 12.4 V</code></p> </li> </ul>"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#3-t-box","title":"\ud83e\udde0 3. T-Box \u505a\u534f\u8bae\u9002\u914d\u548c\u6253\u5305","text":"<ul> <li> <p>\u5c06\u89e3\u6790\u540e\u7684\u6570\u636e\u8f6c\u6362\u6210\u4e91\u5e73\u53f0\u80fd\u8bc6\u522b\u7684\u683c\u5f0f\uff1a</p> <ul> <li> <p>\u81ea\u5b9a\u4e49 JSON\uff1b</p> </li> <li> <p>GB/T 32960 \u683c\u5f0f\uff1b</p> </li> <li> <p>Protobuf \u7f16\u7801\u7ed3\u6784\uff1b</p> </li> </ul> </li> <li> <p>\u52a0\u5165\u8eab\u4efd\u4fe1\u606f\uff08\u5982 VIN\u3001ICCID\u3001\u8bbe\u5907ID\uff09\uff1b</p> </li> <li> <p>\u7edf\u4e00\u6253\u5305\u3002</p> </li> </ul>"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#4-tcp-mqtt-https-tsp","title":"\ud83d\udce1 4. \u4f7f\u7528 TCP / MQTT / HTTPS \u4e0a\u4f20\u5230 TSP","text":"<ul> <li> <p>MQTT\uff1a\u5efa\u7acb\u957f\u8fde\u63a5\uff0c\u5468\u671f\u6027\u4e0a\u62a5\u72b6\u6001/\u5b9e\u65f6\u63a5\u6536\u6307\u4ee4\uff1b</p> </li> <li> <p>TCP\uff1a\u9002\u5408\u81ea\u5b9a\u4e49\u534f\u8bae\u7684\u957f\u8fde\u63a5\uff1b</p> </li> <li> <p>HTTPS\uff1a\u9002\u5408\u9996\u6b21\u6ce8\u518c\u3001\u8865\u53d1\u6570\u636e\u3001OTA \u6587\u4ef6\u8bf7\u6c42\u7b49\u3002</p> </li> </ul>"},{"location":"%E6%99%BA%E8%83%BD%E7%BD%91%E8%81%94/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/#5-tsp","title":"\u2601\ufe0f 5. TSP \u4e91\u5e73\u53f0\u5904\u7406\u6570\u636e","text":"<ul> <li> <p>\u9274\u6743/\u9a8c\u7b7e\uff0c\u5224\u65ad\u6570\u636e\u5408\u6cd5\uff1b</p> </li> <li> <p>\u5165\u5e93\u3001\u62a5\u8b66\u68c0\u6d4b\u3001\u663e\u793a\u5728\u7528\u6237App\uff1b</p> </li> <li> <p>\u53ef\u4ee5\u53d1\u63a7\u5236\u547d\u4ee4\uff08\u4f8b\u5982\u8fdc\u7a0b\u5f00\u7a7a\u8c03\uff09\u56de\u4f20\u5230 T-Box\uff1b</p> </li> <li> <p>T-Box \u6536\u5230\u540e\u901a\u8fc7 CAN \u4e0b\u53d1\u547d\u4ee4\u7ed9 ECU\u3002</p> </li> </ul> <pre><code>graph TD\n    ECU1[\u53d1\u52a8\u673aECU] --&gt; CAN[CAN\u603b\u7ebf]\n    ECU2[\u7535\u6c60\u7ba1\u7406ECU] --&gt; CAN\n    CAN --&gt; TBOX[T-Box\uff08\u7f51\u5173\uff09]\n    TBOX --&gt; TCP[TCP/MQTT/HTTPS \u4e0a\u4f20]\n    TCP --&gt; TSP[\u4e91\u7aefTSP\u5e73\u53f0]\n    TSP --&gt;|\u63a7\u5236\u6307\u4ee4| TBOX\n    TBOX --&gt;|CAN\u547d\u4ee4| CAN</code></pre>"},{"location":"%E7%89%A9%E8%81%94%E7%BD%91/%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/","title":"\u89c4\u5219\u5f15\u64ce","text":"<p>\u7269\u8054\u7f51\u4e2d\uff0c\u6d88\u606ftopic\u5b9e\u65f6\u8ba2\u9605\uff0c\u89c4\u5219\u5f15\u64ce\uff0c\u5224\u65ad\u4e24\u4e2a\u4e0d\u540c\u7684topic\u4e2d\uff0c\u6bd4\u5982\u6e29\u5ea6\u548c\u6e7f\u5ea6\u540c\u65f6\u8d85\u8fc7\u67d0\u4e00\u4e2a\u9608\u503c\uff0c\u89e6\u53d1\u544a\u8b66\uff0c\u7c7b\u4f3c and \u7684\u903b\u8f91\uff0c\u8fd9\u79cd\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f</p> <p>\u4f60\u63cf\u8ff0\u7684\u662f\u7269\u8054\u7f51\u7cfb\u7edf\u4e2d\u5e38\u89c1\u7684\u8de8 Topic \u89c4\u5219\u5339\u914d\uff08AND \u6761\u4ef6\uff09\uff0c\u7528\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u7684\u590d\u5408\u89c4\u5219\u544a\u8b66\u3002\u8fd9\u7c7b\u9700\u6c42\u4e0d\u80fd\u7b80\u5355\u901a\u8fc7\u5355\u6761\u6d88\u606f\u5224\u65ad\uff0c\u800c\u662f\u9700\u8981\u5177\u5907\u4e00\u5b9a\u7684\u72b6\u6001\u4fdd\u6301\u80fd\u529b\u548c\u4e8b\u4ef6\u8054\u52a8\u903b\u8f91\u3002\u4e0b\u9762\u662f\u5b9e\u73b0\u539f\u7406\u548c\u4e3b\u6d41\u5b9e\u73b0\u65b9\u5f0f\u7684\u8be6\u7ec6\u8bf4\u660e\uff1a</p> <p>\u4f60\u5e0c\u671b\u5b9e\u73b0\uff1a</p> <p>\u5982\u679c\u67d0\u4e2a\u8bbe\u5907\u7684 \u6e29\u5ea6\uff08<code>topic/temp</code>\uff09 \u548c \u6e7f\u5ea6\uff08<code>topic/humidity</code>\uff09 \u540c\u65f6\u8d85\u8fc7\u9608\u503c\uff08\u5982\u6e29\u5ea6 &gt; 60 \u4e14\u6e7f\u5ea6 &gt; 80\uff09\uff0c\u5219\u89e6\u53d1\u544a\u8b66\u3002</p> <p>\u8fd9\u672c\u8d28\u662f\uff1a - \u4e24\u4e2a\u72ec\u7acb Topic \u7684\u6d88\u606f\u8ba2\u9605 - \u72b6\u6001\u7f13\u5b58 - \u89c4\u5219\u5339\u914d\u903b\u8f91\uff08AND \u6761\u4ef6\uff09 - \u89e6\u53d1\u52a8\u4f5c\uff08\u544a\u8b66\u3001\u4e0b\u53d1\u6307\u4ee4\u7b49\uff09</p>"},{"location":"%E7%89%A9%E8%81%94%E7%BD%91/%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/#_1","title":"\u5e38\u89c1\u5b9e\u73b0\u65b9\u6848","text":""},{"location":"%E7%89%A9%E8%81%94%E7%BD%91/%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/#1","title":"1. \u2733\ufe0f \u4f7f\u7528\u89c4\u5219\u5f15\u64ce + \u72b6\u6001\u7f13\u5b58","text":"<p>\u6d41\u7a0b\u56fe\uff1a <pre><code>                  +--------------------+\n     MQTT Broker  |    \u89c4\u5219\u5f15\u64ce\u670d\u52a1     |\n   +------------&gt; | (\u5982 Node-RED, EMQX) |\n                  +----------+---------+\n                             |\n                  +----------v----------+\n                  |   Topic \u72b6\u6001\u7f13\u5b58     |\n                  | {temp: xx, time: t1} |\n                  | {hum: xx,  time: t2} |\n                  +----------+----------+\n                             |\n                             v\n                   if temp &gt; 60 and hum &gt; 80\n                           =&gt; \u544a\u8b66\n</code></pre></p>"},{"location":"%E7%89%A9%E8%81%94%E7%BD%91/%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/#_2","title":"\u5b9e\u73b0\u601d\u8def\uff1a","text":"<ul> <li>\u8ba2\u9605 <code>topic/temp</code> \u548c <code>topic/humidity</code></li> <li>\u6bcf\u6761\u6d88\u606f\u6765\u65f6\uff0c\u5c06\u8be5 topic \u7684\u503c\u53ca\u65f6\u95f4\u6233\u7f13\u5b58\uff08Redis\u3001\u5185\u5b58\u3001\u4e8b\u4ef6\u8868\u7b49\uff09</li> <li>\u5224\u65ad\u4e24\u4e2a topic \u7684\u503c\u662f\u5426\u90fd\u6ee1\u8db3\u6761\u4ef6\u4e14\u5728\u6709\u6548\u65f6\u95f4\u7a97\u53e3\u5185</li> <li>\u5982\u679c\u6ee1\u8db3\uff0c\u5c31\u6267\u884c\u89e6\u53d1\u64cd\u4f5c\uff08\u5982\u53d1\u9001\u544a\u8b66\u3001\u901a\u77e5\u3001\u4e0b\u53d1\u63a7\u5236\u547d\u4ee4\u7b49\uff09</li> </ul>"},{"location":"%E7%89%A9%E8%81%94%E7%BD%91/%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/#apache-flink-spark-streaming","title":"\u4f7f\u7528\u6d41\u5904\u7406\u6846\u67b6\uff08\u5982 Apache Flink / Spark Streaming\uff09","text":"<p>\u66f4\u4e13\u4e1a\u7684\u65b9\u6848\u53ef\u7528\u6d41\u5904\u7406\u5f15\u64ce\uff1a</p>"},{"location":"%E7%89%A9%E8%81%94%E7%BD%91/%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/#_3","title":"\u57fa\u672c\u65b9\u5f0f\uff1a","text":"<ul> <li> <p>\u5c06\u591a\u4e2a topic \u6d88\u606f\u6d41\u8f93\u5165 Flink</p> </li> <li> <p>\u6bcf\u4e2a\u6d41 map \u6210\u5e26\u6709 <code>device_id, temp/hum, timestamp</code> \u7684\u7ed3\u6784</p> </li> <li> <p>\u4f7f\u7528 <code>Keyed CoProcessFunction</code> \u7b49\u65b9\u5f0f\u5408\u5e76\u4e24\u4e2a\u6d41\uff0c\u5728\u65f6\u95f4\u7a97\u53e3\u5185\u5b9e\u73b0 <code>temp AND hum</code> \u7684\u903b\u8f91</p> </li> <li> <p>\u6ee1\u8db3\u6761\u4ef6\u540e\u53d1\u9001\u7ed3\u679c\u5230\u544a\u8b66 topic \u6216 HTTP webhook</p> </li> </ul>"},{"location":"%E7%89%A9%E8%81%94%E7%BD%91/%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/#node-red","title":"\u4f7f\u7528\u8f7b\u91cf\u5316\u6846\u67b6\uff08\u5982 Node-RED\uff09","text":"<ul> <li> <p>Node-RED \u63d0\u4f9b\u62d6\u62fd\u5f0f\u914d\u7f6e\uff0c\u53ef\u8ba2\u9605\u591a\u4e2a topic</p> </li> <li> <p>\u4f7f\u7528 <code>join</code> \u8282\u70b9\u5c06\u591a\u4e2a topic \u6570\u636e\u805a\u5408\uff08\u6309\u65f6\u95f4\u3001\u6761\u4ef6\uff09</p> </li> <li> <p>\u7136\u540e\u7528 <code>function</code> \u8282\u70b9\u5199\u6761\u4ef6\u5224\u65ad\u903b\u8f91</p> </li> <li> <p>\u6ee1\u8db3\u6761\u4ef6\u89e6\u53d1\u544a\u8b66\u6216\u901a\u77e5</p> </li> </ul>"},{"location":"%E8%BF%90%E7%BB%B4/es%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3/","title":"Es\u64cd\u4f5c\u63a5\u53e3","text":"<pre><code>curl -H \"Content-Type:application/json\" -X POST -d '{ \n    \"analyzer\" : \"ncs_smart\", \n    \"text\" : \"\u5317\u4eac\u5929\u5b89\u95e8\u5e7f\u573a\"\n}' http://192.168.113.4:9200/_analyze\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4/es%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3/#es","title":"es\u5feb\u7167\u6062\u590d","text":"<p>\u5220\u9664\u5386\u53f2\u7248\u672c\u5feb\u7167\u4ed3\u5e93</p> <pre><code>curl -u &lt;username&gt;:&lt;password&gt; -H \"Content-Type:application/json\" -X DELETE http://&lt;ip&gt;:&lt;port&gt;/_snapshot/&lt;22m9d218&gt;\n</code></pre> <p>\u521b\u5efa\u5feb\u7167\u4ed3\u5e93</p> <pre><code>curl -H \"Content-Type:application/json\" -X PUT -d '{ \n    \"type\": \"fs\",\n    \"settings\": {\n        \"location\": \"24m3d430\",\n        \"compress\": \"true\"\n    }\n}' http://10.201.21.197:9200/_snapshot/24m3d430\n</code></pre> <p>\u67e5\u8be2\u5feb\u7167\u4ed3\u5e93</p> <pre><code>curl -H \"Content-Type:application/json\"  http://10.201.21.197:9200/_snapshot\n</code></pre> <p>\u89e3\u538b\u6570\u636e</p> <pre><code>cat 22m9d218.tgz.* | tar zxvf -\n</code></pre> <p>\u5c06\u89e3\u538b\u540e\u7684\u5feb\u7167\u6570\u636e\u62f7\u8d1d\u5230\u521b\u5efa\u5feb\u7167\u4ed3\u5e93\u65f6\u8bbe\u7f6e\u7684location\u76ee\u5f55\u4e0b</p> <p>\u5feb\u7167\u6062\u590d</p> <pre><code>curl -H \"Content-Type:application/json\" -X POST -d '{ \n    \"indices\": \"navinfo-*\", \n    \"ignore_unavailable\": true,\n    \"include_aliases\": false\n}' http://10.201.21.197:9200/_snapshot/24m3d430/search/_restore?wait_for_completion=true\n</code></pre> <p>\u6062\u590d\u5feb\u7167\u5e76\u91cd\u547d\u540d\u7d22\u5f15(\u5feb\u7167\u4e2d\u6709\u7d22\u5f15\u540e\u7f00, \u6240\u4ee5\u4e0d\u7528\u8bbe\u7f6e)</p> <pre><code>curl -u &lt;username&gt;:&lt;password&gt; -H \"Content-Type:application/json\" -X POST -d '{ \n    \"indices\": \"navinfo-*\", \n    \"ignore_unavailable\": true,\n    \"rename_pattern\": \"navinfo-(.+)\",          \n    \"rename_replacement\": \"navinfo-$1-&lt;\u540e\u7f00\u540d\u79f0&gt;\",\n    \"include_aliases\": false\n}' http://&lt;ip&gt;:&lt;port&gt;/_snapshot/&lt;\u5feb\u7167\u4ed3\u5e93\u540d&gt;/search/_restore?wait_for_completion=true\n</code></pre> <pre><code>curl -H \"Content-Type:application/json\" -X POST -d '{ \n    \"indices\": \"navinfo-*\", \n    \"ignore_unavailable\": true,\n    \"rename_pattern\": \"navinfo-(.+)\",          \n    \"rename_replacement\": \"navinfo-$1-24m3d430\",\n    \"include_aliases\": false\n}' http://10.201.21.197:9200/_snapshot/24m3d430/search/_restore?wait_for_completion=true\n</code></pre> <p>\u8bbe\u7f6e\u7d22\u5f15\u526f\u672c</p> <p>\u526f\u672c\u6570\u91cf\u5fc5\u987b\u5c0f\u4e8e\u96c6\u7fa4\u8282\u70b9\u6570\u91cf\uff0c\u975e\u96c6\u7fa4\u73af\u5883\u5355\u8282\u70b9\u526f\u672c\u6570\u91cf\u5fc5\u987b\u4e3a0</p> <pre><code>curl -H \"Content-Type:application/json\" -X PUT -d '{ \n    \"index\": {\n        \"number_of_replicas\": 1\n    }\n}' http://10.201.21.197:9200/&lt;\u7d22\u5f15\u540d\u79f0&gt;/_settings\n</code></pre> <p>\u67e5\u8be2\u7d22\u5f15\u522b\u540d</p> <pre><code>curl -H \"Content-Type:application/json\"  http://10.201.21.197:9200/_alias\n</code></pre> <p>\u5220\u9664\u7d22\u5f15\u522b\u540d</p> <pre><code>curl -H \"Content-Type:application/json\" -X DELETE  http://10.201.21.197:9200/&lt;\u7d22\u5f15\u540d\u79f0&gt;/_alias/&lt;\u7d22\u5f15\u522b\u540d&gt;\n</code></pre> <p>\u521b\u5efa\u7d22\u5f15\u522b\u540d</p> <pre><code>curl -H \"Content-Type:application/json\" -X PUT http://10.201.21.197:9200/&lt;\u7d22\u5f15\u540d\u79f0&gt;/_alias/&lt;\u7d22\u5f15\u522b\u540d&gt;\n</code></pre> <pre><code>curl -H \"Content-Type:application/json\" -X PUT http://192.168.113.4:9200/navinfo-cityanalyzer-index-24m9d51/_alias/navinfo-cityanalyzer-index\n\ncurl -H \"Content-Type:application/json\" -X PUT http://192.168.113.4:9200/navinfo-search-index-24m9d51/_alias/navinfo-search-index\n\ncurl -H \"Content-Type:application/json\" -X PUT http://192.168.113.4:9200/navinfo-suggest-index-24m9d51/_alias/navinfo-suggest-index\n</code></pre> <pre><code>curl -H \"Content-Type:application/json\" -X PUT http://192.168.113.3:19200/navinfo-regeo-poi-index-24m9d0403/_alias/navinfo-regeo-poi-index\n\ncurl -H \"Content-Type:application/json\" -X PUT http://192.168.113.3:19200/navinfo-regeo-admin-index-24m9d0403/_alias/navinfo-regeo-admin-index\n\ncurl -H \"Content-Type:application/json\" -X PUT http://192.168.113.3:19200/navinfo-regeo-aoi-index-24m9d0403/_alias/navinfo-regeo-aoi-index\n\ncurl -H \"Content-Type:application/json\" -X PUT http://192.168.113.3:19200/navinfo-regeo-road-index-24m9d0403/_alias/navinfo-regeo-road-index\n\ncurl -H \"Content-Type:application/json\" -X PUT http://192.168.113.3:19200/navinfo-regeo-cross-index-24m9d0403/_alias/navinfo-regeo-cross-index\n</code></pre> <p>\u67e5\u8be2\u7d22\u5f15</p> <pre><code>curl -H \"Content-Type:application/json\"  http://10.201.21.197:9200/_cat/indices/*?v\n</code></pre> <p>\u5220\u9664\u5386\u53f2\u7d22\u5f15</p> <pre><code>curl -X DELETE \"http://10.201.21.197:9200/navinfo-cityanalyzer-index-24m3d430\"\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4/vscode%E5%85%A8%E6%A0%88%E9%85%8D%E7%BD%AE/","title":"Vscode\u5168\u6808\u914d\u7f6e","text":""},{"location":"%E8%BF%90%E7%BB%B4/vscode%E5%85%A8%E6%A0%88%E9%85%8D%E7%BD%AE/#java","title":"Java\u73af\u5883\u914d\u7f6e","text":"<p>\u4f9d\u8d56\u6269\u5c55\uff1a Code Runner Extension Pack for Java Hex Editor Springboot</p> <p>\u7ec8\u7aef\u4e71\u7801\uff0c\u641c\u7d22\u4e0b\u9762\u914d\u7f6e\u4fee\u6539\uff0c<code>Command Prompt</code>\u540d\u5b57\u4e0d\u8981\u4fee\u6539\uff0c\u6709\u4e9b\u914d\u7f6e\u4f1a\u6839\u636e\u8fd9\u4e2a\u547d\u4ee4\u8c03\u7528\u3002 <pre><code>    \"terminal.integrated.defaultProfile.windows\": \"PowerShell\",\n    \"terminal.integrated.profiles.windows\": {\n\n        \"PowerShell\": {\n            \"source\": \"PowerShell\",\n            \"icon\": \"terminal-powershell\"\n        },\n        \"Command Prompt\": {\n            \"path\": [\n                \"${env:windir}\\\\Sysnative\\\\cmd.exe\",\n                \"${env:windir}\\\\System32\\\\cmd.exe\"\n            ],\n            \"args\": [],\n            \"icon\": \"terminal-cmd\"\n        },\n        \"Conda\": {\n            \"source\": \"PowerShell\",\n            \"args\": [\n                \"-ExecutionPolicy\",\n                \"ByPass\",\n                \"-NoExit\",\n                \"-Command\",\n                \"&amp; 'C:\\\\ProgramData\\\\miniconda3\\\\shell\\\\condabin\\\\conda-hook.ps1'; conda activate 'C:\\\\ProgramData\\\\miniconda3' \"\n            ],\n            \"title\": \"Anaconda Prompt\"\n        }\n    },\n    \"[jsonc]\": {\n        \"editor.defaultFormatter\": \"vscode.json-language-features\"\n    }\n</code></pre> maven\u4e71\u7801\uff0c\u6253\u5f00 <code>.vscode/settings.json</code> \u4fee\u6539\uff1a <pre><code>{\n  \"java.compile.nullAnalysis.mode\": \"automatic\",\n  \"maven.view\": \"hierarchical\",\n  \"java.configuration.updateBuildConfiguration\": \"interactive\",\n  \"maven.terminal.customEnv\": [\n    {\n      \"environmentVariable\": \"MAVEN_OPTS\",\n      \"value\": \"-Xmx512m -Xms256m -Dfile.encoding=UTF-8\"\n    }\n  ]\n}\n</code></pre> mavne\u6253\u5305\u8df3\u8fc7test\uff1a <pre><code>&lt;properties&gt;\n    &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n&lt;/properties&gt;\n</code></pre> \u6216 <pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre></p> <p>\u8fd0\u884c\u65f6\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2 Run Code --&gt; Debugger Java</p>"},{"location":"%E8%BF%90%E7%BB%B4/vscode%E5%85%A8%E6%A0%88%E9%85%8D%E7%BD%AE/#c","title":"C\u73af\u5883\u914d\u7f6e","text":"<pre><code>// .vscode/c_cpp_properties.json\n{\n  \"configurations\": [\n    {\n      \"name\": \"WSL\",\n      \"includePath\": [\n        \"${workspaceFolder}/**\",\n        \"${workspaceFolder}/ngx_http_cennavi_common/**\",\n        \"${workspaceFolder}/ngx_http_encrypt_module/**\",\n        \"${workspaceFolder}/ngx_http_license_module/**\",\n        \"${workspaceFolder}/ngx_http_mapurl_module/**\",\n        \"${workspaceFolder}/ngx_http_mapzrcurl_module/**\",\n      ],\n      \"defines\": [\"NGX_HTTP_MODULE\"],\n      \"compilerPath\": \"/usr/bin/gcc\",\n      \"cStandard\": \"c11\",\n      \"intelliSenseMode\": \"linux-gcc-x64\"\n    }\n  ],\n  \"version\": 4\n}\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/","title":"\u7cfb\u7edf\u521d\u59cb\u5316","text":""},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_1","title":"\u670d\u52a1\u5668\u73af\u5883\u68c0\u67e5","text":"<pre><code># \u7cfb\u7edf\u7248\u672c\u68c0\u67e5\nlsb_release -a  \ncat /etc/os-release  \nuname -a  \n\n# cpu\u68c0\u67e5\n\n# \u78c1\u76d8\u68c0\u67e5\nlsblk  \ndf -h  \nfdisk -l\n\n# \u5185\u5b58\u68c0\u67e5\nfree -lh\n\n# step1 \u68c0\u67e5\u673a\u5668ip\u548cmac\u5730\u5740\nip a\nifconfig\n\n# \u68c0\u67e5\u673a\u5668\u7801\u4fe1\u606f\ndmidecode -s system-serial-number\n\n# \u5173\u95ed\u9632\u706b\u5899\nsystemctl stop firewalld.service\nsystemctl disable firewalld.service\n\n# ubuntu\nsystemctl stop ufw\nsystemctl disable ufw\n\n# \u5173\u95edselinux\nsed -i '/SELINUX/s/enforcing/disabled/' /etc/selinux/config\nsetenforce 0\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_2","title":"\u78c1\u76d8\u683c\u5f0f\u5316","text":"<pre><code># step1 \u8fdb\u5165\u78c1\u76d8\u5206\u533a\nfdisk /dev/sdb\n\n# step2 \u7f16\u8f91\u5206\u533a\uff0c\u4f9d\u6b21\u8f93\u5165 n p enter enter w \u547d\u4ee4\n\n# step3 \u683c\u5f0f\u5316\nmkdfs.xfs /dev/sdb1\nstrace -tt -o mkfs_trace.log mkfs.xfs -f -K /dev/vdb1\n# step4 \u6302\u8f7d\nmkdir -pv /data\nmount /dev/sdb1 /data  \necho \"/dev/sdb1 /data xfs defaults 0 0 \" &gt;&gt; /etc/fstab\n\n# step5 \u68c0\u67e5\u6302\u8f7d\nmount a\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_3","title":"\u7f51\u7edc\u73af\u5883\u914d\u7f6e","text":"<pre><code># \u5b9a\u4e49\u7cfb\u7edf\u7684hostname\uff08\u4e3b\u673a\u540d\uff09\nvim /etc/hostname\n#---begin---\nmaster.svc.cn\n#---end-----\n\n# \u7f16\u8f91host\nvim /etc/hosts\n#---begin---\n171.17.171.21 master master.svc.cn\n#---end-----\n\n# \u4e34\u65f6\u914d\u7f6eDNS\nvim /etc/resolv.conf\n#---begin---\nnameserver 8.8.8.8\nnameserver 1.1.1.1\n#---end-----\n\n# \u3010centos7\u3011\u914d\u7f6eip\u5730\u5740\uff0c\u4e00\u822c\u53ea\u9700\u8981\u4fee\u6539\u4e0b\u9762\u51e0\u9879\nvim /etc/sysconfig/network-scripts/ifcfg-ens33\n#---begin---\nBOOTPROTO=\"static\"\nONBOOT=\"yes\"\nIPADDR=\"171.17.171.21\"\nPREFIX=\"24\"\nGATEWAY=\"171.17.171.2\"\nNETMASK=\"255.255.255.0\"\nDNS1=\"8.8.8.8\"\nDNS2=\"114.114.114.114\"\nIPV6_PRIVACY=\"no\"\n#---end-----\n\nsystemctl restart network\n</code></pre> <p>\u7f51\u7edc\u914d\u7f6e\u8bf4\u660e <code>/etc/hostname</code> \u5b9a\u4e49\u7cfb\u7edf\u7684\u201c\u4e3b\u673a\u540d\u201d\uff08hostname\uff09\uff0c\u4ec5\u5305\u542b\u4e00\u4e2a\u4e3b\u673a\u540d\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 <code>master.svc.cn</code>\uff0c\u7cfb\u7edf\u542f\u52a8\u65f6\u8bfb\u53d6\u6b64\u6587\u4ef6\uff0c\u5c06\u8be5\u540d\u79f0\u8bbe\u4e3a\u672c\u673a\u4e3b\u673a\u540d\uff0c\u4f9b <code>hostname</code> \u547d\u4ee4\u3001\u7cfb\u7edf\u63d0\u793a\u7b26\u3001\u65e5\u5fd7\u7b49\u4f7f\u7528\u3002 <code>/etc/hosts</code> \u63d0\u4f9b\u672c\u5730\u7684\u4e3b\u673a\u540d\u5230IP\u7684\u6620\u5c04\uff0c\u4f7f\u7cfb\u7edf\u5728\u4e0d\u4f9d\u8d56 DNS \u7684\u60c5\u51b5\u4e0b\u89e3\u6790\u4e3b\u673a\u540d\u3002\u4f8b\u5982 <code>171.17.171.21 master master.svc.cn</code> \u672c\u673a\u901a\u8fc7\u540d\u5b57\uff08\u5982 <code>master</code> \u6216 <code>master.svc.cn</code>\uff09\u8bbf\u95ee <code>171.17.171.21</code>\u3002 <code>/etc/resolv.conf</code>\u4e2d\u7684\u914d\u7f6e\u4e0d\u4f1a\u6301\u4e45\u4fdd\u5b58\uff0c\u518d\u91cd\u542f\u540e\u4f1a\u88ab\u7f51\u7edc\u914d\u7f6e\u8986\u76d6\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_4","title":"\u514d\u5bc6\u767b\u5f55\u914d\u7f6e","text":"<pre><code># step1\nmkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh\n# step2 \u6267\u884c\u4e0b\u9762\u547d\u4ee4\uff0c\u8fde\u7eed\u6572\u5165\u4e09\u4e2a\u56de\u8f66\uff0c\u4f1a\u5728/root/.ssh\u751f\u6210id_rsa\u548cid_rsa.pub\n# \u4e5f\u53ef\u4ee5\u624b\u52a8\u4e0a\u4f20\u5df2\u6709\u7684id_rsa\u548cid_rsa.pub\nssh-keygen -t rsa -N '' -f ~/.ssh/id_rsa\nchmod 600 ~/.ssh/id_rsa\nchmod 644 ~/.ssh/id_rsa.pub\n\n# step3 \u6267\u884cssh-copy-id\nssh-copy-id node1\n# or\nssh-copy-id -i ~/.ssh/id_rsa.pub node1\n# or\ncat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys\nchmod 600 ~/.ssh/authorized_keys\n\n# step4 \u590d\u5236\u5230\u5176\u4ed6\u4e3b\u673a\nssh-copy-id -i ~/.ssh/id_rsa.pub node2\nssh-copy-id -i ~/.ssh/id_rsa.pub node3\n# or\nscp /root/.ssh/authorized_keys node2:/root/.ssh\nscp /root/.ssh/authorized_keys node2:/root/.ssh\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e00\u952e\u914d\u7f6e\u811a\u672c\uff0c\u9700\u8981\u5b89\u88c5 <code>yum install sshpass</code> ![[\u8fd0\u7ef4/\u811a\u672c/ssh_key_push.sh]]</p> <p><code>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code> \u4e0e <code>ssh-copy-id</code> \u7684\u533a\u522b ssh-copy-id \u53ea\u5c06\u5f53\u524d\u7528\u6237\u7684 <code>id_rsa.pub</code> \u8ffd\u52a0\u5230\u8fdc\u7a0b\u7684 <code>authorized_keys</code>\uff0c\u81ea\u52a8\u68c0\u67e5\u516c\u94a5\u662f\u5426\u5b58\u5728\uff0c\u4e0d\u4f1a\u91cd\u590d\u6dfb\u52a0\uff0c\u4f1a\u521b\u5efa <code>.ssh</code> \u76ee\u5f55\u3001\u8bbe\u7f6e <code>600</code> \u548c <code>700</code> \u6743\u9650\uff0c\u786e\u4fdd\u80fd\u767b\u5f55\uff0c\u66f4\u5b89\u5168\u3002</p>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#yum","title":"\u672c\u5730yum\u914d\u7f6e","text":"<pre><code># step1 \u6302\u8f7d\nmount /root/CentOS-7-x86_64-DVD-2009.iso /mnt\n\n# step2 \u5907\u4efd\nmkdir /etc/yum.repos.d/bak  \nmv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak  \n\n# step3 \u7f16\u8f91\u65b0\u7684repo\nvim /etc/yum.repos.d/CentOS-Base.repo\n\n#---begin---\n[base]  \nname=CentOS-7.6  \nbaseurl=file:///mnt  \ngpgcheck=0  \nenable=1  \n#---end-----\n\n# step4 \u66f4\u65b0\nyum clean all  \nyum makecache  \n</code></pre> <p>\u200b  ### \u65f6\u949f\u540c\u6b65</p> <p>\u65b9\u5f0f\u4e00\uff1a\u901a\u8fc7\u7f51\u7edc\u65b9\u5f0f\u540c\u6b65 <pre><code># step1 \u542f\u52a8\u5b9a\u65f6\u4efb\u52a1\ncrontab\u00a0-e\n# step2 \u968f\u540e\u5728\u8f93\u5165\u754c\u9762\u952e\u5165\u4ee5\u4e0b\u5185\u5bb9\n*/1 * * * * /usr/sbin/ntpdate -u ntp4.aliyun.com;\n</code></pre> \u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7\u67d0\u4e00\u53f0\u673a\u5668\u8fdb\u884c\u540c\u6b65 <pre><code># step1 \n# master\u8282\u70b9\u5b89\u88c5\u670d\u52a1\nyum -y install ntp\nsystemctl start  ntpd\n# \u5173\u95edchrony,Chrony\u662fNTP\u7684\u53e6\u4e00\u79cd\u5b9e\u73b0\nsystemctl disable chrony\n# \u8bbe\u7f6entp\u670d\u52a1\u4e3a\u5f00\u673a\u542f\u52a8\nsystemctl enable ntpd\n\n# step2 \n# \u7f16\u8f91master\u8282\u70b9\u7684 /etc/ntp.conf\nvim /etc/ntp.conf\n# \u5728\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9(\u6388\u6743192.168.88.0-192.168.88.255\u7f51\u6bb5\u4e0a\u7684\u6240\u6709\u673a\u5668\u53ef\u4ee5\u4ece\u8fd9\u53f0\u673a\u5668\u4e0a\u67e5\u8be2\u548c\u540c\u6b65\u65f6\u95f4)\nrestrict 171.17.171.0 mask 255.255.255.0 nomodify notrap\n# \u6ce8\u91ca\u6389\u4e0b\u9762\u56db\u884c\u5185\u5bb9:(\u96c6\u7fa4\u5728\u5c40\u57df\u7f51\u4e2d\uff0c\u4e0d\u4f7f\u7528\u5176\u4ed6\u4e92\u8054\u7f51\u4e0a\u7684\u65f6\u95f4)\n#server  0.centos.pool.ntp.org\n#server  1.centos.pool.ntp.org\n#server  2.centos.pool.ntp.org\n#server  3.centos.pool.ntp.org\n# \u53bb\u6389\u4ee5\u4e0b\u5185\u5bb9\u7684\u6ce8\u91ca\uff0c\u5982\u679c\u6ca1\u6709\u8fd9\u4e24\u884c\u6ce8\u91ca\uff0c\u90a3\u5c31\u81ea\u5df1\u6dfb\u52a0\u4e0a(\u5f53\u8be5\u8282\u70b9\u4e22\u5931\u7f51\u7edc\u8fde\u63a5\uff0c\u4f9d\u7136\u53ef\u4ee5\u91c7\u7528\u672c\u5730\u65f6\u95f4\u4f5c\u4e3a\u65f6\u95f4\u670d\u52a1\u5668\u4e3a\u96c6\u7fa4\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u63d0\u4f9b\u65f6\u95f4\u540c\u6b65)\nserver   127.127.1.0\nfudge    127.127.1.0  stratum  10\n\n# step3\n# \u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff0c\u4fdd\u8bc1BIOS\u4e0e\u7cfb\u7edf\u65f6\u95f4\u540c\u6b65\nvim /etc/sysconfig/ntpd\n#---begin---\nOPTIONS=\"-g\"\nSYNC_HWLOCK=yes\n#---end-----\n\n# \u91cd\u542f\u670d\u52a1\nsystemctl restart  ntpd  \n\n\n# step4\n# \u5176\u4ed6\u673a\u5668\u4e0emater\u8282\u70b9\u65f6\u95f4\u540c\u6b65\ncrontab -e\n# \u968f\u540e\u8f93\u5165\n*/1 * * * * /usr/sbin/ntpdate 171.17.171.17\n</code></pre></p> <p>![[assets/etc_ntp_conf.png]]</p>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_5","title":"\u73af\u5883\u53d8\u91cf\u914d\u7f6e","text":"<p><pre><code># step1 \u53ef\u5728/etc/environment\u4e2d\u914d\u7f6e\u5168\u5c40\u73af\u5883\u53d8\u91cf\nvim /etc/environment\n\n# step2 \u7acb\u5373\u751f\u6548\necho \"source /etc/environment\" &gt;&gt; /etc/profile  \nsource /etc/profile\n\n# step3 \u5f53\u524d\u7528\u6237\u914d\u7f6e\nvim ~/.bashrc\n</code></pre> \u200b  </p>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#jdk","title":"jdk\u73af\u5883\u914d\u7f6e","text":"<pre><code>tar -zxvf jdk-8u251-linux-x64.tar.gz -C /opt\n\nvim /etc/environment\n#---begin---\n#set java environment \nJAVA_HOME=/opt/jdk1.8.0_251\nCLASSPATH=.:$JAVA_HOME/lib\nPATH=$JAVA_HOME/bin:$PATH\nexport JAVA_HOME CLASSPATH PATH\n#---end-----\n\nsource /etc/profile\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_6","title":"\u540e\u53f0\u6587\u4ef6\u4f20\u8f93","text":"<p><pre><code>setsid rsync -av --progress *.tar.gz root@10.200.101.28:/data/minedata/nginx_data &gt;&gt; rsync.log 2&gt;&amp;1\n</code></pre> \u5b9a\u65f6\u4efb\u52a1 <pre><code>crontab -e\n*/5 * * * * rsync -avzP --delete user@remote:/source/dir/ /local/target/dir/ &gt; /dev/null 2&gt;&amp;1\n</code></pre></p> <p>alias dps='docker ps --format \"table {{.ID}}\\t{{.Names}}\\t{{.CreatedAt}}\\t{{.Status}}\\t{{.Ports}}\"' alias dlg=\"f() { docker logs -f --tail=\\\"$1\\\" \\\"$2\\\"; }; f\"</p>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_7","title":"\u5faa\u73af\u5bfc\u5165\u955c\u50cf","text":"<p>for i in <code>ls *.tar</code> ; do docker load -i $i ; done</p>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#_8","title":"\u78c1\u76d8\u547d\u4ee4","text":"<pre><code># io\u7edf\u8ba1\niostat -x 1 1000\n# \u5b9e\u65f6\u67e5\u770b \u78c1\u76d8 I/O \u6d3b\u52a8\u7684\u8fdb\u7a0b\niotop -oPa\n# \u89c2\u5bdf\u662f\u5426\u6709 I/O \u9965\u997f\u95ee\u9898\npidstat -d 1 5\n# \u5b9e\u65f6\u770b\u5168\u5c40\u8d1f\u8f7d\u3001\u78c1\u76d8\u3001\u7f51\u7edc\u3001\u5185\u5b58\u74f6\u9888\ndstat -cdngym\n\n# \u4f18\u5316\n# \u63d0\u9ad8 dirty ratio\uff08\u63a7\u5236\u5199\u7f13\u51b2\uff09\nsysctl -w vm.dirty_background_ratio=20\nsysctl -w vm.dirty_ratio=80\n\n# \u5199\u5165 sysctl.conf\n# \u810f\u9875\u8d85\u8fc7\u8be5\u767e\u5206\u6bd4\u540e\u5f3a\u5236\u5199\u76d8\uff08\u9ed8\u8ba4 20\uff0c\u53ef\u63d0\u5347\uff09\nvm.dirty_ratio=60\n# \u540e\u53f0\u5199\u76d8\u89e6\u53d1\u9608\u503c\uff08\u9ed8\u8ba4 10\uff09\nvm.dirty_background_ratio=10\n# \u95f4\u9694\u591a\u4e45\u5c06\u810f\u9875\u5199\u5165\u78c1\u76d8\uff08\u9ed8\u8ba4 500\uff09\nvm.dirty_writeback_centisecs = 300\n# \u810f\u9875\u6700\u591a\u4fdd\u7559\u591a\u4e45\nvm.dirty_expire_centisecs=3000\n\n# \u7981\u7528\u6216\u8f6c\u79fb journald \u65e5\u5fd7\uff08\u907f\u514d\u5199\u5165\u653e\u5927\uff09\nmkdir /tmp/journal\nmount -t tmpfs -o size=100m tmpfs /tmp/journal\nmkdir -p /tmp/journal/logs\nsystemctl stop systemd-journald\nrsync -a /var/log/journal/* /tmp/journal/logs/\nmount --bind /tmp/journal/logs /var/log/journal\nsystemctl start systemd-journald\n\n# ext4\u4f18\u5316\n\n# postgres\u4f18\u5316\n# \u7981\u7528\u6bcf\u6b21\u4e8b\u52a1\u90fd fsync\uff08\u4e0d\u63a8\u8350\u7528\u4e8e\u751f\u4ea7\uff0c\u4f46\u53ef\u6d4b\u8bd5\uff09\nsynchronous_commit = off\n# \u63a7\u5236 WAL \u5237\u76d8\u9891\u7387\uff08\u9ed8\u8ba4 200ms\uff09\nwal_writer_delay = 1000ms\n\n# \u63a7\u5236 WAL segment \u81ea\u52a8\u5237\u76d8\u884c\u4e3a\ncommit_delay = 10000          # \u5ef6\u8fdf 10ms \u805a\u5408\u5199\u5165\ncommit_siblings = 5           # \u81f3\u5c11 5 \u4e2a\u6d3b\u8dc3\u8fde\u63a5\u624d\u5ef6\u8fdf\n\n# \u63a7\u5236 checkpoint \u5468\u671f\u548c\u538b\u529b\ncheckpoint_timeout = 10min\ncheckpoint_completion_target = 0.9\n</code></pre>"},{"location":"%E8%BF%90%E7%BB%B4/%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/#docker","title":"docker\u73af\u5883\u914d\u7f6e","text":""},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/mrcpv2%E8%AF%AD%E9%9F%B3%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE/","title":"Mrcpv2\u8bed\u97f3\u63a7\u5236\u534f\u8bae","text":"<p>MRCP\u5728\u7f8e\u56e2\u8bed\u97f3\u4ea4\u4e92\u4e2d\u7684\u5b9e\u8df5\u548c\u5e94\u7528</p> <p>MRCP\u534f\u8bae\u5b66\u4e60\u7b14\u8bb0</p> <p>rfc4463</p> <p>MRCP\u53ef\u4ee5\u79f0\u4e3a\u534f\u8bae\u4e0a\u7684\u534f\u8bae\u3002</p> <p>MRCP\uff08Media Resource Control Protocol, MRCP\uff09\u662f\u4e00\u79cd\u901a\u8baf\u534f\u8bae\uff0c\u4e2d\u6587\u5b9a\u4e49\u662f\uff1a\u5a92\u4f53\u8d44\u6e90\u63a7\u5236\u534f\u8bae\uff0c\u7528\u4e8e\u8bed\u97f3\u670d\u52a1\u5668\u5411\u5ba2\u6237\u7aef\u63d0\u4f9b\u5404\u79cd\u8bed\u97f3\u670d\u52a1\uff08\u5982\u8bed\u97f3\u8bc6\u522b\u548c\u8bed\u97f3\u5408\u6210\uff09\u3002\u8be5\u534f\u8bae\u5b9a\u4e49\u4e86\u63a7\u5236\u5a92\u4f53\u5904\u7406\u8d44\u6e90\u6240\u5fc5\u9700\u7684\u8bf7\u6c42\uff08Request\uff09\u3001\u5e94\u7b54\uff08Response\uff09\u548c\u4e8b\u4ef6\uff08Event\uff09\u7b49\u6d88\u606f\uff0c\u5b83\u9700\u8981\u501f\u52a9 RTP\uff08Real-Time Transport Protocol, \u5b9e\u65f6\u4f20\u8f93\u534f\u8bae\uff09\u521b\u5efa\u4e00\u4e2a\u5a92\u4f53\u4f1a\u8bdd\u3001\u501f\u52a9 SIP\uff08Session Initiation Protocol, \u4f1a\u8bdd\u521d\u59cb\u5316\u534f\u8bae\uff09 \u548c SDP\uff08Session Description Protocol, \u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\uff09 \u521b\u5efa\u4e00\u4e2a\u63a7\u5236\u4f1a\u8bdd\u6765\u5b9e\u73b0\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u4e4b\u95f4\u7684\u63a7\u5236\u3002</p> <p>SDP\uff08Session Description Protocol, \u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\uff09 \u5b83\u5b9a\u4e49\u4e86\u4f1a\u8bdd\u7684\u5a92\u4f53\u7c7b\u578b\u3001\u4f20\u8f93\u534f\u8bae\u3001\u5a92\u4f53\u683c\u5f0f\u7b49\u76f8\u5173\u4fe1\u606f\u3002SDP \u901a\u5e38\u88ab\u5305\u542b\u5728 SIP\u6d88\u606f\u4e2d\uff0c\u4ee5\u4fbf\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u4e86\u89e3\u5bf9\u65b9\u7684\u5a92\u4f53\u80fd\u529b\u548c\u4f1a\u8bdd\u63cf\u8ff0\u4fe1\u606f\u3002 SDP \u63cf\u8ff0\u4fe1\u606f\u5305\u62ec\u591a\u4e2a\u90e8\u5206\uff0c\u6bcf\u4e2a\u90e8\u5206\u90fd\u4ee5\u4e00\u4e2a\u5b57\u6bcd\u4f5c\u4e3a\u6807\u8bc6\u7b26\uff0c\u7528\u4e8e\u6807\u8bc6\u8be5\u90e8\u5206\u63cf\u8ff0\u7684\u5185\u5bb9\u3002\u4e0b\u9762\u662f SDP \u63cf\u8ff0\u4fe1\u606f\u7684\u4e3b\u8981\u90e8\u5206\uff1a - v\uff1a\u534f\u8bae\u7248\u672c\u53f7\uff0c\u901a\u5e38\u4e3a 0\u3002 - o\uff1a\u4f1a\u8bdd\u62e5\u6709\u8005\u53ca\u4f1a\u8bdd\u6807\u8bc6\u7b26\uff0c\u5305\u62ec\u7528\u6237\u540d\u3001\u4f1a\u8bdd ID\u3001\u4f1a\u8bdd\u7248\u672c\u53f7\u548c\u7f51\u7edc\u7c7b\u578b\u7b49\u4fe1\u606f\u3002 - s\uff1a\u4f1a\u8bdd\u540d\u79f0\uff0c\u901a\u5e38\u4e3a\u4f1a\u8bae\u4e3b\u9898\u6216\u6807\u9898\u3002 - t\uff1a\u4f1a\u8bdd\u65f6\u95f4\uff0c\u5305\u62ec\u5f00\u59cb\u65f6\u95f4\u548c\u7ed3\u675f\u65f6\u95f4\u3002 - c\uff1a\u8fde\u63a5\u4fe1\u606f\uff0c\u5305\u62ec\u8fde\u63a5\u7f51\u7edc\u7c7b\u578b\u3001\u5730\u5740\u7c7b\u578b\u548c\u5730\u5740\u7b49\u4fe1\u606f\u3002 - m\uff1a\u5a92\u4f53\u7c7b\u578b\uff0c\u5305\u62ec\u5a92\u4f53\u540d\u79f0\u3001\u4f20\u8f93\u534f\u8bae\u3001\u4f20\u8f93\u7aef\u53e3\u548c\u5a92\u4f53\u683c\u5f0f\u7b49\u4fe1\u606f\u3002 - a\uff1a\u4f1a\u8bdd\u5c5e\u6027\uff0c\u5305\u62ec\u5a92\u4f53\u5c5e\u6027\u548c\u4f1a\u8bdd\u7ea7\u522b\u5c5e\u6027\u7b49\u4fe1\u606f\uff0c\u5982\u97f3\u9891\u7f16\u7801\u5668\u3001\u4f20\u8f93\u901f\u7387\u3001\u5e26\u5bbd\u7b49\u3002 \u901a\u4fe1\u53cc\u65b9\u5728\u6536\u5230\u5bf9\u65b9\u7684 SDP \u63cf\u8ff0\u4fe1\u606f\u540e\uff0c\u53ef\u4ee5\u6839\u636e\u5176\u4e2d\u5305\u542b\u7684\u5a92\u4f53\u80fd\u529b\u548c\u4f1a\u8bdd\u63cf\u8ff0\u4fe1\u606f\u534f\u5546\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u4ee5\u4fbf\u5728 VoIP \u901a\u8bdd\u4e2d\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\u3002 <pre><code>v=0\no=- 123456789 123456789 IN IP4 192.168.0.1\ns=VoIP Session\nt=0 0\na=group:BUNDLE audio video\nc=IN IP4 192.168.0.1\nm=audio 5004 RTP/AVP 0 8 18 101\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:18 G729/8000\na=rtpmap:101 telephone-event/8000\na=fmtp:101 0-16\na=sendonly\n</code></pre></p> <p>SIP\uff08Session Initiation Protocol, \u4f1a\u8bdd\u521d\u59cb\u5316\u534f\u8bae\uff09 \u7528\u4e8e\u5efa\u7acb\u3001\u4fee\u6539\u548c\u7ec8\u6b62 VoIP \u4f1a\u8bdd\u3002 - SIP\uff08Session Initiation Protocol\uff09\u548c SDP\uff08Session Description Protocol\uff09\u662f\u4e24\u79cd\u5728 VoIP\uff08Voice over Internet Protocol\uff09\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u534f\u8bae\uff0c\u5b83\u4eec\u901a\u5e38\u4e00\u8d77\u4f7f\u7528\u3002 - SIP \u662f\u7528\u4e8e\u5efa\u7acb\u3001\u4fee\u6539\u548c\u7ec8\u6b62\u5b9e\u65f6\u4f1a\u8bdd\u7684\u534f\u8bae\uff0c\u5b83\u8d1f\u8d23\u5efa\u7acb VoIP \u901a\u8bdd\u7684\u547c\u53eb\u63a7\u5236\u90e8\u5206\u3002\u800c SDP \u5219\u662f\u4e00\u79cd\u7528\u4e8e\u63cf\u8ff0 VoIP \u4f1a\u8bdd\u7684\u534f\u8bae\uff0c\u5b83\u8d1f\u8d23\u4f1a\u8bdd\u63cf\u8ff0\u548c\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\u3002SDP \u53ef\u4ee5\u5728 SIP \u6d88\u606f\u4e2d\u4f7f\u7528\uff0c\u4ee5\u4fbf\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u4e86\u89e3\u5bf9\u65b9\u7684\u5a92\u4f53\u80fd\u529b\u548c\u4f1a\u8bdd\u63cf\u8ff0\u4fe1\u606f\u3002 - \u5177\u4f53\u6765\u8bf4\uff0cSIP \u8d1f\u8d23\u5904\u7406\u547c\u53eb\u63a7\u5236\uff0c\u5305\u62ec\u5efa\u7acb\u3001\u4fee\u6539\u548c\u7ec8\u6b62 VoIP \u901a\u8bdd\u3002SIP \u4f1a\u53d1\u9001\u547c\u53eb\u8bf7\u6c42\uff08INVITE\uff09\u5230\u5bf9\u65b9\uff0c\u5bf9\u65b9\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u53ef\u4ee5\u9009\u62e9\u63a5\u53d7\u6216\u62d2\u7edd\u547c\u53eb\u3002\u5982\u679c\u547c\u53eb\u88ab\u63a5\u53d7\uff0cSIP \u5c06\u4f1a\u534f\u5546\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u5e76\u5c06 SDP \u63cf\u8ff0\u4fe1\u606f\u5305\u542b\u5728 SIP \u6d88\u606f\u4e2d\u53d1\u9001\u7ed9\u5bf9\u65b9\u3002 - \u800c SDP \u5219\u8d1f\u8d23\u63cf\u8ff0\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u5305\u62ec\u97f3\u9891\u7f16\u89e3\u7801\u5668\u3001\u4f20\u8f93\u534f\u8bae\uff08\u5982 RTP\uff09\u3001\u4f20\u8f93\u683c\u5f0f\uff08\u5982 MPEG-4\uff09\u7b49\u4fe1\u606f\u3002SDP \u63cf\u8ff0\u4fe1\u606f\u5305\u542b\u5728 SIP \u6d88\u606f\u4e2d\uff0c\u4ee5\u4fbf\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u4e86\u89e3\u5bf9\u65b9\u7684\u5a92\u4f53\u80fd\u529b\u548c\u4f1a\u8bdd\u63cf\u8ff0\u4fe1\u606f\u3002\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u6839\u636e SDP \u63cf\u8ff0\u4fe1\u606f\u534f\u5546\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u4ee5\u4fbf\u5728 VoIP \u901a\u8bdd\u4e2d\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\u3002 - \u56e0\u6b64\uff0cSIP \u548c SDP \u662f\u4e24\u79cd\u4e0d\u540c\u7684\u534f\u8bae\uff0cSIP \u8d1f\u8d23\u547c\u53eb\u63a7\u5236\uff0c\u800c SDP \u5219\u8d1f\u8d23\u63cf\u8ff0\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\u3002\u4e24\u8005\u7ed3\u5408\u4f7f\u7528\uff0c\u53ef\u4ee5\u5b9e\u73b0 VoIP \u901a\u8bdd\u7684\u5efa\u7acb\u3001\u4fee\u6539\u548c\u7ec8\u6b62\u3002</p> <ul> <li>SIP\uff08Session Initiation Protocol\uff09\u672c\u8eab\u5e76\u4e0d\u4f20\u8f93\u97f3\u9891\u6d41\u6570\u636e\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u4f1a\u8bdd\u63a7\u5236\u534f\u8bae\uff0c\u7528\u4e8e\u5efa\u7acb\u3001\u4fee\u6539\u548c\u7ec8\u6b62 VoIP \u4f1a\u8bdd\u3002\u97f3\u9891\u6d41\u6570\u636e\u7684\u4f20\u8f93\u901a\u5e38\u4f7f\u7528 RTP\uff08Real-time Transport Protocol\uff09\u534f\u8bae\u3002</li> <li>\u5728 SIP \u5efa\u7acb\u4f1a\u8bdd\u65f6\uff0c\u901a\u4fe1\u53cc\u65b9\u4f1a\u901a\u8fc7 SDP\uff08Session Description Protocol\uff09\u4ea4\u6362\u5a92\u4f53\u80fd\u529b\u548c\u4f1a\u8bdd\u63cf\u8ff0\u4fe1\u606f\uff0c\u5176\u4e2d\u5305\u62ec\u97f3\u9891\u7f16\u7801\u5668\u548c\u4f20\u8f93\u534f\u8bae\u7b49\u76f8\u5173\u4fe1\u606f\u3002\u901a\u4fe1\u53cc\u65b9\u6839\u636e SDP \u63cf\u8ff0\u4fe1\u606f\u534f\u5546\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u5e76\u4f7f\u7528 RTP \u534f\u8bae\u4f20\u8f93\u97f3\u9891\u6d41\u6570\u636e\u3002</li> <li>RTP \u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u65f6\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\u6570\u636e\u7684\u534f\u8bae\uff0c\u5b83\u53ef\u4ee5\u5728 IP \u7f51\u7edc\u4e0a\u4f20\u8f93\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u5e8f\u5217\u53f7\u3001\u65f6\u95f4\u6233\u548c\u6821\u9a8c\u548c\u7b49\u673a\u5236\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u5b9e\u65f6\u6027\u548c\u51c6\u786e\u6027\u3002RTP \u534f\u8bae\u901a\u5e38\u4e0e RTCP\uff08Real-time Transport Control Protocol\uff09\u534f\u8bae\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u4e8e\u4f20\u8f93\u63a7\u5236\u4fe1\u606f\u548c\u7edf\u8ba1\u4fe1\u606f\u3002</li> <li>\u5728 SIP \u4f1a\u8bdd\u4e2d\uff0c\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u4f7f\u7528 RTP \u534f\u8bae\u4f20\u8f93\u97f3\u9891\u6d41\u6570\u636e\uff0c\u5176\u4e2d\u4e00\u65b9\u4f5c\u4e3a\u53d1\u9001\u65b9\uff08sendonly\uff09\uff0c\u53e6\u4e00\u65b9\u4f5c\u4e3a\u63a5\u6536\u65b9\uff08recvonly\uff09\uff0c\u6216\u8005\u4e24\u65b9\u90fd\u540c\u65f6\u53d1\u9001\u548c\u63a5\u6536\u97f3\u9891\u6d41\u6570\u636e\uff08sendrecv\uff09\u3002\u901a\u8fc7 RTP \u534f\u8bae\u4f20\u8f93\u97f3\u9891\u6d41\u6570\u636e\uff0c\u53ef\u4ee5\u5b9e\u73b0\u9ad8\u8d28\u91cf\u7684 VoIP \u901a\u8bdd\u3002</li> <li>\u603b\u4e4b\uff0cSIP \u5e76\u4e0d\u4f20\u8f93\u97f3\u9891\u6d41\u6570\u636e\uff0c\u5b83\u53ea\u662f\u7528\u4e8e\u63a7\u5236 VoIP \u4f1a\u8bdd\u7684\u534f\u8bae\u3002\u97f3\u9891\u6d41\u6570\u636e\u901a\u5e38\u4f7f\u7528 RTP \u534f\u8bae\u4f20\u8f93\uff0c\u5728 SIP \u4f1a\u8bdd\u4e2d\uff0c\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u6839\u636e SDP \u63cf\u8ff0\u4fe1\u606f\u534f\u5546\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u5e76\u4f7f\u7528 RTP \u534f\u8bae\u4f20\u8f93\u97f3\u9891\u6d41\u6570\u636e\uff0c\u4ee5\u5b9e\u73b0\u9ad8\u8d28\u91cf\u7684 VoIP \u901a\u8bdd\u3002 <pre><code>INVITE sip:alice@example.com SIP/2.0\nVia: SIP/2.0/TCP 192.0.2.1:5060;branch=z9hG4bK123456789\nFrom: Bob &lt;sip:bob@example.com&gt;;tag=12345\nTo: Alice &lt;sip:alice@example.com&gt;\nCall-ID: 987654321@192.0.2.1\nCSeq: 1 INVITE\nContact: sip:bob@192.0.2.1\nMax-Forwards: 70\nContent-Type: application/sdp\nContent-Length: 297\n\n\nv=0\no=- 123456789 123456789 IN IP4 192.0.2.1\ns=VoIP Session\nt=0 0\na=group:BUNDLE audio video\nc=IN IP4 192.0.2.1\nm=audio 5004 RTP/AVP 0 8 18 101\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:18 G729/8000\na=rtpmap:101 telephone-event/8000\na=fmtp:101 0-16\na=sendonly\n</code></pre></li> </ul>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/mrcpv2%E8%AF%AD%E9%9F%B3%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE/#rtp","title":"RTP\u534f\u8bae","text":"<ul> <li> <p>RTP\uff08Real-time Transport Protocol\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u65f6\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\u6570\u636e\u7684\u534f\u8bae\u3002\u5b83\u662f\u4e00\u79cd\u57fa\u4e8e UDP \u7684\u534f\u8bae\uff0c\u7528\u4e8e\u5728 IP \u7f51\u7edc\u4e0a\u4f20\u8f93\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u5e8f\u5217\u53f7\u3001\u65f6\u95f4\u6233\u548c\u6821\u9a8c\u548c\u7b49\u673a\u5236\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u5b9e\u65f6\u6027\u548c\u51c6\u786e\u6027\u3002</p> <p>RTP \u534f\u8bae\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1a  </p> </li> <li> <p>RTP \u6570\u636e\u5305\uff1a\u5305\u542b\u97f3\u9891\u6216\u89c6\u9891\u6570\u636e\u7684\u5b9e\u9645\u5185\u5bb9\uff0c\u4ee5\u53ca\u7528\u4e8e\u63cf\u8ff0\u6570\u636e\u7684\u5934\u90e8\u4fe1\u606f\u3002  </p> </li> <li> <p>RTCP \u5305\uff1a\u7528\u4e8e\u4f20\u8f93\u63a7\u5236\u4fe1\u606f\u548c\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u53d1\u9001\u8005\u62a5\u544a\u3001\u63a5\u6536\u8005\u62a5\u544a\u548c\u6e90\u63cf\u8ff0\u7b26\u7b49\u4fe1\u606f\u3002  </p> <p>RTP \u5934\u90e8\u4fe1\u606f\u5305\u62ec\u4ee5\u4e0b\u5b57\u6bb5\uff1a</p> </li> <li> <p>\u7248\u672c\u53f7\uff08V\uff09\uff1aRTP \u7248\u672c\u53f7\uff0c\u901a\u5e38\u4e3a 2\u3002</p> </li> <li>\u586b\u5145\u4f4d\uff08P\uff09\uff1a\u6307\u793a\u6570\u636e\u5305\u662f\u5426\u5305\u542b\u4e00\u4e9b\u989d\u5916\u7684\u586b\u5145\u5b57\u8282\uff0c\u4ee5\u4fbf\u4f7f\u6570\u636e\u5305\u7684\u957f\u5ea6\u8fbe\u5230\u67d0\u4e2a\u7279\u5b9a\u503c\u3002</li> <li>\u6269\u5c55\u4f4d\uff08X\uff09\uff1a\u6307\u793a RTP \u5934\u90e8\u662f\u5426\u5305\u542b\u6269\u5c55\u6807\u8bb0\uff0c\u7528\u4e8e\u4f20\u8f93\u4e00\u4e9b\u989d\u5916\u7684\u4fe1\u606f\uff0c\u5982\u5e27\u7684\u65f6\u95f4\u6233\u3002</li> <li>CSRC \u8ba1\u6570\uff08CC\uff09\uff1a\u6307\u793a CSRC\uff08Contributing Source\uff09\u6807\u8bc6\u7b26\u7684\u6570\u91cf\uff0c\u7528\u4e8e\u6307\u793a\u8d21\u732e\u6570\u636e\u7684\u6e90\u3002</li> <li>\u6807\u8bb0\u4f4d\uff08M\uff09\uff1a\u6307\u793a\u6570\u636e\u5305\u662f\u5426\u5305\u542b\u4e00\u4e2a\u91cd\u8981\u7684\u5e27\uff0c\u5982\u5173\u952e\u5e27\u3002</li> <li>\u8d1f\u8f7d\u7c7b\u578b\uff08PT\uff09\uff1a\u6307\u793a\u8d1f\u8f7d\u7684\u7c7b\u578b\uff0c\u7528\u4e8e\u8868\u793a\u97f3\u9891\u6216\u89c6\u9891\u7f16\u7801\u5668\u7684\u7c7b\u578b\u3002</li> <li>\u5e8f\u5217\u53f7\uff08SN\uff09\uff1a\u7528\u4e8e\u6307\u793a\u6570\u636e\u5305\u5728\u6570\u636e\u6d41\u4e2d\u7684\u987a\u5e8f\u3002</li> <li>\u65f6\u95f4\u6233\uff08TS\uff09\uff1a\u7528\u4e8e\u6307\u793a\u6570\u636e\u5305\u7684\u65f6\u95f4\u6233\uff0c\u4ee5\u4fbf\u63a5\u6536\u65b9\u53ef\u4ee5\u6062\u590d\u6570\u636e\u6d41\u65f6\u6b63\u786e\u5730\u64ad\u653e\u97f3\u9891\u6216\u89c6\u9891\u3002</li> <li> <p>\u540c\u6b65\u6e90\uff08SSRC\uff09\u6807\u8bc6\u7b26\uff1a\u6307\u793a\u6570\u636e\u5305\u7684\u6e90\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u6570\u636e\u6d41\u4e2d\u7684\u6bcf\u4e2a\u53c2\u4e0e\u8005\u3002</p> <p>RTP \u534f\u8bae\u901a\u5e38\u4e0e RTCP\uff08Real-time Transport Control Protocol\uff09\u534f\u8bae\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u4e8e\u4f20\u8f93\u63a7\u5236\u4fe1\u606f\u548c\u7edf\u8ba1\u4fe1\u606f\u3002RTCP \u534f\u8bae\u7684\u76ee\u7684\u662f\u63d0\u4f9b\u7edf\u8ba1\u4fe1\u606f\u548c\u63a7\u5236\u529f\u80fd\uff0c\u4ee5\u4fbf\u63a5\u6536\u65b9\u53ef\u4ee5\u5bf9\u6570\u636e\u6d41\u8fdb\u884c\u8c03\u6574\uff0c\u4ee5\u9002\u5e94\u7f51\u7edc\u72b6\u51b5\u7684\u53d8\u5316\u3002  </p> <p>\u603b\u4e4b\uff0cRTP \u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u65f6\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\u6570\u636e\u7684\u534f\u8bae\uff0c\u5b83\u63d0\u4f9b\u5e8f\u5217\u53f7\u3001\u65f6\u95f4\u6233\u548c\u6821\u9a8c\u548c\u7b49\u673a\u5236\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u5b9e\u65f6\u6027\u548c\u51c6\u786e\u6027\u3002RTP \u534f\u8bae\u901a\u5e38\u4e0e RTCP \u534f\u8bae\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u4e8e\u4f20\u8f93\u63a7\u5236\u4fe1\u606f\u548c\u7edf\u8ba1\u4fe1\u606f\u3002  </p> </li> <li> <p>\u4e0b\u9762\u662f\u4e00\u4e2a RTP \u6570\u636e\u5305\u7684\u5b8c\u6574\u4f8b\u5b50\uff0c\u7528\u4e8e\u4f20\u8f93\u97f3\u9891\u6570\u636e\uff1a <pre><code>80 60 00 01 6f 85 00 06 72 1a 7b 8d 00 00 00 00\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n</code></pre></p> </li> <li> <p>\u8be5 RTP \u6570\u636e\u5305\u5305\u542b\u4ee5\u4e0b\u90e8\u5206\uff1a</p> </li> <li> <ol> <li>\u7248\u672c\u53f7\u548c\u6807\u5fd7\u4f4d\uff1a80 \u8868\u793a RTP \u7248\u672c\u53f7\u4e3a 2\uff0c\u6807\u5fd7\u4f4d\u4e3a 10000000\u3002\u6b64\u6807\u5fd7\u4f4d\u4e2d\u7684\u6700\u9ad8\u4f4d\u7528\u4e8e\u6307\u793a\u662f\u5426\u9700\u8981\u586b\u5145\u5b57\u8282\uff0c\u6b64\u5904\u4e3a 0\uff0c\u8868\u793a\u6ca1\u6709\u586b\u5145\u5b57\u8282\u3002</li> </ol> </li> <li> <ol> <li>\u8d1f\u8f7d\u7c7b\u578b\uff08PT\uff09\uff1a60 \u8868\u793a\u8d1f\u8f7d\u7c7b\u578b\u4e3a 96\uff0c\u7528\u4e8e\u6307\u793a\u97f3\u9891\u7f16\u7801\u5668\u7684\u7c7b\u578b\u3002</li> </ol> </li> <li> <ol> <li>\u5e8f\u5217\u53f7\uff08SN\uff09\uff1a00 01 \u8868\u793a\u5e8f\u5217\u53f7\u4e3a 1\uff0c\u7528\u4e8e\u6307\u793a\u6570\u636e\u5305\u5728\u6570\u636e\u6d41\u4e2d\u7684\u987a\u5e8f\u3002</li> </ol> </li> <li> <ol> <li>\u65f6\u95f4\u6233\uff08TS\uff09\uff1a6f 85 00 06 \u8868\u793a\u65f6\u95f4\u6233\u4e3a 1879048198\uff0c\u7528\u4e8e\u6307\u793a\u6570\u636e\u5305\u7684\u65f6\u95f4\u6233\uff0c\u4ee5\u4fbf\u63a5\u6536\u65b9\u53ef\u4ee5\u6062\u590d\u6570\u636e\u6d41\u65f6\u6b63\u786e\u5730\u64ad\u653e\u97f3\u9891\u6216\u89c6\u9891\u3002</li> </ol> </li> <li> <ol> <li>\u540c\u6b65\u6e90\uff08SSRC\uff09\u6807\u8bc6\u7b26\uff1a72 1a 7b 8d \u8868\u793a SSRC \u6807\u8bc6\u7b26\u4e3a 1919256597\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u6570\u636e\u6d41\u4e2d\u7684\u6bcf\u4e2a\u53c2\u4e0e\u8005\u3002</li> </ol> </li> <li> <ol> <li>INVITE \u8bf7\u6c42\u884c\uff1a\u8868\u793a\u8be5\u6d88\u606f\u662f\u4e00\u4e2a\u547c\u53eb\u8bf7\u6c42\uff0c\u76ee\u6807\u5730\u5740\u4e3a alice@example.com\u3002</li> </ol> </li> <li> <ol> <li>Via \u5934\u90e8\uff1a\u8868\u793a\u6d88\u606f\u7ecf\u8fc7\u7684\u8def\u7531\uff0c\u5305\u62ec\u534f\u8bae\u3001\u5730\u5740\u548c\u5206\u652f ID \u7b49\u4fe1\u606f\u3002</li> </ol> </li> <li> <ol> <li>From \u5934\u90e8\uff1a\u8868\u793a\u53d1\u8d77\u547c\u53eb\u7684\u7528\u6237\uff0c\u5305\u62ec\u7528\u6237\u540d\u3001\u5730\u5740\u548c\u6807\u7b7e\u7b49\u4fe1\u606f\u3002</li> </ol> </li> <li> <ol> <li>To \u5934\u90e8\uff1a\u8868\u793a\u88ab\u547c\u53eb\u7684\u7528\u6237\uff0c\u5305\u62ec\u7528\u6237\u540d\u548c\u5730\u5740\u7b49\u4fe1\u606f\u3002</li> </ol> </li> <li> <ol> <li>Call-ID \u5934\u90e8\uff1a\u8868\u793a\u8be5\u547c\u53eb\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u5305\u62ec\u968f\u673a\u6570\u548c\u5730\u5740\u7b49\u4fe1\u606f\u3002</li> </ol> </li> <li> <ol> <li>CSeq \u5934\u90e8\uff1a\u8868\u793a\u6d88\u606f\u5e8f\u5217\u53f7\u548c\u8bf7\u6c42\u7c7b\u578b\uff0c\u672c\u4f8b\u4e2d\u4e3a\u7b2c\u4e00\u6b21 INVITE \u8bf7\u6c42\u3002</li> </ol> </li> <li> <ol> <li>Contact \u5934\u90e8\uff1a\u8868\u793a\u53d1\u8d77\u547c\u53eb\u7684\u7528\u6237\u7684\u8054\u7cfb\u5730\u5740\u3002</li> </ol> </li> <li> <ol> <li>Max-Forwards \u5934\u90e8\uff1a\u8868\u793a\u6d88\u606f\u8f6c\u53d1\u7684\u6700\u5927\u8df3\u6570\u3002</li> </ol> </li> <li> <ol> <li>Content-Type \u5934\u90e8\uff1a\u8868\u793a\u6d88\u606f\u6b63\u6587\u7684\u7c7b\u578b\uff0c\u672c\u4f8b\u4e2d\u4e3a SDP \u63cf\u8ff0\u4fe1\u606f\u3002</li> </ol> </li> <li> <ol> <li>Content-Length \u5934\u90e8\uff1a\u8868\u793a\u6d88\u606f\u6b63\u6587\u7684\u957f\u5ea6\u3002</li> </ol> </li> <li> <ol> <li>SDP \u63cf\u8ff0\u4fe1\u606f\uff1a\u5305\u62ec\u4f1a\u8bdd\u7684\u5a92\u4f53\u7c7b\u578b\u3001\u4f20\u8f93\u534f\u8bae\u3001\u5a92\u4f53\u683c\u5f0f\u7b49\u76f8\u5173\u4fe1\u606f\u3002</li> </ol> </li> <li>\u8be5 SIP \u6d88\u606f\u7684\u4f5c\u7528\u662f\u5411 Alice \u53d1\u8d77\u4e00\u4e2a VoIP \u901a\u8bdd\u8bf7\u6c42\uff0c\u5176\u4e2d\u5305\u542b\u4e86 SDP \u63cf\u8ff0\u4fe1\u606f\uff0c\u4ee5\u4fbf\u901a\u4fe1\u53cc\u65b9\u53ef\u4ee5\u4e86\u89e3\u5bf9\u65b9\u7684\u5a92\u4f53\u80fd\u529b\u548c\u4f1a\u8bdd\u63cf\u8ff0\u4fe1\u606f\u3002Alice \u6536\u5230\u8be5\u8bf7\u6c42\u540e\u53ef\u4ee5\u9009\u62e9\u63a5\u53d7\u6216\u62d2\u7edd\u8be5\u547c\u53eb\uff0c\u5e76\u6839\u636e SDP \u63cf\u8ff0\u4fe1\u606f\u534f\u5546\u5a92\u4f53\u6d41\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u4ee5\u4fbf\u5728 VoIP \u901a\u8bdd\u4e2d\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\u3002  </li> </ul> <p>\u5728\u7b80\u5355\u7684\u5e94\u7528\u73af\u5883\u4e2d\uff0c\u4e00\u6b21\u4ece\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u8c03\u7528\u4e00\u79cd\u5355\u4e2a\u7684\u5a92\u4f53\u8d44\u6e90\u7c7b\u578b\uff0c\u5a92\u4f53\u4f1a\u8bdd\u4e5f\u662f\u5355\u5411\u7684\u3002\u5982\u679c\u540c\u4e00\u65f6\u95f4\u4f7f\u7528\u591a\u4e2a\u5a92\u4f53\u8d44\u6e90\u7c7b\u578b\u65f6\u5219\u521b\u5efa\u53cc\u5411\u7684\u5a92\u4f53\u8d44\u6e90\u6d41\u3002MRCP\u548c\u6211\u4eec\u5e38\u89c1\u7684IP\u901a\u4fe1\u4e0d\u540c\uff0c\u5b83\u53ef\u4ee5\u5bf9\u5a92\u4f53\u4f1a\u8bdd\u5305\u542b\u4e00\u4e2a\u63a7\u5236\u4f1a\u8bdd\u8fde\u63a5\u3002\u6b64\u63a7\u5236\u4f1a\u8bdd\u662f\u901a\u8fc7\u5728SDP\u63cf\u8ff0\u4e2d\u6dfb\u52a0\u66f4\u591a\u6d88\u606f\uff0c\u4f8b\u5982\u5305\u62ecMRCP\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u5a92\u4f53\u8d44\u6e90\u7c7b\u578b\u7b49\u3002\u8fd9\u91cc\uff0c\u5a92\u4f53\u4f1a\u8bdd\u7684\u4f20\u8f93\u662f\u4f7f\u7528RTP\u901a\u8fc7UDP\u7aef\u53e3\u6765\u4f20\u8f93\uff1b\u800c\u63a7\u5236\u4f1a\u8bdd\u5219\u662f\u901a\u8fc7MRCP\u901a\u8fc7TCP\u6216\u8005SCTP\u4f20\u8f93\u3002\u4ee5\u4e0b\u793a\u4f8b\u662f\u4e00\u4e2aMRCP\u5ba2\u6237\u7aef\u8fde\u63a5\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7684\u6d41\u7a0b\u3002\u8fd9\u91cc\uff0c\u4e0d\u8981\u6c42\u652f\u6301180 \u54cd\u5e94\uff0c\u4f46\u662f\u521b\u5efa\u4e86\u4e00\u4e2a\u5a92\u4f53\u4f1a\u8bdd\u548c\u4e00\u4e2a\u63a7\u5236\u4f1a\u8bdd\u3002</p> <p></p> <p>\u4ee5\u4e0a\u6d41\u7a0b\u4e2d\uff0c\u521b\u5efa\u4e86\u4f1a\u8bdd\u4ee5\u540e\uff0cMRCP\u9700\u8981\u63a7\u5236\u5a92\u4f53\u8d44\u6e90\u3002MRCP\u534f\u8bae\u6d88\u606f\u683c\u5f0f\u7c7b\u4f3c\u4e8eHTTP\u7684\u6d88\u606f\u683c\u5f0f\uff0c\u4e5f\u662f\u4e00\u79cd\u5916\u90e8\u683c\u5f0f\u3002MRCP\u6d88\u606f\u683c\u5f0f\u5305\u62ec\u4e09\u79cd\u683c\u5f0f\uff1a\u8bf7\u6c42\u6d88\u606f\uff0c\u54cd\u5e94\u6d88\u606f\u548c\u4e8b\u4ef6\u3002\u8bf7\u6c42\u6d88\u606f\u662f\u4eceMRCP\u5ba2\u6237\u7aef\u53d1\u5230\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7aef\uff0c\u800c\u54cd\u5e94\u6d88\u606f\u5219\u662f\u7531\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7aef\uff0c\u6839\u636e\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u8fd4\u56de\u7684\u54cd\u5e94\u6d88\u606f\uff0c\u5e76\u4e14\u54cd\u5e94\u6d88\u606f\u4e2d\u5305\u542b\u4e86\u4e00\u4e2a\u4e09\u4f4d\u6570\u7684\u72b6\u6001\u7801\u3002\u53e6\u5916\uff0c\u54cd\u5e94\u6d88\u606f\u4e2d\u5305\u542b\u4e86\u5f53\u524d\u7684\u8bf7\u6c42\u72b6\u6001\uff0c\u5f53\u524d\u8bf7\u6c42\u72b6\u6001\u5305\u62ec\uff1aPENDING\uff0cIN-PROGRESS \u6216 COMPLETE\u7684\u5176\u4e2d\u4e00\u79cd\u3002</p> <p>PENDING \u72b6\u6001\u8868\u793a\u5f53\u524d\u7684\u8bf7\u6c42\u5728\u7b49\u5f85\u5904\u7406\u7684\u961f\u5217\u4e2d\uff0c\u7b49\u5f85\u8fdb\u884c\u5904\u7406\uff0c\u5904\u7406\u65b9\u5f0f\u4e3a\u5148\u8fdb\u5148\u51fa\u7684\u65b9\u5f0f\u3002IN-PROGRESS\u72b6\u6001\u8868\u793a\u5f53\u524d\u8bf7\u6c42\u6b63\u5728\u88ab\u5904\u7406\u3002COMPLETE\u54cd\u5e94\u5219\u8868\u793a\u5b8c\u6210\u8bf7\u6c42\u5904\u7406\uff0c\u5728\u5f53\u524d\u7684\u8fde\u63a5\u4e2d\u65e0\u66f4\u591a\u6d88\u606f\u3002\u5728\u4ee5\u4e0a\u4e09\u79cd\u72b6\u6001\u4e2d\uff0cPENDING\u548cIN-PROGRESS\u90fd\u8868\u793a\u8bf7\u6c42\u672a\u5b8c\u6210\u5904\u7406\uff0c\u9700\u8981\u66f4\u591a\u7684\u4e8b\u4ef6\u6d88\u606f\u3002\u4e8b\u4ef6\u6d88\u606f\u5141\u8bb8\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u5bf9\u67d0\u4e9b\u72b6\u6001\u7684\u6539\u53d8\u6216\u5bf9\u5ba2\u6237\u7aef\u53d1\u751f\u4e00\u4e2a\u4e8b\u4ef6\u6765\u8fdb\u884c\u901a\u4fe1\u3002\u4e8b\u4ef6\u6d88\u606f\u4e2d\u5305\u62ec\u4e8b\u4ef6\u540d\u79f0\u548c\u8bf7\u6c42\u72b6\u6001\u3002</p> <p>\u7b2c\u4e00\u4e2a\u5173\u4e8eMRCP\u534f\u8bae\u7684\u6d41\u7a0b\u793a\u4f8b\u662f\u8bed\u97f3\u5408\u6210\uff08speech synthesiser\uff09\u7684\u793a\u4f8b\u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u5047\u8bbe\u5a92\u4f53\u4f1a\u8bdd\u548c\u63a7\u5236\u4f1a\u8bdd\u901a\u8fc7SIP\u54cd\u5e94\u5df2\u7ecf\u521b\u5efa\u6210\u529f\uff0c\u8bed\u97f3\u6d41\u6b63\u5728\u4f20\u8f93\u3002MRCP\u5ba2\u6237\u7aef\u5bf9\u670d\u52a1\u5668\u7aef\u53d1\u8d77\u4e86\u4e00\u4e2aSPEAK\u7684\u8bf7\u6c42\uff0c\u5f00\u59cb\u5904\u7406\u6b64\u8bf7\u6c42\uff0c\u5e76\u4e14\u8981\u6c42\u901a\u8fc7\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u5408\u6210\u4e00\u4e2a\u6587\u672c\u3002</p> <p></p> <p>\u5177\u4f53\u7684\u8bf7\u6c42\u6d88\u606f\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p>MRCP/2.0 380 SPEAK 14321</p> <p>Channel-Identifier: 43b9ae17@speechsynth</p> <p>Content-Type: application/ssml+xml</p> <p>Content-Length: 253</p> <p>Good afternoon\u00a0Anne.</p> <p>You have one voice message, two e-mails, and three faxes</p> <p>waiting for you.</p> <p>\u63a5\u4e0b\u6765\u7684\u54cd\u5e94\u7684\u6d88\u606f\u683c\u5f0f\u4e3a\uff1a</p> <p>MRCP/2.0 119 14321 200 IN-PROGRESS</p> <p>// ID\u662f14321\uff0c200 \u8868\u793a\u6210\u529f\uff0c\u6b63\u5728\u5904\u7406\u4e2d\uff0c119\u6d88\u606f\u957f\u5ea6\u662f119 bytes\u3002</p> <p>Channel-Identifier: 43b9ae17@speechsynth</p> <p>Speech-Marker: timestamp=857206027059 // \u8fd9\u91cc\u662fNTP\u65f6\u95f4</p> <p>MRCP\u7684\u72b6\u6001\u7801\u5305\u62ec\uff1a200\u2013299\uff08Success\uff09\uff0c 400\u2013499\uff08 Client error\uff09\u548c500\u2013599\uff08Server error\uff09\u3002\u8fd9\u4e9b\u72b6\u6001\u7801\u548cSIP\u7684\u72b6\u6001\u7801\u57fa\u672c\u7c7b\u4f3c\u3002</p> <p>\u8bfb\u8005\u5df2\u7ecf\u770b\u5230\uff0c\u6211\u4eec\u7684\u8bf7\u6c42\u7684\u72b6\u6001\u662fIN-PROGRESS \uff0c\u8868\u793a\u6b63\u5728\u88ab\u5a92\u4f53\u8d44\u6e90\u5904\u7406\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u5a92\u4f53\u6570\u636e\u53ef\u80fd\u5df2\u7ecf\u8fd4\u56de\u5230MRCP\u7ec8\u7aef\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7aef\u751f\u6210\u4e00\u4e2aSPEAK-COMPLETE\u4e8b\u4ef6\uff0c\u8868\u793a\u6b64\u8bf7\u6c42\u5df2\u7ecf\u5b8c\u6210\uff0c\u5bf9\u4e8e\u6b64\u8bf7\u6c42\u6765\u8bf4\uff0c\u6ca1\u6709\u66f4\u591a\u7684\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\u3002</p> <p>MRCP/2.0 157 SPEAK-COMPLETE 14321 COMPLETE</p> <p>Channel-Identifier: 43b9ae17@speechsynth</p> <p>Speech-Marker: timestamp=861500994355</p> <p>Completion-Cause: 000 normal // \u8868\u793aSPEAK\u8bf7\u6c42\u7684\u6b63\u5e38\u5904\u7406\u7ed3\u675f\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u51e0\u4e2a\u6b65\u9aa4\u548c\u54cd\u5e94\u6d88\u606f\u5904\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u6e05\u6670\u5730\u770b\u5230\u8bed\u97f3\u5408\u6210\u7684\u57fa\u672c\u5904\u7406\u6d41\u7a0b\u548c\u5176\u76f8\u5e94\u7684\u8fd4\u56de\u7801\u3002</p> <p>\u4ee5\u4e0a\u662f\u4e00\u4e2a\u8bed\u97f3\u5408\u6210\u7684MRCP\u5904\u7406\u6d41\u7a0b\uff0c\u6211\u4eec\u518d\u4ecb\u7ecd\u4e00\u4e2a\u8bed\u97f3\u8bc6\u522b\u7684MRCP\u5904\u7406\u6d41\u7a0b\u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u4ecd\u7136\u5047\u8bbe\u901a\u8fc7SIP\u534f\u8bae\uff0c\u4f1a\u8bdd\u63a7\u5236\u548c\u5a92\u4f53\u63a7\u5236\u5df2\u7ecf\u521b\u5efa\u6210\u529f\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2aMRCP\u5ba2\u6237\u7aef\u53d1\u51fa\u7684\u8bf7\u6c42\u6d88\u606f\uff0c\u5b83\u8981\u6c42\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u5bf9\u8bed\u97f3\u8fdb\u884c\u8bc6\u522b\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u8bf7\u6c42\u662fRECOGNIZE \u8bf7\u6c42\uff0c\u800c\u4e0d\u662f\u521a\u624d\u6211\u4eec\u5728\u8bed\u97f3\u5408\u6210\u65f6\u7684SPEAK\u8bf7\u6c42\u3002</p> <p></p> <p>RECOGNIZE\u8bf7\u6c42\u6d88\u606f\u5982\u4e0b\uff1a</p> <p>MRCP/2.0 461 RECOGNIZE 32121</p> <p>Channel-Identifier: 23af1e13@speechrecog</p> <p>Content-ID:</p> <p>Content-Type: application/srgs+xml</p> <p>Content-Length: 289</p> <p>xml:lang=\"en-GB\"&gt;</p> <p>yes</p> <p>no</p> <p>\u4ee5\u4e0a\u6d88\u606f\u683c\u5f0f\u548cSPEAK\u8bf7\u6c42\u683c\u5f0f\u975e\u5e38\u76f8\u4f3c\uff0c\u8fd9\u91cc\u7684\u901a\u9053\u662f\u4f7f\u7528\u7684\u662fspeechrecog \u5a92\u4f53\u8d44\u6e90\u3002\u8fd9\u91cc\u9700\u8981\u8bc6\u522b\u7684\u662f\u4e24\u4e2a\u9009\u9879\uff08Yes/No\uff09\u3002\u540c\u6837\uff0c\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fd4\u56de\u4e00\u4e2a\u6b63\u5728\u5904\u7406\u7684\u72b6\u6001\u6d88\u606f\uff1a</p> <p>MRCP/2.0 79 32121 200 IN-PROGRESS</p> <p>Channel-Identifier: 23af1e13@speechrecog</p> <p>\u6b64\u6d88\u606f\u8868\u793a\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u6b63\u5728\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u4e5f\u53ef\u80fd\u8bed\u97f3\u8bc6\u522b\u5f15\u64ce\u6b63\u5728\u91c7\u96c6\u5a92\u4f53\u6d41\u6570\u636e\uff0c\u9a6c\u4e0a\u751f\u6210\u4e00\u4e2a\u8bc6\u522b\u7684\u8bed\u97f3\u3002\u5f53\u8bed\u97f3\u8bc6\u522b\u5f15\u64ce\u68c0\u6d4b\u5230\u8bed\u97f3\u65f6\uff0c\u5b83\u4f1a\u751f\u6210\u4e00\u4e2aSTART-OF-INPUT\u6d88\u606f\u3002</p> <p>MRCP/2.0 111 START-OF-INPUT 32121 IN-PROGRESS</p> <p>Channel-Identifier: 23af1e13@speechrecog</p> <p>Input-Type: speech</p> <p>\u8fd9\u91cc\uff0c\u5ba2\u6237\u7aef\u4e5f\u53ef\u4ee5\u7ed3\u675f\u6216\u6253\u65ad\u6b64\u8bed\u97f3\u5408\u6210\u3002\u5982\u679c\u6b63\u5e38\u5904\u7406\u7684\u8bdd\uff0c\u8bed\u97f3\u8bc6\u522b\u5f15\u64ce\u4f1a\u751f\u6210\u4e00\u4e2aRECOGNITION-COMPLETE\u4e8b\u4ef6\u6d88\u606f\uff0c\u5e76\u4e14\u5728\u6d88\u606f\u4e2d\u5305\u542b\u751f\u6210\u7684\u7ed3\u679c\u3002</p> <p>MRCP/2.0 472 RECOGNITION-COMPLETE 32121 COMPLETE</p> <p>Channel-Identifier: 23af1e13@speechrecog</p> <p>Completion-Cause: 000 success</p> <p>// 000 \u8868\u793a\u6210\u529f\uff0c001 \u8868\u793a\u65e0\u5339\u914d\u7ed3\u679c\uff0c002 \u8868\u793a\u8f93\u5165\u8d85\u65f6\u3002</p> <p>Content-Type: application/nlsml+xml</p> <p>// W3C\u53d1\u5e03\u7684NLSML</p> <p>Content-Length: 289</p> <p>xmlns=\"http://www.ietf.org/xml/ns/mrcpv2\"&gt;</p> <p>yes</p> <p>yes</p> <p>\u5728MRCP V2\u7248\u672c\uff08RFC6787\uff09\u4e2d\u652f\u6301\u4e86\u4e24\u79cd\u7ed3\u679c\u8f93\u51fa\u683c\u5f0f\uff0c\u4e00\u79cd\u662fnlsml\uff08\u901a\u5e38\u8bf4\u7684\u81ea\u7136\u8bed\u8a00\u8bed\u4e49\u7684\u6807\u8bb0\u8bed\u8a00\u6216\u8005\u63cf\u8ff0\u8bed\u8a00\uff09\u662f\u7531W3C\u53d1\u5e03\u3002\u53e6\u5916\u4e00\u79cd\u662fEMMA\u6807\u8bb0\u8bed\u8a00\u3002EMMA\u5168\u79f0\u4e3aExtensible Multimodal Annotation Markup Language \uff08EMMA\uff09\u3002\u5982\u679c\u8bfb\u8005\u6709\u5174\u8da3\u7684\u8bdd\uff0c\u53ef\u4ee5\u67e5\u9605\u76f8\u5173\u7684\u53c2\u8003\u6587\u6863\u505a\u8fdb\u4e00\u6b65\u7684\u7814\u7a76\u3002</p> <p>6\u3001\u901a\u8fc7\u4ee5\u4e0a\u5b8c\u6574\u7684\u4ecb\u7ecd\uff0c\u53ef\u80fd\u8bfb\u8005\u5bf9MRCP\u6709\u4e86\u4e00\u4e2a\u57fa\u672c\u7684\u6982\u5ff5\u3002\u4f46\u662f\uff0c\u5728\u90e8\u7f72MRCP\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u7aef\u65f6\uff0c\u6211\u4eec\u8fd9\u91cc\u6ca1\u6709\u771f\u6b63\u5173\u6ce8\u5176\u5b89\u5168\u6027\u7684\u95ee\u9898\u3002\u5728\u4eca\u5929\u7684IP\u901a\u4fe1\u4e2d\uff0c\u5176\u5b9e\u7528\u6237\u5df2\u7ecf\u5bf9SIP\u534f\u8bae\u7684\u4f7f\u7528\u573a\u666f\u505a\u4e86\u5f88\u591a\u7684\u8bbe\u7f6e\uff0c\u4f46\u662f\u5982\u679c\u6ca1\u6709\u5bf9MRCP\u534f\u8bae\u6216\u4f7f\u7528\u6d41\u7a0b\u505a\u5b89\u5168\u8bbe\u7f6e\u7684\u8bdd\uff0c\u7279\u522b\u662fMRCP\u534f\u8bae\u4e2d\u4f7f\u7528\u4e86\u591a\u4e2aXML\u6587\u4ef6\u548c\u5176\u8bed\u6cd5\u8bed\u4e49\u89e3\u6790\u6587\u4ef6\uff0c\u5e76\u4e14\u5927\u90e8\u5206\u7684MRCP\u5ba2\u6237\u7aef\u90fd\u662f\u901a\u8fc7\u516c\u7f51\u8bbf\u95ee\u7684\u7b2c\u4e09\u65b9\u7684\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u5b89\u5168\u63aa\u65bd\u7684\u8bdd\uff0c\u540c\u6837\u53ef\u80fd\u7ed9\u5ba2\u6237\u5e26\u6765\u5f88\u591a\u7684\u5b89\u5168\u9690\u60a3\u3002\u8fd9\u4e9b\u5b89\u5168\u95ee\u9898\u5305\u62ec\uff1a</p> <ul> <li>\u4f1a\u8bdd\u521b\u5efa\u65f6\u7684\u5b89\u5168\u95ee\u9898\u3002\u5728SIP\u521b\u5efa\u8fc7\u7a0b\u4e2d\u7528\u6237\u4e00\u5b9a\u8981\u6ce8\u610f\u5b89\u5168\u7684\u8bbe\u7f6e\u3002</li> <li>\u63a7\u5236\u4f1a\u8bdd\u7684\u4fdd\u62a4\u3002\u5982\u679c\u5bf9\u5176\u63a7\u5236\u4f1a\u8bdd\u6ca1\u6709\u505a\u4fdd\u62a4\u63aa\u65bd\u7684\u8bdd\uff0c\u53ef\u80fd\u5bfc\u81f4\u7b2c\u4e09\u65b9\u5bf9\u5176\u8fdb\u884c\u5b89\u5168\u653b\u51fb\u3002</li> <li>\u5a92\u4f53\u4f1a\u8bdd\u7684\u4fdd\u62a4\u3002\u5982\u679c\u6211\u4eec\u7684\u5a92\u4f53\u6570\u636e\u6ca1\u6709\u7ecf\u8fc7\u5b89\u5168\u8bbe\u7f6e\uff0c\u53ef\u80fd\u5bfc\u81f4\u5a92\u4f53\u6570\u636e\u88ab\u76d1\u542c\u6216\u76d7\u53d6\u3002</li> <li>\u975e\u76f4\u63a5\u7684\u5185\u5bb9\u8bbf\u95ee\u3002\u56e0\u4e3a\uff0c\u6211\u4eec\u7684\u5408\u6210\u5185\u5bb9\u6216\u8bed\u97f3\u53ef\u80fd\u7ecf\u8fc7\u516c\u7f51\u8fdb\u884c\u5904\u7406\uff0c\u5982\u679c\u7b2c\u4e09\u65b9\u975e\u6cd5\u8bbf\u95ee\u6211\u4eec\u7684\u6700\u7ec8\u6570\u636e\uff0c\u53ef\u80fd\u5bfc\u81f4\u5b89\u5168\u95ee\u9898\u3002</li> <li>\u4fdd\u62a4\u5df2\u5b58\u50a8\u7684\u5a92\u4f53\u6587\u4ef6\u3002\u5ba2\u6237\u7aef\u548c\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7aef\u9700\u8981\u9488\u5bf9\u5a92\u4f53\u6587\u4ef6\u5b58\u50a8\u8bbe\u7f6e\u4e00\u5b9a\u7684\u5b89\u5168\u63aa\u65bd\u548c\u5b89\u5168\u6743\u9650\u6765\u4fdd\u8bc1\u5a92\u4f53\u6587\u4ef6\u4e0d\u88ab\u76d7\u53d6\u6216\u975e\u6cd5\u8bbf\u95ee\u3002</li> </ul> <p>7\u3001\u5728\u672c\u5206\u4eab\u4e2d\uff0c\u6211\u4eec\u9996\u5148\u4ecb\u7ecd\u4e86\u5173\u4e8eMRCP\u7684\u57fa\u672c\u7ed3\u6784\uff0c\u7136\u540e\u5206\u522b\u4ecb\u7ecd\u4e86MRCP\u54cd\u5e94\u4e2d\u591a\u4e2a\u6838\u5fc3\u6a21\u5757\u548c\u63a5\u53e3\uff0cMRCP\u5ba2\u6237\u7aef\u7684\u5904\u7406\u65b9\u5f0f\u548c\u5a92\u4f53\u8d44\u6e90\u670d\u52a1\u5668\u7aef\u7684\u5904\u7406\u65b9\u5f0f\u3002\u6211\u4eec\u4e5f\u4ecb\u7ecd\u4e86MRCP\u76ee\u524d\u652f\u6301\u7684\u5a92\u4f53\u8d44\u6e90\u7c7b\u578b\uff0c\u4ee5\u53ca\u7ed3\u5408\u8bed\u97f3\u670d\u52a1\uff0c\u5a92\u4f53\u7f51\u5173\u5b8c\u6210\u5bf9\u8bed\u97f3\u8bc6\u522b\u5e94\u7528\u573a\u666f\u3002\u4e3a\u4e86\u8fdb\u4e00\u6b65\u5e2e\u52a9\u8bfb\u8005\u4e86\u89e3\u8fdb\u4e00\u6b65\u4e86\u89e3MRCP\u7684\u5904\u7406\u6d41\u7a0b\uff0c\u6211\u4eec\u5bf9\u5a92\u4f53\u63a7\u5236\u548c\u51e0\u79cd\u8bf7\u6c42\u54cd\u5e94\u72b6\u6001\u548c\u5904\u7406\u6d41\u7a0b\u505a\u4e86\u4ecb\u7ecd\uff0c\u5e76\u4e14\u7ed3\u5408\u8bed\u97f3\u5408\u6210\u548c\u8bed\u97f3\u8bc6\u522b\u7684\u6d88\u606f\u5904\u7406\u6d41\u7a0b\uff0c\u7ed9\u8bfb\u8005\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8f83\u5b8c\u6574\u7684\u6d88\u606f\u89e3\u6790\u3002\u6700\u540e\uff0c\u4e3a\u4e86\u90e8\u7f72\u5b89\u5168\u7a33\u5b9a\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u7b14\u8005\u4e5f\u4ece\u51e0\u4e2a\u4e0d\u540c\u7684\u65b9\u9762\u8ba8\u8bba\u4e86\u5173\u4e8eMRCP\u7684\u5b89\u5168\u6027\u95ee\u9898\uff0c\u5e0c\u671b\u8bfb\u8005\u80fd\u591f\u5f15\u8d77\u91cd\u89c6\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%9B%BE%E5%83%8F%E4%B8%AD%E7%9A%84%E4%BD%8D%E6%B7%B1/","title":"\uff08\u5b58\u50a8\uff09\u56fe\u50cf\u4e2d\u7684\u4f4d\u6df1","text":"<p>\u4f4d\u6df1\uff08Bit Depth\uff09\u662f\u4e00\u79cd\u75280\u548c1\u4e5f\u5c31\u662f\u4f4d\u6765\u8868\u793a\u4e00\u5f20\u56fe\u7247\u6709\u591a\u5c11\u79cd\u989c\u8272\u7684\u91cf\u5316\u65b9\u5f0f\u3002\u901a\u4fd7\u7684\u8bf4\u4e5f\u5c31\u662f\u8868\u793a\u4e00\u5f20\u7167\u7247\u8fdb\u884c\u8272\u5f69\u6570\u7801\u79bb\u6563\u5316\u7684\u5f3a\u5ea6\u7a0b\u5ea6\uff0c\u5173\u7cfb\u5230\u8fd9\u4e2a\u5f3a\u5ea6\u662f\u7c97\u7c92\u5ea6\u8fd8\u662f\u7ec6\u7c92\u5ea6\u3002\u4ee5\u7070\u5ea6\u56fe\uff08Grayscale image\uff09\u4e3e\u4f8b\uff0c\u5176\u6ca1\u6709\u6df1\u5ea6\uff08\u53ea\u6709\u4e00\u4e2achannel\uff09\uff0cBit depth\u5c31\u8868\u793a\u5176\u6709\u591a\u5c11\u4e2a\u7070\u5ea6\u3002\u66f4\u9ad8\u7684\u4f4d\u6df1\u610f\u5473\u7740\u53ef\u4ee5\u7f16\u7801\u66f4\u591a\u7684\u9634\u5f71\u548c\u989c\u8272\u3002\u5bf9\u4e8e\u4e00\u5f20\u56fe\u7247\u6765\u8bf4\uff0c\u5e76\u4e0d\u662f\u5c06\u989c\u8272\u79bb\u6563\u5316\u5f97\u8d8a\u7ec6\u8d8a\u597d\uff0c\u539f\u56e0\u6709\u4e8c\u3002\u7b2c\u4e00\u4eba\u773c\u8bc6\u522b\u80fd\u529b\u6709\u9650\uff0c\u7b2c\u4e8c\u8fc7\u4e8e\u7ec6\u5316\u989c\u8272\u4f1a\u5927\u91cf\u589e\u52a0\u5b58\u50a8\u5927\u5c0f\u3002</p> <p>\u4f17\u6240\u5468\u77e5\uff0cRGB\u5f69\u8272\u56fe\u7247\u662f\u4e09\u989c\u8272\u901a\u9053\u7684\uff0c\u5206\u522b\u662fR\u7ea2\uff0cG\u7eff\u548cB\u84dd\uff0c\u4e09\u79cd\u989c\u8272\u5728\u6bcf\u4e00\u4e2apixel\u4e0a\u8fdb\u5408\u5e76\u5c31\u53ef\u4ee5\u5c55\u793a\u51fa\u5f69\u8272\u3002\u6bcf\u4e00\u4e2a\u989c\u8272\u901a\u9053\u90fd\u53ef\u4ee5\u4f7f\u7528bit depth\u6765\u8868\u793a\u989c\u8272\u8868\u793a\u7684\u7c92\u5ea6\u3002\u8fd9\u91cc\u89e3\u91ca\u4e24\u4e2a\u540d\u8bcd\uff1abits per channel\u00a0\u548c\u00a0bits per pixel (bpp)\u3002</p> <p>The bit depth for each primary color is termed the \"bits per channel.\" The \"bits per pixel\" (bpp) refers to the sum of the bits in all three color channels and represents the total colors available at each pixel.</p> <p>\u603b\u7ed3\u5730\u8bf4bits per channel \u8868\u793a\u6bcf\u4e00\u4e2achannel\u7684\u4f4d\u6df1\u800cbits per pixel \u5219\u8868\u793a\u4e09\u4e2aChannel\u4f4d\u6df1\u4e4b\u548c\uff0c\u540c\u65f6\u4e5f\u8868\u793a\u5728\u6bcf\u4e00\u4e2a\u50cf\u7d20\u70b9\u4e0a\u6709\u591a\u5c11\u79cd\u989c\u8272\u7684\u7ec4\u5408\u53ef\u80fd\u6027\u3002\u8fd9\u91cc\u8981\u6ce8\u610f\u4e24\u4e2a\u6982\u5ff5\u7684\u5173\u7cfb\uff0c\u4e0d\u8981\u6df7\u6dc6\u3002\u4e0b\u9762\u6765\u770b\u4e2a\u4f8b\u5b50\u3002</p> <p>\u4f8b\u5b50</p> <p>\u7edd\u5927\u90e8\u5206\u7684\u6570\u7801\u76f8\u673a\u8f93\u51fa\u7684\u5f69\u8272\u7167\u7247\u7684bits per channel\u662f8-bits\u7684\uff0c\u4e8e\u662f\u6709\u00a028\u00a0\u4e5f\u5c31\u662f256\u4e2a\u4e0d\u540c\u7684\u7ec4\u5408\uff0c\u8fd9\u4e5f\u5c31\u662f\u4e5f\u5c31\u662f\u6211\u4eec\u5728\u8bfb\u53d6\u7167\u7247\u540e\u53d6\u4efb\u610f\u4e00\u4e2achannel\u77e9\u9635\u53d1\u73b0\u5176\u50cf\u7d20\u503c\u843d\u4e8e[0-255]\u533a\u95f4\u7684\u539f\u56e0\u3002\u73b0\u5728\u6211\u4eec\u6709\u4e09\u901a\u9053\uff0c\u628a\u8fd9\u4e09\u4e2a\u901a\u9053\u653e\u4e00\u8d77\uff0c\u6bcf\u4e00\u4e2apixel\u5c31\u4f1a\u6709\u00a02(8\u22173)\u7684\u989c\u8272\u3002\u5176bpp\u5c31\u4e3a8*3=24 bits\u3002</p> <p>\u5bf9\u6bd4</p> <p></p> <p>\u4f4d\u6df1\u53ef\u89c6\u5316\u7406\u89e3</p> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u53d1\u73b0\uff0c\u56fe\u50cf\u4f4d\u6df1\u8d8a\u5c0f\uff0c\u8272\u5f69\u65ad\u5c42\u8d8a\u660e\u663e\uff0c\u4f4d\u6df1\u8d8a\u5927\u8272\u5f69\u53d8\u5316\u8d8a\u7ec6\u817b\u3002\u4eba\u773c\u53ea\u80fd\u8bc6\u522b\u5927\u7ea6\u4e00\u5343\u4e07\u79cd\u4e0d\u540c\u7684\u989c\u8272\uff0c\u56e0\u6b64\u5982\u679c\u4ec5\u4ee5\u89c2\u770b\u4e3a\u76ee\u7684\uff0c\u5219\u4fdd\u5b58\u8d85\u8fc724bpp\u7684\u56fe\u50cf\u662f\u591a\u4f59\u7684\u3002 \u4f46\u8fd9\u4e0d\u662f\u8bf424bpp\u6216\u8005\u5927\u4e00\u70b9\u7684\u4f4d\u6df1\u662f\u5b8c\u5168\u6d6a\u8d39\u7684\u3002\u8d85\u8fc724 bpp\u7684\u56fe\u50cf\u4ecd\u7136\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u4eec\u5728\u540e\u671f\u5904\u7406\u4e2d\u7684\u8868\u73b0\u66f4\u597d\u3002\u53ef\u7528\u7684\u4f4d\u6df1\u5ea6\u8bbe\u7f6e\u53d6\u51b3\u4e8e\u6587\u4ef6\u7c7b\u578b\u3002\u6807\u51c6JPEG\u548cTIFF\u6587\u4ef6\u6bcf\u4e2a\u901a\u9053\u53ea\u80fd\u5206\u522b\u4f7f\u75288\u4f4d\u548c16\u4f4d\u3002\u653e\u5927JPEG\u56fe\u7247\u65f6\u5c31\u5f88\u5bb9\u6613\u770b\u5230\u65ad\u5c42\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/","title":"\uff08\u5b58\u50a8\uff09\u5e38\u89c1\u56fe\u50cf\u683c\u5f0f\u603b\u7ed3","text":"<ul> <li>RAW</li> <li>RGB</li> <li>YUV</li> </ul>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#raw","title":"RAW\u683c\u5f0f","text":"<p>\u53ef\u4ee5\u5c06 RAW \u7167\u7247\u7406\u89e3\u4e3a CMOS \u6216\u8005 CCD \u56fe\u50cf\u611f\u5e94\u5668\u5c06\u6355\u6349\u5230\u7684\u5149\u6e90\u4fe1\u53f7\u8f6c\u5316\u4e3a\u6570\u5b57\u4fe1\u53f7\u7684\u539f\u59cb \u6570\u636e\u3002\u6570\u7801\u76f8\u673a\u62cd\u6444\u7684\u201c\u539f\u59cb\u56fe\u50cf\u7f16\u7801\u6570\u636e\u201d\u7684\u683c\u5f0f\u7edf\u4e00\u79f0\u4e3a RAW \u683c\u5f0f\u3002</p> <p>\u5f53\u6570\u7801\u76f8\u673a\u8fdb\u884c\u66dd\u5149\u65f6\uff0cCCD/CMOS \u611f\u5149\u5143\u4ef6\u4f1a\u7528\u9ad8\u4f4e\u7535\u5e73\u6765\u8bb0\u5f55\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684\u5149\u4eae\uff0c\u7136\u540e\u6570\u7801 \u76f8\u673a\u518d\u5c06\u8fd9\u4e9b\u7535\u4fe1\u53f7\u8f6c\u5316\u6210\u76f8\u5e94\u7684\u6570\u5b57\u7b26\u53f7\uff0c\u4e00\u822c\u88ab\u8bb0\u5f55\u4e3a 12 \u4f4d\u6216 14 \u4f4d\u7684\u6570\u636e\uff0c\u90a3\u5c31\u610f\u5473\u7740\u6bcf\u4e2a\u50cf \u7d20\u70b9\u6709 4096 \u6216 16384 \u79cd\u4e0d\u540c\u7684\u4eae\u5ea6\u7ea7\u522b\uff0cRAW \u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u50cf\u7d20\u8fdb\u884c\u5b8c\u6574\u7684\u8f93\u51fa\uff0c\u5c06\u6570\u7801\u76f8\u673a\u6240\u8bb0\u5f55\u7684 12 \u4f4d\u6216 14 \u4f4d\u7684\u6570\u636e\u6269\u5c55\u5230 16 \u4f4d\u7684\u7a7a\u95f4\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#_1","title":"\u6570\u7801\u76f8\u673a\u6210\u50cf\u539f\u7406","text":"<p>https://www.cambridgeincolour.com/tutorials/camera-sensors.htm</p> <p>\u6570\u7801\u76f8\u673a\u4f7f\u7528\u6570\u767e\u4e07\u4e2a\u5fae\u5c0f\u7684\u611f\u5149\u5143\u6765\u8bb0\u5f55\u56fe\u50cf\u3002\u5f53\u6309\u4e0b\u76f8\u673a\u7684\u5feb\u95e8\u6309\u94ae\u5e76\u5f00\u59cb\u66dd\u5149\u65f6\uff0c\u6bcf\u4e00\u4e2a\u611f\u5149\u5143\u90fd\u4f1a\u6536\u96c6\u5149\u5b50\u5e76\u5c06\u5176\u5176\u5b58\u50a8\u4e3a\u7535\u4fe1\u53f7\u3002 \u66dd\u5149\u7ed3\u675f\u540e\uff0c\u76f8\u673a\u5c06\u5173\u95ed\u6240\u6709\u8fd9\u4e9b\u5149\u70b9\uff0c\u7136\u540e\u5c1d\u8bd5\u901a\u8fc7\u6d4b\u91cf\u7535\u4fe1\u53f7\u7684\u5f3a\u5ea6\u6765\u8bc4\u4f30\u6709\u591a\u5c11\u5149\u5b50\u6389\u5165\u6bcf\u4e2a\u611f\u5149\u5143\u4e2d\u3002 \u7136\u540e\u5c06\u4fe1\u53f7\u91cf\u5316\u4e3a\u6570\u5b57\u503c\uff0c\u5176\u7cbe\u5ea6\u7531 \u56fe\u50cf\u4f4d\u6df1 \u786e\u5b9a\u3002</p> <p>\u6211\u4eec\u6700\u540e\u5728\u624b\u673a\u4e0a\u770b\u5230\u7684\u56fe\u50cf\u7cbe\u5ea6\u7ed3\u679c\u53d6\u51b3\u4e8e\u56fe\u50cf\u7684\u8bb0\u5f55\u683c\u5f0f\uff0c\u6bd4\u59828\u4f4d\u7684JPEG\u7167\u7247\u5176\u50cf\u7d20\u503c\u5c31\u67092^8 = 256\uff0c\u5176\u6bcf\u4e00\u4e2apixel\u503c\u5c31\u4e3a[0-255]\u3002\u4f7f\u7528\u7684\u4f4d\u6570\u8d8a\u5927\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u989c\u8272\u8868\u793a\u5f97\u8d8a\u7cbe\u7ec6\u3002  </p> <p></p> <p>\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u5982\u4f55\u6536\u96c6\u5230\u5f69\u8272\u56fe\u50cf\u5462\uff1f\u56de\u60f3\u8d77\u4e09\u539f\u8272RGB\u7ea2\u7eff\u84dd\u4e86\u4e48\uff0c\u4e5f\u5c31\u662f\u5c0f\u6c34\u6ef4\u6ef4\u5728\u5c4f\u5e55\u4e0a\u6211\u4eec\u6240\u770b\u5230\u7684\u3002\u90a3\u6211\u4eec\u5982\u4f55\u53bb\u6355\u6349\u4ed6\u4eec\u5462\uff1f\u7531\u4e8e\u8fd9\u4e9b\u611f\u5149\u5143\u65e0\u6cd5\u533a\u5206\u6bcf\u79cd\u989c\u8272\u7684\u6570\u91cf\uff0c\u56e0\u6b64\u4e0a\u56fe\u4e2d\u53ea\u80fd\u521b\u5efa\u7070\u5ea6\u56fe\u50cf\uff08\u4e5f\u5c31\u662f\u9ed1\u767d\u56fe\uff09\u3002</p> <p>\u4e3a\u4e86\u6355\u83b7\u5f69\u8272\u56fe\u50cf\uff0c\u5fc5\u987b\u5728\u6bcf\u4e2a\u611f\u5149\u5143\u4e0a\u65b9\u653e\u7f6e\u4e00\u4e2a\u6ee4\u955c\uff0c\u8be5\u6ee4\u955c\u4ec5\u5141\u8bb8\u7279\u5b9a\u989c\u8272\u7684\u5149\u3002 \u5b9e\u9645\u4e0a\uff0c\u5f53\u524d\u6240\u6709\u7684\u6570\u7801\u76f8\u673a\u53ea\u80fd\u5728\u6bcf\u4e2a\u611f\u5149\u5143\u4e2d\u6355\u83b7\u4e09\u79cd\u539f\u8272\u4e4b\u4e00\uff0c\u56e0\u6b64\u5b83\u4eec\u4f1a\u4e22\u5f03\u5927\u7ea62/3\u7684\u5165\u5c04\u5149\u3002\u56e0\u6b64\uff0c\u76f8\u673a\u5fc5\u987b\u8fd1\u4f3c\u5176\u4ed6\u4e24\u79cd\u539f\u8272\u4ee5\u4fbf\u5728\u6bcf\u4e2a\u50cf\u7d20\u5904\u90fd\u662f\u5168\u8272\u5f69\u7684\u3002Color Filter Array\uff08CFA\uff09\u5c31\u767b\u573a\u4e86\uff0c\u4e2d\u6587\u53eb\u5f69\u8272\u6ee4\u5149\u7247\u9635\u5217\uff0c\u800c\u6700\u5e38\u4f7f\u7528\u548c\u89c1\u5230CFA\u4e3aBayer\u9635\u5217(\u62dc\u8033\u9635\u5217)\uff0c\u5982\u56fe\u4e8c\u6240\u793a:</p> <p></p> <p>\u4ee52*2\u7684\u5c0f\u65b9\u5757\u6765\u770b\uff0c\u5176\u662f\u4e00\u4e2a\u6709\u89c4\u5f8b\u7684\u6392\u5217\uff0c\u9075\u5faa\u7eff-\u7ea2-\u84dd-\u7eff\u7684\u7ec4\u5408\u3002\u4e13\u4e1a\u70b9\u8bf4\uff0c\u62dc\u8033\u9635\u5217\u7531\u4ea4\u66ff\u6392\u5217\u7684\u7eff\u7ea2\u548c\u84dd\u7eff\u6ee4\u5149\u7247\u7ec4\u6210\u3002 \u8bf7\u6ce8\u610f\uff0c\u62dc\u8033\u9635\u5217\u5305\u542b\u7684\u7eff\u8272\u4f20\u611f\u5668\u662f\u7ea2\u8272\u6216\u84dd\u8272\u4f20\u611f\u5668\u7684\u4e24\u500d\uff08\u8fd9\u6837\u8bbe\u8ba1\u7684\u539f\u56e0\u662f\u4eba\u773c\u5bf9\u7eff\u8272\u66f4\u4e3a\u654f\u611f\uff0c\u6240\u4ee5\u4f7f\u7528\u4e86\u66f4\u591a\u7684\u7eff\u8272\u6ee4\u5149\u7247\u91c7\u96c6\u7eff\u8272\uff09\u3002\u8fd9\u6837\u8bbe\u8ba1\u7684\u53e6\u4e00\u4e2a\u539f\u56e0\u662f\u4e0e\u6bcf\u79cd\u989c\u8272\u5747\u7b49\u76f8\u6bd4\uff0c\u5e26\u6709\u7eff\u8272\u50cf\u7d20\u7684\u5197\u4f59\u6240\u4ea7\u751f\u7684\u56fe\u50cf\u770b\u8d77\u6765\u566a\u58f0\u66f4\u5c11\uff0c\u5e76\u4e14\u5177\u6709\u66f4\u597d\u7684\u7ec6\u8282\u3002 \u597d\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u6765\u770b\u770b\u5904\u7406\u540e\u7684JPEG\u56fe\u7247\u548c\u91c7\u96c6\u5230\u6700\u539f\u59cb\u7684RAW\u56fe\u7247\u5427\u3002</p> <p></p> <p>\u5de6\u8fb9\u5c31\u662f\u5404\u4f4d\u5728\u624b\u673a\u4e0a\u770b\u5230\u7684JPEG\u56fe\u800c\u53f3\u8fb9\u4fbf\u662f\u76f8\u673a\u4f20\u611f\u5668\u63a5\u6536\u5230\u7684\u6700\u539f\u59cb\u7684\u56fe\u3002\u4e3a\u4e86\u65b9\u4fbf\u67e5\u770b\u548c\u5bf9\u6bd4\u62dc\u8033\u9635\u5217\uff0c\u8bf7\u770b\u7ea2\u65b9\u6846\u7684\u653e\u5927\u7ec6\u8282\u3002\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5e76\u975e\u6240\u6709\u7684\u6570\u7801\u76f8\u673a\u90fd\u4f7f\u7528\u62dc\u8033\u9635\u5217\uff0c\u4f46\u8fd9\u662f\u8fc4\u4eca\u4e3a\u6b62\u6700\u5e38\u89c1\u7684\u8bbe\u7f6e\u3002 \u4f8b\u5982\u5176\u4ed6\u4f20\u611f\u5668\u53ef\u80fd\u4ee5\u7c7b\u4f3c\u7684\u9635\u5217\u6355\u83b7\u56db\u79cd\u989c\u8272\uff1a\u7ea2\u8272\uff0c\u7eff\u8272\uff0c\u84dd\u8272\u548c\u7fe0\u7eff\u8272\u3002</p> <p>Bayer\u53bb\u9a6c\u8d5b\u514b - BAYER DEMOSAICING</p> <p>\u53f3\u8fb9\u7684\u56fe\u770b\u8d77\u6765\u5f88\u50cf\u9a6c\u8d5b\u514b\u5427\uff1fok\u90a3\u73b0\u5728\u8981\u5982\u4f55\u53bb\u9a6c\u8d5b\u514b\u5462\uff1f</p> <p>Bayer\u53bb\u9a6c\u8d5b\u514b\u662f\u5c06\u8fd9\u79cd\u62dc\u8033\u539f\u8272\u9635\u5217\u8f6c\u6362\u4e3a\u6700\u7ec8\u56fe\u50cf\u7684\u8fc7\u7a0b\uff0c\u8be5\u6700\u7ec8\u56fe\u50cf\u7684\u6bcf\u4e2a\u50cf\u7d20\u90fd\u662f\u5168\u8272\u7684\u3002 \u4e00\u79cd\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u5c06\u7ea2\u8272\uff0c\u7eff\u8272\u548c\u84dd\u8272\u7684\u6bcf\u4e2a2x2\u9635\u5217\u89c6\u4e3a\u4e00\u4e2a\u5b8c\u6574\u7684\u5f69\u8272\u5757\u3002\u5982\u56fe\u4e09\uff0c\u9ed1\u8272\u5706\u5708\u8868\u793a\u7684\u5c31\u662f2x2\u9635\u5217\u5408\u5e76\u5f97\u5230\u7684\u5168\u8272\u4fe1\u606f\u3002</p> <p></p> <p>\u56fe\u4e09</p> <p>\u8fd9\u91cc\u5f88\u5bb9\u6613\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4f1a\u5bfc\u81f4\u5206\u8fa8\u7387\u4e0b\u964d\u3002\u56e0\u4e3a\u957f\u5bbd\u5206\u522b\u5c11\u4e861/2\u90a3\u4e48\u603b\u4f53\u5206\u8fa8\u7387\u5c31\u5c11\u4e861/4\uff0c\u6240\u4ee5\u4e00\u822c\u4e0d\u7528\u8fd9\u6837\u7684\u65b9\u6cd5\uff0c\u4e00\u822c\u5c06RGB\u5206\u522b\u62c6\u5f00\u8fdb\u884c\u63d2\u503c\u7136\u540e\u518d\u5408\u5e76\uff0c\u8fd9\u6837\u80fd\u6709100%\u7684\u5206\u8fa8\u7387\u3002\u63d2\u503c\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u5728\u8fd9\u91cc\u4e0d\u8868\u8ff0\u3002\u7b80\u5355\u8fc7\u7a0b\u5982\u56fe\u56db\u3002</p> <p></p> <p>\u56fe\u56db</p> <p></p> <p>\u56fe\u4e94 Source\uff1ahttps://www.hisour.com/bayer-filter-24546/</p> <p>\u901a\u8fc7\u56fe\u4e94\u6765\u7b80\u5355\u56de\u987e\u603b\u7ed3\u4e00\u4e0bRAW\u56fe\u30021\u662f\u73b0\u5b9e\u4e16\u754c\u4e2d\u7684\u56fe\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u773c\u775b\u770b\u5230\u7684\u666f\u8272\u3002\u5177\u6709Bayer\u9635\u5217\u7684\u76f8\u673a\u4f20\u611f\u5668\u83b7\u53d6\u5230\u7684\u539f\u59cb\u56fe\u50cf\u4fe1\u606f\u662f3\uff0c\u6ca1\u6709Bayer\u9635\u5217\u91c7\u96c6\u5230\u7684\u539f\u59cb\u56fe\u50cf\u4fe1\u606f\u4e3a2\uff0c\u4e5f\u5c31\u662f\u7070\u5ea6\u56fe\uff08\u9ed1\u767d\u56fe\uff0c\u53ea\u6709\u4eae\u5ea6\u4fe1\u606f\uff09\u3002\u8fd9\u91cc\u8981\u8bf4\u660e\u4eceRAW\u56fe\u5230JEPG\u6709\u4e00\u7cfb\u5217\u590d\u6742\u7684\u56fe\u50cf\u4fe1\u53f7\u5904\u7406\u8fc7\u7a0b\uff0c\u79f0\u4f5cISP\uff08Image Signal Processing\uff09\uff0c\u8fd9\u91cc\u4e0d\u505a\u8868\u8ff0\uff0c\u53bb\u9a6c\u8d5b\u514b\u53ea\u662f\u5176\u4e2d\u7684\u4e00\u5c0f\u6b65\u3002\u53bb\u9a6c\u8d5b\u514b\u540e\u518d\u7ecf\u8fc7\u540e\u7eed\u5904\u7406\u6211\u4eec\u53ef\u4ee5\u5f97\u52304\u56fe\uff0c\u4e5f\u5373\u624b\u673a\u4e0a\u770b\u5230\u7684\u538b\u7f29\u8fc7\u540e\u7684JPEG\u56fe\u3002</p> <p>raw\u6570\u636e\u662fsensor\u8f93\u51fa\u7684\u539f\u59cb\u6570\u636e\uff0c\u4e00\u822c\u6709raw8, raw10, raw12\u7b49\uff0c\u5206\u522b\u8868\u793a\u4e00\u4e2a\u50cf\u7d20\u70b9\u67098bit\u300110bit\u300112bit\u6570\u636e\u3002\u662fsensor\u5c06\u5149\u4fe1\u53f7\u8f6c\u5316\u4e3a\u7535\u4fe1\u53f7\u65f6\u7684\u7535\u5e73\u9ad8\u4f4e\u7684\u539f\u59cb\u8bb0\u5f55\uff0c\u5355\u7eaf\u5730\u6ca1\u6709\u8fdb\u884c\u4efb\u4f55\u5904\u7406\u7684\u56fe\u50cf\u6570\u636e\uff0c\u5373\u6444\u50cf\u5143\u4ef6\u76f4\u63a5\u5f97\u5230\u7684\u7535\u4fe1\u53f7\u8fdb\u884c\u6570\u5b57\u5316\u5904\u7406\u800c\u5f97\u5230\u7684\u3002 raw\u6570\u636e\u5728\u8f93\u51fa\u7684\u65f6\u5019\u662f\u6709\u4e00\u5b9a\u987a\u5e8f\u7684\uff0c\u4e3b\u8981\u6709\u56db\u79cd: GRBG\u3001RGGB\u3001BGGR\u3001GBRG\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#rgb","title":"RGB\u683c\u5f0f","text":"<p>RGB\u683c\u5f0f\uff1a\u5373\u6bcf\u4e00\u4e2a\u50cf\u7d20\u7531\u4e09\u539f\u8272R\u7ea2\u8272\u3001G\u7eff\u8272\u3001B\u84dd\u8272\u7ec4\u6210\u3002\u901a\u8fc7\u4e09\u79cd\u989c\u8272\u7684\u6df7\u5408\uff0c\u57fa\u672c\u5c31\u80fd\u591f\u6df7\u5408\u51fa\u4eba\u7c7b\u89c6\u529b\u6240\u80fd\u611f\u53d7\u5230\u7684\u6240\u6709\u989c\u8272\u3002</p> <p>RGB\u5e38\u89c1\u7684\u7684\u51e0\u79cd\u683c\u5f0f\u548c\u63cf\u8ff0\uff1a RGB565 \u6bcf\u4e2a\u50cf\u7d20\u752816\u4f4d\u8868\u793a\uff0cRGB\u5206\u91cf\u5404\u4f7f\u75285\u4f4d\u30016\u4f4d\u30015\u4f4d\uff1b RGB555 \u6bcf\u4e2a\u50cf\u7d20\u752816\u4f4d\u8868\u793a\uff0cRGB\u5206\u91cf\u90fd\u4f7f\u75285\u4f4d\uff08\u5269\u4e0b1\u4f4d\u4e0d\u7528\uff09\uff1b RGB24 \u6bcf\u4e2a\u50cf\u7d20\u752824\u4f4d\u8868\u793a\uff0cRGB\u5206\u91cf\u5404\u4f7f\u75288\u4f4d\uff1b RGB32 \u6bcf\u4e2a\u50cf\u7d20\u752832\u4f4d\u8868\u793a\uff0cRGB\u5206\u91cf\u5404\u4f7f\u75288\u4f4d\uff08\u5269\u4e0b8\u4f4d\u4e0d\u7528\uff09\uff1b ARGB32 \u6bcf\u4e2a\u50cf\u7d20\u752832\u4f4d\u8868\u793a\uff0cRGB\u5206\u91cf\u5404\u4f7f\u75288\u4f4d\uff08\u5269\u4e0b\u76848\u4f4d\u7528\u4e8e\u8868\u793aAlpha(\u900f\u660e\u5ea6)\u901a\u9053\u503c\uff09</p> <p>RGB\u662f\u6211\u4eec\u5e73\u65f6\u9047\u5230\u6700\u591a\u7684\u989c\u8272\u7a7a\u95f4\u3002\u4f7f\u7528RGB\u8868\u793a\u7684\u6bcf\u79cd\u989c\u8272\u90fd\u662f\u7531\u7ea2\u5149\u3001\u7eff\u5149\u3001\u84dd\u5149\u7ec4\u5408\u800c\u6210\u7684\u3002\u5bf9\u4e8e\u4f7f\u7528RGB\u5b58\u50a8\u7684\u56fe\u7247\uff0c\u6211\u4eec\u5206\u522b\u4f7f\u7528R\u3001G\u3001B\u4e09\u4e2a\u5206\u91cf\u6765\u8868\u793a\u7ea2\u5149\u3001\u7eff\u5149\u3001\u84dd\u5149\uff0c\u6bcf\u4e2a\u5206\u91cf\u5360\u6bcf\u4e2a\u5206\u91cf8bit\uff0c\u5e76\u4e14\u4e09\u4e2a\u5206\u91cf\u4f9d\u6b21\u6392\u5217\u5b58\u50a8\uff0c\u8868\u793a\u4e00\u4e2a\u50cf\u7d20\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u56fe\u50cf\u6570\u636e\u4ee5R &gt; G &gt; B\u7684\u6392\u5217\u987a\u5e8f\u8fdb\u884c\u5b58\u50a8\uff0c\u8fd9\u4e2a\u6392\u5e8f\u5e76\u4e0d\u662f\u7edd\u5bf9\u7684\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u4ee5B &gt; G &gt; R\u7684\u987a\u5e8f\u8fdb\u884c\u5b58\u50a8\u3002</p> <p>RGB\u5e38\u5e38\u7528\u4e8e\u56fe\u50cf\u7684\u5b58\u50a8\uff0c\u5e76\u4e14\u5341\u5206\u7b80\u5355\u3002\u4f46\u662f\u5728\u89c6\u9891\u9886\u57df\u4e2d\uff0cRGB\u5c31\u4e0d\u90a3\u4e48\u5e38\u89c1\u4e86\u3002\u6211\u4eec\u77e5\u9053\uff0c\u89c6\u9891\u5176\u5b9e\u662f\u7531\u4e00\u5f20\u5f20\u8fde\u7eed\u7684\u56fe\u7247\u5e8f\u5217\u7ec4\u6210\u7684\uff0c\u6211\u4eec\u5047\u8bbe\u6709\u4e00\u4e2a1080p\uff081920 * 1080\uff09\u5206\u8fa8\u7387\u3001\u5e27\u7387\u4e3a30\u5e27\u7684\u89c6\u9891\uff0c\u5982\u679c\u4e0d\u5bf9\u89c6\u9891\u8fdb\u884c\u538b\u7f29\uff0c\u5e76\u4e14\u4f7f\u7528RGB\u8fdb\u884c\u5b58\u50a8\u7684\u8bdd\uff0c\u4ec5\u4ec5\u4e00\u5206\u949f\u7684\u89c6\u9891\u5c31\u80fd\u8fbe\u5230 \uff08 1920 * 1080 * 8 * 30 * 60 \uff09bit \uff08\u7ea6\u7b49\u4e8e27G\uff09\u3002\u8fd9\u660e\u663e\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9\u89c6\u9891\u6570\u636e\u8fdb\u884c\u538b\u7f29\u3002</p> <p>\u4f46\u7531\u4e8eRGB\u7684\u4e09\u4e2a\u5206\u91cf\u662f\u5b58\u5728\u76f8\u5173\u6027\u7684\uff0c\u8fd9\u4e0d\u5229\u4e8e\u6211\u4eec\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\u7f16\u7801\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u79cd\u6570\u636e\u76f8\u5173\u6027\u6ca1\u90a3\u4e48\u5f3a\u7684\u989c\u8272\u7a7a\u95f4\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u8981\u4ecb\u7ecd\u7684YUV\uff0c\u5c31\u662f\u8fd9\u4e48\u4e00\u79cd\u989c\u8272\u7a7a\u95f4\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv","title":"YUV\u683c\u5f0f","text":"<p>\u662f\u88ab\u6b27\u6d32\u7535\u89c6\u7cfb\u7edf\u6240\u91c7\u7528\u7684\u4e00\u79cd\u989c\u8272\u7f16\u7801\u65b9\u6cd5\u3002 Y\uff1a\u8868\u793a\u660e\u4eae\u5ea6\uff08Luma\uff09,\u5c31\u662f\u7070\u9636\u503c U\u548cV\u8868\u793a\u8272\u5ea6\uff08Chroma\uff09 Y\u5176\u5b9e\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u7070\u5ea6\u503c\uff0c\u662f\u56fe\u7247\u7684\u603b\u4f53\u8f6e\u5ed3\uff0c\u800cU\u548cV\u5219\u7528\u4e8e\u63cf\u8ff0\u8272\u5f69\u989c\u8272\u548c\u989c\u8272\u9971\u548c\u5ea6\u3002 YUV\u7528\u4e8e\u7535\u89c6\u7cfb\u7edf\u4ee5\u53ca\u6a21\u62df\u89c6\u9891\u9886\u57df\uff0c\u5b83\u5c06\u4eae\u5ea6\u4fe1\u606f\uff08Y\uff09\u4e0e\u8272\u5f69\u4fe1\u606f\uff08UV\uff09\u5206\u79bb\uff0c\u6ca1\u6709UV\u4fe1\u606f\u4e00\u6837\u53ef\u4ee5\u663e\u793a\u5b8c\u6574\u7684\u56fe\u50cf\uff0c\u53ea\u4e0d\u8fc7\u662f\u9ed1\u767d\u7684\u3002  \u4e0a\u9762\u7684\u7b2c\u4e00\u5f20\u56fe\u7247\u4e3aYUV\u56fe\u7247\u7684\u539f\u56fe\uff0c\u4e0b\u9762\u7684\u56fe\u7247\u5206\u522b\u4e3a\u53ea\u6709Y\u5206\u91cf\u3001\u53ea\u6709U\u5206\u91cf\u3001\u53ea\u6709V\u5206\u91cf\u6570\u636e\u7684\u56fe\u7247\u3002\u53ef\u4ee5\u770b\u5230\u53ea\u6709Y\u5206\u91cf\u7684\u56fe\u7247\u80fd\u591f\u770b\u6e05\u695a\u56fe\u7247\u7684\u8f6e\u5ed3\uff0c\u4f46\u56fe\u7247\u662f\u9ed1\u767d\u7684\u3002</p> <p>\u8fd9\u6837\u7684\u8bbe\u8ba1\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u5f69\u8272\u7535\u89c6\u673a\u4e0e\u9ed1\u767d\u7535\u89c6\u7684\u517c\u5bb9\u95ee\u9898\u3002\u5e76\u4e14\uff0cYUV\u4e0d\u50cfRGB\u90a3\u6837\u8981\u6c42\u4e09\u4e2a\u72ec\u7acb\u7684\u89c6\u9891\u4fe1\u53f7\u540c\u65f6\u4f20\u8f93\uff0c\u6240\u4ee5\u7528YUV\u65b9\u5f0f\u4f20\u9001\u5360\u7528\u6781\u5c11\u7684\u9891\u5bbd\u3002</p> <p>\u5e38\u7528\u683c\u5f0f\u6709\uff1aYUV444\uff0cYUV422\uff0cYUV420\uff08\u4e3a\u4ec0\u4e48\u662f4\u5462\uff1f\u56e0\u4e3a\u8fd9\u4e2a4\uff0c\u5b9e\u9645\u4e0a\u8868\u8fbe\u4e86\u5171\u4eab\u7684\u6700\u5927\u5355\u4f4d\uff01\u4e5f\u5c31\u662f\u6700\u591a4\u4e2a\u50cf\u7d20\u8fdb\u884c\u5171\u4eab\uff0c\u56e0\u6b644\u5b9e\u9645\u4e0a\u662f\u9690\u542b\u7684\u91c7\u6837\u5168\u96c6\uff09\uff1b</p> <p>\u6444\u50cf\u5934\u4e2d\u6700\u5e38\u7528\u7684\u662fYUV 422\u683c\u5f0f\uff0c\u53caY-U-Y-V\u683c\u5f0f\u3002\u4ee5YUV422 8bit\u4e3a\u4f8b\uff0c\u6bcf\u4e2a\u50cf\u7d20\u70b9\u90fd\u5305\u542b\u4eae\u5ea6\u5206\u91cf\uff088bit\uff09\u4ee5\u53caUV\u4e24\u4e2a\u989c\u8272\u5206\u91cf\u4e2d\u7684\u67d0\u4e00\u4e2a\uff088bit\uff09\u3002\u56e0\u6b64\u6bcf\u4e2a\u50cf\u7d20\u70b9\u9700\u898116bit\u6570\u636e\u3002\u5982\u679c\u4f7f\u7528YUV422 10bit\uff0c\u90a3\u6bcf\u4e2a\u50cf\u7d20\u70b9\u9700\u898120bit\u6765\u63cf\u8ff0\uff1b</p> <p>\u5e38\u89c1\u7684YUV\u6709YUV444\uff0cYUV422\uff0cYUV420\uff0c\u4e0d\u540c\u7c7b\u578b\u4e4b\u95f4\u7684\u4e3b\u8981\u533a\u522b\u662f\u4f7f\u7528\u4e86\u4e0d\u540c\u7684\u65b9\u5f0f\u8fdb\u884cU\u3001V\u5206\u91cf\u7684\u91c7\u6837\u3002</p> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5176\u4e2d\u5b9e\u5fc3\u9ed1\u70b9\u8868\u793a\u50cf\u7d20\u70b9\u7684Y\u5206\u91cf\uff0c\u7a7a\u5fc3\u5706\u5708\u8868\u793a\u91c7\u7528\u8be5\u50cf\u7d20\u70b9\u7684UV\u5206\u91cf\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv444","title":"YUV444","text":"<p>YUV444\u4e2d\u6bcf\u4e2aY\u5206\u91cf\u5206\u522b\u5bf9\u5e94\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\u3002</p> <p></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv422","title":"YUV422","text":"<p>YUV422\u4e2d\u6bcf\u4e24\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\u3002</p> <p></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv420","title":"YUV420","text":"<p>YUV420\u4e2d\u6bcf\u56db\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\u3002</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u6e05\u695a\u7684\u770b\u5230\uff0c\u5728\u5b58\u50a8\u4e00\u5f202 * 2\u50cf\u7d20\u7684\u56fe\u7247\u65f6\uff1a</p> <ul> <li>YUV444\u9700\u8981 12 * 8 bit\uff0c</li> </ul> <p></p> <ul> <li>YUV422\u9700\u8981 8 * 8 bit\uff0c</li> </ul> <p></p> <ul> <li>\u800cYUV420\u5219\u53ea\u9700\u8981 6 * 8 bit\u3002</li> </ul> <p></p> <p>YUV444\u5b58\u50a8\u7684\u6570\u636e\u91cf\u4e0eRGB\u76f8\u540c\uff0c\u4f46YUV422\u548cYUV420\u5374\u53ea\u9700\u8981\u5b58\u50a8RGB\u7684\u6570\u636e\u91cf\u7684 2/3 \u548c 1/2 \u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv_1","title":"YUV\u7684\u5b58\u50a8\u65b9\u5f0f","text":"<p>YUV\u6709packed\uff08\u6253\u5305\uff09\u548c planar\uff08\u5e73\u9762\uff09\u4e24\u79cd\u5b58\u50a8\u65b9\u5f0f\u3002</p> <ul> <li>packed \uff1apacked\u683c\u5f0f\u662f\u5148\u8fde\u7eed\u5b58\u50a8\u6240\u6709\u7684Y\u5206\u91cf\uff0c\u7136\u540e\u4f9d\u6b21\u4ea4\u53c9\u50a8\u5b58U\u3001V\u5206\u91cf\uff1b</li> <li>planar\uff1aplanar\u683c\u5f0f\u4e5f\u4f1a\u5148\u8fde\u7eed\u5b58\u50a8\u6240\u6709\u7684Y\u5206\u91cf\uff0c\u4f46planar\u4f1a\u5148\u8fde\u7eed\u5b58\u50a8U\u5206\u91cf\u7684\u6570\u636e\uff0c\u518d\u8fde\u7eed\u5b58\u50a8V\u5206\u91cf\u7684\u6570\u636e\uff0c\u6216\u8005\u5148\u8fde\u7eed\u5b58\u50a8V\u5206\u91cf\u7684\u6570\u636e\uff0c\u518d\u8fde\u7eed\u5b58\u50a8U\u5206\u91cf\u7684\u6570\u636e\uff1b</li> </ul> <p>\u6bcf\u79cdYUV\u7c7b\u578b\u90fd\u4f1a\u6709\u591a\u79cd\u5b58\u50a8\u65b9\u5f0f\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u89e3\u6790\u4e00\u4e0b\u6bd4\u8f83\u5e38\u7528\u7684YUV422\u548cYUV420\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv422_1","title":"YUV422","text":"<ul> <li>YU16\uff1a\u4e5f\u53ebI422\u6216YUV422P\uff0c\u6bcf\u4e24\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5planar\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u8fde\u7eed\u5b58\u50a8U\u5206\u91cf\uff0c\u6700\u540e\u8fde\u7eed\u50a8\u5b58V\u5206\u91cf\u3002</li> </ul> <ul> <li>YV16\uff1a\u4e5f\u53ebI422\u6216YUV422P\uff0c\u6bcf\u4e24\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5planar\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u8fde\u7eed\u5b58\u50a8V\u5206\u91cf\uff0c\u6700\u540e\u8fde\u7eed\u50a8\u5b58U\u5206\u91cf\u3002</li> </ul> <ul> <li>NV16\uff1a\u4e5f\u53ebYUV422SP\uff0c\u6bcf\u4e24\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5packed\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u4ee5U\u3001V\u7684\u987a\u5e8f\u4ea4\u53c9\u5b58\u50a8U\u5206\u91cf\u548cY\u5206\u91cf\u3002</li> </ul> <ul> <li>NV61\uff1a\u4e5f\u53ebYUV422SP\uff0c\u6bcf\u4e24\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5packed\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u4ee5V\u3001U\u7684\u987a\u5e8f\u4ea4\u53c9\u5b58\u50a8U\u5206\u91cf\u548cY\u5206\u91cf\u3002</li> </ul>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv420_1","title":"YUV420","text":"<ul> <li>YU12\uff1a\u4e5f\u53ebI420\u6216YUV420P\uff0c\u6bcf\u56db\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5planar\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u8fde\u7eed\u5b58\u50a8U\u5206\u91cf\uff0c\u6700\u540e\u8fde\u7eed\u50a8\u5b58V\u5206\u91cf\u3002</li> </ul> <ul> <li>YV12\uff1a\u4e5f\u53ebI420\u6216YUV420P\uff0c\u6bcf\u56db\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5planar\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u8fde\u7eed\u5b58\u50a8V\u5206\u91cf\uff0c\u6700\u540e\u8fde\u7eed\u50a8\u5b58U\u5206\u91cf\u3002</li> </ul> <ul> <li>NV12\uff1a\u4e5f\u53ebYUV420SP\uff0c\u6bcf\u56db\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5packed\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u4ee5U\u3001V\u7684\u987a\u5e8f\u4ea4\u53c9\u5b58\u50a8U\u5206\u91cf\u548cY\u5206\u91cf\u3002</li> </ul> <ul> <li>NV21\uff1a\u4e5f\u53ebYUV422SP\uff0c\u6bcf\u56db\u4e2aY\u5206\u91cf\u5171\u7528\u4e00\u4e2aU\u5206\u91cf\u548c\u4e00\u4e2aV\u5206\u91cf\uff0c\u4ee5packed\u65b9\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0c\u5148\u8fde\u7eed\u50a8\u5b58Y\u5206\u91cf\uff0c\u518d\u4ee5V\u3001U\u7684\u987a\u5e8f\u4ea4\u53c9\u5b58\u50a8U\u5206\u91cf\u548cY\u5206\u91cf\u3002</li> </ul>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuv_2","title":"YUV\u7684\u4f18\u52bf","text":"<ol> <li>\u4fbf\u4e8e\u538b\u7f29\u7f16\u7801\u3002RGB\u8868\u793a\u7684\u6bcf\u79cd\u989c\u8272\u90fd\u662f\u7531\u7ea2\u5149\u3001\u7eff\u5149\u3001\u84dd\u5149\u7ec4\u5408\u800c\u6210\u7684\uff0c\u6211\u4eec\u5206\u522b\u4f7f\u7528R\u3001G\u3001B\u4e09\u4e2a\u5206\u91cf\u6765\u8868\u793a\u7ea2\u5149\u3001\u7eff\u5149\u3001\u84dd\u5149\uff0c\u6bcf\u4e2a\u50cf\u7d20\u7684\u4e09\u4e2a\u5206\u91cf\u4e4b\u95f4\u5b58\u5728\u7740\u76f8\u5173\u6027\u3002\u6240\u4ee5\u901a\u5e38\u4f1a\u628aRGB\u8f6c\u6362\u6210YUV\u8fdb\u884c\u538b\u7f29\u3002</li> <li>\u6570\u636e\u91cf\u76f8\u5bf9RGB\u6765\u8bf4\u66f4\u5c0f\u3002\u524d\u9762\u6211\u4eec\u6709\u5206\u6790\u8fc7\uff0c\u540c\u6837\u5206\u8fa8\u7387\u7684\u56fe\u50cf\uff0cYUV444\u5b58\u50a8\u7684\u6570\u636e\u91cf\u4e0eRGB\u76f8\u540c\uff0c\u4f46YUV422\u548cYUV420\u5374\u53ea\u9700\u8981\u5b58\u50a8RGB\u7684\u6570\u636e\u91cf\u7684 2/3 \u548c 1/2 \u3002</li> <li>\u80fd\u591f\u517c\u5bb9\u8001\u5f0f\u9ed1\u767d\u7535\u89c6\u3002Y\u5206\u91cf\u5355\u72ec\u663e\u793a\u662f\u5176\u5b9e\u5c31\u662f\u9ed1\u767d\u56fe\u50cf\uff0c\u56e0\u6b64YUV\u7531\u5f69\u8272\u8f6c\u9ed1\u767d\u53ea\u9700\u8981\u53bb\u9664UV\u76f8\u5173\u7684\u6570\u636e\u5c31\u53ef\u4ee5\u4e86\u3002</li> </ol>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#yuvrgb","title":"YUV\u4e0eRGB\u4e4b\u95f4\u7684\u8f6c\u6362","text":"<p>\u867d\u7136\u4e00\u822c\u7684\u89c6\u9891\u7f16\u7801\u90fd\u4f1a\u4f7f\u7528YUV\uff0c\u4f46\u7531\u4e8e\u5927\u591a\u662f\u7684\u91c7\u96c6\u8bbe\u5907\u90fd\u662f\u4f7f\u7528RGB\u7684\uff0c\u6240\u4ee5YUV\u4e0eRGB\u4e4b\u95f4\u7684\u8f6c\u6362\u662f\u5341\u5206\u5e38\u89c1\u7684\u3002</p> <p>YUV\u4e0eRGB\u4e4b\u95f4\u7684\u8f6c\u6362\u662f\u5b58\u5728\u6807\u51c6\u7684\uff0c\u5e38\u89c1\u7684\u6807\u51c6\u6709ITU-R BT.601\uff08\u6807\u6e05\uff09\u3001ITU-R BT.709\uff08\u9ad8\u6e05\uff09\u3001ITU-R BT.2020\uff08\u8d85\u9ad8\u6e05\uff09\u3002\u4e0d\u540c\u7684\u6807\u51c6\u6709\u4e0d\u540c\u7684\u51c6\u6362\u516c\u5f0f\uff0c\u540c\u65f6\u8fd8\u8981\u533a\u5206\u4e0d\u540c\u7684Color Range\u3002</p> <p>Color Range\u7528\u4e8e\u6307\u5b9aRGB\u5206\u91cf\u7684\u53d6\u503c\u8303\u56f4\uff0c\u53ef\u5206\u4e3aFull Range\uff08\u53d6\u503c\u8303\u56f4\u4e3a0~~255\uff09\u548cLimited Range\uff08\u53d6\u503c\u8303\u56f4\u4e3a16~~235\uff09</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#bt601-which-is-the-standard-for-sdtv","title":"BT.601, which is the standard for SDTV.","text":"<ul> <li>RGB &gt; YUV</li> </ul> <p>ini</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>Y = 0.299R+0.587G+0.114B V = 0.713(R\u2212Y)=0.500R\u22120.419G\u22120.081B U = 0.564(B\u2212Y)=\u22120.169R\u22120.331G+0.500B</code></p> <ul> <li>YUV &gt; RGB</li> </ul> <p>ini</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>R = 1.164Y+1.596V-0.871; G = 1.164Y-0.813V-0.391U+0.529; B = 1.164Y+2.018U-1.0729;</code></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#bt601full-range","title":"BT.601\uff0cFull Range","text":"<ul> <li>RGB &gt; YUV</li> </ul> <p>ini</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>Y = 0.299 * R + 0.587 * G + 0.114 * B \u3000\u3000\u3000 V = -0.169 * R - 0.331 * G + 0.500 * B U = 0.500 * R - 0.439 * G - 0.081 * B</code></p> <ul> <li>YUV &gt; RGB</li> </ul> <p>ini</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>R = Y + 1.400V - 0.7 G = Y - 0.343U - 0.711V + 0.526 B = Y + 1.765U - 0.883</code></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#bt709-which-is-the-standard-for-hdtv","title":"BT.709, which is the standard for HDTV.","text":"<ul> <li>RGB &gt; YUV</li> </ul> <p>ini</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>Y = 0.0627 + 0.183 * R + 0.614 * g + 0.062 * b U = 0.5 - 0.101 * R - 0.339 * g + 0.439 * b V = 0.5 + 0.439 * R - 0.399 * g - 0.040 * b</code></p> <ul> <li>YUV &gt; RGB</li> </ul> <p>ini</p> <p>\u590d\u5236\u4ee3\u7801</p> <p><code>R = 1.164Y + 1.739V - 0.97 G = 1.164Y - 0.213U - 0.533V + 0.301 B = 1.164Y + 2.112U - 1.129</code></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#3yuv","title":"3\u3001YUV","text":""},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#31yuv","title":"3.1\u3001yuv \u5b9a\u4e49\uff1a","text":"<p>\u662f\u88ab\u6b27\u6d32\u7535\u89c6\u7cfb\u7edf\u6240\u91c7\u7528\u7684\u4e00\u79cd\u989c\u8272\u7f16\u7801\u65b9\u6cd5\u3002\u5176\u4e2d\u201cY\u201d\u8868\u793a\u660e\u4eae\u5ea6\uff08Luma\uff09,\u5c31\u662f\u7070\u9636\u503c\uff0c\u800c\u201cU\u201d\u548c\u201cV\u201d\u8868\u793a\u8272\u5ea6\uff08Chroma\uff09\u3002\u4e0e\u6211\u4eec\u719f\u77e5\u7684RGB\u7c7b\u4f3c\uff0cYUV\u4e5f\u662f\u4e00\u79cd\u989c\u8272\u7f16\u7801\u65b9\u6cd5\uff1b\u4e3b\u8981\u7528\u4e8e\u7535\u89c6\u7cfb\u7edf\u4ee5\u53ca\u6a21\u62df\u89c6\u9891\u9886\u57df\uff0c\u5b83\u5c06\u4eae\u5ea6\u4fe1\u606f\uff08Y\uff09\u4e0e\u8272\u5f69\u4fe1\u606f\uff08UV\uff09\u5206\u79bb\uff0c\u6ca1\u6709UV\u4fe1\u606f\u4e00\u6837\u53ef\u4ee5\u663e\u793a\u5b8c\u6574\u7684\u56fe\u50cf\uff0c\u53ea\u4e0d\u8fc7\u662f\u9ed1\u767d\u7684\uff0c</p> <p>\u8fd9\u6837\u7684\u8bbe\u8ba1\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u5f69\u8272\u7535\u89c6\u673a\u4e0e\u9ed1\u767d\u7535\u89c6\u7684\u517c\u5bb9\u95ee\u9898\u3002\u5e76\u4e14\uff0cYUV\u4e0d\u50cfRGB\u90a3\u6837\u8981\u6c42\u4e09\u4e2a\u72ec\u7acb\u7684\u89c6\u9891\u4fe1\u53f7\u540c\u65f6\u4f20\u8f93\uff0c\u6240\u4ee5\u7528YUV\u65b9\u5f0f\u4f20\u9001\u5360\u7528\u6781\u5c11\u7684\u9891\u5bbd\u3002\u5e38\u7528\u683c\u5f0f\u6709\uff1aYUV444\uff0cYUV422\uff0cYUV420\uff08\u4e3a\u4ec0\u4e48\u662f4\u5462\uff1f\u56e0\u4e3a\u8fd9\u4e2a4\uff0c\u5b9e\u9645\u4e0a\u8868\u8fbe\u4e86\u5171\u4eab\u7684\u6700\u5927\u5355\u4f4d\uff01\u4e5f\u5c31\u662f\u6700\u591a4\u4e2a\u50cf\u7d20\u8fdb\u884c\u5171\u4eab\uff0c\u56e0\u6b644\u5b9e\u9645\u4e0a\u662f\u9690\u542b\u7684\u91c7\u6837\u5168\u96c6\uff09\uff1b</p> <p>\u6444\u50cf\u5934\u4e2d\u6700\u5e38\u7528\u7684\u662fYUV 422\u683c\u5f0f\uff0c\u53caY-U-Y-V\u683c\u5f0f\u3002\u4ee5YUV422 8bit\u4e3a\u4f8b\uff0c\u6bcf\u4e2a\u50cf\u7d20\u70b9\u90fd\u5305\u542b\u4eae\u5ea6\u5206\u91cf\uff088bit\uff09\u4ee5\u53caUV\u4e24\u4e2a\u989c\u8272\u5206\u91cf\u4e2d\u7684\u67d0\u4e00\u4e2a\uff088bit\uff09\u3002\u56e0\u6b64\u6bcf\u4e2a\u50cf\u7d20\u70b9\u9700\u898116bit\u6570\u636e\u3002\u5982\u679c\u4f7f\u7528YUV422 10bit\uff0c\u90a3\u6bcf\u4e2a\u50cf\u7d20\u70b9\u9700\u898120bit\u6765\u63cf\u8ff0\uff1b</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#32","title":"3.2\u3001\u91c7\u6837\u683c\u5f0f\uff1a","text":"<p>\u4ece\u524d\u8ff0\u5b9a\u4e49\u4e2d\uff0c\u53ef\u4ee5\u4e86\u89e3YUV\u7a7a\u95f4\u63cf\u8ff0RGB\u7a7a\u95f4\u7684\u50cf\u7d20\u989c\u8272\u6309\u201c\u4eae\u5ea6\u201d\u5206\u91cf\u548c\u4e24\u4e2a\u201c\u8272\u5ea6\u201d\u5206\u91cf\u8fdb\u884c\u4e86\u8868\u793a\u3002\u8fd9\u79cd\u7f16\u7801\u8868\u793a\u4e5f\u66f4\u52a0\u9002\u5e94\u4e8e\u4eba\u773c\uff0c\u636e\u7814\u7a76\u8868\u660e\uff0c\u4eba\u773c\u5bf9\u4eae\u5ea6\u4fe1\u606f\u6bd4\u8272\u5f69\u4fe1\u606f\u66f4\u52a0\u654f\u611f\u3002\u800cYUV\u4e0b\u91c7\u6837\u5c31\u662f\u6839\u636e\u4eba\u773c\u7684\u7279\u70b9\uff0c\u5c06\u4eba\u773c\u76f8\u5bf9\u4e0d\u654f\u611f\u7684\u8272\u5f69\u4fe1\u606f\u8fdb\u884c\u538b\u7f29\u91c7\u6837\uff0c\u5f97\u5230\u76f8\u5bf9\u5c0f\u7684\u6587\u4ef6\u8fdb\u884c\u64ad\u653e\u548c\u4f20\u8f93\u3002</p> <ul> <li>1\uff09YUV 444</li> </ul> <p>\u4e00\u4e2a\u5bb6\u5ead\u6210\u5458\u662f[yuv]\uff0c\u6bcf\u4e2aY\u5bf9\u5e94\u4e00\u7ec4UV\uff0c\u4e00\u4e2aYUV\u536024bits 3\u4e2a\u5b57\u8282\uff1b</p> <p></p> <ul> <li>2\uff09YUV 422</li> </ul> <p>\u4e00\u4e2a\u5bb6\u5ead\u6210\u5458\u662f[yu][yv]\uff0c\u4e5f\u5c31\u662f2\u4e2aY\u516c\u7528\u4e00\u4e2aUV\uff0c\u4e00\u4e2aYUV\u53608+4+4=16bits 2\u4e2a\u8282\uff1b</p> <p></p> <ul> <li>3\uff09YUV 420</li> </ul> <p>yuv420\u7684\u610f\u601d\u4f3c\u4e4e\u662f\u5728yuv422\u7684\u57fa\u7840\u4e0a\uff0c\u518d\u62ff\u6389\u4e24\u4e2av\uff0c\u8fd9\u6837\u4e0d\u5c31\u6ca1\u6709v\u4e86\u5417\uff1f\u5176\u5b9eyuv420\u7684\u53d6\u540d\u65b9\u5f0f\u4e0d\u662f\u5f88\u9ad8\u660e\uff0c\u66f4\u786e\u5207\u7684\u547d\u540d\u4e3ayuv420yuv402\u4e5f\u5c31\u662f\u7b2c\u4e00\u884c\u53ea\u6709\u4e24\u4e2au\uff0c\u800c\u7b2c\u4e8c\u884c\u53ea\u6709\u4e24\u4e2av\uff0c\u5982\u4e0b\u56fe\uff1b</p> <p></p> <p>\u5bf9\u4e8eyuv420\u800c\u8a00\uff0c\u8fd9\u4e2a\u5bb6\u5ead\u7684\u6210\u5458\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u663e\u71364\u4e2aY\u516c\u7528\u4e00\u7ec4UV\uff0c\u6bcf\u4e2aYUV\u5360\u75288+2+2=12bits\uff0c1.5\u4e2a\u5b57\u8282\uff1b</p> <p></p> <ul> <li>4\uff09yuv\u4e0d\u540c\u91c7\u6837\u683c\u5f0f\u5bf9\u56fe\u50cf\u753b\u8d28\u7684\u5f71\u54cd</li> </ul> <p>\u6839\u636e\u524d\u8ff0\u7684YUV\u91c7\u6837\u683c\u5f0f\u5206\u6790\uff0c\u8fd9\u91cc\u6211\u4eec\u5206\u6790\u4e00\u4e0b\u5bf9\u56fe\u50cf\u753b\u8d28\u7684\u5f71\u54cd\u3002\u6211\u4eec\u5c06\u4e00\u4e2a\u539f\u59cb\u56fe\u50cf\u4e3a8*8\u50cf\u7d20\u7684\u7ea2\u84dd\u76f8\u95f4\u7684\u56fe\u6848\uff0c\u5206\u522b\u6309YUV444\u3001YUV422\u3001YUV420\u4e0d\u540c\u7684\u91c7\u7528\u683c\u5f0f\u91c7\u6837\uff0c\u7136\u540e\u518d\u8fd8\u539f\u8f93\u51fa\u3002</p> <p>\u56fe(a)\uff1a\u6211\u4eec\u53ef\u4ee5\u770b\u5230YUV444\u7684\u8272\u5ea6\u4fe1\u53f7\u7684\u5206\u8fa8\u7387\u548c\u4eae\u5ea6\u4fe1\u53f7\u7684\u5206\u8fa8\u7387\u65e0\u635f\u5931\uff0c\u6211\u4eec\u83b7\u5f97\u4e86\u4e0e\u539f\u59cb\u56fe\u6848\u4e00\u81f4\u7684\u8fd8\u539f\u753b\u9762\u56fe\u6848\u3002</p> <p>\u56fe(b)\uff1aYUV422\u83b7\u5f97\u8fd8\u539f\u56fe\u6848\u5728\u6c34\u5e73\u65b9\u5411\u4e0a\uff0c\u5df2\u7ecf\u51fa\u73b0\u4e86\u4e22\u5931\uff0c\u4ece\u7eff\u8272\u6240\u6846\u9009\u7684\u50cf\u7d20\u6765\u770b\uff0cYUV422\u5728\u6c34\u5e73\u65b9\u5411\u4e0a\u4e22\u5931\u4e86\u53e6\u4e00\u4e2a\u50cf\u7d20\u70b9\u7684\u8272\u5f69\u503c\uff0c\u6545\u5728\u753b\u9762\u8fd8\u539f\u65f6\u4ec5\u662f\u5bf9\u524d\u4e00\u4e2a\u50cf\u7d20\u503c\u7b80\u5355\u7684\u590d\u5236\u91cd\u6784\u3002</p> <p>\u56fe(c)\uff1aYUV420\u83b7\u5f97\u8fd8\u539f\u56fe\u6848\u5728\u6c34\u5e73\u65b9\u5411\u4ee5\u53ca\u5782\u76f4\u65b9\u5411\u4e0a\uff0c\u5747\u51fa\u73b0\u4e86\u4e22\u5931\uff0c\u83b7\u5f97\u7684\u8fd8\u539f\u56fe\u50cf\u4e0e\u539f\u59cb\u56fe\u50cf\u51fa\u73b0\u5f88\u5927\u7684\u5931\u771f\u3002</p> <p></p> <p>\u7531\u56fe5\u6240\u793a\u7684\u76f4\u89c2\u89c2\u6d4b\uff0c\u5bf9\u56fe\u50cf\u9ad8\u9891\u7ec6\u8282\u7684\u56fe\u50cf\u8868\u8fbe\u4e0a\uff0cYUV444\u4f18\u4e8eYUV422\uff0cYUV422\u4f18\u4e8eYUV420\u3002\u5728\u4fe1\u53f7\u4f20\u8f93\u5e26\u5bbd\u7684\u8282\u7701\u4e0a\uff0cYUV420\u6548\u7387\u4f18\u4e8eYUV444\uff0cYUV422\u4f18\u4e8eYUV444\u3002\u56e0\u6b64\u5728\u666e\u901a\u7684\u89c6\u9891\u7f16\u89e3\u7801\u7b97\u6cd5\u4e0a\uff0c\u4e3a\u8282\u7701\u4f20\u8f93\u5e26\u5bbd\u5f00\u9500\uff0c\u666e\u904d\u91c7\u7528YUV420\u6216\u8005YUV422\u7684\u91c7\u6837\u683c\u5f0f\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#33","title":"3.3\u3001\u5b58\u50a8\u683c\u5f0f\uff1a","text":"<ul> <li>planar \u5e73\u9762\u683c\u5f0f\uff1a\u6307\u8fde\u7eed\u5b58\u50a8\u6240\u6709\u50cf\u7d20\u70b9\u7684Y\u5206\u91cf\uff0c\u7136\u540e\u5b58\u50a8U\u5206\u91cf\uff0c\u6700\u540e\u662fV\u5206\u91cf\u3002</li> <li>packed \u6253\u5305\u6a21\u5f0f\uff1a\u6307\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684Y\u3001U\u3001V\u5206\u91cf\u662f\u8fde\u7eed\u4ea4\u66ff\u5b58\u50a8\u7684\u3002</li> </ul> <p>\u4e0b\u9762\u7528\u56fe\u7684\u5f62\u5f0f\u7ed9\u51fa\u5e38\u89c1\u7684YUV\u7801\u6d41\u7684\u5b58\u50a8\u65b9\u5f0f\uff0c\u5e76\u5728\u5b58\u50a8\u65b9\u5f0f\u540e\u9762\u9644\u6709\u53d6\u6837\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684YUV\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u5176\u4e2d\uff0cCb\u3001Cr\u7684\u542b\u4e49\u7b49\u540c\u4e8eU\u3001V\u3002</p> <p>1\uff09\u57fa\u4e8eYUV4:2:2\u91c7\u6837\u7684\u683c\u5f0f</p> <p>YUV 4:2:2 \u91c7\u6837\u89c4\u5b9a\u4e86 Y \u548c UV \u5206\u91cf\u6309\u7167 2: 1 \u7684\u6bd4\u4f8b\u91c7\u6837\uff0c\u4e24\u4e2a Y \u5206\u91cf\u516c\u7528\u4e00\u7ec4 UV \u5206\u91cf\uff1b</p> <ul> <li>YUYV\u683c\u5f0f</li> </ul> <p>YUYV\u662f\u91c7\u7528\u6253\u5305\u683c\u5f0f\u5b58\u50a8\u7684\uff0c\u76f8\u90bb\u7684\u4e24\u4e2aY\u5171\u7528\u5176\u76f8\u90bb\u7684\u4e24\u4e2aCb\u3001Cr\uff0c\u5206\u6790\uff0c\u5bf9\u4e8e\u50cf\u7d20\u70b9Y'00\u3001Y'01 \u800c\u8a00\uff0c\u5176Cb\u3001Cr\u7684\u503c\u5747\u4e3a Cb00\u3001Cr00\uff0c\u5176\u4ed6\u7684\u50cf\u7d20\u70b9\u7684YUV\u53d6\u503c\u4f9d\u6b21\u7c7b\u63a8\u3002</p> <p></p> <ul> <li>UYVY\u683c\u5f0f</li> </ul> <p>UYVY\u4e5f\u662f\u91c7\u7528\u6253\u5305\u683c\u5f0f\u5b58\u50a8\u7684\uff0c\u5b83\u7684\u987a\u5e8f\u4e0eYUYV\u76f8\u53cd\uff0c\u8fd8\u539f\u5176\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684YUV\u503c\u7684\u65b9\u6cd5\u4e0e\u4e0a\u9762\u4e00\u6837\u3002</p> <p></p> <ul> <li>YUV422P\u683c\u5f0f</li> </ul> <p>YUV422P\u4e5f\u5c5e\u4e8eYUV422\u7684\u4e00\u79cd\uff0c\u5b83\u662f\u4e00\u79cdPlane\u6a21\u5f0f\uff0c\u5373\u5e73\u9762\u6a21\u5f0f\uff0c\u5e76\u4e0d\u662f\u5c06YUV\u6570\u636e\u4ea4\u9519\u5b58\u50a8\uff0c\u800c\u662f\u5148\u5b58\u653e\u6240\u6709\u7684Y\u5206\u91cf\uff0c\u7136\u540e\u5b58\u50a8\u6240\u6709\u7684U\uff08Cb\uff09\u5206\u91cf\uff0c\u6700\u540e\u5b58\u50a8\u6240\u6709\u7684V\uff08Cr\uff09\u5206\u91cf\uff0c\u5982\u4e0a\u56fe\u6240\u793a\u3002</p> <p>\u5176\u6bcf\u4e00\u4e2a\u50cf\u7d20\u70b9\u7684YUV\u503c\u63d0\u53d6\u65b9\u6cd5\u4e5f\u662f\u9075\u5faaYUV422\u683c\u5f0f\u7684\u6700\u57fa\u672c\u63d0\u53d6\u65b9\u6cd5\uff0c\u5373\u4e24\u4e2aY\u5171\u7528\u4e00\u4e2aUV\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u50cf\u7d20\u70b9Y'00\u3001Y'01 \u800c\u8a00\uff0c\u5176Cb\u3001Cr\u7684\u503c\u5747\u4e3a Cb00\u3001Cr00\u3002</p> <p></p> <p>2\uff09\u57fa\u4e8eYUV4:2:0\u91c7\u6837\u7684\u683c\u5f0f</p> <p>\u57fa\u4e8e YUV 4:2:0 \u91c7\u6837\u7684\u683c\u5f0f\u4e3b\u8981\u6709 YUV 420P \u548c YUV 420SP \u4e24\u79cd\u7c7b\u578b\uff0cYUV420P \u548c YUV420SP \u90fd\u662f\u57fa\u4e8e Planar\u5e73\u9762\u683c\u5f0f\u8fdb\u884c\u5b58\u50a8\u7684\uff0c\u5148\u5b58\u50a8\u6240\u6709\u7684 Y \u5206\u91cf\u540e\uff0cYUV420P \u7c7b\u578b\u5c31\u4f1a\u5148\u5b58\u50a8\u6240\u6709\u7684 U \u5206\u91cf\u6216\u8005 V \u5206\u91cf\uff0c\u800c YUV420SP \u5219\u662f\u6309\u7167 UV \u6216\u8005 VU \u7684\u4ea4\u66ff\u987a\u5e8f\u8fdb\u884c\u5b58\u50a8\u4e86\uff0c\u5177\u4f53\u67e5\u770b\u770b\u4e0b\u56fe\uff1a</p> <p></p> <ul> <li>YUV420P ___ YU12</li> </ul> <p>\u5728android\u5e73\u53f0\u4e0b\u4e5f\u53eb\u4f5cI420\u683c\u5f0f\uff0c\u9996\u5148\u662f\u6240\u6709Y\u503c\uff0c\u7136\u540e\u662f\u6240\u6709U\u503c\uff0c\u6700\u540e\u662f\u6240\u6709V\u503c;</p> <p></p> <ul> <li>YUV420P ___ YV12</li> </ul> <p>YV12\u683c\u5f0f\u4e0eYU12\u57fa\u672c\u76f8\u540c\uff0c\u9996\u5148\u662f\u6240\u6709Y\u503c\uff0c\u7136\u540e\u662f\u6240\u6709V\u503c\uff0c\u6700\u540e\u662f\u6240\u6709U\u503c;</p> <p></p> <ul> <li>YUV420SP ___ NV21</li> </ul> <p>android\u624b\u673a\u4ece\u6444\u50cf\u5934\u91c7\u96c6\u7684\u9884\u89c8\u6570\u636e\u4e00\u822c\u90fd\u662fNV21\uff0c\u5b58\u50a8\u987a\u5e8f\u662f\u5148\u5b58Y\uff0c\u518dVU\u4ea4\u66ff\u5b58\u50a8\uff0cNV21\u5b58\u50a8\u987a\u5e8f\u662f\u5148\u5b58Y\u503c\uff0c\u518dVU\u4ea4\u66ff\u5b58\u50a8;</p> <p></p> <ul> <li>YUV420SP ___ NV12</li> </ul> <p>NV12\u4e0eNV21\u7c7b\u4f3c\uff0c\u4e5f\u5c5e\u4e8eYUV420SP\u683c\u5f0f\uff0cNV12\u5b58\u50a8\u987a\u5e8f\u662f\u5148\u5b58Y\u503c\uff0c\u518dUV\u4ea4\u66ff\u5b58\u50a8;</p> <p></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#_2","title":"\u56fe\u50cf\u683c\u5f0f\u7684\u89e3\u6790\u3001\u683c\u5f0f\u8f6c\u6362\u548c\u770b\u56fe\u8f6f\u4ef6","text":"<p>\u5728ISP\u7684\u56fe\u50cf\u7b97\u6cd5\u5f00\u53d1\u4e2d\uff0c\u7ecf\u5e38\u4f1a\u6d89\u53ca\u5230YUV\u3001RAW\u7b49\u683c\u5f0f\u7684\u56fe\u50cf\u3002\u4f8b\u5982\uff0c\u5728YUV\u57df\uff0c\u7ecf\u5e38\u4f1a\u6d89\u53ca\u5230I420\u3001NV12\u548cP010\u7b49\u6570\u636e\u683c\u5f0f\u4e4b\u95f4\u7684\u8f6c\u6362\u3002\u5728RAW\u57df\uff0c\u53c8\u4f1a\u7ecf\u5e38\u6d89\u53ca\u5230MIPI RAW\u7b49\u6570\u636e\u7684\u67e5\u770b\u3002</p> <p>\u76ee\u524d\uff0cYUV\u7684\u683c\u5f0f\u89e3\u6790\u8f6f\u4ef6\u6709\u5f00\u6e90\u7684YUView\uff0c\u89e3\u6790RAW\u683c\u5f0f\u7684\u6709LibRaw\u7b49\u3002\u4f46\u662f\uff0c\u7b97\u6cd5\u5f00\u53d1\u4e2d\u4f1a\u7ecf\u5e38\u7528\u5230\u56fe\u50cf\u7684\u8f6c\u6362\u3001\u770b\u56fe\u7b49\u529f\u80fd\uff0c\u6240\u4ee5\u8fd8\u662f\u81ea\u5df1\u5199\u4e2a\u8f6f\u4ef6\u66f4\u65b9\u4fbf\u4e9b\u3002</p> <p>\u6839\u636e\u4f7f\u7528\u4e60\u60ef\uff0c\u8f6f\u4ef6\u5e94\u8be5\u80fd\u591f\u5b9e\u73b0\u4e0b\u9762\u7684\u529f\u80fd\uff1a</p> <ul> <li>1.\u9996\u5148\u80fd\u591f\u89e3\u6790ISP\u4e2d\u5e38\u7528\u7684\u683c\u5f0f\uff0c\u5e76\u4e14\u80fd\u591f\u5b9e\u73b0\u5355\u4e2a\u3001\u6279\u91cf\u683c\u5f0f\u8f6c\u6362</li> </ul> <p></p> <p>YUV\u548cRGB\u5404\u6709\u4ec0\u4e48\u4f18\u70b9\uff1f\u8fd9\u672c\u8eab\u5c31\u4e2a\u4f2a\u547d\u9898\uff01\u611f\u53f9\u7f51\u7edc\u4e0a\u6709\u5173YUV\u3001RGB\u7684\u7406\u8bba\u6587\u7ae0\u5b9e\u5728\u592a\u591a\uff0c\u5374\u4e0e\u5b9e\u8df5\u5b8c\u5168\u8131\u8282\u3002\u8fd9\u6b63\u662f\u6211\u4eec\u6559\u80b2\u65b9\u9762\u5b58\u5728\u7684\u95ee\u9898\u3002\u9996\u5148\u6211\u4eec\u8981\u641e\u6e05\u4e3a\u4ec0\u4e48\u6709RGB\u683c\u5f0f\u548cYUV\u683c\u5f0f\uff1fCCD\u548cCMOS\u611f\u5149\u677f\u76f4\u63a5\u63a5\u6536\u7684\u662fRGB\u4fe1\u53f7\u3002\u6db2\u6676\u6216OLED\u7b49\u663e\u793a\u9762\u677f\u63a5\u6536\u7684\uff0c\u4e5f\u662fRGB\u4fe1\u53f7\u3002\u90a3YUV\u4e0d\u662f\u591a\u4f59\u5417\uff1fRGB\u662f\u539f\u59cb\u4fe1\u53f7\uff0c\u4e0d\u80fd\u7f16\u8f91\u3001\u6e32\u67d3\uff01\u6240\u6709\u62cd\u597d\u7684\u89c6\u9891\uff0c\u5982\u679c\u9700\u8981\u8c03\u8272\u3001\u8c03\u6574\u6e05\u6670\u5ea6\u3001\u52a0\u5165\u7279\u6548\uff0c\u5fc5\u987b\u5c06RGB\u4fe1\u53f7\u8f6c\u4e3aYUV\u4fe1\u53f7\uff0c\u5373\u8272\u5dee\u4fe1\u53f7\uff0c\u5c06\u4eae\u5ea6\u3001\u8272\u5ea6\u5206\u79bb\u51fa\u6765\u8fdb\u884c\u8c03\u6574\u3002RGB\u8f6cYUV\uff0c\u5c31\u662f\u5e38\u8bf4\u7684\u6e32\u67d3\u3002\u6e32\u67d3\u540e\u7684YUV\u89c6\u9891\uff0c\u4f1a\u5728\u663e\u793a\u5668\u6216\u7535\u89c6\u673a\u5185\u90e8\u8f6c\u5316\u4e3aRGB\u4fe1\u53f7\uff0c\u518d\u8f93\u9001\u5230\u663e\u793a\u9762\u677f\u4e0a\u9762\u663e\u793a\u51fa\u6765\u3002\u5982\u679c\u4e00\u6bb5\u89c6\u9891\u6216\u4e00\u90e8\u7535\u5f71\uff0c\u4f60\u60f3\u539f\u6c41\u539f\u5473\u5730\u64ad\u653e\u51fa\u6765\uff0c\u8fde\u5b57\u5e55\u90fd\u4e0d\u60f3\u6dfb\u52a0\uff0c\u90a3\u4f60\u53ef\u4ee5\u9009\u62e9\u64ad\u653e\u673a\u6216\u64ad\u653e\u8f6f\u4ef6\u8f93\u51faRGB\u683c\u5f0f\u4fe1\u53f7\u3002\u5982\u679c\u6b64\u65f6\u4ecd\u7136\u53ef\u4ee5\u8c03\u6574\u989c\u8272\u7b49\uff0c\u53ea\u80fd\u8bf4\u660e\u5185\u90e8\u5df2\u7ecf\u5c06RGB\u8f6c\u4e3aYUV\u4e86\u3002\u8fd9\u6837\u8f6c\u6765\u8f6c\u53bb\uff0c\u53cd\u800c\u5f71\u54cd\u753b\u8d28\u3002\u6240\u4ee5\uff0c\u6240\u6709\u64ad\u653e\u673a\u6216\u64ad\u653e\u8f6f\u4ef6\u7684\u89c6\u9891\u8f93\u51fa\u5e94\u9009\u62e9YUV420\u3002\uff08\u5e02\u9762\u516c\u5f00\u53d1\u884c\u7684\u6210\u54c1\u7535\u5f71\u7535\u89c6\u5267\u89c6\u9891\u683c\u5f0f\u90fd\u662fYUV420\uff0c\u4f60\u8bbe\u6210YUV444\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff09\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E5%AD%98%E5%82%A8%EF%BC%89%E5%B8%B8%E8%A7%81%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F%E6%80%BB%E7%BB%93/#_3","title":"\u7269\u7406\u539f\u7406","text":"<p>\u8272\u5f69\u7684\u4eae\u5ea6\u503c\u5e76\u4e0d\u76f4\u63a5\u5bf9\u5e94\u4e8e\u7279\u5b9a\u7684\u6ce2\u957f\uff0c\u800c\u662f\u4e0e\u5149\u7684\u9891\u8c31\u5206\u5e03\u548c\u4eba\u773c\u5bf9\u4e0d\u540c\u6ce2\u957f\u5149\u7684\u611f\u77e5\u7279\u6027\u6709\u5173\u3002</p> <p>\u4eba\u773c\u5bf9\u4e0d\u540c\u6ce2\u957f\u7684\u5149\u6709\u4e0d\u540c\u7684\u611f\u77e5\u654f\u611f\u5ea6\uff0c\u8fd9\u79cd\u611f\u77e5\u7279\u6027\u88ab\u79f0\u4e3a\u5149\u8c31\u54cd\u5e94\u3002\u4eba\u773c\u5bf9\u7eff\u8272\u5149\u6700\u4e3a\u654f\u611f\uff0c\u800c\u5bf9\u7ea2\u8272\u548c\u84dd\u8272\u5149\u7684\u654f\u611f\u5ea6\u8f83\u4f4e\u3002\u56e0\u6b64\uff0c\u5728\u8272\u5f69\u4eae\u5ea6\u503c\u7684\u8ba1\u7b97\u4e2d\uff0c\u4f1a\u6839\u636e\u5149\u7684\u9891\u8c31\u5206\u5e03\u548c\u4eba\u773c\u7684\u5149\u8c31\u54cd\u5e94\u7279\u6027\u6765\u786e\u5b9a\u4eae\u5ea6\u503c\u3002</p> <p>\u4f20\u7edf\u4e0a\uff0c\u8272\u5f69\u4eae\u5ea6\u503c\u901a\u5e38\u4f7f\u7528CIE XYZ\u8272\u5f69\u7a7a\u95f4\u4e2d\u7684Y\u5206\u91cf\u8868\u793a\uff0c\u5b83\u53cd\u6620\u4e86\u4eba\u773c\u611f\u77e5\u7684\u4eae\u5ea6\u4fe1\u606f\u3002\u5728CIE XYZ\u8272\u5f69\u7a7a\u95f4\u4e2d\uff0cY\u5206\u91cf\u4e0e\u5149\u7684\u9891\u8c31\u5206\u5e03\u8fdb\u884c\u52a0\u6743\uff0c\u4ee5\u8003\u8651\u4eba\u773c\u5bf9\u4e0d\u540c\u6ce2\u957f\u5149\u7684\u611f\u77e5\u5dee\u5f02\u3002</p> <p>\u56e0\u6b64\uff0c\u8272\u5f69\u7684\u4eae\u5ea6\u503c\u5e76\u4e0d\u76f4\u63a5\u5bf9\u5e94\u4e8e\u7279\u5b9a\u7684\u6ce2\u957f\uff0c\u800c\u662f\u901a\u8fc7\u5bf9\u5149\u7684\u9891\u8c31\u5206\u5e03\u548c\u4eba\u773c\u611f\u77e5\u7279\u6027\u7684\u7efc\u5408\u8003\u8651\u5f97\u51fa\u7684\u3002</p> <p>\u8272\u5f69\u7684\u9971\u548c\u5ea6\u5e76\u4e0d\u76f4\u63a5\u5bf9\u5e94\u4e8e\u7279\u5b9a\u7684\u6ce2\u957f\uff0c\u800c\u662f\u4e0e\u8272\u5f69\u7684\u7eaf\u5ea6\u6216\u5f3a\u5ea6\u6709\u5173\u3002</p> <p>\u9971\u548c\u5ea6\u662f\u6307\u8272\u5f69\u4e0e\u7070\u8272\u7684\u6df7\u5408\u7a0b\u5ea6\uff0c\u5373\u8272\u5f69\u7684\u7eaf\u5ea6\u6216\u5f3a\u5ea6\u3002\u5f53\u8272\u5f69\u5b8c\u5168\u9971\u548c\u65f6\uff0c\u5b83\u662f\u7eaf\u8272\uff0c\u6ca1\u6709\u7070\u8272\u6210\u5206\u3002\u800c\u5f53\u8272\u5f69\u7684\u9971\u548c\u5ea6\u964d\u4f4e\u65f6\uff0c\u7070\u8272\u6210\u5206\u9010\u6e10\u589e\u52a0\uff0c\u8272\u5f69\u53d8\u5f97\u66f4\u52a0\u6de1\u3002</p> <p>\u8272\u5f69\u7684\u9971\u548c\u5ea6\u4e0d\u4ec5\u4e0e\u5149\u7684\u6ce2\u957f\u6709\u5173\uff0c\u8fd8\u4e0e\u8272\u5f69\u7684\u5149\u8c31\u5206\u5e03\u548c\u611f\u77e5\u7279\u6027\u6709\u5173\u3002\u4e0d\u540c\u6ce2\u957f\u7684\u5149\u5728\u8272\u5f69\u7684\u611f\u77e5\u4e2d\u8d77\u7740\u91cd\u8981\u4f5c\u7528\uff0c\u4f46\u9971\u548c\u5ea6\u7684\u53d8\u5316\u4e0d\u4ec5\u53d6\u51b3\u4e8e\u5355\u4e00\u6ce2\u957f\u7684\u5149\uff0c\u8fd8\u53d6\u51b3\u4e8e\u5149\u8c31\u5206\u5e03\u7684\u5bbd\u5ea6\u548c\u5f62\u72b6\u3002</p> <p>\u5728\u8272\u5f69\u7a7a\u95f4\u4e2d\uff0c\u4f8b\u5982CIE xyY\u8272\u5f69\u7a7a\u95f4\u548cCIE Lab\u8272\u5f69\u7a7a\u95f4\uff0c\u8272\u5f69\u7684\u9971\u548c\u5ea6\u901a\u5e38\u901a\u8fc7\u4e0e\u7070\u5ea6\u8f74\u7684\u8ddd\u79bb\u6765\u8868\u793a\u3002\u8ddd\u79bb\u8f83\u5927\u7684\u70b9\u8868\u793a\u8f83\u9ad8\u7684\u9971\u548c\u5ea6\uff0c\u800c\u8ddd\u79bb\u8f83\u5c0f\u7684\u70b9\u8868\u793a\u8f83\u4f4e\u7684\u9971\u548c\u5ea6\u3002</p> <p>\u56e0\u6b64\uff0c\u8272\u5f69\u7684\u9971\u548c\u5ea6\u4e0d\u662f\u76f4\u63a5\u5bf9\u5e94\u4e8e\u7279\u5b9a\u7684\u6ce2\u957f\uff0c\u800c\u662f\u901a\u8fc7\u8003\u8651\u8272\u5f69\u7684\u5149\u8c31\u5206\u5e03\u548c\u4eba\u773c\u611f\u77e5\u7279\u6027\u6765\u786e\u5b9a\u7684\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/","title":"\uff08\u7f16\u89e3\u7801\uff09H264\u7f16\u7801","text":"<p>https://www.yuque.com/keith-an9fr/aab7xp/vng2pb#E8aUL</p> <p>\u672c\u6587\u4ecb\u7ecd\u7684\u662fH264\u7f16\u7801\u683c\u5f0f\uff0c\u5e76\u4e0d\u6d89\u53ca\u7f16\u7801\u539f\u7406\u548c\u7b97\u6cd5\uff0c\u9002\u5408\u5de5\u7a0b\u540c\u5b66\u9605\u8bfb\u3002</p> <p>\u672c\u6587\u5c06\u4ecb\u7ecd\u7684\u662f\uff1a</p> <ol> <li>H264\u7684\u53d1\u5c55\u5386\u53f2\u3002\u5c06\u4ecb\u7ecdH26x\u548cMPEG\u5bb6\u65cf\u7684\u53d1\u5c55\u548c\u5173\u8054\u3002</li> <li>H264\u7684\u7f16\u7801\u683c\u5f0f\u3002\u4e3b\u8981\u4ecb\u7ecdVCL\u548cNAL\uff0c\u524d\u8005\u4e0e\u89c6\u9891\u7f16\u7801\u6570\u636e\u7d27\u5bc6\u76f8\u5173\uff0c\u540e\u8005\u548cH264\u683c\u5f0f\u76f8\u5173\uff0c\u4e5f\u662f\u672c\u6587\u4ecb\u7ecd\u7684\u91cd\u70b9\u3002</li> <li>NAL\u3002\u4ecb\u7ecdNAL\u7684\u7ec4\u6210\u5355\u5143\uff1aNALU\u3002\u5305\u62ecNALU\u7684\u7ec4\u6210\u7ed3\u6784\u3001\u7c7b\u578b\u3001\u51e0\u4e2a\u7279\u6b8a\u7684NALU\uff0cAU\u7b49\u3002</li> <li>H264\u5176\u4ed6\u6982\u5ff5\u3002\u5982H264\u7684\u4e24\u79cd\u683c\u5f0f\uff1aAnnex-B\u548cAVCC\uff0cStart Code\u3002</li> </ol>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#i-h264","title":"I. H264\u7684\u53d1\u5c55\u5386\u53f2","text":"<p>\u672c\u6587\u63d0\u51fa\u7b2c\u4e00\u4e2a\u95ee\u9898\u201c\u6240\u6709\u7684\u89c6\u9891\u90fd\u4e00\u5b9a\u8981\u7f16\u7801\u5417\uff1f\u201d\u00a0\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002\u76f8\u4fe1\u67e5\u770b\u5176\u4ed6\u4eba\u7684\u535a\u5ba2\u7684\u7406\u7531\u662f\u4e00\u6837\u7684\uff1a\u4e0d\u7ecf\u8fc7\u538b\u7f29\u7684\u89c6\u9891\u592a\u5927\uff01\u5728\u7f51\u7edc\u4f20\u8f93\u65f6\u5bf9\u5e26\u5bbd\u7684\u8981\u6c42\u548c\u538b\u529b\u592a\u5927\uff01</p> <p>\u4e3a\u6b64\uff0cITU-T\u4e0eISO/IEC\u662f\u5236\u5b9a\u89c6\u9891\u7f16\u7801\u6807\u51c6\u7684\u4e24\u5927\u7ec4\u7ec7\uff0c\u9646\u7eed\u63d0\u51fa\u4e86\u5f88\u591a\u89c6\u9891\u538b\u7f29\u6807\u51c6\u3002</p> <p>\u767e\u5ea6\u767e\u79d1ITU-T\u7684\u5386\u53f2\uff1a</p> <p>ITU-T\u7684\u4e2d\u6587\u540d\u79f0\u662f\u56fd\u9645\u7535\u4fe1\u8054\u76df\u7535\u4fe1\u6807\u51c6\u5206\u5c40(ITU-T for ITU Telecommunication Standardization Sector), \u5b83\u662f\u56fd\u9645\u7535\u4fe1\u8054\u76df\u7ba1\u7406\u4e0b\u7684\u4e13\u95e8\u5236\u5b9a\u7535\u4fe1\u6807\u51c6\u7684\u5206\u652f\u673a\u6784\u3002 \u8be5\u673a\u6784\u521b\u5efa\u4e8e1993\u5e74\uff0c\u524d\u8eab\u662f\u56fd\u9645\u7535\u62a5\u7535\u8bdd\u54a8\u8be2\u59d4\u5458\u4f1a\uff08CCITT \u662f\u6cd5\u8bedComit\u00e9 Consultatif International T\u00e9l\u00e9phonique et T\u00e9l\u00e9graphique\u7684\u7f29\u5199\uff0c\u82f1\u6587\u662fInternational Telegraph and Telephone Consultative Committee\uff09\uff0c\u603b\u90e8\u8bbe\u5728\u745e\u58eb\u65e5\u5185\u74e6\u3002</p> <p>\u767e\u5ea6\u767e\u79d1ISO/IEC\u4f1a\u53d1\u73b0\uff0c\u5176\u5b9e\u8fd9\u662f2\u4e2a\u673a\u6784\uff1a</p> <ul> <li>ISO\u5e76\u4e0d\u964c\u751f - \u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7\uff0c\u4e0b\u6587\u540c\u6837\u6458\u81ea\u767e\u5ea6\u767e\u79d1\uff08\u4f1a\u53d1\u73b0\uff0cISO\u5c31\u662f\u4e00\u4e2a\u5236\u5b9a\u56fd\u9645\u5316\u6807\u51c6\uff09\uff1a     \u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7\uff08International Organization for Standardization\uff0cISO\uff09\u7b80\u79f0ISO\uff0c\u662f\u4e00\u4e2a\u5168\u7403\u6027\u7684\u975e\u653f\u5e9c\u7ec4\u7ec7\uff0c\u662f\u56fd\u9645\u6807\u51c6\u5316\u9886\u57df\u4e2d\u4e00\u4e2a\u5341\u5206\u91cd\u8981\u7684\u7ec4\u7ec7\u3002ISO\u56fd\u9645\u6807\u51c6\u7ec4\u7ec7\u6210\u7acb\u4e8e1947\u5e74\u3002     ISO\u8d1f\u8d23\u76ee\u524d\u7edd\u5927\u90e8\u5206\u9886\u57df\uff08\u5305\u62ec\u519b\u5de5\u3001\u77f3\u6cb9\u3001\u8239\u8236\u7b49\u5784\u65ad\u884c\u4e1a\uff09\u7684\u6807\u51c6\u5316\u6d3b\u52a8\u3002ISO\u7684\u5b97\u65e8\u662f\u201c\u5728\u4e16\u754c\u4e0a\u4fc3\u8fdb\u6807\u51c6\u5316\u53ca\u5176\u76f8\u5173\u6d3b\u52a8\u7684\u53d1\u5c55\uff0c\u4ee5\u4fbf\u4e8e\u5546\u54c1\u548c\u670d\u52a1\u7684\u56fd\u9645\u4ea4\u6362\uff0c\u5728\u667a\u529b\u3001\u79d1\u5b66\u3001\u6280\u672f\u548c\u7ecf\u6d4e\u9886\u57df\u5f00\u5c55\u5408\u4f5c\u3002\u201d</li> <li>IEC\u662f\u56fd\u9645\u7535\u5de5\u59d4\u5458\u4f1a\uff0c\u5176\u4ecb\u7ecd\u548c\u5386\u53f2\u6458\u81ea\u767e\u5ea6\u767e\u79d1\uff1a     \u56fd\u9645\u7535\u5de5\u59d4\u5458\u4f1a\uff08International Electrotechnical Commission\uff0cIEC\uff09\u6210\u7acb\u4e8e1906\u5e74\uff0c\u5b83\u662f\u4e16\u754c\u4e0a\u6210\u7acb\u6700\u65e9\u7684\u56fd\u9645\u6027\u7535\u5de5\u6807\u51c6\u5316\u673a\u6784\uff0c\u8d1f\u8d23\u6709\u5173\u7535\u6c14\u5de5\u7a0b\u548c\u7535\u5b50\u5de5\u7a0b\u7535\u5b50\u5de5\u7a0b/5448766)\u9886\u57df\u4e2d\u7684\u56fd\u9645\u6807\u51c6\u5316\u5de5\u4f5c\u3002     1947\u5e74\u4f5c\u4e3a\u4e00\u4e2a\u7535\u5de5\u90e8\u95e8\u5e76\u5165\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7\uff08ISO\uff09\uff0c1976\u5e74\u53c8\u4eceISO\u4e2d\u5206\u7acb\u51fa\u6765\u3002\u5b97\u65e8\u4fc3\u8fdb\u7535\u6c14\u3001\u7535\u5b50\u5de5\u7a0b\u9886\u57df\u4e2d\u6807\u51c6\u5316\u53ca\u6709\u5173\u95ee\u9898\u7684\u56fd\u9645\u5408\u4f5c\uff0c\u589e\u8fdb\u56fd\u9645\u95f4\u7684\u76f8\u4e92\u4e86\u89e3\u3002</li> </ul> <p>\u54ce\uff0c\u90a3ITU-T\u4e0eISO/IEC\u8fd9\u4fe9\u5927\u7ec4\u7ec7\uff0c\u5728\u5386\u53f2\u4e0a\u7a76\u7adf\u53d1\u751f\u4e86\u4ec0\u4e48\u6709\u8da3\u7684\u4e8b\u60c5\u5462\uff1f</p> <p>\u5f53\u7136\u662f\u6307\u5b9a\u4e86\u4e0d\u5c11\u6807\u51c6\u54af\uff08\u574f\u7b11\uff09\u3002\u4e0b\u9762\u7b14\u8005\u901a\u8fc7\u7ef4\u57fa\u767e\u79d1\uff0c\u6574\u7406\u4e86\u5982\u4e0b\u56fe1\u7684\u53d1\u5c55\u5386\u53f2\uff0c\u5fc5\u987b\u8981\u58f0\u660e\u4e00\u70b9\uff1a\u56e0\u4e3a\u6bcf\u4e2a\u6807\u51c6\u6709\u63d0\u51fa\u65f6\u95f4\u3001\u5b8c\u6210\u65f6\u95f4\u3001\u7acb\u8349\u6848\u65f6\u95f4\u548c\u6b63\u5f0f\u53d1\u5e03\u65f6\u95f4\u3002\u7b14\u8005\u91c7\u7528\u4e86\u7ef4\u57fa\u767e\u79d1\u4e0a\u51fa\u73b0\u7684\u6700\u65e9\u65f6\u95f4\uff08\u6342\u8138\uff09\u3002</p> <p></p> <p>\u200b\u56fe1. \u7f16\u7801\u6807\u51c6\u5386\u53f2</p> <p>\u4e00\u822c\u8ba4\u4e3a\uff0cITU-T\u7684H.26x\u6807\u51c6\uff0c\u4e3b\u8981\u5e94\u7528\u4e8e\u5b9e\u65f6\u89c6\u9891\u901a\u4fe1\u9886\u57df\uff0c\u5982\u4f1a\u8bae\u7535\u89c6\uff1bISO/IEC\u5236\u5b9a\u7684MPEG\u7cfb\u5217\u6807\u51c6\uff0c\u4e3b\u8981\u5e94\u7528\u4e8e\u89c6\u9891\u5b58\u50a8(DVD)\u3001\u5e7f\u64ad\u7535\u89c6\u3001\u56e0\u7279\u7f51\u6216\u65e0\u7ebf\u7f51\u4e0a\u7684\u6d41\u5a92\u4f53\u7b49\u3002</p> <p>\u4e0a\u56fe1\u4e2d\u53ef\u4ee5\u770b\u5230\u51e0\u4e2a\u6709\u8da3\u7684\u4e8b\u60c5\uff1a</p> <ul> <li>\u4e24\u4e2a\u7ec4\u7ec7\u4e5f\u5728\u4e00\u8d77\u5171\u540c\u5236\u5b9a\u4e86\u4e00\u4e9b\u6807\u51c6\uff1aH.262\u6807\u51c6\u7b49\u540c\u4e8eMPEG-2\u7684\u89c6\u9891\u7f16\u7801\u6807\u51c6\uff1bH.264\u6807\u51c6\u7b49\u540c\u4e8eMPEG-4\uff0c\u5e76\u4e14\u88ab\u6536\u5f55\u5230\u7b2c10\u90e8\u5206\u3002\u4e4b\u524d\uff0c\u7b14\u8005\u4e4b\u524d\u4e00\u76f4\u4e0d\u660e\u767d\uff0c\u5bf9\u4e8e\u300eH.264\u300f\uff0c\u4e3a\u4ec0\u4e48\u6709\u7684\u5730\u65b9\u4f1a\u79f0\u547c\u4e3a\u300eMPEG4 AVC\u300f\uff0c\u6574\u7406\u5230\u8fd9\u91cc\u7ec8\u4e8e\u660e\u767d\u4e86\uff1a\u8fd9\u4e2a\u534f\u8bae\u662f\u4e24\u4e2a\u7ec4\u7ec7\u673a\u6784\u5171\u540c\u6307\u5b9a\u7684\uff0c\u6bcf\u4e2a\u673a\u6784\u6536\u5f55\u5230\u5404\u81ea\u7684\u6807\u51c6\u624b\u518c\u4e2d\uff0c\u4e3a\u4e86\u4fdd\u6301\u547d\u540d\u7edf\u4e00\uff0c\u6240\u4ee5\u624d\u884d\u751f\u4e86H.264\u548cMPEG4 AVC\u4e24\u4e2a\u540d\u8bcd\u3002\u800c\u6700\u65b0\u7684H.264\u6807\u51c6\u5219\u88ab\u7eb3\u5165MPEG-4\u7684\u7b2c10\u90e8\u5206\uff0c\u6240\u4ee5\u53c8\u79f0MPEG4 Part 10 AVC\u3002</li> <li>MPEG3\u5e76\u4e0d\u5b58\u5728\uff01\u4ece\u7ef4\u57fa\u767e\u79d1\u6458\u5f55\u539f\u56e0\u5982\u4e0b\uff1a     MPEG-3\u662f\u5728\u5236\u5b9aMPEG-2\u6807\u51c6\u4e4b\u540e\u51c6\u5907\u63a8\u51fa\u7684\u9002\u7528\u4e8eHDTV\uff08\u9ad8\u6e05\u6670\u5ea6\u7535\u89c6\uff09\u7684\u89c6\u9891\u3001\u97f3\u9891\u538b\u7f29\u6807\u51c6\uff0c\u4f46\u662f\u7531\u4e8eMPEG-2\u6807\u51c6\u5df2\u7ecf\u53ef\u4ee5\u6ee1\u8db3\u8981\u6c42\uff0c\u6545MPEG-3\u6807\u51c6\u5e76\u672a\u6b63\u5f0f\u63a8\u51fa\u3002</li> </ul> <p>\u867d\u7136\u8bf4H.264\u6807\u51c6\u7b49\u540c\u4e8eMPEG-4\uff0c\u4f46\u662f\u60f3\u5fc5\u8bfb\u8005\u4ece\u7f51\u4e0a\u4e00\u5b9a\u770b\u5230\u4e0d\u5c11\u5173\u4e8e\u201cH.264\u548cMPEG-4\u7684\u533a\u522b\u201d\u7684\u8ba8\u8bba\uff0c\u8fd8\u6709\u4e00\u4e2apdf\u6587\u6863\u4e13\u95e8\u8bb0\u5f55\u4e86\u5dee\u522b\uff1aThe difference between MPEG-4 and H.264\u00a0\u3002\u8bf4\u597d\u7684H.264\u548cMPEG-4\u6807\u51c6\u53ea\u662f\u540d\u5b57\u4e0d\u4e00\u6837\uff0c\u5185\u5bb9\u662f\u7531\u4e24\u4e2a\u673a\u6784\u4e00\u8d77\u5b9a\u5236\u7684\u5462\uff1f</p> <p>\u8fd9\u4e2a\u95ee\u9898\u4f3c\u4e4e\u5e76\u6ca1\u6709\u5f97\u5230\u5f88\u597d\u7684\u603b\u7ed3\uff0c\u7f51\u4e0a\u67e5\u627e\u5f88\u591a\u8d44\u6599\uff0c\u90fd\u4f1a\u7f57\u5217\u51fa\u5f88\u591a\u4e24\u8005\u7684\u5dee\u522b\u3002\u7b14\u8005\u7efc\u5408StackOverflow\u4e0a\u7684\u95ee\u9898What is the difference between H.264 video and MPEG-4 video?\u00a0\u548cQuora\u4e0a\u7684\u95ee\u9898How are x264 and MPEG-4 different?\uff0c\u7ed3\u5408\u81ea\u5df1\u7684\u7406\u89e3\u3002\u7b14\u8005\u603b\u7ed3\u5165\u4e0b\uff1a</p> <ul> <li>\u9996\u5148\uff0c\u4ee5\u4e0a\u63d0\u5230\u7684\u90fd\u662f\u6807\u51c6\uff0c\u5e76\u4e0d\u662f\u5177\u4f53\u7684\u5b9e\u73b0\u3002\u5728H.264\u548cMPEG-4\u7684\u5b9e\u8df5\uff0c\u524d\u8005\u4ee5x264\u5c45\u591a\uff0c\u540e\u8005\u6ca1\u6709\u5177\u4f53\u4e86\u89e3\u3002\u4f46\u662f\u7c97\u7c97\u5728\u7f51\u4e0a\u641c\u4e86\u4e0b\uff0c\u4f3c\u4e4e\u662f\u53e6\u4e00\u5957\u4ee3\u7801\u5b9e\u73b0\u3002\u4f46\u662f\u7f51\u4e0a\u5927\u5bb6\u5bf9\u4e8e\u201cH.264\u548cMPEG-4\u7684\u533a\u522b\u201d\u662f\u5426\u7531\u6b64\u5f15\u8d77\uff0c\u7b14\u8005\u4e0d\u6562\u80af\u5b9a\uff1b\u3010\u6316\u4e2a\u5751\u3011</li> <li>\u5176\u6b21\uff0c\u5f88\u591a\u6807\u51c6\u4e5f\u662f\u5728\u4e0d\u65ad\u6f14\u5316\u7684\uff0c\u6bd4\u5982MPEG-4\uff0c\u5927\u5bb6\u5e94\u8be5\u7559\u610f\u5230\uff0c\u6709\u4e9b\u5916\u6587\u4e2d\u7684\u8bf4\u6cd5\u662f\u201cbasicMPEG-4\u00a0compression\u201d\uff0c\u800c\u4e14H.264\u4e5f\u786e\u5b9e\u662f\u5728\u540e\u6765\u88abISO\u6536\u5f55\u5230MPEG\u7b2c10\u5377\u4e2d\u7684\uff0c\u5728\u90a3\u4e4b\u540e\uff0cH.264\u548cMPEG\u624d\u5f00\u59cb\u4fdd\u6301\u540c\u6b65\u66f4\u65b0\u7684\u3002</li> <li>\u6700\u540e\uff0c\u4e0d\u77e5\u4ec0\u4e48\u539f\u56e0\uff0cH.264\u8fd9\u4e2a\u540d\u8bcd\u88ab\u5927\u5bb6\u5e7f\u6cdb\u4f7f\u7528\uff0c\u800cMPEG-4\u4f3c\u4e4e\u5c31\u6ca1\u6709\u8fd9\u4e48\u70ed\u95e8\u3002\u52a0\u4e0a\u4e24\u8005\u540d\u8bcd\u76f8\u5dee\u751a\u8fdc\uff0c\u56e0\u6b64\u88ab\u5f88\u591a\u4eba\u8ba4\u4e3a\u662f\u622a\u7136\u4e0d\u540c\u7684\u4e1c\u897f\u4e5f\u662f\u53ef\u80fd\u7684\u3002</li> </ul>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#ii-h264","title":"II. H264\u7f16\u7801\u683c\u5f0f","text":"<p>\u7b14\u8005\u8fd8\u8bb0\u5f97\u6700\u65e9\u5c1d\u8bd5\u5b66\u4e60H264\u7684\u65f6\u5019\u5f00\u7bc7\u5c31\u770b\u5230\u4e86\u201cNALU\u201d\u3001\u201cAU\u201d\uff0c\u8fd8\u6709\u201cNAL\u201d\u3001\u201cVCL\u201d\u4e00\u7c7b\u9ad8\u6df1\u83ab\u6d4b\u7684\u540d\u8bcd\uff0c\u987f\u65f6\u89c9\u5f97\u5934\u660f\u8111\u80c0\uff1a\u201c\u8fd9\u90fd\u662f\u4ec0\u4e48\u9b3c\u201d\u3002\u63a5\u4e0b\u6765\uff0c\u7b14\u8005\u5c1d\u8bd5\u628aH264\u7f16\u7801\u683c\u5f0f\u8bf4\u6e05\u695a\u3002</p> <p></p> <p>\u200b\u56fe2. H264\u529f\u80fd\u5212\u5206\u793a\u610f\u56fe</p> <p>\u8bfb\u8005\u8bf7\u7ed3\u5408\u4e0a\u56fe2\uff0c\u8010\u5fc3\u9605\u8bfb\u4e0b\u6bb5\u6284\u5f55\uff08\u56fe\u7247\u548c\u5f15\u7528\u5747\u6458\u5f55\u81ea\u535a\u5ba2VCL &amp; NAL\u00a0\uff09\u7684\u8bdd\uff1a</p> <p>H264\u7684\u4e3b\u8981\u76ee\u6807\u662f\uff1a 1. \u9ad8\u7684\u89c6\u9891\u538b\u7f29\u6bd4\uff0c\u5f53\u521d\u63d0\u51fa\u7684\u6307\u6807\u662f\u6bd4H.263\uff0cMPEG-4\u3010\u6000\u7591\u662f\u539f\u4f5c\u8005\u7684\u7b14\u8bef\uff0c\u53ef\u80fd\u662fMJPEG-2\u3011\uff0c\u7ea6\u4e3a\u5b83\u4eec\u76842\u500d\uff0c\u73b0\u5728\u90fd\u5df2\u57fa\u672c\u5b9e\u73b0\uff1b 2. \u826f\u597d\u7684\u7f51\u7edc\u4eb2\u548c\u6027\uff0c\u5373\u53ef\u9002\u7528\u4e8e\u5404\u79cd\u4f20\u8f93\u7f51\u7edc\u3002  </p> <p>\u4e3a\u6b64\uff0cH.264 \u7684\u529f\u80fd\u5206\u4e3a\u4e24\u5c42\uff0c\u5373\u89c6\u9891\u7f16\u7801\u5c42\uff08VCL\uff09\u548c\u7f51\u7edc\u63d0\u53d6\u5c42\uff08NAL)\u3002 VCL \u6570\u636e\u5373\u7f16\u7801\u5904\u7406\u7684\u8f93\u51fa\uff0c\u5b83\u8868\u793a\u88ab\u538b\u7f29\u7f16\u7801\u540e\u7684\u89c6\u9891\u6570\u636e\u5e8f\u5217\u3002\u5728VCL \u6570\u636e\u4f20\u8f93\u6216\u5b58\u50a8\u4e4b\u524d\uff0c\u8fd9\u4e9b\u7f16\u7801\u7684VCL \u6570\u636e\uff0c\u5148\u88ab\u6620\u5c04\u6216\u5c01\u88c5\u8fdbNAL \u5355\u5143\u4e2d\u3002</p> <p>\u4ece\u5f15\u6587\u4e2d\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u4fe1\u606f\uff1a</p> <ul> <li>H264\u80fd\u540c\u65f6\u505a\u5230\u9ad8\u538b\u7f29\u6bd4\u548c\u826f\u597d\u7684\u7f51\u7edc\u4eb2\u548c\u6027\uff1b</li> <li>H264\u53ef\u4ee5\u5206\u4e3a2\u5c42\uff1a\u89c6\u9891\u7f16\u7801\u5c42\u300eVCL\u300f\u548c\u7f51\u7edc\u63d0\u53d6\u5c42\u300eNAL\u300f\u3002</li> </ul> <p>\u597d\u4e86\uff0c\u5230\u8fd9\u91cc\uff0c\u4e00\u90e8\u5206\u8bfb\u8005\u5df2\u7ecf\u6655\u4e86\uff1a\u53c8\u662f\u89c6\u9891\u7f16\u7801\u5c42\uff0c\u53c8\u662f\u7f51\u7edc\u62bd\u8c61\u5c42\u3002\u201c\u5929\u54ea\uff0c\u8fd9\u542c\u4e0a\u53bb\u8fd9\u4e48\u9ad8\u5927\u4e0a\u7684\u540d\u5b57\u90fd\u662f\u4ec0\u4e48\u73a9\u610f\u513f\uff0c\u66f4\u52a0\u770b\u4e0d\u61c2\u4e86\u201d\u3002\u4f46\u662f\u5462\uff0cH264\u672c\u8eab\u5c31\u662f\u7528\u4e86\u4e00\u5957\u590d\u6742\u7684\u7f16\u7801/\u538b\u7f29\u89c4\u5219\u6765\u8fbe\u5230\u76f8\u540c\u7801\u7387\u4e0b\u538b\u7f29\u7387\u9ad8\u4e14\u56fe\u50cf\u8d28\u91cf\u9ad8\u3001\u540c\u65f6\u5177\u6709\u7f51\u7edc\u4eb2\u548c\u6027\u7684\u76ee\u7684\u3002\u8fd9\u91cc\uff0c\u8bfb\u8005\u4eec\u4e0d\u8981\u8054\u60f3\u5230\u795e\u7ecf\u7f51\u7edc\uff08\u7b14\u8005\u6700\u5f00\u59cb\u5c31\u4ee5\u4e3a\u4ed6\u7684\u80cc\u540e\u662f\u4e00\u5957\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff09\uff0c\u8bd5\u60f3\u4e00\u60f3\uff0cH264\u662f2003\u5e74\u624d\u63d0\u51fa\u7684\u7406\u8bba\u6846\u67b6\uff0c\u7528\u7684\u8fd8\u662f\u6bd4\u8f83\u4f20\u7edf\u7684\u7b97\u6cd5\uff08\u6bd5\u7adf\uff0c\u5f53\u65f6\u795e\u7ecf\u7f51\u7edc\u8fd8\u6ca1\u6709\u73b0\u4e0b\u8fd9\u4e48\u5927\u706b\uff09\u3002</p> <p>\u5176\u5b9e\uff0c\u4ed4\u7ec6\u8003\u8651\uff0c\u5f15\u6587\u89e3\u91ca\u5f97\u5176\u5b9e\u5f88\u6e05\u695a\u4e86\uff0c\u7b14\u8005\u518d\u5570\u55e6\u9644\u52a0\u51e0\u53e5\u81ea\u5df1\u7684\u89e3\u91ca\uff1a\u201cH264\u529f\u80fd\u5212\u5206\u4e3a\u300eNAL\u300f\u548c\u300eVCL\u300f\u201d\u7684\u8fd9\u4e2a\u8bf4\u6cd5\u7b14\u8005\u89c9\u5f97\u4f1a\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u8bef\u5bfc\u8bfb\u8005\u3002</p> <p>\u9996\u5148\uff0c\u6765\u770b\u300eVCL\u300f\uff0c\u5b83\u7684\u82f1\u6587\u5168\u79f0Video Coding Layer\uff0c\u89e3\u91ca\u4e3a:</p> <p>A layer in H.264/AVC and HEVC that\u00a0contains coded video data. \uff08\u300eVCL\u300f\uff09\u662f H.264/AVC\u548cHEVC\u7684\u4e00\u5c42\uff0c\u5b83\u5305\u542b\u4e86\u7f16\u7801\u7684\u89c6\u9891\u6570\u636e\u3002</p> <p>\u300eVCL\u300f\u662f\u7ba1\u7406H264\u89c6\u9891\u6570\u636e\u5c42\uff0c\u5bf9\u5e94\u5b9e\u73b0\u76ee\u68071\uff0c\u4eceVideo Coding Layer: What exactly is vcl and what are its functions?\u7684\u56de\u7b54\u4e5f\u53ef\u4ee5\u4f50\u8bc1\u8fd9\u70b9\u3002\u90a3\u300eVCL\u300f\u7a76\u7adf\u662f\u600e\u4e48\u7ba1\u7406H264\u89c6\u9891\u6570\u636e\u7684\u5462\uff1f\u629b\u5f00H264\u538b\u7f29\u7b97\u6cd5\u7ec6\u8282\u6765\u770b\u5c313\u6b65\uff1a</p> <ol> <li>\u538b\u7f29\uff1a\u9884\u6d4b\uff08\u5e27\u5185\u9884\u6d4b\u548c\u5e27\u95f4\u9884\u6d4b\uff09-&gt; DCT\u53d8\u5316\u548c\u91cf\u5316 -&gt; \u6bd4\u7279\u6d41\u7f16\u7801\uff1b</li> <li>\u5207\u5206\u6570\u636e\uff0c\u4e3b\u8981\u4e3a\u4e86\u7b2c\u4e09\u6b65\u3002\u8fd9\u91cc\u4e00\u70b9\uff0c\u7f51\u4e0a\u770b\u5230\u7684\u201c\u5207\u7247\uff08slice\uff09\u201d\u3001\u201c\u5b8f\u5757\uff08macroblock\uff09\u201d\u662f\u5728VCL\u4e2d\u7684\u6982\u5ff5\uff0c\u4e00\u65b9\u9762\u63d0\u9ad8\u7f16\u7801\u6548\u7387\u548c\u964d\u4f4e\u8bef\u7801\u7387\u3001\u53e6\u4e00\u65b9\u9762\u63d0\u9ad8\u7f51\u7edc\u4f20\u8f93\u7684\u7075\u6d3b\u6027\u3002\uff08\u8fd9\u5757\u672c\u6587\u5c06\u4e0d\u5c55\u5f00\uff09</li> <li>\u5305\u88c5\u6210\u300eNAL\u300f\u3002</li> </ol> <p>\u5bf9\u7684\uff0c\u6ca1\u6709\u770b\u9519\uff0c\u300eVCL\u300f\u6700\u540e\u4f1a\u88ab\u5305\u88c5\u6210\u300eNAL\u300f\uff01\uff01\uff01</p> <p>\u90a3\u4e48\u63a5\u4e0b\u6765\u5c31\u6765\u4ecb\u7ecd\u300eNAL\u300f\uff0c\u82f1\u6587\u5168\u79f0Network Abstraction Layer\uff0c\u8fd9\u5757\u548cH264\u538b\u7f29\u7b97\u6cd5\u65e0\u5173\uff0c\u6d89\u8bbe\u8ba1\u51fa\u300eNAL\u300f\u7684\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u83b7\u5f97\u201cnetwork-friendly\u201d\uff0c\u5373\u5bf9\u5e94\u5b9e\u73b0\u76ee\u68072\u3002\u5173\u4e8eNAL\u7684\u63cf\u8ff0\uff0c\u53c2\u7167\u7ef4\u57fa\u767e\u79d1\u7684\u4ecb\u7ecd\uff1a</p> <p>The NAL is designed in order to provide \"network friendliness\" to enable simple and effective customization of the use of VCL for a broad variety of systems. The NAL facilitates the ability to map VCL data to transport layers such as: \u00b7 RTP/IP for any kind of real-time wire-line and wireless Internet services. \u00b7 File formats, e.g., ISO MP4 for storage and MMS. \u00b7 H.32X for wireline and wireless conversational services. \u00b7 MPEG-2 systems for broadcasting services, etc.  </p> <p>NAL\u65e8\u5728\u63d0\u4f9b\u201c\u7f51\u7edc\u53cb\u597d\u6027\u201d\uff0c\u4ee5\u4fbf\u4e3a\u5404\u79cd\u7cfb\u7edf\u7b80\u5355\u6709\u6548\u5730\u5b9a\u5236VCL\u7684\u4f7f\u7528\u3002 NAL\u6709\u52a9\u4e8e\u5c06VCL\u6570\u636e\u6620\u5c04\u5230\u4f20\u8f93\u5c42\uff0c\u4f8b\u5982\uff1a \u00b7 RTP / IP\u9002\u7528\u4e8e\u4efb\u4f55\u7c7b\u578b\u7684\u5b9e\u65f6\u6709\u7ebf\u548c\u65e0\u7ebf\u4e92\u8054\u7f51\u670d\u52a1\u3002 \u00b7 \u6587\u4ef6\u683c\u5f0f\uff0c\u4f8b\u5982\u7528\u4e8e\u5b58\u50a8\u548cMMS\u7684ISO MP4\u3002 \u00b7 H.32X\u7528\u4e8e\u6709\u7ebf\u548c\u65e0\u7ebf\u4f1a\u8bdd\u670d\u52a1\u3002 \u00b7 \u7528\u4e8e\u5e7f\u64ad\u670d\u52a1\u7b49\u7684MPEG-2\u7cfb\u7edf\u3002</p> <p>\u76f4\u767d\u7ffb\u8bd1\u8fc7\u6765\u5c31\u662f\uff1a\u300eNAL\u300f\u5c31\u662f\u4e3a\u4e86\u5305\u88c5\u300eVCL\u300f\u4ee5\u8fbe\u5230\u66f4\u597d\u7f51\u7edc\u4f20\u8f93\u6548\u679c\u3002\u4e8e\u662f\u95ee\u9898\u63a5\u7740\u6765\u4e86\uff0c\u300eNAL\u300f\u7a76\u7adf\u662f\u600e\u4e48\u7ec4\u7ec7\u6570\u636e\uff0c\u80fd\u591f\u505a\u5230\u8fd9\u4e48\u597d\u7684\u7f51\u7edc\u53cb\u597d\u6027\u5462\uff1f</p> <p>\u4e14\u770b\u540e\u6587\uff0c\u5728\u8fd9\u4e4b\u524d\u603b\u7ed3\u4e0b\u672c\u7ae0\uff0cH264\u529f\u80fd\u5212\u5206\u4e3a2\u5c42\uff1a</p> <ul> <li>VCL\uff08Video Coding Layer\uff09\uff0c\u89c6\u9891\u7f16\u7801\u5c42\uff0cH264\u7f16\u7801/\u538b\u7f29\u7684\u6838\u5fc3\uff0c\u4e3b\u8981\u8d1f\u8d23\u5c06\u89c6\u9891\u6570\u636e\u7f16\u7801/\u538b\u7f29\uff0c\u518d\u5207\u5206\u3002</li> <li>NAL\uff08Network Abstraction Layer\uff09\uff0c\u7f51\u7edc\u62bd\u8c61\u5c42\uff0c\u8fd9\u91cc\u7684\u7f51\u7edc\u6307\u7684\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u800c\u4e0d\u662f\u795e\u7ecf\u7f51\u7edc\uff0c\u8d1f\u8d23\u5c06VCL\u7684\u6570\u636e\u7ec4\u7ec7\u6253\u5305\u3002</li> </ul>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#iii-nal","title":"III. \u7f51\u7edc\u62bd\u8c61\u5c42\uff1aNAL","text":"<p>\u7ec8\u4e8e\u8981\u8bb2\u300eNAL\u300f\u4e86\uff0c\u4f46\u662f\uff0c\u6211\u4eec\u9700\u8981\u5148\u770b\u300eNAL\u300f\u7684\u7ec4\u6210\u5355\u5143 - \u300eNALU\u300f\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#nal-nalu","title":"NAL\u5355\u5143 - NALU","text":"<p>\u300eNALU\u300f\u7684\u683c\u5f0f\u5982\u4e0b\u56fe3\uff08\u5f15\u7528H264 PDF\uff09\u6240\u793a\uff1a</p> <p></p> <p>\u200b\u56fe3. NALU\u683c\u5f0f\u793a\u610f\u56fe</p> <p>\u200b\u5f88\u660e\u663e\uff0c\u300eNALU\u300f\u7531\u5934\u548c\u8eab\u4f53\u4e24\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a</p> <ul> <li>\u5934\uff1a\u4e00\u822c\u5b58\u50a8\u6807\u5fd7\u4fe1\u606f\uff0c\u8b6c\u5982NALU\u7684\u7c7b\u578b\u3002\u7b2c\u4e8c\u7ae0\u8bb2\u8fc7NAL\u4f1a\u6253\u5305VCL\u6570\u636e\uff0c\u4f46\u662f\u8fd9\u5e76\u4e0d\u610f\u5473\u7740\u6240\u6709\u7684NALU\u8d1f\u8f7d\u7684\u90fd\u662fVCL\uff0c\u4e5f\u6709\u4e00\u4e9bNALU\u4ec5\u4ec5\u5b58\u50a8\u4e86\u548c\u7f16\u89e3\u7801\u4fe1\u606f\u76f8\u5173\u7684\u6570\u636e\uff1b</li> <li>\u8eab\u4f53\uff1a\u5b58\u50a8\u4e86\u771f\u6b63\u7684\u6570\u636e\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u8fd9\u5757\u4e5f\u4f1a\u76f8\u5bf9\u6bd4\u8f83\u590d\u6742\uff0c\u7b2c\u4e8c\u7ae0\u5176\u5b9e\u4e5f\u63d0\u5230\u8fc7H264\u7684\u4e00\u4e2a\u76ee\u7684\u662f\u201c\u7f51\u7edc\u53cb\u597d\u6027\u201d\uff0c\u8bf4\u767d\u4e86\u5c31\u662f\u80fd\u591f\u5f88\u597d\u5730\u9002\u914d\u5404\u79cd\u4f20\u8f93\u683c\u5f0f\u3002\u6240\u4ee5\u6839\u636e\u5b9e\u9645\u91c7\u7528\u6570\u636e\u4f20\u8f93\u6d41\u683c\u5f0f\uff0c\u4e5f\u4f1a\u5bf9\u8fd9\u90e8\u5206\u6570\u636e\u683c\u5f0f\u518d\u8fdb\u884c\u5904\u7406\u3002\u3010\u8fd9\u91cc\u5148\u6316\u4e00\u4e2a\u5751\u3011</li> </ul>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#nalu-header","title":"NALU Header","text":"<p>\u9996\u5148\uff0c\u300eNALU Header\u300f\u53ea\u53601\u4e2a\u5b57\u8282\uff0c\u53738\u4f4d\uff0c\u5176\u7ec4\u6210\u5982\u4e0b\uff1a</p> <pre><code>| forbidden_zero_bit | nal_ref_idc | nal_unit_type |\n`--------------------+-------------+---------------`\n|        1 bit       |    2 bit    |    5 bit      |\n</code></pre> <p>\u4e0b\u9762\u8be6\u7ec6\u4ecb\u7ecd\uff1a</p> <ul> <li> <p>\u300eforbidden_zero_bit\u300f\uff1a\u7981\u6b62\u4f4d\uff0c\u7b14\u8005\u5728\u6709\u7684\u5730\u65b9\u770b\u5230\u662f\u300eforbidden_bit\u300f\u3002\u5728\u7f51\u7edc\u4f20\u8f93\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u4f1a\u88ab\u7f6e\u4e3a1\uff0c\u544a\u8bc9\u63a5\u6536\u65b9\u4e22\u6389\u8be5\u5355\u5143\uff1b\u5426\u5219\u4e3a0\u3002\u8fd9\u91cc\u7b14\u8005\u6709\u51e0\u4e2a\u7591\u95ee\uff1a\u3010\u53c8\u6316\u5751\u4e86\u3011</p> </li> <li> <p>\u7f51\u7edc\u4f20\u8f93\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u7531\u8c01\u6765\u5bf9\u8fd9\u4e2a\u4f4d\u8fdb\u884c\u7f6e1\u5904\u7406\uff1f</p> </li> <li> <p>\u7f6e1\u540e\u88ab\u5bf9\u65b9\u63a5\u6536\u4e86\uff0c\u7531\u8c01\u6765\u4e22\u5f03\uff1f\uff08\u7b14\u8005\u6000\u7591\u662f\u89e3\u7801\u5668\uff09</p> </li> <li> <p>\u300enal_ref_idc\u300f\uff1a\u6307\u793a\u5f53\u524dNALU\u7684\u4f18\u5148\u7ea7\uff0c\u6216\u8005\u8bf4\u91cd\u8981\u6027\uff0c\u6570\u503c\u8d8a\u5927\u8868\u660e\u8d8a\u91cd\u8981\u3002\u7b14\u8005\u4ece\u6587\u7ae0Introduction to H.264: NAL Unit\u6458\u5f55\u4e0b\u6587\uff1a</p> </li> </ul> <p>On one hand, if it is a\u00a0reference\u00a0field / frame / picture, nal_ref_idc is\u00a0not\u00a0equal to 0. According to the Recommendation, non-zero nal_ref_idc specifies that the content of the NAL unit contains a sequence parameter set (SPS), a SPS extension, a subset SPS, a picture parameter set (PPS), a slice of a reference picture, a slice data partition of a reference picture, or a prefix NAL unit preceding a slice of a reference picture. On the other hand, if it is a\u00a0non-reference\u00a0field / frame / picture, nal_ref_idc is equal to 0. \u4e00\u65b9\u9762\uff0c\u5982\u679c\u5b83\u662f\u53c2\u8003\u5b57\u6bb5/\u5e27/\u56fe\u7247\uff0c\u5219nal_ref_idc\u4e0d\u7b49\u4e8e0\u3002\u6839\u636eH264\u6807\u51c6\uff0c\u975e\u96f6nal_ref_idcs\u6307\u793aNALU\u7684\u5185\u5bb9\u53ef\u80fd\u4e3a\uff1a\u5e8f\u5217\u53c2\u6570\u96c6\uff08SPS\uff09\uff0cSPS\u6269\u5c55\uff0c\u5b50SPS\uff0c\u56fe\u7247\u53c2\u6570\u96c6\uff08PPS\uff09\uff0c\u53c2\u8003\u56fe\u7247\u7684\u5207\u7247\uff0c\u53c2\u8003\u56fe\u7247\u7684\u5207\u7247\u6570\u636e\u5206\u533a\uff0c\u6216\u53c2\u8003\u56fe\u7247\u7684\u5207\u7247\u4e4b\u524d\u7684\u524d\u7f00NALU\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u5b83\u662f\u975e\u53c2\u8003\u573a/\u5e27/\u56fe\u7247\uff0c\u5219nal_ref_idc\u7b49\u4e8e0\u3002</p> <p>\u3010\u6316\u5751\uff1a\u8fd9\u91cc\u6307\u7684\u53c2\u8003\u56fe\u50cf\u7a76\u7adf\u662f\u4ec0\u4e48\u542b\u4e49\u5462\uff1f\u662fI\u5e27\u5417\uff1f\u3011</p> <ul> <li>\u300enal_unit_type\u300f\uff1a\u8868\u793aNALU\u7684\u7c7b\u578b\u3002\u7b14\u8005\u4eceIntroduction to H.264: NAL Unit\u6458\u5f55\u4e86\u5e76\u7ffb\u8bd1\u5982\u4e0b\uff1a     \uff08\u5148\u89e3\u91ca\u4e0b\u6bcf\u5217\u7684\u542b\u4e49\uff0c\u7b2c\u4e00\u5217\u662f\u300enal_unit_type\u300f\u7684\u53d6\u503c\uff0c\u7b2c\u4e8c\u5217\u5982\u4e2d\u6587\u542b\u4e49\uff0c\u7b2c\u4e09\u5217\u6bd4\u8f83\u8ff7\uff0c\u7b14\u8005\u8fd8\u6ca1\u6709\u5b8c\u5168\u5f04\u660e\u767d\uff0c\u7b2c\u56db\u5217\u8868\u793a\u8be5\u7c7b\u578b\u7684NALU\u662f\u5426\u4e3aVCL\uff09</li> </ul> <p></p> <p>\u7b14\u8005\u5220\u9664\u4e8613\u4ee5\u540e\u7c7b\u578b\uff0c\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u9010\u4e00\u6765\u770b\u73b0\u5728\u5217\u7740\u7684\u5185\u5bb9\uff1a</p> <ul> <li>1-4\uff1aI/P/B\u5e27\uff0c\u5408\u8d77\u6765\u4ecb\u7ecd\u7684\u539f\u56e0\u662f\uff0c\u4ed6\u4eec\u662f\u4f9d\u636eVLC\u7684slice\u533a\u5206\u7684\uff0c\u8fd9\u5757\u56e0\u4e3a\u672c\u6587\u4e0d\u6d89\u53ca\uff0c\u4e00\u65b9\u9762\u662f\u8fd9\u4e2a\u592a\u8fc7\u4e8e\u7ec6\u8282\uff0c\u771f\u8981\u5c55\u5f00\u7bc7\u5e45\u592a\u957f\uff1b\u53e6\u4e00\u4e2a\u539f\u56e0\u662f\u5c31\u7b97\u4e0d\u4e86\u89e3slice\u3001macroblock\u4e5f\u4e0d\u5f71\u54cd\u5bf9H264\u683c\u5f0f\u7684\u7406\u89e3\u3002</li> <li>5\uff1aIDR\u5e27\u3002I\u5e27\u7684\u4e00\u79cd\uff0c\u544a\u8bc9\u89e3\u7801\u5668\uff0c\u4e4b\u524d\u4f9d\u8d56\u7684\u89e3\u7801\u53c2\u6570\u96c6\u5408\uff08\u63a5\u4e0b\u6765\u8981\u51fa\u73b0\u7684SPS\\PPS\u7b49\uff09\u53ef\u4ee5\u88ab\u5237\u65b0\u4e86\u3002</li> <li>6\uff1aSEI\uff0c\u82f1\u6587\u5168\u79f0Supplemental Enhancement Information\uff0c\u7ffb\u8bd1\u4e3a\u201c\u8865\u5145\u589e\u5f3a\u4fe1\u606f\u201d\uff0c\u63d0\u4f9b\u4e86\u5411\u89c6\u9891\u7801\u6d41\u4e2d\u52a0\u5165\u989d\u5916\u4fe1\u606f\u7684\u65b9\u6cd5\u3002</li> <li>7\uff1aSPS\uff0c\u5168\u79f0Sequence Paramater Set\uff0c\u7ffb\u8bd1\u4e3a\u201c\u5e8f\u5217\u53c2\u6570\u96c6\u201d\u3002SPS\u4e2d\u4fdd\u5b58\u4e86\u4e00\u7ec4\u7f16\u7801\u89c6\u9891\u5e8f\u5217(Coded Video Sequence)\u7684\u5168\u5c40\u53c2\u6570\u3002\u56e0\u6b64\u8be5\u7c7b\u578b\u4fdd\u5b58\u7684\u662f\u548c\u7f16\u7801\u5e8f\u5217\u76f8\u5173\u7684\u53c2\u6570\u3002</li> <li>8:\u00a0PPS\uff0c\u5168\u79f0Picture Paramater Set\uff0c\u7ffb\u8bd1\u4e3a\u201c\u56fe\u50cf\u53c2\u6570\u96c6\u201d\u3002\u8be5\u7c7b\u578b\u4fdd\u5b58\u4e86\u6574\u4f53\u56fe\u50cf\u76f8\u5173\u7684\u53c2\u6570\u3002</li> <li>9\uff1aAU\u5206\u9694\u7b26\uff0cAU\u5168\u79f0Access Unit\uff0c\u5b83\u662f\u4e00\u4e2a\u6216\u8005\u591a\u4e2aNALU\u7684\u96c6\u5408\uff0c\u4ee3\u8868\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u5e27\u3002</li> </ul> <p>\u7279\u6b8a\u7684NALU\u7c7b\u578b\uff1aSPS\u548cPPS SPS\u548cPPS\u5b58\u50a8\u4e86\u7f16\u89e3\u7801\u9700\u8981\u4e00\u4e9b\u56fe\u50cf\u53c2\u6570\uff0c\u4eceWhat are SPS and PPS in video codecs?\u56de\u7b54\u4e2d\u6765\u8bf4\uff0c\u5728\u4e4b\u524d\u7684\u534f\u8bae\u4e2d\uff0c\u53d1\u73b0\u5b9e\u9645\u7f51\u7edc\u4f20\u8f93\u7f16\u7801\u597d\u7684\u6570\u636e\u6d41\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u4e22\u5305\uff0c\u800c\u5982\u679c\u4e22\u5305\u6570\u636e\u4e3a\u56fe\u50cf\u5934\u7b49\u5173\u952e\u4fe1\u606f\u7684\u65f6\u5019\u751a\u81f3\u4f1a\u5bfc\u81f4\u540e\u7eed\u89e3\u7801\u5931\u8d25\u3002\u5728H264\u4e4b\u524d\uff0c\u4e3a\u4e86\u5e94\u5bf9\u56fe\u50cf\u5934\u5173\u952e\u4fe1\u606f\u88ab\u4e22\u5931\u7684\u505a\u6cd5\u662f\u5728\u5f88\u591a\u5305\uff08\u4e5f\u6709\u8bf4\u6cd5\u662f\u6bcf\u4e00\u4e2a\u5305\uff09\u90fd\u4f1a\u643a\u5e26\u56fe\u50cf\u5934\u5173\u952e\u4fe1\u606f\uff08\u5197\u4f59\u505a\u707e\u5907\u7684\u601d\u60f3\uff09\u3002\u4f46\u662f\uff0c\u5728H264\u79cd\uff0c\u4e3a\u4e86\u63d0\u9ad8\u7f51\u7edc\u4f20\u8f93\u9c81\u68d2\u6027\uff0c\u91cd\u65b0\u8bbe\u8ba1\u51faSPS\u548cPPS\u3002\u3010\u8fd9\u91cc\u7b14\u8005\u9700\u8981\u7ed9\u81ea\u5df1\u6316\u4e00\u4e2a\u5751\uff1aSPS\u548cPPS\u8f83\u4e4b\u524d\u7684\u505a\u6cd5\u4f18\u8d8a\u5728\u54ea\u91cc\uff1f\u662f\u56e0\u4e3aSPS\u548cPPS\u5b58\u50a8\u7684\u4ec5\u4ec5\u662f\u4e00\u4e2aGOP\u7684\u4fe1\u606f\uff0c\u800c\u4e4b\u524d\u7684\u5934\u4fe1\u606f\u5b58\u50a8\u7684\u662f\u6574\u4e2a\u89c6\u9891\u5173\u952e\u4fe1\u606f\u561b\uff1f\u3011 \u63d0\u5230\u8fd9\u91cc\uff0c\u7b14\u8005\u63d2\u4e00\u53e5\u9898\u5916\u6545\u4e8b\uff1a \u6709\u4e00\u6b21\uff0c\u7b14\u8005\u5728\u5b9e\u9645\u751f\u4ea7\u73af\u5883\u4e2d\u9047\u5230\u8fc7\u7528RTSP\u8fde\u63a5\u4e00\u6b3e\u6444\u50cf\u5934\u6709\u95ee\u9898\uff0c\u4f1a\u63d0\u793a\u201cno-existing PPS 0 referenced\u201d\uff0c\u51fa\u9519\u4fe1\u606f\u5982\u4e0b\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u9519\u8bef\u5728\u7528h264_qsv\u89e3\u7801\u63d2\u4ef6\u7684\u65f6\u5019\u51fa\u73b0\uff0c\u4f46\u662f\u5207\u6362\u5230\u7528cpu\u505a\u89e3\u7801\u7684\u65f6\u5019\u5c31\u6b63\u5e38\u4e86\u3002\u540e\u6765\u5b9a\u4f4d\u5230\u95ee\u9898\u51fa\u73b0\u5728\u89c6\u9891\u6d41\u672c\u8eab\u4e0a\uff1a\u5bf9\u4e8e\u4e00\u4e9b\u89e3\u7801\u5668\uff0c\u5982h264_qsv\uff0c\u5fc5\u987b\u8981\u6709sps\u548cpps\u624d\u80fd\u89e3\u7801\uff0c\u8fd9\u662f\u56e0\u4e3a\u5f88\u591a\u786c\u89e3\u7801\u63d2\u4ef6\u4f9d\u8d56PPS\u4fe1\u606f\u3002\u89e3\u51b3\u65b9\u6848\u662f\uff1a\u628a\u6444\u50cf\u5934\u7684PPS\u9009\u9879\u8c03\u6574\u5230enable\u5c31\u53ef\u4ee5\u4e86\u3002  </p> <p>\u7279\u6b8a\u7684NALU\u7c7b\u578b\uff1aSEI \u7b14\u8005\u6700\u8fd1\u60f3\u5728\u539f\u59cb\u7684\u89c6\u9891\u5e27\u4e0a\u53e0\u52a0\u4e00\u4e9bOSD\uff0c\u53d1\u73b0\u4e86\u8fd9\u4e2a\u6709\u8da3\u7684SEI\uff0c\u4f3c\u4e4e\u53ef\u4ee5\u5b58\u653e\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6570\u636e\uff0cSEI\u90a3\u4e9b\u4e8b\u513f\u3002\u3010\u6316\u4e2a\u5751\u3011  </p> <p>AU\u5206\u9694\u7b26\u5f15\u53d1\u7684\u6545\u4e8b \u95ee\u9898\uff1aNALU\u662fH264\u7f16\u7801\u7684\u57fa\u672c\u5355\u5143\uff0cNALU\u662f\u4e0d\u662f\u4ee3\u8868\u4e86\u4e00\u4e2a\u5b8c\u6574\u5e27\uff1f \u7b54\u6848\u662f\u672a\u77e5\uff0c\u6216\u8005\u6709\u65f6\u5019\u5426\u5b9a\u7684\u3002\u89e3\u91ca\u8fd9\u4e2a\u95ee\u9898\u524d\uff0c\u5f15\u5165\u4e00\u4e2a\u65b0\u6982\u5ff5\u300eAU\u300f\uff1aH.264 \u5c06\u6784\u6210\u4e00\u5e27\u56fe\u50cf\u6240\u6709NALU\u7684\u96c6\u5408\u79f0\u4e3a\u4e00\u4e2a\u300eAU\u300f\uff0c\u82f1\u6587\u5168\u79f0Access Unit\u3002\u300eAU\u300f\u5728H264\u4e2d\u88ab\u63d0\u5230\u9891\u7387\u4e0d\u9ad8\uff0c\u4f46\u662f\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u7279\u522b\u662f\u5728\u89e3\u7801\u4e2d\u8981\u8bc6\u522b\u5e27\u8fb9\u754c\uff0c\u8fd9\u5c31\u662f\u300eAU\u5206\u9694\u7b26\u300f\uff0c\u82f1\u6587\u5168\u79f0Access unit Delimiter\uff0c\u7136\u800c\u5b9e\u9645\u89e3\u7801\u5668\u53ea\u6709\u5728\u89e3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u901a\u8fc7\u66f4\u591a\u8bed\u6cd5\u5143\u7d20\u7684\u7ec4\u5408\u624d\u80fd\u5224\u65ad\u4e00\u5e27\u56fe\u50cf\u662f\u5426\u7ed3\u675f\u3002</p> <p>\u81f3\u6b64\uff0cNALU\u5934\u90e8\u5206\u7684\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\u4e86\u89e3\u5b8c\u6bd5\u3002\u63a5\u4e0b\u6765\u8bb2\u8bb2NALU\u8eab\u4f53\u90e8\u5206\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#nalu-payload","title":"NALU Payload","text":"<p>\u5f88\u5c11\u6709\u8d44\u6599\u4f1a\u79f0\u8eab\u4f53\u90e8\u5206\u4e3aPayload\uff0c\u7edd\u5927\u90e8\u5206\u8d44\u6599\u5bf9NALU\u7ec4\u6210\u7684\u5b9a\u4e49\u662f\u8fd9\u6837\u5b50\u7684\uff1a</p> <pre><code>NALU = NALU Header + SODB // \u5b9a\u4e491\nNALU = NALU Header + RBSP // \u5b9a\u4e492\nNALU = NALU Header + EBSP // \u5b9a\u4e493\n</code></pre> <p>\u4e8e\u662f\u65b0\u7684\u95ee\u9898\u6765\u4e86\uff1aSODB\uff0cRBSP\u548cEBSP\u90fd\u662f\u4ec0\u4e48\u4e1c\u897f\u5462\uff1f\u8fd9\u5757\u6982\u5ff5\uff0c\u5728\u535a\u5ba2NALU\u8be6\u89e3\u4e8c\uff08EBSP\u3001RBSP\u4e0eSODB\uff09\u4e2d\u4ecb\u7ecd\u5f97\u975e\u5e38\u6e05\u695a\uff0c\u603b\u7ed3\u6765\u8bf4\u5c31\u662f\uff1a</p> <p>SODB</p> <p>\u82f1\u6587\u5168\u79f0String Of Data Bits\uff0c\u79f0\u539f\u59cb\u6570\u636e\u6bd4\u7279\u6d41\uff0c\u5c31\u662f\u6700\u539f\u59cb\u7684\u7f16\u7801/\u538b\u7f29\u5f97\u5230\u7684\u6570\u636e\u3002</p> <p>RBSP</p> <p>\u5168\u79f0Raw Byte Sequence Payload\uff0c\u53c8\u79f0\u539f\u59cb\u5b57\u8282\u5e8f\u5217\u8f7d\u8377\u3002\u548cSODB\u5173\u7cfb\u5982\u4e0b\uff1a</p> <p>RBSP = SODB + RBSP Trailing Bits\uff08RBSP\u5c3e\u90e8\u8865\u9f50\u5b57\u8282\uff09</p> <p>\u5f15\u5165RBSP Trailing Bits\u505a8\u4f4d\u5b57\u8282\u8865\u9f50\u3002</p> <p>EBSP</p> <p>\u5168\u79f0Encapsulated Byte Sequence Payload\uff0c\u79f0\u4e3a\u6269\u5c55\u5b57\u8282\u5e8f\u5217\u8f7d\u8377\u3002\u548cRBSP\u5173\u7cfb\u5982\u4e0b\uff1a</p> <p>EBSP \uff1aRBSP\u63d2\u5165\u9632\u7ade\u4e89\u5b57\u8282\uff08<code>0x03</code>\uff09</p> <p>\u8fd9\u91cc\u8bf4\u660e\u4e0b\u9632\u6b62\u7ade\u4e89\u5b57\u8282\uff08<code>0x03</code>\uff09\uff1a\u56e0\u4e3a\u8bb2\u89e3\u987a\u5e8f\u7684\u95ee\u9898\uff0cH264 Annex-B\u683c\u5f0f\u7684StartCode\uff08<code>0x000001</code>\u6216<code>0x00000001</code>\uff09\u5c06\u5728\u4e0b\u4e00\u7ae0\u624d\u8bb2\u89e3\u5230\u3002\u8bfb\u8005\u53ef\u4ee5\u5148\u8ba4\u4e3aH264\u4f1a\u63d2\u5165\u4e00\u4e2a\u53eb\u505aStartCode\u7684\u5b57\u8282\u4e32\u6765\u5206\u5272NALU\uff0c\u4e8e\u662f\u95ee\u9898\u6765\u4e86\uff0c\u5982\u679cRBSP\u79cd\u4e5f\u5305\u62ec\u4e86StartCode\uff08<code>0x000001</code>\u6216<code>0x00000001</code>\uff09\u600e\u4e48\u529e\u5462\uff1f\u6240\u4ee5\uff0c\u5c31\u6709\u4e86\u9632\u6b62\u7ade\u4e89\u5b57\u8282\uff08<code>0x03</code>\uff09\uff1a</p> <p>\u7f16\u7801\u65f6\uff0c\u626b\u63cfRBSP\uff0c\u5982\u679c\u9047\u5230\u8fde\u7eed\u4e24\u4e2a<code>0x00</code>\u5b57\u8282\uff0c\u5c31\u5728\u540e\u9762\u6dfb\u52a0\u9632\u6b62\u7ade\u4e89\u5b57\u8282\uff08<code>0x03</code>\uff09\uff1b\u89e3\u7801\u65f6\uff0c\u540c\u6837\u626b\u63cfEBSP\uff0c\u8fdb\u884c\u9006\u5411\u64cd\u4f5c\u5373\u53ef\u3002</p> <p>\u6700\u540e\uff0c\u4ee5\u4e00\u5e45\u56fe\u603b\u7ed3\u672c\u7ae0\u8282\uff1a</p> <p></p> <p>NALU\u683c\u5f0f</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#iv-h264","title":"IV. H264\u5176\u4ed6\u6982\u5ff5","text":"<p>\u4e86\u89e3\u4e86NALU\u4e4b\u540e\uff0c\u5173\u4e8eH264\u683c\u5f0f\uff0c\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff1a\u89e3\u7801\u5668\u600e\u4e48\u77e5\u9053\u4e00\u4e2aNALU\u8981\u7ed3\u675f\u4e86\uff1f\u6216\u8005\u8bf4\u5b83\u600e\u4e48\u533a\u5206NALU\u7684\u8fb9\u754c\uff1f</p> <p>\u8981\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u5fc5\u987b\u4e86\u89e3H264\u7684\u6253\u5305\u65b9\u5f0f\uff0c\u901a\u4fd7\u6765\u8bf4\u662fH264\u5982\u4f55\u7ec4\u7ec7\u4e00\u8fde\u4e32\u7684NALU\u4e3a\u5b8c\u6574\u7684H264\u7801\u6d41\u3002\u76ee\u524dH264\u4e3b\u6d41\u7684\u4e24\u79cd\u683c\u5f0f\uff1a</p> <ul> <li>Annex-B\uff1a\u672c\u6587\u5173\u4e8eNALU\u7684\u5f88\u591a\u7ec6\u8282\u4ecb\u7ecd\u90fd\u662fAnnex-B\uff0c\u5b83\u4f9d\u9760\u524d\u6587\u63d0\u5230\u7684Start Code\u6765\u5206\u9694NALU\uff0c\u6253\u5305\u65b9\u5f0f\u5982\u4e0b\uff1a     [start code]--[NALU]--[start code]--[NALU]...</li> <li> <p>AVCC\uff1a\u7b14\u8005\u5bf9\u8fd9\u4e2a\u683c\u5f0f\u4e86\u89e3\u7684\u4e0d\u591a\uff0c\u4ece\u7f51\u4e0a\u627e\u5230\u5f88\u591a\u8d44\u6599\u77e5\u9053\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> </li> <li> <p>\u7531NALU\u548cextradata/sequence header\u7ec4\u6210\uff0c\u7531\u4e8e\u5728extradata/sequence header\u4e2d\u5b58\u50a8\u4e86NALU\u7684\u957f\u5ea6\uff0c\u56e0\u6b64NALU Payload\u4e0d\u9700\u8981\u505a\u5b57\u8282\u5bf9\u9f50\uff0c\u4e0d\u8fc7\u9632\u7ade\u4e89\u5b57\u8282\u8fd8\u662f\u6709\u7684\uff1b</p> </li> <li>SPS\u548cPPS\u88ab\u653e\u5728\u4e86extradata/sequence header\u3002</li> <li>\u6253\u5305\u65b9\u5f0f\uff1a     [SIZE (4 bytes)]--[NAL]--[SIZE (4 bytes)]--[NAL]... //\u8bf7\u6ce8\u610f\uff0cSIZE\u4e00\u822c\u4e3a4\u5b57\u8282\uff0c\u4f46\u662f\u5177\u4f53\u4ee5\u5b9e\u9645\u4e3a\u51c6</li> </ul> <p>\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u8981\u6709\u8fd9\u4e24\u7c7b\u683c\u5f0f\uff0c\u7b14\u8005\u8fd8\u9700\u8981\u67e5\u9605\u66f4\u591a\u7684\u8d44\u6599\u3002\u3010\u6316\u5751\u6316\u5751\u3011\u4e0d\u8fc7StackOverflow\u4e0a\u5173\u4e8ePossible Locations for Sequence/Picture Parameter Set(s) for H.264 Stream\u7684\u56de\u7b54\u53ef\u4ee5\u5e2e\u52a9\u6df1\u5165\u4e86\u89e3\u8fd9\u4e24\u79cd\u683c\u5f0f\uff0c\u63a8\u8350\u9605\u8bfb\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/%EF%BC%88%E7%BC%96%E8%A7%A3%E7%A0%81%EF%BC%89H264%E7%BC%96%E7%A0%81/#start-code","title":"Start Code","text":"<p>\u7b14\u8005\u6709\u4e00\u6b21\u5c1d\u8bd5\u7528qsv\u786c\u89e3\u89e3\u7801\u4e00\u4e2a\u79bb\u7ebf\u89c6\u9891\uff0c\u7ed3\u679c\u63d0\u793a\u201cno start code is found\u201d\uff0c\u7b14\u8005\u5f53\u65f6\u5c31\u61f5\u4e86\uff1a\u4ec0\u4e48\u662fstart code\uff1f</p> <p></p> <p>Start Code\u662fAnnex-B\u5206\u9694NALU\u7684\u529e\u6cd5\uff0c\u4e00\u822c\u91c7\u7528<code>0x000001</code>\u6216<code>0x00000001</code>\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/WebRTC/WebRTC/","title":"WebRTC","text":"<p>WebRTC\u662fGoogle\u5f00\u6e90\u7684\u5728\u7ebf\u5b9e\u65f6\u901a\u4fe1\u7684\u65b9\u6848\uff0c\u7b80\u5355\u6765\u8bb2\u5c31\u662f\u4e92\u8054\u7f51\u97f3\u89c6\u9891\u4f1a\u8bae\uff0c\u7531\u4e8e\u662fRFC\u6807\u51c6\u534f\u8bae\uff0c\u5e76\u4e14\u6d4f\u89c8\u5668\u652f\u6301\uff0c \u56e0\u6b64\u4e5f\u4e0d\u65ad\u7684\u5728\u62d3\u5c55\u8fb9\u754c\uff0c\u5e94\u7528\u5728\u4f4e\u5ef6\u8fdf\u7684\u97f3\u89c6\u9891\u573a\u666f\uff0c\u6bd4\u5982\u5728\u7ebf\u4f1a\u8bae\u3001\u76f4\u64ad\u8fde\u9ea6\u3001\u4f4e\u5ef6\u8fdf\u76f4\u64ad\u3001\u8fdc\u7a0b\u673a\u5668\u4eba\u63a7\u5236\u3001\u667a\u80fd\u95e8\u94c3\u3001 \u76f4\u64ad\u7684\u7f51\u9875\u63a8\u6d41\u7b49\u3002</p> <p>WebRTC\u5b9e\u9645\u4e0a\u662f\u4e24\u4e2aWeb\u6d4f\u89c8\u5668\u4e4b\u95f4\u76f4\u63a5\u901a\u4fe1\u7684\u6807\u51c6\uff0c\u4e3b\u8981\u5305\u542b\u4e86\u4fe1\u4ee4(Signaling)\u548c\u5a92\u4f53(Media)\u4e24\u4e2a\u90e8\u5206\u7684\u534f\u8bae\u3002 \u4fe1\u4ee4\u89e3\u51b3\u4e24\u4e2a\u8bbe\u5907\u4e4b\u95f4\u7684\u80fd\u529b\u7684\u534f\u5546\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u652f\u6301\u7684\u7f16\u89e3\u7801\u80fd\u529b\u3002\u5a92\u4f53\u89e3\u51b3\u4e24\u4e2a\u8bbe\u5907\u4e4b\u95f4\u52a0\u5bc6\u548c\u4f4e\u5ef6\u8fdf\u5a92\u4f53\u5305\u4f20\u8f93\u7684\u80fd\u529b\u3002 \u9664\u6b64\u4e4b\u5916\uff0cWebRTC\u672c\u8eab\u8fd8\u5b9e\u73b0\u4e86\u8bed\u8a00\u5904\u7406\u6280\u672f\u6bd4\u59823A\uff0c\u7f51\u7edc\u62e5\u585e\u63a7\u5236\u6bd4\u5982NACK\u3001FEC\u548cGCC\uff0c\u97f3\u89c6\u9891\u7f16\u89e3\u7801\uff0c\u5e73\u6ed1\u548c\u4f4e\u5ef6\u8fdf\u64ad\u653e\u6280\u672f\u3002</p> <pre><code>+----------------+                        +----------------+\n+    Browser     +----&lt;--Signaling-----&gt;--+    Browser     +\n+ (like Chrome)  +----&lt;----Media-----&gt;----+ (like Chrome)  +\n+----------------+                        +----------------+\n</code></pre> <p>\u590d\u5236</p> <p>Note: WebRTC\u5df2\u7ecf\u662fRFC\u6b63\u5f0f\u6807\u51c6\uff0c\u56e0\u6b64\u5404\u79cd\u6d4f\u89c8\u5668\u90fd\u5df2\u7ecf\u652f\u6301\uff0c\u800c\u5f00\u6e90\u7684\u5b9e\u73b0\u4e5f\u5f88\u591a\uff0c\u56e0\u6b64\u4e0d\u9650\u4e8e\u6d4f\u89c8\u5668\uff0c\u79fb\u52a8\u7aef\u7684\u6d4f\u89c8\u5668\u548c Native\u5e93\u4e5f\u6709\u5f88\u591a\uff0c\u56e0\u6b64\u4e3a\u4e86\u6c9f\u901a\u7684\u7b80\u5355\u8d77\u89c1\uff0c\u672c\u6587\u4e00\u822c\u4ee5\u6d4f\u89c8\u5668\u6307\u4ee3\u6240\u6709\u652f\u6301WebRTC\u534f\u8bae\u7684\u5ba2\u6237\u7aef\u6216\u8bbe\u5907\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u5728\u4e92\u8054\u7f51\u4e0a\uff0c\u4e24\u4e2a\u6d4f\u89c8\u5668\u51e0\u4e4e\u65e0\u6cd5\u76f4\u63a5\u901a\u4fe1\uff0c\u7279\u522b\u662f\u4e0d\u5728\u4e00\u4e2a\u5c40\u57df\u7f51\uff0c\u800c\u4e14\u662f\u5728\u8fdc\u8ddd\u79bb\u8de8\u57ce\u5e02\u751a\u81f3\u8de8\u56fd\u5bb6\u65f6\uff0c\u4e24\u4e2a\u6d4f\u89c8\u5668\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u4f1a\u7ecf\u8fc7\u975e\u5e38\u591a\u7684\u7f51\u7edc\u8def\u7531\u5668\u548c\u9632\u706b\u5899\uff0c\u56e0\u6b64\u4f20\u8f93\u8d28\u91cf\u65e0\u6cd5\u4fdd\u969c\u3002\u56e0\u6b64\uff0c\u5b9e\u9645\u5e94\u7528\u662f\u9700\u8981\u7ecf\u8fc7\u670d\u52a1\u5668\u4e2d\u8f6c\uff0c\u800cWebRTC\u670d\u52a1\u5668\u6709\u51e0\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>Signaling Server: \u4fe1\u4ee4\u670d\u52a1\uff0c\u4e24\u4e2a\u6d4f\u89c8\u5668\u4e4b\u95f4\u4ea4\u6362SDP\u7684\u670d\u52a1\u3002\u5982\u679c\u662f\u591a\u4eba\u4f1a\u8bae\uff0c\u5219\u9700\u8981\u63d0\u4f9b\u623f\u95f4\u670d\u52a1\uff0c\u672c\u8d28\u4e0a\u90fd\u662f\u4e3a\u5404\u4e2a\u6d4f\u89c8\u5668\u4ea4\u6362SDP\u3002\u800c\u5728\u6d41\u5a92\u4f53\u9886\u57df\uff0c\u4e3a\u4e86\u53ef\u4ee5\u4f7f\u7528WebRTC\u63a8\u6d41\u548c\u64ad\u653e\uff0c\u50cf\u63a8\u9001\u548c\u64ad\u653eRTMP/SRT/HLS\u6d41\u4e00\u6837\uff0cWHIP/WHEP\u534f\u8bae\u88ab\u8bbe\u8ba1\u51fa\u6765\u4e86\u3002</li> <li>TURN Server: \u8f6c\u53d1\u670d\u52a1\uff0c\u5e2e\u52a9\u4e24\u4e2a\u6d4f\u89c8\u5668\u4e4b\u95f4\u8f6c\u53d1\u5a92\u4f53\u6570\u636e\u7684\u670d\u52a1\u3002\u8fd9\u662f\u4e00\u79cd\u900f\u660e\u8f6c\u53d1\u670d\u52a1\uff0c\u5e76\u4e0d\u4f1a\u5b9e\u73b0\u6570\u636e\u7f13\u5b58\uff0c\u56e0\u6b64\u5f53\u591a\u4eba\u4f1a\u8bae\u65f6\uff0c\u6d4f\u89c8\u5668\u4e4b\u95f4\u9700\u8981\u4f20\u8f93<code>N*N + N*(N-2)</code>\u4efd\u6570\u636e\u3002\u4e00\u822c\u53ea\u5e94\u7528\u5728\u975e\u5e38\u5c11\u7684\u901a\u4fe1\u573a\u666f\u4e2d\uff0c\u6bd4\u5982\u4e00\u5bf9\u4e00\u3002</li> <li>SFU Server: \u9009\u62e9\u6027\u8f6c\u53d1\u670d\u52a1\uff0c\u670d\u52a1\u5668\u4e0a\u6709\u7f13\u5b58\u6570\u636e\uff0c\u56e0\u6b64\u6d4f\u89c8\u5668\u53ea\u9700\u8981\u4e0a\u4f20\u4e00\u4efd\u6570\u636e\uff0c\u670d\u52a1\u5668\u4f1a\u590d\u5236\u7ed9\u5176\u4ed6\u53c2\u4f1a\u8005\u3002SRS\u5c31\u662fSFU\uff0c\u5173\u4e8eSFU\u7684\u4f5c\u7528\u53ef\u4ee5\u53c2\u8003\u8fd9\u91cc\u3002\u76ee\u524d\u4e3b\u8981\u7684WebRTC\u670d\u52a1\u5668\u90fd\u662fSFU\u670d\u52a1\u5668\uff0c\u4f1a\u6709<code>N*N</code>\u4efd\u6d41\u4f20\u8f93\uff0c\u6bd4TURN\u5c11<code>N*(N-2)</code>\u4efd\u4e0a\u884c\u6570\u636e\u4f20\u8f93\uff0c\u80fd\u89e3\u51b3\u5927\u90e8\u5206\u7684\u4f20\u8f93\u95ee\u9898\u3002</li> <li>MCU Server: \u591a\u70b9\u63a7\u5236\u670d\u52a1\uff0c\u670d\u52a1\u5668\u5c06\u4f1a\u8bae\u4e2d\u7684\u6d41\u5408\u5e76\u6210\u4e00\u8def\uff0c\u8fd9\u6837\u6d4f\u89c8\u5668\u53ea\u9700\u8981\u4f20\u8f93<code>N*2</code>\u4efd\u6570\u636e\uff0c\u4e0a\u4f20\u4e00\u8def\u4e0b\u8f7d\u4e00\u8def\u6570\u636e\u3002\u4f46\u7531\u4e8e\u9700\u8981\u7f16\u89e3\u7801\uff0c\u670d\u52a1\u5668\u652f\u6301\u7684\u6d41\u7684\u6570\u91cf\u6bd4SFU\u8981\u5c11\u4e00\u4e2a\u91cf\u7ea7\uff0c\u53ea\u6709\u5728\u67d0\u4e9b\u7279\u5b9a\u573a\u666f\u624d\u4f1a\u91c7\u7528\uff0c\u5177\u4f53\u53c2\u8003#3625</li> </ul> <p>\u6211\u4eec\u91cd\u70b9\u4ecb\u7ecdSFU\u7684\u5de5\u4f5c\u6d41\uff0c\u56e0\u4e3aSFU\u662f\u5728WebTC\u670d\u52a1\u5668\u4e2d\u4f7f\u7528\u6700\u591a\u7684\uff0c\u5b83\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\uff1a</p> <pre><code>+----------------+                        +---------+\n+    Browser     +----&lt;--Signaling-----&gt;--+   SFU   +\n+ (like Chrome)  +----&lt;----Media-----&gt;----+  Server +\n+----------------+                        +---------+\n</code></pre> <p>\u590d\u5236</p> <p>Note: SFU\u4e00\u822c\u90fd\u4f1a\u6709Signaling\u7684\u80fd\u529b\uff0c\u5176\u5b9e\u53ef\u4ee5\u628aRTMP\u5730\u5740\u4e5f\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u79cd\u975e\u5e38\u7b80\u5316\u7684\u4fe1\u4ee4\u534f\u8bae\uff0c\u53ea\u662fWebRTC\u7684\u4fe1\u4ee4\u9700\u8981\u534f\u5546 \u5a92\u4f53\u548c\u4f20\u8f93\u80fd\u529b\uff0c\u6240\u4ee5\u6bd4\u8f83\u590d\u6742\u3002\u5728\u590d\u6742\u7684WebRTC\u7cfb\u7edf\u4e2d\uff0c\u53ef\u80fd\u6709\u72ec\u7acb\u7684Signaling\u548cRoom\u96c6\u7fa4\uff0c\u4f46\u662fSFU\u540c\u6837\u4e5f\u4f1a\u6709\u7b80\u5316\u7684Signaling\u80fd\u529b\uff0c \u53ea\u662f\u53ef\u80fd\u662f\u7528\u4e8e\u548c\u5176\u4ed6\u670d\u52a1\u901a\u4fe1\u3002</p> <p>SRS\u662f\u4e00\u4e2a\u5a92\u4f53\u670d\u52a1\u5668\uff0c\u63d0\u4f9b\u4e86Signaling\u548cSFU Server\u7684\u80fd\u529b\u3002\u548c\u5176\u4ed6SFU\u6bd4\u5982Janus\u4e0d\u540c\u7684\u662f\uff0cSRS\u662f\u57fa\u4e8eStream\u7684\uff0c\u5c3d\u7ba1\u623f\u95f4\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u53c2\u4e0e\u8005\uff0c\u672c\u8d28\u4e0a\u90fd\u662f\u6709\u4eba\u5728\u63a8\u6d41\uff0c\u5176\u4ed6\u4eba\u5728\u8ba2\u9605\u8fd9\u4e2a\u6d41\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u5c06\u623f\u95f4\u4e2d\u7684\u6240\u6709\u6d41\uff0c\u90fd\u8026\u5408\u5230\u4e00\u4e2aSFU\u4f20\u8f93\uff0c\u53ef\u4ee5\u5206\u6563\u5230 \u591a\u4e2aSFU\u4f20\u8f93\uff0c\u8fd9\u6837\u53ef\u4ee5\u652f\u6301\u66f4\u591a\u4eba\u7684\u4f1a\u8bae\u3002</p> <p>SRS\u652f\u6301\u7684Signaling\u5c31\u662fWHIP\u548cWHEP\uff0c\u5177\u4f53\u8bf7\u53c2\u8003HTTP API\u90e8\u5206\u3002\u548c\u76f4\u64ad\u5f88\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u7531\u4e8eSignaling\u548cMedia\u5206\u79bb\uff0c \u56e0\u6b64\u9700\u8981\u8bbe\u7f6eCandidate\uff0c\u8be6\u7ec6\u53c2\u8003Candidate\u3002Media\u9ed8\u8ba4\u4f7f\u7528UDP\u4f20\u8f93\uff0c\u82e5UDP\u4e0d\u53ef\u7528\u4e5f\u53ef\u4ee5\u7528TCP\u53c2\u8003\u00a0TCP\u3002\u82e5\u9047\u5230\u4e0d\u53ef\u7528\u7684\u60c5\u51b5\uff0c\u5f88\u6709\u53ef\u80fd\u662fCandidate\u8bbe\u7f6e\u4e0d\u5bf9\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u9632\u706b\u5899\u6216\u7aef\u53e3\u4e0d\u901a\uff0c\u8bf7\u53c2\u8003\u00a0Connectivity\u4f7f\u7528\u5de5\u5177\u68c0\u67e5\u3002SRS\u8fd8\u652f\u6301\u4e86\u4e0d\u540c\u534f\u8bae\u7684\u8f6c\u6362\uff0c\u6bd4\u5982\u63a8\u6d41RTMP\u540e\u7528WebRTC\u89c2\u770b\u53c2\u8003\u00a0RTMP to WebRTC\uff0c\u6216\u8005\u7528WebRTC\u63a8\u6d41\u540e\u7528HLS\u89c2\u770b\u53c2\u8003RTC to RTMP\u3002</p> <p>SRS\u662f\u57282020\u5e74\u652f\u6301\u7684WebRTC\u534f\u8bae\uff0c\u7814\u53d1\u7684\u8be6\u7ec6\u8fc7\u7a0b\u8bf7\u53c2\u8003#307\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/WebRTC/webrtc%E9%85%8D%E7%BD%AE/","title":"Webrtc\u914d\u7f6e","text":"<p>webrtc\u5b98\u65b9\u6587\u6863 webrtc\u5b66\u4e60\u6307\u5357 webrtc\u5b9e\u73b0\u591a\u4eba\u4f1a\u8bae\u601d\u8def https\u8bc1\u4e66\u914d\u7f6e srs\u63a8\u6d41\u4ee3\u7801 webrtc\u64ad\u653e ICE\u6280\u672f SRS4.0\u6e90\u4ee3\u7801\u5206\u6790\u4e4bWebRTC\u670d\u52a1\u603b\u4f53\u4ecb\u7ecd</p> <p>electron\u5c4f\u5e55\u5171\u4eab</p> <p>\u4f7f\u7528tcp\u63a8\u6d41 <pre><code>docker run --rm -it -p 1935:1935 \\\n  -p 1985:1985 -p 8080:8080 \\\n  -p 1990:1990 -p 8088:8088 \\\n  -p 8000:8000/udp \\\n  -e CANDIDATE=\"172.16.220.111\" \\\n  registry.cn-hangzhou.aliyuncs.com/ossrs/srs:v5.0.60 \\\n  ./objs/srs -c conf/https.docker.conf\n</code></pre></p> <p>\u6ce8\u610f\uff1a\u81ea\u7b7e\u540d\u8bc1\u4e66\uff0c\u5728\u7a7a\u767d\u5904\u8f93\u5165<code>thisisunsafe</code>\uff08\u6ce8\u610f\u6ca1\u7a7a\u683c\uff09\u3002</p> <p>\u63a8\u6d41\u6d4b\u8bd5 https://172.16.220.111:8088/players/rtc_publisher.html https://172.16.220.111:8088/players/rtc_player.html?schema=https&amp;port=8088&amp;api=8088</p> <p>webrtc://172.16.220.111:1990/live/livestream</p> <p>SFU\u4e00\u5bf9\u4e00\u6d4b\u8bd5</p> <p>\u542f\u52a8\u4fe1\u4ee4 <pre><code>docker run --rm -p 1989:1989 registry.cn-hangzhou.aliyuncs.com/ossrs/signaling:1\n</code></pre></p> <p>\u542f\u52a8httpx-static\uff0c\u8f6c\u6362HTTPS\u548cWSS\u534f\u8bae\uff1a <pre><code>docker run --rm -p 80:80 -p 443:443 registry.cn-hangzhou.aliyuncs.com/ossrs/httpx:1 \\\n./bin/httpx-static -http 80 -https 443 -ssk \\\n./etc/server.key -ssc ./etc/server.crt \\\n-proxy http://172.16.220.111:1989/sig -proxy http://172.16.220.111:1985/rtc \\\n-proxy http://172.16.220.111:8080/\n</code></pre></p> <p>docker-compose\u6587\u4ef6 <pre><code>version: '3'\n\nservices:\n  srs:\n    image: registry.cn-hangzhou.aliyuncs.com/ossrs/srs:v5.0.60\n    ports:\n      - '1935:1935'\n      - '1985:1985'\n      - '8080:8080'\n      - '1990:1990'\n      - '8088:8088'\n      - '8000:8000/udp'\n    environment:\n      - CANDIDATE=172.16.220.111\n    command: ./objs/srs -c conf/https.docker.conf\n\n  signaling:\n    image: registry.cn-hangzhou.aliyuncs.com/ossrs/signaling:1\n    ports:\n      - '1989:1989'\n\n  httpx:\n    image: registry.cn-hangzhou.aliyuncs.com/ossrs/httpx:1\n    ports:\n      - '80:80'\n      - '443:443'\n    command: ./bin/httpx-static -http 80 -https 443 -ssk ./etc/server.key -ssc ./etc/server.crt -proxy http://172.16.220.111:1989/sig -proxy http://172.16.220.111:1985/rtc -proxy http://172.16.220.111:8080/\n</code></pre></p> <p> \u5982\u97f3\u9891\u9664\u4e86\u53ef\u4ee5\u652f\u6301Opus\u3001AAC\u5916\uff0c\u8fd8\u53ef\u4ee5\u652f\u6301G.711/G.722\u3001iLBC\u3001Speex\u7b49\uff0c\u89c6\u9891\u9664\u4e86\u53ef\u4ee5\u652f\u6301H264\u5916\uff0c\u8fd8\u53ef\u4ee5\u652f\u6301H265\u3001VP8\u3001VP9\u3001AVI\u7b49\uff0c\u8fd9\u6837\u5b83\u624d\u80fd\u5e94\u7528\u5f97\u66f4\u5e7f\u6cdb\u3002</p> <p> </p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/","title":"Freeswitch","text":""},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#1","title":"1 \u5b89\u88c5\u6559\u7a0b","text":"<p>freeswitch\u7684\u5b98\u65b9 \u5b89\u88c5\u6587\u6863 \u63a8\u8350\u4f7f\u7528debian\u7cfb\u7edf\uff0c\u8fd9\u91cc\u4f7f\u7528docker\u7684debian:bullseye\u955c\u50cf\u3002 1.10.4\u53ca\u4e4b\u540e\u7684\u7248\u672cfreeswitch\u5c06spandsp \u548c sofia-sip\u63d0\u53d6\u51fa\u6765\u4e86\uff0c\u9700\u8981\u5355\u72ec\u62c9\u4ee3\u7801\u7f16\u8bd1\uff0c\u5982\u679c\u662f\u7f16\u8bd11.10.4\u4e4b\u524d\u7684freeswitch\u4e0d\u5fc5\u5355\u72ec\u62c9\u53d6spandsp\u548csofia-sip\u4ee3\u7801\uff0c\u76f4\u63a5\u7f16\u8bd1\u5373\u53ef\u3002\u5404\u7248\u672c\u8bf4\u660efreeswitch release notes \uff0c\u8fd9\u91cc\u5b89\u88c5 1.10.9 \u7248\u672c\u3002</p> <p>https://github.com/freeswitch/sofia-sip</p> <p>https://github.com/freeswitch/spandsp</p> <p>https://github.com/freeswitch/modunimrcp</p> <p>https://github.com/signalwire/libks</p> <p>\u6700\u65b0\u7684mod_verto\u200b\u4f9d\u8d56libks\u200b\uff0c\u53ef\u4ee5\u53c2\u8003 http://www.freeswitch.org.cn/Makefile \u4ee5\u786e\u5b9a\u4f60\u7684\u5e73\u53f0\u4e0a\u5e94\u8be5\u5b89\u88c5\u54ea\u4e9b\u5305\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#11-docker","title":"1.1 docker\u5b89\u88c5\u811a\u672c","text":"<pre><code>docker run -it debian:bullseye\n\nsed -i 's/deb.debian.org/mirrors.ustc.edu.cn/g' /etc/apt/sources.list\nsed -i 's/security.debian.org/mirrors.ustc.edu.cn/g' /etc/apt/sources.list\n\napt-get update\n\napt-get install \\\n    build-essential cmake automake autoconf 'libtool-bin|libtool' pkg-config \\\n    libssl-dev zlib1g-dev libdb-dev unixodbc-dev libncurses5-dev libexpat1-dev libgdbm-dev bison erlang-dev libtpl-dev libtiff5-dev uuid-dev \\\n    libpcre3-dev libedit-dev libsqlite3-dev libcurl4-openssl-dev nasm \\\n    libogg-dev libspeex-dev libspeexdsp-dev \\\n    libldns-dev \\\n    python3-dev \\\n    libavformat-dev libswscale-dev libavresample-dev \\\n    liblua5.2-dev \\\n    libopus-dev \\\n    libpq-dev  libmariadb-dev \\\n    libsndfile1-dev libflac-dev libogg-dev libvorbis-dev \\\n    git vim\n\necho \"/usr/local/lib\" &gt;&gt; /etc/ld.so.conf\necho \"/usr/lib/x86_64-linux-gnu\" &gt;&gt; /etc/ld.so.conf\nldconfig\n\n# \u8bbe\u7f6egithub\u4ee3\u7406\ngit config --global url.\"https://ghproxy.com/https://github.com\".insteadOf \"https://github.com\"\n\ncd /usr/local/src\n\n\ngit clone https://github.com/signalwire/libks\n\ngit clone https://github.com/freeswitch/sofia-sip\n\n#tag 20230804 install \ngit clone https://github.com/freeswitch/spandsp\ncd spandsp/\ngit reset --hard 67d2455efe02e7ff0d897f3fd5636fed4d54549e\n\n\ncurl -o freeswitch-1.10.9.-release.tar.gz https://files.freeswitch.org/releases/freeswitch/freeswitch-1.10.9.-release.tar.gz\nmv freeswitch-1.10.9.-release freeswitch\nrm -rf freeswitch-1.10.9.-release.tar.gz\n\n# /usr/lib/libks2.so\n# /usr/lib/pkgconfig/libks2.pc\n# /usr/include/libks2\ncd libks/\ncmake .\nmake\nmake install\n\n#tag /usr/local/lib\ncd ../sofia-sip/\n./bootstrap.sh\n./configure\nmake\nmake install\n\n#tag  /usr/local/lib\ncd ../spandsp/\n./bootstrap.sh\n./configure\nmake\nmake install\n\nldconfig\n\n#tag \ncd ../freeswitch/\n\n# \u53d6\u6d88mod_maridb \u6ce8\u91ca\n# \u53d6\u6d88\u6ce8\u91ca\u4e2d\u6587\u8bed\u97f3\nsed -i '/mod_signalwire/s/^/#/' /usr/local/src/freeswitch/modules.conf\nsed -i '/mod_av/s/^/#/' /usr/local/src/freeswitch/modules.conf\nsed -i '/mod_verto/s/^/#/' /usr/local/src/freeswitch/modules.conf\n\n# \u5982\u679c\u662fgithub\u62c9\u7684\u4ee3\u7801\u6709\u8fd9\u4e00\u6b65\uff0c\u5982\u679c\u662f\u4e0b\u8f7dtar\u5305\u89e3\u538b\u7684\u6ca1\u6709\u8fd9\u4e00\u6b65\n# ./bootstrap.sh\n./configure\nmake\nmake install\n\n# \u5f00\u542f\u4e2d\u6587\u6a21\u5757\nsed -i '/mod_av/s|.*|&lt;!-- &amp; --&gt;|' /usr/local/freeswitch/conf/autoload_configs/modules.conf.xml\nsed -i '/mod_verto/s|.*|&lt;!-- &amp; --&gt;|' /usr/local/freeswitch/conf/autoload_configs/modules.conf.xml\nsed -i '/mod_signalwire/s|.*|&lt;!-- &amp; --&gt;|' /usr/local/freeswitch/conf/autoload_configs/modules.conf.xml\n\n# \u5b89\u88c5unimrcp\u76f8\u5173\u6a21\u5757\ncd /usr/local/src\nwget https://www.unimrcp.org/project/component-view/unimrcp-deps-1-6-0-tar-gz/download -O unimrcp-deps-1.6.0.tar.gz\ntar xvzf unimrcp-deps-1.6.0.tar.gz\n\ncd unimrcp-deps-1.6.0\n\n# /usr/local/apr/lib\ncd libs/apr\n./configure --prefix=/usr/local/apr\nmake\nmake install \n\necho \"/usr/local/apr/lib\" &gt;&gt; /etc/ld.so.conf\nldconfig\n\ncd ..\ncd apr-util\n./configure --with-apr=/usr/local/src/unimrcp-deps-1.6.0/libs/apr --prefix=/usr/local/apr\nmake\nmake install\nldconfig\n\n#  /usr/local/unimrcp/lib\ncd /usr/local/src\ngit clone https://github.com/unispeech/unimrcp.git\ncd unimrcp\n./bootstrap\n./configure\nmake\nmake install\n\n#  /usr/local/freeswitch/mod\ngit clone https://github.com/freeswitch/mod_unimrcp.git\ncd mod_unimrcp\nexport PKG_CONFIG_PATH=/usr/local/freeswitch/lib/pkgconfig:/usr/local/unimrcp/lib/pkgconfig\n./bootstrap.sh\n./configure\nmake\nmake install\ncd ..\n\napt-get install supervisor\n\n# websocket\nsudo apt remove libwebsockets-dev\ngit clone --branch v4.3-stable https://github.com/warmcat/libwebsockets.git\ncd libwebsockets\nmkdir build &amp;&amp; cd build\ncmake .. -DCMAKE_INSTALL_PREFIX=/usr/local/libwebsockets\nmake -j$(nproc)\nsudo make install\necho \"/usr/local/libwebsockets/lib\" | sudo tee /etc/ld.so.conf.d/libwebsockets.conf\nsudo ldconfig\n</code></pre> <p>2023/08/18\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230freeswitch\u7f16\u8bd1\u94fe\u63a5spandsp\u6a21\u5757\u7684\u9519\u8bef\uff0c\u9700\u8981\u91cd\u7f6espandsp\u5230\u8001\u7684\u7248\u672c</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#12","title":"1.2 \u57fa\u7840\u914d\u7f6e","text":"<p>\u7981\u7528ipv6\u914d\u7f6e</p> <pre><code>cd sip_profiles\nmv external-ipv6.xml external-ipv6.xml.bak\nmv internal-ipv6.xml internal-ipv6.xml.bak\n</code></pre> <p>\u66f4\u6539event_socket.conf.xml\u6587\u4ef6\uff0c\u9ed8\u8ba4ip\u4e3a::\u200b ipv6\u683c\u5f0f\uff0c\u66f4\u6539\u4e3a 0.0.0.0\uff0c\u5426\u5219\u62a5\u9519\uff1a</p> <pre><code>ERROR: Failed to set SCHED_FIFO scheduler (Operation not permitted)\nERROR: Could not set nice level\n\n[ERR] switch_vpx.c:1832 no codecs in vp8\n[ERR] switch_vpx.c:1832 no codecs in vp9\n[ERR] switch_vpx.c:1832 no codecs in conference-vp8\n\n[ERR] mod_event_socket.c:2962 Cannot get information about IP address ::\n</code></pre> <p>\u8de8nat\u914d\u7f6e</p> <p>\u4e3b\u8981\u662f\u4fee\u6539internal\u548cexternal\u4e24\u4e2aUA\u4e2dext_ip\u3002 FreeSWITCH\u662f\u628a\u9884\u5904\u7406\u53d8\u91cf\u5b9a\u4e49\u5728etc/freeswitch/vars.xml\u200b\u4e2d\uff0c\u7136\u540e\u518d\u7531\u5176\u4ed6\u6587\u4ef6\u53bb\u5f15\u7528\u3002</p> <pre><code>&lt;include&gt;\n  &lt;!-- \u6ce8\u610f\uff0cX-PRE-PROCESS\u5f00\u5934\u7684\u914d\u7f6e\u90fd\u662f\u9884\u5904\u7406\u914d\u7f6e\uff0c\u6709\u70b9\u50cf\u662f\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u662f\u53d8\u91cf\u7684\u503c\u53ef\u4ee5\u5728\u7a0b\u5e8f\u542f\u52a8\u65f6\u52a8\u6001\u83b7\u53d6\u5230 --&gt;\n\n  &lt;!-- \u8fd9\u4e24\u4e2a\u53d8\u91cf\u5fc5\u987b\u8981\u8bbe\u7f6e\u6210\u516c\u7f51IP\uff0c\u67093\u79cd\u65b9\u6cd5\u914d\u7f6e\u516c\u7f51IP\uff1a --&gt;\n  &lt;!-- 1\u3001\u914d\u4e00\u4e2a\u56fa\u5b9a\u7684\u516c\u7f51IP --&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_rtp_ip=172.21.221.137\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_sip_ip=172.21.221.137\"/&gt;\n  &lt;!-- 2\u3001\u901a\u8fc7\u516c\u7f51\u4e0a\u7684stun\u670d\u52a1\u52a8\u6001\u83b7\u53d6 --&gt;\n  &lt;X-PRE-PROCESS cmd=\"stun-set\" data=\"external_rtp_ip=stun:stun.freeswitch.org\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"stun-set\" data=\"external_sip_ip=stun:stun.freeswitch.org\"/&gt;\n  &lt;!-- 3\u3001\u901a\u8fc7\u57df\u540d\u89e3\u6790\u52a8\u6001\u83b7\u53d6 --&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_rtp_ip=host:host.server.com\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_sip_ip=host:host.server.com\"/&gt;\n\n  &lt;!-- \u914d\u7f6e\u4e24\u4e2aprofile\u6240\u76d1\u542c\u7684SIP\u7aef\u53e3\uff1a --&gt;\n  &lt;!-- Internal SIP Profile --&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"internal_auth_calls=true\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"internal_sip_port=5060\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"internal_tls_port=5061\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"internal_ssl_enable=false\"/&gt;\n  &lt;!-- External SIP Profile --&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_auth_calls=false\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_sip_port=5080\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_tls_port=5081\"/&gt;\n  &lt;X-PRE-PROCESS cmd=\"set\" data=\"external_ssl_enable=false\"/&gt;\n&lt;/include&gt;\n</code></pre> <p>\u4fee\u6539etc/freeswitch/sip_profiles/internal.xml\u200b \u914d\u7f6e\u6587\u4ef6\uff0cexternal\u200b\u7c7b\u4f3c\u3002</p> <pre><code>&lt;!-- \u914d\u7f6eSIP\u76d1\u542c\u7aef\u53e3\uff0c\u9ed8\u8ba4\u4e0d\u9700\u8981\u4fee\u6539 --&gt;\n&lt;param name=\"sip-port\" value=\"$${internal_sip_port}\"/&gt;\n\n&lt;!-- \u914d\u7f6e\u7528\u4e8e\u63a5\u6536SIP\u4fe1\u4ee4\u4e0eRTP\u5a92\u4f53\u6d41\u7684IP\u5730\u5740\uff0c\u9ed8\u8ba4\u4e0d\u9700\u8981\u4fee\u6539 --&gt;\n&lt;!-- local_ip_v4\u662ffs_core\u81ea\u52a8\u8bbe\u7f6e\u7684\uff0c\u4e0d\u8981\u624b\u52a8\u6539\u3002\u82e5\u673a\u5668\u6709\u591a\u4e2aIP\uff0c\u5219\u4e3a\u7cfb\u7edf\u7b2c\u4e00\u4e2a\u8fd4\u56de\u7684IP --&gt;\n&lt;param name=\"rtp-ip\" value=\"$${local_ip_v4}\"/&gt;\n&lt;param name=\"sip-ip\" value=\"$${local_ip_v4}\"/&gt;\n\n&lt;!-- \u914d\u7f6eSIP\u4e0eSDP\u7684\u901a\u544a\u5730\u5740\uff0c\u5f53mod_sofia\u68c0\u6d4b\u5230NAT\u65f6\uff0c\u4f1a\u5c06\u8fd9\u4e9b\u5730\u5740\u586b\u5728SIP header\u548cSDP\u6d88\u606f\u4e2d\u3002 --&gt;\n&lt;param name=\"ext-rtp-ip\" value=\"$${external_rtp_ip}\"/&gt;\n&lt;param name=\"ext-sip-ip\" value=\"$${external_sip_ip}\"/&gt;\n\n&lt;!--\n  NAT\u68c0\u6d4b\u3002\u5982\u679c\u914d\u7f6e\u4e86ext-sip-ip\uff0cmod_sofia\u4f1a\u68c0\u67e5remote_sip_ip\u662f\u5426\u547d\u4e2dloopback.auto\n  \u548clocal-network-acl\u8fd9\u4e24\u4e2aACL\uff0c\u82e5\u547d\u4e2d\u5219SDP\u7684\u5a92\u4f53\u5730\u5740\u586brtp-ip\uff0c\u5426\u5219SDP\u7684\u5a92\u4f53\u5730\u5740\u586bext-rtp-ip\u3002\n  \u6b64\u5904\u4ee3\u7801\u8be6\u89c1switch_core_media_choose_port()\n  \u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u76f4\u63a5\u628a\u8fd9\u91cc\u6539\u6210none\uff0c\u8fd9\u6837\u53ea\u8981SIP\u62a5\u6587\u7684\u8fdc\u7aefIP\u4e0d\u547d\u4e2dloopback.auto\uff08127.0.0.x\uff09\uff0c\n  \u5b83\u5c31\u4f1a\u8ba4\u4e3a\u68c0\u6d4b\u5230NAT\uff0c\u4ece\u800c\u5728SDP\u4e2d\u586bext-rtp-ip\u3002\n--&gt;\n&lt;param name=\"local-network-acl\" value=\"none\"/&gt;\n</code></pre> <p>\u4eba\u4e3a\u6539\u4e00\u4e0bext-rtp-ip\u200b\u548cext-sip-ip\u200b\u5206\u522b\u4e3a8.8.8.8\u200b\u548c8.8.4.4\u200b\uff0c\u6b64\u65f6\u6709\u4e00\u4e2a\u5230\u8fbeinternal profile\u7684\u547c\u53eb\uff0c\u4eceFreeSWITCH\u56de\u590d\u7684200 OK\u4e2d\u53ef\u4ee5\u770b\u5230\uff0cContact header\u4e2d\u586b\u7684\u662fext-sip-ip\uff0c\u800cSDP\u90e8\u5206\u586b\u7684\u662fext-rtp-ip\uff1a  \u200b\u200b</p> <p>\u914d\u7f6e\u5a92\u4f53\u7aef\u53e3\u8303\u56f4</p> <p>\u6709\u4e9bNAT\u6216\u9632\u706b\u5899\u53ea\u80fd\u5141\u8bb8\u4e00\u4e2a\u8303\u56f4\u5185\u7684\u7aef\u53e3\uff0c\u8fd9\u5c31\u9700\u8981\u8c03\u6574FreeSWITCH\u63a5\u6536RTP\u5a92\u4f53\u6d41\u6240\u7528\u7684\u7aef\u53e3\u8303\u56f4\u3002\u6ce8\u610f\uff1aFreeSWITCH\u4f7f\u7528\u5076\u6570\u7aef\u53e3\u63a5\u6536RTP\u6d41\uff0c\u4f7f\u7528\u5947\u6570\u7aef\u53e3\u6536\u53d1RTCP\u6d88\u606f\u3002\u5047\u5982\u9700\u8981\u627f\u8f7d50\u8def\u901a\u8bdd\uff0c\u5219\u81f3\u5c11\u8981\u6620\u5c04100\u4e2a\u7aef\u53e3\uff01etc/freeswitch/autoload_configs/switch.conf.xml\u200b</p> <pre><code>&lt;configuration name=\"switch.conf\" description=\"Core Configuration\"&gt;\n  &lt;settings&gt;\n    &lt;!-- RTP port range --&gt;\n    &lt;param name=\"rtp-start-port\" value=\"40000\"/&gt;\n    &lt;param name=\"rtp-end-port\" value=\"40009\"/&gt;\n  &lt;/settings&gt;\n&lt;/configuration&gt;\n</code></pre> <p>unimrcp\u96c6\u6210</p> <p>\u7f16\u7801\u4fee\u6539\uff0c\u9700\u8981\u540c\u65f6\u4fee\u6539freeswitch/mod_unimrcp\u548cunimrcpserver.xml\u7684\u7f16\u7801\u4fe1\u606f\u3002</p> <p>unimrcp\u4e2d\u6709\u4e2aptime\u53c2\u6570\uff0c\u9ed8\u8ba420\uff0c\u7528\u4e8e\u63a7\u5236\u97f3\u9891\u5305\u7684\u65f6\u957f\u3002vad\u5206\u5272\u4e2d\u4e5f\u4f1a\u7528\u5230\u3002</p> <p>\u62e8\u53f7\u7b49\u5f8510\u79d2\u7684\u95ee\u9898</p> <p>FreeSWITCH\u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u6ce8\u518c\u5206\u673a\u53f71000,1001,1000\u62e8\u62531001\u65f6\uff0c\u5f97\u75db\u82e6\u7684\u7b49\u5f8510\u79d2\u949f\uff0c\u540e\u6765\u53d1\u73b0\u8fd9\u4e2a\u53ef\u4ee5\u5728dialplan\u4e2d\u4fee\u6539\uff1a</p> <pre><code> &lt;condition field=\"${default_password}\" expression=\"^1234$\" break=\"never\"&gt;\n    &lt;action application=\"log\" data=\"CRIT WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING \"/&gt;\n    &lt;action application=\"log\" data=\"CRIT Open $${conf_dir}/vars.xml and change the default_password.\"/&gt;\n    &lt;action application=\"log\" data=\"CRIT Once changed type 'reloadxml' at the console.\"/&gt;\n    &lt;action application=\"log\" data=\"CRIT WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING \"/&gt;\n    &lt;action application=\"sleep\" data=\"10000\"/&gt;\n  &lt;/condition&gt;\n</code></pre>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#13","title":"1.3 \u6570\u636e\u5e93\u914d\u7f6e","text":"<p>\u6839\u636e\u5b98\u65b9\u66f4\u65b0\u8bf4\u660e\uff0c\u4ece1.10.0\u200b\u7248\u672c\u5f00\u59cb\uff0cFreeSWITCH\u53ef\u4ee5\u901a\u8fc7mod_mariadb\u200b\u6a21\u5757\u539f\u751f\u8fde\u63a5MySQL\uff0c\u4e0d\u9700\u8981\u518d\u901a\u8fc7ODBC\u9a71\u52a8\u3002 \u9996\u5148\u9700\u8981\u5b89\u88c5\u4f9d\u8d56\u5305\uff1a</p> <pre><code>apt install -y libmariadb-dev mariadb-client\n# centos7\u4e0b\u76f8\u5173\u4f9d\u8d56\u5e94\u8be5\u662f\uff1ayum install -y mariadb mariadb-devel\n</code></pre> <p>\u7f16\u8f91module.conf.xml\u200b\uff0c\u53d6\u6d88modmariadb\u7684\u6ce8\u91ca\uff0c\u91cd\u65b0\u7f16\u8bd1\u5b89\u88c5mod_mariadb\u200b \u6a21\u5757\u3002 \u7f16\u8bd1\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u7f16\u8f91\u200bautoload_configs/pre_load_modules.conf\u200b\u914d\u7f6e\u6587\u4ef6\u3002\u9ed8\u8ba4\u542f\u7528\u7684\u662fmod_pgsql\u200b\uff0c\u9700\u8981\u6ce8\u91ca\u6389\uff0c\u5e76\u53d6\u6d88\u5bf9mod_mariadb\u200b\u7684\u6ce8\u91ca\u3002</p> <pre><code>&lt;configuration name=\"pre_load_modules.conf\" description=\"Modules\"&gt;\n  &lt;modules&gt;\n    &lt;!-- Databases --&gt;\n    &lt;load module=\"mod_mariadb\"/&gt;\n    &lt;!-- &lt;load module=\"mod_pgsql\"/&gt; --&gt;\n  &lt;/modules&gt;\n&lt;/configuration&gt;\n</code></pre> <p>\u5728MySQL\u4e2d\u521b\u5efa\u6570\u636e\u5e93\uff0c\u5e93\u540d\u5982freeswitch\uff0c\u53ef\u4ee5\u627e\u4e00\u4e2a\u5df2\u6709FreeSWITCH\u5e93\u62f7\u8fc7\u53bb\uff0c\u4e5f\u53ef\u4ee5\u662f\u7a7a\u5e93\uff0c\u8ba9FreeSWITCH\u542f\u52a8\u65f6\u81ea\u884c\u521b\u5efa\u3002</p> <p>\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>autoload_configs/switch.conf.xml\n# \u6ce8\u610f\uff1aname\u548cvalue\u6700\u540e\u7684\u5192\u53f7\u90fd\u4e0d\u8981\u4fee\u6539\nparam name=\"core-db-dsn\" value=\"mariadb://Server=localhost;Database=freeswitch;Uid=root;Pwd=password;:\"\n\nautoload_configs/db.conf.xml\nautoload_configs/callcenter.conf.xml\nautoload_configs/fifo.conf.xml\nautoload_configs/voicemail.conf.xml\nsip_profiles/internal.xml\nsip_profiles/external.xml\nparam name=\"odbc-dsn\" value=\"mariadb://Server=localhost;Database=freeswitch;Uid=root;Pwd=password;:\"\n</code></pre> <p>\u542f\u52a8freeswtich\uff0c\u7b49\u5f85\u6570\u636e\u5e93\u521b\u5efa\uff0c\u521b\u5efa\u5b8c\u6210\u540e\u4fee\u6539\u914d\u7f6e\uff1a</p> <pre><code>autoload_configs/switch.conf.xml\n&lt;param name=\"auto-create-schemas\" value=\"false\"/&gt;\n</code></pre>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u53c2\u8003\u8d44\u6599\uff1a freeswitch\u4e2d\u6587\u6587\u6863</p> <p>freeswitch\u548cunimrcp\u96c6\u6210</p> <p>freeswitch mod</p> <p>unimrcp\u5b98\u65b9\u6587\u6863</p> <p>\u6700\u5168FreeSwitch 1.10.9 Linux\u901a\u7528\u7f16\u8bd1\u90e8\u7f72\u6559\u7a0b</p> <p>xswitch\u6559\u7a0b</p> <p>FreeSWITCH \u9ad8\u53ef\u7528\u90e8\u7f72\u4e0e\u4e91\u539f\u751f\u96c6\u7fa4\u90e8\u7f72</p> <p>FreeSWITCH\u89c6\u9891\u4f1a\u8bae\u201c\u6807\u51c6\u201d\u89e3\u51b3\u65b9\u6848</p> <p>MRCP\u5728\u7f8e\u56e2\u8bed\u97f3\u4ea4\u4e92\u4e2d\u7684\u5b9e\u8df5\u548c\u5e94\u7528</p> <p>freeswitch\u8de8nat\u8bbe\u7f6e</p> <p>FreeSWITCH\u901a\u8fc7mod</p> <p>mariadb\u539f\u751f\u8fde\u63a5MySQL</p> <p>FreeSWITCH 1.10.7 NOT working fine with MariaDB 10.5.15 on Debian 11</p> <p>JAVA Esl</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%8E%92%E9%94%99/","title":"\u8c03\u8bd5\u4e0e\u6392\u9519","text":"<p>\u53d1\u73b0\u95ee\u9898\u3001\u5b9a\u4f4d\u95ee\u9898\u3001\u5206\u6790\u95ee\u9898\u3001\u89e3\u51b3\u95ee\u9898\u3002</p> <ul> <li>\u6838\u5b9e\u95ee\u9898\u73b0\u8c61\uff1b</li> <li>\u95ee\u9898\u80fd\u5426\u91cd\u73b0\u3002</li> </ul> <p>\u5b9a\u4f4d\u95ee\u9898\u7684\u65b9\u6cd5\uff1a\u5206\u6bb5\u6392\u9664\u6cd5\u3001\u6362\u4f4d\u601d\u8003\u6cd5</p> <p>\u200bshow channels\u200b \u200b\u67e5\u627e\u5f53\u524d\u901a\u8bdd\u7684 Channel \u7684 UUID\u3002</p> <p>\u200buuid_debug_media &lt;uuid&gt; both on\u200b \u200b\u8c03\u8bd5\u5a92\u4f53\u76f8\u5173\u7684\u4fe1\u606f\u3002</p> <pre><code>freeswitch\uff1e show channels\nuuid,direction,created,created_epoch,name,state,cid_name,cid_num,ip_addr,......\nb4fae306-3f78-4d91-bcde-a2e95b0f9c1d,inbound,2013-07-23 12:04:38,1374552278,......\n\nfreeswitch\uff1e uuid\\_debug\\_media b4fae306-3f78-4d91-bcde-a2e95b0f9c1d both on\n+OK Success\nR sofia/internal/1002@192.168.7.5 b\\=172 192.168.7.5:17318 192.168.7.5:50050 pt\\=0 ts\\=3717002357 m\\=0\nW sofia/internal/1002@192.168.7.5 b\\=172 192.168.7.5:17318 192.168.7.5:50050 pt\\=0 ts\\=3717002357 m\\=0\nR sofia/internal/1002@192.168.7.5 b\\=172 192.168.7.5:17318 192.168.7.5:50050 pt\\=0 ts\\=3717002517 m\\=0\nW sofia/internal/1002@192.168.7.5 b\\=172 192.168.7.5:17318 192.168.7.5:50050 pt\\=0 ts\\=3717002517 m\\=0\n</code></pre> <p>R \u4e0e W \u5206\u522b\u8868\u793a Read \u548c Write\uff0c\u5373\u6536\u548c\u53d1\u3002\u5982\u679c\u80fd\u770b\u5230 R \u548c W \u4e86\uff0c\u8bf4\u660e\u5df2\u6b63\u786e\u6536\u53d1\u5a92\u4f53\u6d41\u3002\u5982\u679c\u8fd8\u662f\u542c\u4e0d\u5230\u58f0\u97f3\uff0c\u90a3\u53ef\u80fd\u9700\u8981\u66f4\u6df1\u5165\u5730\u68c0\u67e5\u4e86\u3002\u66f4\u6df1\u5165\u7684\u68c0\u67e5\u5728\u8fd9\u91cc\u6211\u4eec\u5c31\u4e0d\u8fc7\u591a\u5730\u5c55\u5f00\u4e86\u3002\u6211\u4eec\u5728\u6b64\u518d\u7b80\u5355\u8bf4\u4e00\u4e0b\u4e0a\u9762\u8c03\u8bd5\u8f93\u51fa\u7684\u610f\u4e49\u3002b=172 \u8868\u793a\u6536\u3001\u53d1 172 \u5b57\u8282\uff0c\u5b83\u7b49\u4e8e 160 \u5b57\u8282\u7684 PCMU \u8bed\u97f3\u51c0\u8377\uff0820ms\uff09\u52a0\u4e0a 12 \u4e2a\u5b57\u8282\u7684 RTP \u5305\u5934\u300217138 \u548c 50050 \u5206\u522b\u4e3a\u672c\u5730\u548c\u8fdc\u7aef\u7aef\u53e3\u53f7\u3002pt=0 \u8bf4\u660e Payload Type\uff08\u8f7d\u8377\u7c7b\u578b\uff09\u4e3a 0\uff0c\u5373 PCMU \u7f16\u7801\u7684\u8bed\u97f3\u6570\u636e\u3002ts \u4e3a\u65f6\u95f4\u6233\uff0c\u53ef\u4ee5\u770b\u51fa\u5b83\u5728\u6536\u548c\u53d1\u65b9\u5411\u4e0a\u5206\u522b\u662f\u4ee5 160 \u9012\u589e\u7684\u3002\u6700\u540e m \u4e3a RTP \u7684 Marker \u4f4d\uff0c\u4e00\u822c\u662f 0\u3002</p> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f1a\u53ea\u6709\u5355\u5411\u7684\u8bed\u97f3\u6d41\uff0c\u8fd9\u79cd\u60c5\u51b5\u79f0\u4e3a\u5355\u901a\u3002\u6d4b\u8bd5\u5355\u901a\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u7528\u4e0a\u9762\u7684 uuid_debug_media \u5bf9\u201c\u6536\u201d\u548c\u201c\u53d1\u201d\u5206\u522b\u6d4b\u8bd5\u3002\u5728\u6ca1\u6cd5\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u66f4\u76f4\u89c2\u7684\u65b9\u6cd5\u8fdb\u884c\u6d4b\u8bd5\u3002\u4f8b\u5982\uff0c\u51fa\u4e8e\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5148\u6d4b\u8bd5\u201c\u53d1\u201d\u3002\u62e8\u6253\u9ed8\u8ba4\u7684 9664\uff0cFreeSWITCH \u5c31\u4f1a\u64ad\u653e\u4fdd\u6301\u97f3\u4e50\uff0c\u5982\u679c\u5bf9\u65b9\u542c\u4e0d\u5230\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u5728\u5bf9\u65b9\u7684\u7535\u8111\u6216\u8bdd\u673a\u4e0a\u6293\u5305\u770b RTP \u5305\u662f\u5426\u5230\u8fbe\u3002\u5982\u679c\u6ca1\u6709\u5230\u8fbe\uff0c\u8bf4\u660e\u7f51\u7edc\u6709\u95ee\u9898\uff0c\u5982\u679c\u5230\u8fbe\u4e86\u8fd8\u6ca1\u6709\u58f0\u97f3\uff0c\u90a3\u5c31\u53ef\u80fd\u662f\u5bf9\u65b9\u7ec8\u7aef\u7684\u95ee\u9898\uff0c\u6216\u626c\u58f0\u5668\u6216\u8033\u673a\u7684\u95ee\u9898\u3002\u7136\u540e\uff0c\u5012\u8fc7\u6765\u6d4b\u8bd5\u662f\u5426\u80fd\u201c\u6536\u201d\u5230 RTP \u6d41\u3002\u5148\u5efa\u4e00\u4e2a Dialplan \u8def\u7531\u5230 record App \u8fdb\u884c\u5f55\u97f3\uff0c\u5f55\u97f3\u5b8c\u6210\u540e\u542c\u4e00\u4e0b\u5f55\u97f3\u6587\u4ef6\u662f\u5426\u5b8c\u6574\u5373\u53ef\u5224\u65ad\u662f\u5426\u6b63\u786e\u6536\u5230 RTP \u6d41\u3002\u5f55\u97f3\u7684 Dialplan \u8bbe\u7f6e\u5982\u4e0b\uff1a</p> <pre><code>\uff1caction application=\"record\" data=\"/tmp/test.wav\"/\uff1e\n</code></pre> <p>\u6216\u8005\u76f4\u63a5\u4f7f\u7528\u5982\u4e0b\u56de\u62e8\u547d\u4ee4\u8fdb\u884c\u5f55\u97f3\uff1a</p> <pre><code>freeswitch\uff1e originate user/1002 \uff06record\uff08/tmp/test.wav\uff09\n</code></pre> <p>\u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u8bf4\u660e Alice \u7aef\u6ca1\u6709\u95ee\u9898\u4e86\u3002\u5982\u679c\u6709\u95ee\u9898\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0a\u9762\u7684\u6b65\u9aa4\u5b9a\u4f4d\u5230\u95ee\u9898\u5e76\u8fdb\u884c\u89e3\u51b3\u3002\u603b\u4e4b\uff0c\u5f53\u6211\u4eec\u89e3\u51b3\u5b8c\u4e86 Alice \u7aef\u7684\u95ee\u9898\u540e\uff0c\u518d\u7528\u540c\u6837\u7684\u65b9\u6cd5\u89e3\u51b3 Bob \u7684\u95ee\u9898\u3002\u4fdd\u8bc1\u4e24\u7aef\u90fd\u6ca1\u6709\u95ee\u9898\u540e\uff0c\u518d\u5c1d\u8bd5\u76f4\u63a5\u4ece Alice \u547c\u53eb Bob\uff0c\u770b bridge \u540e\u662f\u5426\u8fd8\u6709\u5176\u4ed6\u95ee\u9898\u3002\u4e00\u6b65\u4e00\u6b65\uff0c\u76f4\u5230\u95ee\u9898\u89e3\u51b3\u3002\u6700\u540e\u9700\u8981\u8bf4\u660e\uff0c\u6ca1\u6709\u5a92\u4f53\u6d41\u6216\u8005\u5a92\u4f53\u6d41\u4e0d\u6b63\u5e38\u4e5f\u53ef\u80fd\u662f\u6536\u5230 SIP \u6d88\u606f\u9519\u8bef\u5f15\u8d77\u7684\uff0c\u6211\u4eec\u540e\u9762\u8fd8\u4f1a\u8bb2\u5230\u8ddf\u8e2a SIP \u6d88\u606f\u7684\u65b9\u6cd5\u3002</p> <p>\u8c03\u6574\u65e5\u5fd7\u7b49\u7ea7 console loglevel debug\u200b\u200b</p> <p>freeswitch \u6293\u5305\uff1a</p> <pre><code>sofia profile internal siptrace on\nsofia profile external siptrace on\n\n# \u6253\u5f00\u6240\u6709Profile\u6293\u5305\nsofia global siptrace on\n# \u5173\u95ed\u6293\u5305\nfreeswitch\uff1e sofia global siptrace off\n# \u5f00\u542fSofia\u534f\u8bae\u6808\u5e95\u5c42\u7684\u8c03\u8bd5\u5668\nfreeswitch\uff1e sofia loglevel all 9\n# \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5173\u95ed\u6240\u6709\u5e95\u5c42\u7684\u8c03\u8bd5\nfreeswitch\uff1e sofia loglevel all 0\n\n# \u4ec5\u6253\u5f00\u67d0\u4e00\u7c7b\u65e5\u5fd7\u8c03\u8bd5\nsofia loglevel \uff1call|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa| sresolv|stun\uff1e [0-9]\n# \u5982\nfreeswitch\uff1e sofia loglevel nua 9\n</code></pre>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%8E%92%E9%94%99/#tcpdump","title":"tcpdump","text":"<pre><code># -n -q\u8868\u793a\u4e0d\u8fdb\u884c\u57df\u540d\u7ffb\u8bd1\u53ca\u51cf\u5c11\u8f93\u51fa\u5185\u5bb9\n# -s 0\u8868\u793a\u4e0d\u9650\u5236\u5305\u957f\uff0c\u5373\u4e89\u53d6\u6293\u6700\u5927\u7684\u957f\u5ea6\n# -A\u8868\u793a\u4ee5ASCII\u65b9\u5f0f\u8f93\u51fa\uff0c\u8fd9\u6837\u7528\u773c\u770b\u8d77\u6765\u6bd4\u8f83\u76f4\u89c2\n# -v\u8868\u793a\u663e\u793a\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0cv\u8d8a\u591a\u5219\u8d8a\u8be6\u7ec6\n# -i\u8868\u793a\u4f7f\u7528\u6307\u5b9a\u7684\u7f51\u5361\n# port 5060\u8868\u793a\u8fc7\u6ee4\u5668\ntcpdump -nq -s 0 -A -vvv -i eth0 -w /tmp/dump.pcap port 5060\n\n# \u6293\u53d6\u6240\u6709\u7684udp\u5305\ntcpdump -nq -s 0 -i eth0 -w /tmp/dump.pcap udp\n</code></pre> <p>\u6709\u65f6\u5019\uff0c\u5982\u679c\u4f60\u662f\u5728\u670d\u52a1\u5668\u4e0a\u6293\u5305\uff0c\u5e76\u60f3\u53ea\u6293\u67d0\u4e2a\u7528\u6237\u7684\u5305\uff0c\u53ef\u4ee5\u6839\u636e\u7528\u6237\u7684 IP \u5730\u5740\u6765\u8fdb\u884c\u8fc7\u6ee4\u3002\u5f53\u7136\u8fd9\u9700\u8981\u5148\u627e\u5230\u7528\u6237\u5b9e\u9645\u7684 IP \u5730\u5740\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u53ef\u4ee5\u627e\u5230\u7528\u6237 1002 \u7684 Contact \u5730\u5740\uff1a</p> <pre><code>freeswitchlocalhost\uff1e sofia status profile internal reg 1002\nRegistrations:\n==============================================================================\nCall-ID:                  ZjUwMGY3ODM5M2E2ZGM0MWFiZGRiNDhkNThkZjk3NzQ\nUser:                       1002@192.168.7.5\nContact:                 \"Seven\" \uff1csip:1002@192.168.7.5:65272;rinstance=2d4d57704e73155d\uff1e\nAgent:                    Bria 3 release 3.5.0b stamp 69410\nStatus:                    Registered\uff08UDP\uff09\uff08unknown\uff09 EXP\uff082013-07-23 15:17:51\uff09 EXPSECS\uff08616\uff09\nHost:                     seven.local\nIP:                          192.168.7.5\nPort:                      65272\nAuth-User:            1002\nAuth-Realm:         192.168.7.5\nMWI-Account:     1002@192.168.7.5\n</code></pre> <p>\u7136\u540e\u5c31\u53ef\u4ee5\u53ea\u9488\u5bf9\u8be5\u7528\u6237\u6293\u5305\u4e86\uff08\u4ece Contact \u5730\u5740\u4e2d\u6211\u4eec\u77e5\u9053\u5b83\u7684 IP \u548c\u7aef\u53e3\u53f7\u5206\u522b\u662f 192.168.7.5 \u548c 65272\uff09\uff1a</p> <pre><code>tcpdump -i eth0 -s 0 -A host 192.168.7.5 and port 65272\n</code></pre> <p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u4e5f\u9700\u8981\u6293\u53d6\u6240\u6709\u7684 RTP \u5305\u8fdb\u884c\u5206\u6790\u3002\u5728 FreeSWITCH \u4e2d\uff0c\u9ed8\u8ba4\u7684\u7aef\u53e3\u53f7\u8303\u56f4\u662f 16384\uff5e32768\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6293\u5305\uff1a</p> <pre><code>tcpdump -i eth0 -w /tmp/sip-rtp.pcap \"udp and (port 5060 or port 5080 or portrange 16384-32768)\"\n</code></pre> <p>http://wiki.freeswitch.org/wiki/Packet_Capture</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%8E%92%E9%94%99/#tshark","title":"tshark","text":"<p>tshark\u662fWireshark\u7684\u547d\u4ee4\u884c\u7248\u3002\u4f7f\u7528\u65b9\u6cd5\u4e0etcpdump\u7c7b\u4f3c\uff0c\u5982\u53ef\u4ee5\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u4e0a\u8fd0\u884ctshark\u3002\u4e0b\u9762\u662f\u7b14\u8005\u7535\u8111\u4e0a\u7684\u8f93\u51fa\u7ed3\u679c\uff1a</p> <pre><code># tshark\nCapturing on en0\n  0.000000 192.168.1.119 -\uff1e 123.125.115.179 TCP 54 61729 \uff1e http [FIN, ACK] Seq=1 Ack=1 Win=16384 Len=0\n  0.153641 173.194.79.109 -\uff1e 192.168.1.119 TLSv1 164 Application Data\n  0.153644 173.194.79.109 -\uff1e 192.168.1.119 TLSv1 247 Application Data\n  0.153645 173.194.79.109 -\uff1e 192.168.1.119 TLSv1 130 Application Data\n  0.153672 173.194.79.109 -\uff1e 192.168.1.119 TLSv1 568 Application Data\n</code></pre> <p>\u5e38\u7528\u547d\u4ee4</p> <pre><code>tshark -i en0\n\ntshark -i eth0 -w /tmp/dump.pcap\n</code></pre>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%8E%92%E9%94%99/#ngrep","title":"ngrep","text":"<pre><code>ngrep -p -q -W byline host 192.168.1.9 and port 5060\n\n# \u5bf9\u5185\u5bb9\u8fdb\u884c\u8fc7\u6ee4\nngrep -p -q '139xxxxxxxx' -W byline port 5060\n</code></pre>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%8E%92%E9%94%99/#pcapsipdump","title":"pcapsipdump","text":"<p>pcapsipdump\u6709\u4e00\u4e2a\u5f88\u597d\u7684\u7279\u6027\uff0c\u5b83\u80fd\u5c06\u4e0d\u540c\u901a\u8bddIP\u5305\u5b58\u5230\u4e0d\u540c\u7684\u6587\u4ef6\u91cc\uff0c\u5176\u4e2d\u67d0\u4e00\u8def\u901a\u8bdd\u6240\u6709\u7684SIP\u548cRTP\u6570\u636e\u90fd\u5b58\u5230\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d\u3002\u8fd9\u6837\u5728\u540c\u65f6\u6709\u5927\u91cf\u901a\u8bdd\u7684\u65f6\u5019\u6293\u5305\u5206\u6790\u6bd4\u8f83\u6709\u7528\u3002\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>pcapsipdump -i eth0 -d /tmp/sipdump/\n</code></pre> <pre><code>ip.src == 192.168.1.127 &amp;&amp; ip.dst == 192.168.1.143 &amp;&amp; udp.port == 5060\n</code></pre>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%8E%92%E9%94%99/#originate","title":"originate\u547d\u4ee4\u5b9e\u4f8b\u89e3\u6790","text":"<pre><code>freeswitch&gt; originate\n-USAGE: &lt;call url&gt; \\\n        &lt;exten&gt;|&amp;&lt;application_name&gt;(&lt;app_args&gt;) \\\n        [&lt;dialplan&gt;] \\\n        [&lt;context&gt;] \\\n        [&lt;cid_name&gt;] \\\n        [&lt;cid_num&gt;] \\\n        [&lt;timeout_sec&gt;]\n</code></pre> <p>\u8ddf\u5176\u4ed6\u7ea6\u5b9a\u4e00\u6837\uff0c\u5c16\u62ec\u53f7\u4e00\u822c\u662f\u5fc5\u9009\u53c2\u6570\uff0c\u800c\u65b9\u62ec\u53f7\u91cc\u9762\u662f\u53ef\u9009\u53c2\u6570\u3002</p> <ol> <li>\u200b<code>&lt;call url&gt;\u200b</code> \u8868\u793a\u547c\u53eb\u5b57\u7b26\u4e32\uff08Dial String\uff09\u3002originate\u547d\u4ee4\u7528\u4e8e\u4eceFreeSWITCH\u4e2d\u5411\u5916\u53d1\u8d77\u4e00\u4e2a\u547c\u53eb\uff0c\u8fd9\u4e2a\u201c\u5916\u201d\u5c31\u662f\u7528\u8fd9\u91cc\u7684\u547c\u53eb\u5b57\u7b26\u4e32\u6307\u5b9a\u7684\u3002</li> </ol> <p>\u200b<code>freeswitch\uff1e originate user/1000 \uff06echo\u200b\u200b</code></p> <p>\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u7684user/1000\u5c31\u662f\u547c\u53eb\u5b57\u7b26\u4e32\u3002\u5b83\u8868\u793a\u4ece\u672c\u5730\u7684\u6ce8\u518c\u7528\u6237\u4e2d\u67e5\u627e\u8be5\u7528\u6237\u7684\u8054\u7cfb\u5730\u5740\u3002\u547c\u53eb\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\u662f\u201c\u7c7b\u578b/\u53c2\u6570/\u53c2\u6570\u201d\uff0c\u5176\u4e2d\u7b2c\u4e00\u90e8\u5206\u662f\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u3002</p> <p>freeswitch\u5230\u5e95\u63d0\u4f9b\u4e86\u591a\u5c11Channel\u7c7b\u578b\u5462\uff1f\u4e00\u822c\u6765\u8bf4\uff0c\u6bcf\u79cdEndpoint\u90fd\u4f1a\u63d0\u4f9b\u76f8\u5e94\u7684\u547c\u53eb\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e00\u79cd\u547c\u53eb\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u90fd\u5c5e\u4e8e\u4e00\u4e2aEndpoint Interface\uff0c\u5176\u4e2d\u4e00\u4e9b\u7c7b\u578b\u53c8\u7c7b\u4f3c\u4e8e\u4e00\u79cd\u201c\u9ad8\u7ea7\u201d\u7684\u547c\u53eb\u5b57\u7b26\u4e32\uff0c\u5982user\u548cgroup\u3002\u8fd9\u4e9b\u547c\u53eb\u5b57\u7b26\u4e32\u770b\u8d77\u6765\u50cf\u4e00\u4e2a\u865a\u62df\u7684Endpoint Interface\uff0c\u5b83\u4eec\u6700\u7ec8\u4f1a\u89e3\u6790\u5230\u5e95\u5c42\u7684sofia\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u5728\u524d\u9762\u7684\u7ae0\u8282\u4e2d\u4e5f\u8bb2\u8fc7\uff0c\u53ef\u4ee5\u901a\u8fc7\u9017\u53f7\uff08\uff0c\uff09\u6216\u7ad6\u7ebf\u7b26\u53f7\uff08|\uff09\u5c06\u591a\u4e2a\u547c\u53eb\u5b57\u7b26\u4e32\u9694\u5f00\uff0c\u4ee5\u8fbe\u5230\u540c\u632f\u6216\u987a\u632f\u7684\u76ee\u7684\u3002\u5982\u4e0b\u9762\u547d\u4ee4\u53ef\u540c\u65f6\u547c\u53eb1000\u548c1001\uff0c\u4e24\u4e2a\u8bdd\u673a\u90fd\u4f1a\u632f\u94c3\uff0c\u54ea\u4e2a\u5148\u63a5\u542c\u5219\u63a5\u901a\u54ea\u4e2a\uff0c\u53e6\u4e00\u8def\u4f1a\u81ea\u52a8\u6302\u65ad\uff0c\u8fd9\u79cd\u547c\u53eb\u65b9\u5f0f\u79f0\u4e3a\u201c\u540c\u632f\u201d\uff1a</p> <p><pre><code>freeswitch\uff1e originate user/1000,user/1001 \uff06echo\n</code></pre> 2. \u200b<code>&lt;exten&gt;|&amp;&lt;application_name&gt;(&lt;app_args&gt;)</code>\u200b\u200b\uff08\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u4e2a\u5206\u673a\u53f7\uff09\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u201c\uff06\u201d\u7b26\u53f7\u52a0\u4e0aApp\u3002\u5bf9\u4e8e\u540e\u8005\uff0c\u6211\u4eec\u5df2\u7ecf\u5f88\u719f\u6089\u4e86\uff0c\u6574\u4e2a\u547d\u4ee4\u7684\u4f5c\u7528\u662f\u5411\u5916\u53d1\u8d77\u4e00\u4e2a\u547c\u53eb\uff0c\u5efa\u7acb\u4e00\u4e2aChannel\uff0c\u5bf9\u65b9\u63a5\u542c\u540e\u5728\u672c\u7aef\u6267\u884c\u4e00\u4e2aApp\uff0c\u5982\u4e0a\u9762\u7684echo\u3002</p> <p>\u5bf9\u4e8e\u524d\u8005\uff0c\u4e0e\u4e0a\u8ff0\u7684\u60c5\u51b5\u7c7b\u4f3c\uff0c\u5728\u5411\u5916\u53d1\u8d77\u4e00\u4e2a\u547c\u53eb\u5e76\u7b49\u5f85\u5bf9\u65b9\u63a5\u542c\u540e\uff0cFreeSWITCH\u5c31\u4e0e\u5bf9\u65b9\u5efa\u7acb\u4e86\u4e00\u4e2aChannel\uff0cChannel\u7684\u8fdc\u7aef\u5f53\u7136\u662f\u63a5\u542c\u7535\u8bdd\u7684\u7528\u6237\u3002\u5728\u672c\u7aef\u4e0e\u4e0a\u8ff0App\u7684\u60c5\u5f62\u4e0d\u540c\u7684\u662f\uff0c\u5b83\u4f1a\u5c06Channel\u8f6c\u5165Dialplan\u53bb\u8def\u7531\uff0c\u8def\u7531\u8981\u67e5\u627e\u7684\u76ee\u7684\u5730\u5c31\u662fexten\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u7528\u6237\u63a5\u542c\u540e\uff0c\u8fd9\u79cd\u60c5\u51b5\u8ddf\u7528\u6237\u547c\u5165\u7684\u5904\u7406\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f\u8fdb\u5165Dialplan\u8fdb\u884c\u8def\u7531\uff0c\u5982\u5728\u9ed8\u8ba4\u7684\u914d\u7f6e\u4e2d\uff0c\u4e0b\u9762\u7684\u4e24\u6761\u547d\u4ee4\u57fa\u672c\u4e0a\u662f\u7b49\u4ef7\u7684\uff1a</p> <pre><code>freeswitch\uff1e originate user/1000 9196\nfreeswitch\uff1e originate user/1000 \uff06echo\n</code></pre> <ol> <li><code>\u200b[&lt;dialplan&gt;]</code>\u200b\u200b\u5b83\u662fDialplan\u7684\u7c7b\u578b\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u5c31\u662fXML\u3002\u6211\u4eec\u5728\u7b2c8\u7ae0\u66fe\u8bb2\u5230\u8fc7inline Dialplan\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u5728\u8fd9\u91cc\u8bd5\u4e00\u4e0b\uff0c\u5b83\u4e0e\u4e0a\u9762\u7684\u4f8b\u5b50\u4e5f\u662f\u7b49\u4ef7\u7684\uff1a</li> </ol> <pre><code>freeswitch\uff1e originate user/1000 echo inline\n</code></pre> <ol> <li><code>[&lt;context&gt;]\u200b\u200b</code>\u200b\u7b2c4\u4e2a\u53c2\u6570\u662fDialplan\u7684Context\uff0c\u5bf9\u4e8einline Dialplan\uff0c\u5b83\u4f1a\u5ffd\u7565Context\uff0c\u800c\u5bf9\u4e8eXML\u5219\u662f\u6709\u6548\u7684\uff0c\u5982\uff1a</li> </ol> <pre><code>freeswitch\uff1e originate user/1000 1001 XML public\n</code></pre> <p>\u4e0a\u8ff0\u547d\u4ee4\u57281000\u63a5\u542c\u540e\u4f1a\u8fdb\u5165public Dialplan\u67e5\u627e\u8def\u7531\u3002</p> <p>\u200b[]\u200b\u200b \u548c []\u200b\u200b \u5206\u522b\u662f\u4e3b\u53eb\u540d\u79f0\uff08cid_name\uff0cCaller ID Name\uff09\u548c\u4e3b\u53eb\u53f7\u7801\uff08cid_number\uff0cCaller ID Number\uff09\u3002\u6bd4\u5982\u521d\u5b66\u8005\u7ecf\u5e38\u770b\u52300000000000\u8fd9\u6837\u7684\u4e3b\u53eb\u53f7\u7801\uff0c\u90a3\u662fFreeSWITCH\u53d1\u8d77\u547c\u53eb\u65f6\u9ed8\u8ba4\u4f7f\u7528\u7684\u4e3b\u53eb\u53f7\u7801\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u53d1\u8d77\u547c\u53eb\u65f6\u81ea\u884c\u6307\u5b9a\u4e3b\u53eb\u53f7\u7801\uff0c\u800c\u4e0d\u4f7f\u7528\u9ed8\u8ba4\u503c\uff0c\u5982\uff1a <pre><code>freeswitch\uff1e originate user/1000 \uff06echo XML default 'Seven Du' 7777\n</code></pre> <p>\u6ce8\u610f\uff0c\u5982\u679c\u53c2\u6570\u4e2d\u6709\u7a7a\u683c\uff0c\u9700\u8981\u7528\u5355\u5f15\u53f7\u5f15\u8d77\u6765\u3002\u4e0a\u8ff0\u547d\u4ee4\u4ea7\u751f\u7684INVITE\u6d88\u606f\u5982\u4e0b\uff0c\u5176\u4e2d\u4e3b\u53eb\u53f7\u7801\u4fe1\u606f\u5728From\u548cRemote-Party-ID\u5b57\u6bb5\u4e2d\uff08\u8fd9\u91cc\u7701\u7565\u4e86\u5176\u4ed6\u5b57\u6bb5\uff09\u3002</p> <pre><code>INVITE sip:1000@192.168.1.127:47294;rinstance=a39d7b2af86ea27d SIP/2.0\nVia: SIP/2.0/UDP 192.168.1.127;rport;branch=z9hG4bKc0yQ4NU04paXr\nMax-Forwards: 70\nFrom: \"Seven Du\" \uff1csip:7777@192.168.1.127\uff1e;tag=y5j452DSQNUBS\nTo: \uff1csip:1000@192.168.1.127:47294;rinstance=a39d7b2af86ea27d\uff1e\nRemote-Party-ID: \"Seven Du\" \uff1csip:7777@192.168.1.127\uff1e;party=calling;screen=yes;privacy=off\n</code></pre> <p>[]\u200b\u200b\u662f\u547c\u53eb\u8d85\u65f6\u53c2\u6570\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5b83\u5e76\u4e0d\u662f\u5bf9\u65b9\u4e0d\u63a5\u7535\u8bdd\u8d85\u65f6\u7684\u79d2\u6570\uff0c\u800c\u662f\u5bf9\u65b9\u5728\u6536\u5230\u6211\u4eecINVITE\u6d88\u606f\u540e\uff0c\u4e0d\u56de\u590d100 Trying\u6d88\u606f\u7684\u65f6\u95f4\u3002\u4e00\u822c\u6765\u8bf4\u8fd9\u79cd\u60c5\u51b5\u662fIP\u5730\u5740\u4e0d\u53ef\u8fbe\u3002\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684IP\u5730\u5740192.168.100.100\uff1a <pre><code>freeswitch\uff1e sofia profile internal siptrace on\nfreeswitch\uff1e originate sofia/internal/1000@192.168.100.100 \uff06echo XML default 'Seven Du' 7777 10\n[NOTICE] switch_channel.c:1030 New Channel ......\nsend 1141 bytes to udp/[192.168.100.100]:5060 at 10:21:08.564598:\n------------------------------------------------------------------------\nINVITE sip:1000@192.168.100.100 SIP/2.0\nsend 1141 bytes to udp/[192.168.100.100]:5060 at 10:21:09.566271:\nsend 1141 bytes to udp/[192.168.100.100]:5060 at 10:21:11.567140:\nsend 1141 bytes to udp/[192.168.100.100]:5060 at 10:21:15.568274:\n[NOTICE] switch_ivr_originate.c:3410 Hangup\nsofia/internal/1000@192.168.100.100 [CS_CONSUME_MEDIA] [NO_ANSWER]\n-ERR NO_ANSWER\n</code></pre> <p>\u4e0a\u9762\u6211\u4eec\u5148\u6253\u5f00\u4e86siptrace\uff0c\u4ece\u8f93\u51fa\u7684\u4fe1\u606f\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c\u5728FreeSWITCH\u53d1\u51faINVITE\u6d88\u606f\u540e\uff0c\u7531\u4e8e\u6ca1\u6709\u6536\u5230100 Trying\u56de\u590d\uff0c\u4e8e\u662f\u57281\u79d2\u540e\u91cd\u53d1INVITE\u6d88\u606f\uff0c\u5982\u679c\u8fd8\u6536\u4e0d\u5230\u5219\u4e8e2\u79d2\u30014\u79d2\u540e\u91cd\u53d1\uff0c\u7531\u4e8e\u6211\u4eec\u6307\u5b9a\u4e8610\u79d2\u8d85\u65f6\uff0c\u56e0\u6b64\u8be5\u547c\u53eb\u4e8e10\u79d2\u540e\u5931\u8d25\uff0c\u8fd4\u56deNO_ANSWER\u3002</p> <p>originate\u547d\u4ee4\u662f\u963b\u585e\u7684\uff0c\u56e0\u6b64\u5982\u679c\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\uff0c\u5219\u65e0\u6cd5\u8f93\u5165\u5176\u4ed6\u547d\u4ee4\u6216\u53d6\u6d88\u8be5\u547c\u53eb\u3002</p> <p>\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u6709\u4e24\u4e2a\u529e\u6cd5\uff1a</p> <p>\u4f7f\u7528bgapi\u200b\u200b\uff0c\u5982<code>freeswitch\uff1e bgapi originate user/1000 \uff06echo\u200b\u200b</code></p> <p>\u5f00\u542f\u53e6\u5916\u4e00\u4e2afs_cli\u5ba2\u6237\u7aef\uff0c\u4f7f\u7528show channels\u627e\u5230\u8be5\u547c\u53eb\u7684UUID\uff0c\u7136\u540e\u6267\u884cuuid_kill\uff1b\u6216\u8005\uff0c\u76f4\u63a5\u6267\u884chupall\u6302\u65ad\u6240\u6709\u901a\u8bdd\u3002</p> <p>\u4ee5\u4e0a\u662f\u5728\u547d\u4ee4\u884c\u4e0a\u7684\u89e3\u51b3\u529e\u6cd5\uff0c\u5c24\u5176\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6211\u4eec\u5728Event Socket\u65b9\u5f0f\u4e0b\u4f7f\u7528originate\u53d1\u8d77\u547c\u53eb\uff0c\u4e00\u822c\u8981\u4f7f\u7528bgapi\u6765\u907f\u514d\u963b\u585e\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/freeswitch/%E8%B0%83%E8%AF%95%E4%B8%8E%E6%8E%92%E9%94%99/#1046","title":"\u901a\u9053\u53d8\u91cf 10.4.6","text":"<p>A-leg\uff08\u5373\"Access Leg\"\uff09\u662f\u6307\u547c\u53eb\u4e2d\u7684\u4e00\u4e2a\u901a\u4fe1\u94fe\u8def\u3002\u5728FreeSWITCH\u4e2d\uff0cA-leg\u901a\u5e38\u6307\u7684\u662f\u53d1\u8d77\u547c\u53eb\u7684\u4e00\u65b9\uff0c\u4e5f\u5c31\u662f\u4e3b\u53eb\u65b9\u3002</p> <p>B-leg\uff08\u5373\"Bridged Leg\"\uff09\u662f\u901a\u4fe1\u9886\u57df\u4e2d\u4e0eA-leg\u76f8\u5bf9\u5e94\u7684\u672f\u8bed\u3002\u5728FreeSWITCH\u4e2d\uff0cB-leg\u901a\u5e38\u6307\u7684\u662f\u88ab\u53eb\u65b9\uff0c\u4e5f\u5c31\u662f\u63a5\u6536\u547c\u53eb\u7684\u4e00\u65b9\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/srs/electron-vite%E5%BC%80%E5%8F%91/","title":"Electron vite\u5f00\u53d1","text":"<p>typescript\u95ee\u53f7\u7684\u4f7f\u7528 <pre><code>// \u8fd9\u91cc\u8868\u793a\u53c2\u6570 field \u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\nfunction getUser(user: string, field?: string) {\n}\n\n// \u8868\u793a\u8fd9\u4e2aname\u5c5e\u6027\u6709\u53ef\u80fd\u4e0d\u5b58\u5728\nclass A {\n  name?: string\n}\n\ninterface B {\n  name?: string\n}\n\n\n`person?.name?.firstName`\u00a0\u53ef\u4ee5\u7406\u89e3\u6210\u00a0`person &amp;&amp; person.name &amp;&amp; person.firstName`\n</code></pre></p> <p>\u611f\u53f9\u53f7 <pre><code>// ! \u5c31\u662f\u5c06\u4e4b\u540e\u7684\u7ed3\u679c\u53d6\u53cd\uff0c\u6bd4\u5982\uff1a\nconst a = !isNumber(input);\n\n\n// \u56e0\u4e3a\u63a5\u53e3B\u91cc\u9762name\u88ab\u5b9a\u4e49\u4e3a\u53ef\u7a7a\u7684\u503c\uff0c\u4f46\u662f\u5b9e\u9645\u60c5\u51b5\u662f\u4e0d\u4e3a\u7a7a\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\n// \u901a\u8fc7\u5728class\u91cc\u9762\u4f7f\u7528\uff01\u91cd\u65b0\u5f3a\u8c03\u4e86name\u8fd9\u4e2a\u4e0d\u4e3a\u7a7a\u503c\nclass A implemented B {\n  name!: string\n}\n\ninterface B {\n  name?: string\n}\n</code></pre></p> <p>tsconfig\u914d\u7f6e\u8bf4\u660e</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/srs/golang%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","title":"Golang\u8bed\u8a00\u5b66\u4e60\u7b14\u8bb0","text":"<p>1.\u9996\u5148\u5f00\u542fgo module</p> <pre><code>go env -w GO111MODULE=on     // Windows  export GO111MODULE=on        // macOS \u6216 Linux\n</code></pre> <p>2.\u914d\u7f6egoproxy:</p> <p>\u963f\u91cc\u914d\u7f6e\uff1a</p> <pre><code>go env -w GOPROXY=https://mirrors.aliyun.com/goproxy/       // Windows  \nexport GOPROXY=https://mirrors.aliyun.com/goproxy/          // macOS \u6216 Linux\n</code></pre> <p>\u4e03\u725b\u4e91\u914d\u7f6e\uff1a</p> <pre><code>go env -w GOPROXY=https://goproxy.cn      // Windows  \nexport GOPROXY=https://goproxy.cn         // macOS \u6216 Linux\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <p>Go 1.13\u8bbe\u7f6e\u4e86\u9ed8\u8ba4\u7684GOSUMDB=sum.golang.org\uff0c\u662f\u7528\u6765\u9a8c\u8bc1\u5305\u7684\u6709\u6548\u6027\u3002\u8fd9\u4e2a\u7f51\u5740\u7531\u4e8e\u5899\u7684\u539f\u56e0\u53ef\u80fd\u65e0\u6cd5\u8bbf\u95ee\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u6765\u5173\u95ed\uff1a</p> <pre><code>go env -w GOSUMDB=off // Windows  \nexport GOSUMDB=off // macOS \u6216 Linux\n</code></pre> <p>channel\u662f\u4e00\u79cd\u7279\u6b8a\u7684\uff08\u5f15\u7528\uff09\u7c7b\u578b\uff0c\u58f0\u660e\u683c\u5f0f\u5982\u4e0b\uff0c\u901a\u9053\u7c7b\u578b\u7684\u7a7a\u503c\u662fnil <pre><code>var ch1 chan int   // \u58f0\u660e\u4e00\u4e2a\u4f20\u9012\u6574\u578b\u7684\u901a\u9053\nvar ch2 chan bool  // \u58f0\u660e\u4e00\u4e2a\u4f20\u9012\u5e03\u5c14\u578b\u7684\u901a\u9053\nvar ch3 chan []int // \u58f0\u660e\u4e00\u4e2a\u4f20\u9012int\u5207\u7247\u7684\u901a\u9053\n\nfmt.Println(ch1)   // &lt;nil&gt;\n</code></pre></p> <p>\u58f0\u660e\u7684\u901a\u9053\u9700\u8981\u4f7f\u7528make\u51fd\u6570\u521d\u59cb\u5316\u4e4b\u540e\u624d\u80fd\u4f7f\u7528 <pre><code>make(chan \u5143\u7d20\u7c7b\u578b, [\u7f13\u51b2\u533a\u5927\u5c0f])\nch1 := make(chan int)\nch1 := make(chan int, 1) // \u521b\u5efa\u4e00\u4e2a\u5bb9\u91cf\u4e3a1\u7684\u6709\u7f13\u51b2\u533a\u901a\u9053\n</code></pre></p> <p>channel\u6709\u53d1\u9001\uff08send\uff09\u3001\u63a5\u6536(receive\uff09\u548c\u5173\u95ed\uff08close\uff09\u4e09\u79cd\u64cd\u4f5c\uff0c\u53d1\u9001\u548c\u63a5\u6536\u90fd\u4f7f\u7528<code>&lt;-</code>\u7b26\u53f7\u3002 <pre><code>// \u53d1\u9001\nch &lt;- 10 // \u628a10\u53d1\u9001\u5230ch\u4e2d\n\n// \u63a5\u6536\nx := &lt;- ch // \u4ecech\u4e2d\u63a5\u6536\u503c\u5e76\u8d4b\u503c\u7ed9\u53d8\u91cfx\n&lt;-ch       // \u4ecech\u4e2d\u63a5\u6536\u503c\uff0c\u5ffd\u7565\u7ed3\u679c\n\n// \u5173\u95ed\nclose(ch)\n</code></pre></p> <p>\u5173\u4e8e\u5173\u95ed\u901a\u9053\u9700\u8981\u6ce8\u610f\u7684\u4e8b\u60c5\u662f\uff0c\u53ea\u6709\u5728\u901a\u77e5\u63a5\u6536\u65b9goroutine\u6240\u6709\u7684\u6570\u636e\u90fd\u53d1\u9001\u5b8c\u6bd5\u7684\u65f6\u5019\u624d\u9700\u8981\u5173\u95ed\u901a\u9053\u3002\u901a\u9053\u662f\u53ef\u4ee5\u88ab\u5783\u573e\u56de\u6536\u673a\u5236\u56de\u6536\u7684\uff0c\u5b83\u548c\u5173\u95ed\u6587\u4ef6\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5728\u7ed3\u675f\u64cd\u4f5c\u4e4b\u540e\u5173\u95ed\u6587\u4ef6\u662f\u5fc5\u987b\u8981\u505a\u7684\uff0c\u4f46\u5173\u95ed\u901a\u9053\u4e0d\u662f\u5fc5\u987b\u7684\u3002</p> <p>\u5173\u95ed\u540e\u7684\u901a\u9053\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a 1.\u5bf9\u4e00\u4e2a\u5173\u95ed\u7684\u901a\u9053\u518d\u53d1\u9001\u503c\u5c31\u4f1a\u5bfc\u81f4panic\u3002 2.\u5bf9\u4e00\u4e2a\u5173\u95ed\u7684\u901a\u9053\u8fdb\u884c\u63a5\u6536\u4f1a\u4e00\u76f4\u83b7\u53d6\u503c\u76f4\u5230\u901a\u9053\u4e3a\u7a7a\u3002 3.\u5bf9\u4e00\u4e2a\u5173\u95ed\u7684\u5e76\u4e14\u6ca1\u6709\u503c\u7684\u901a\u9053\u6267\u884c\u63a5\u6536\u64cd\u4f5c\u4f1a\u5f97\u5230\u5bf9\u5e94\u7c7b\u578b\u7684\u96f6\u503c\u3002 4.\u5173\u95ed\u4e00\u4e2a\u5df2\u7ecf\u5173\u95ed\u7684\u901a\u9053\u4f1a\u5bfc\u81f4panic\u3002</p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/srs/%E4%BF%A1%E4%BB%A4/","title":"\u4fe1\u4ee4","text":""},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/srs/%E4%BF%A1%E4%BB%A4/#join","title":"join","text":"<p>\u4e0a\u884c <pre><code>{\n    \"tid\": \"5b391ea\",\n    \"action\": \"join\",\n    \"msg\": {\n        \"uid\": \"12321\",\n        \"roomId\": \"51ca841\",\n        \"display\": \"\u6d4b\u8bd5\"\n    }\n}\n</code></pre> \u4e0b\u884c <pre><code>{\n    \"tid\": \"5b391ea\",\n    \"action\": \"join\",\n    \"msg\": {\n        \"roomId\": \"51ca841\",\n        \"self\": {\n            \"uid\": \"12321\",\n            \"display\": \"\u6d4b\u8bd5\",\n            \"publishing\": false\n        },\n        \"participants\": [{\n            \"uid\": \"12321\",\n            \"display\": \"\u6d4b\u8bd5\",\n            \"publishing\": false\n        }]\n    }\n}\n</code></pre> \u901a\u77e5 <pre><code>{\n    \"action\": \"notify\",\n    \"msg\": {\n        \"event\": \"join\",\n        \"roomId\": \"51ca841\",\n        \"self\": {\n            \"uid\": \"123123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        },\n        \"peer\": {\n            \"uid\": \"123123\",\n            \"display\": \"836ec01\",\n            \"publishing\": false\n        },\n        \"participants\": [{\n            \"uid\": \"123123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        }, {\n            \"uid\": \"123123\",\n            \"display\": \"836ec01\",\n            \"publishing\": false\n        }]\n    }\n}\n</code></pre></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/srs/%E4%BF%A1%E4%BB%A4/#publish","title":"publish","text":"<p>\u4e0a\u884c <pre><code>{\n    \"tid\": \"5c89818\",\n    \"action\": \"publish\",\n    \"msg\": {\n        \"uid\": \"123123\",\n        \"roomId\": \"51ca841\",\n        \"display\": \"2573bdd\"\n    }\n}\n</code></pre> \u4e0b\u884c <pre><code>{\"tid\":\"5c89818\",\"msg\":null}\n</code></pre> \u901a\u77e5 <pre><code>{\n    \"action\": \"notify\",\n    \"msg\": {\n        \"event\": \"publish\",\n        \"roomId\": \"51ca841\",\n        \"self\": {\n            \"uid\": \"12123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        },\n        \"peer\": {\n            \"uid\": \"12123\",\n            \"display\": \"836ec01\",\n            \"publishing\": true\n        },\n        \"participants\": [{\n            \"uid\": \"12123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        }, {\n            \"uid\": \"12123\",\n            \"display\": \"836ec01\",\n            \"publishing\": true\n        }]\n    }\n}\n</code></pre></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/srs/%E4%BF%A1%E4%BB%A4/#control","title":"control","text":"<p>\u4e0a\u884c <pre><code>{\n    \"tid\": \"1cd9687\",\n    \"action\": \"control\",\n    \"msg\": {\n        \"uid\":\"121212\",\n        \"roomId\": \"51ca841\",\n        \"call\": \"refresh\"\n    }\n}\n</code></pre> \u4e0b\u884c <pre><code>{\"tid\":\"1cd9687\",\"msg\":null}\n</code></pre></p> <p>\u4e0a\u884c <pre><code>{\n    \"tid\": \"536aea4\",\n    \"action\": \"control\",\n    \"msg\": {\n        \"uid\": \"12123\",\n        \"roomId\": \"51ca841\",\n        \"call\": \"alert\",\n        \"data\": \"\u6d4b\u8bd5\"\n    }\n}\n</code></pre> \u4e0b\u884c <pre><code>{\"tid\":\"536aea4\",\"msg\":null}\n</code></pre></p> <p>\u901a\u77e5 <pre><code>{\n    \"action\": \"notify\",\n    \"msg\": {\n        \"event\": \"control\",\n        \"roomId\": \"51ca841\",\n        \"call\": \"alert\",\n        \"data\": \"\u6d4b\u8bd5\",\n        \"self\": {\n            \"uid\": \"12123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        },\n        \"peer\": {\n            \"uid\": \"12123\",\n            \"display\": \"836ec01\",\n            \"publishing\": true\n        },\n        \"participants\": [{\n            \"uid\": \"12123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        }, {\n            \"uid\": \"12123\",\n            \"display\": \"836ec01\",\n            \"publishing\": true\n        }]\n    }\n}\n</code></pre></p>"},{"location":"%E9%9F%B3%E8%A7%86%E9%A2%91/srs/%E4%BF%A1%E4%BB%A4/#leave","title":"leave","text":"<pre><code>{\n    \"action\": \"notify\",\n    \"msg\": {\n        \"event\": \"leave\",\n        \"roomId\": \"51ca841\",\n        \"self\": {\n            \"uid\": \"12123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        },\n        \"peer\": {\n            \"uid\": \"12123\",\n            \"display\": \"2573bdd\",\n            \"publishing\": true\n        },\n        \"participants\": [{\n            \"uid\": \"12123\",\n            \"display\": \"50d0a03\",\n            \"publishing\": true\n        }]\n    }\n}\n</code></pre>"},{"location":"blog/archive/2025/","title":"\u516d\u6708 2025","text":""}]}